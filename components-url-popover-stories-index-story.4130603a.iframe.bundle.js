"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[3218],{"./packages/components/build-module/higher-order/with-spoken-messages/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/a11y/build-module/index.js");__webpack_exports__.Z=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.o)((Component=>props=>(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Component,{...props,speak:_wordpress_a11y__WEBPACK_IMPORTED_MODULE_1__.D,debouncedSpeak:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)(_wordpress_a11y__WEBPACK_IMPORTED_MODULE_1__.D,500)})),"withSpokenMessages")},"./packages/compose/build-module/higher-order/with-instance-id/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");const withInstanceId=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__.o)((WrappedComponent=>props=>{const instanceId=(0,_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_2__.Z)(WrappedComponent);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent,{...props,instanceId:instanceId})}),"instanceId");__webpack_exports__.Z=withInstanceId},"./packages/compose/build-module/higher-order/with-safe-timeout/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const withSafeTimeout=(0,__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js").o)((OriginalComponent=>class WrappedComponent extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.timeouts=[],this.setTimeout=this.setTimeout.bind(this),this.clearTimeout=this.clearTimeout.bind(this)}componentWillUnmount(){this.timeouts.forEach(clearTimeout)}setTimeout(fn,delay){const id=setTimeout((()=>{fn(),this.clearTimeout(id)}),delay);return this.timeouts.push(id),id}clearTimeout(id){clearTimeout(id),this.timeouts=this.timeouts.filter((timeoutId=>timeoutId!==id))}render(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(OriginalComponent,{...this.props,setTimeout:this.setTimeout,clearTimeout:this.clearTimeout})}}),"withSafeTimeout");__webpack_exports__.Z=withSafeTimeout},"./packages/element/build-module/platform.js":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.Z={OS:"web",select:spec=>"web"in spec?spec.web:spec.default,isWeb:!0}},"./packages/icons/build-module/library/edit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return edit}});var react=__webpack_require__("./node_modules/react/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");var edit=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"}))},"./packages/icons/build-module/library/keyboard-return.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const keyboardReturn=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));__webpack_exports__.Z=keyboardReturn},"./packages/url/build-module/filter-url-for-display.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function filterURLForDisplay(url,maxLength=null){let filteredURL=url.replace(/^(?:https?:)\/\/(?:www\.)?/,"");filteredURL.match(/^[^\/]+\/$/)&&(filteredURL=filteredURL.replace("/",""));if(!maxLength||filteredURL.length<=maxLength||!filteredURL.match(/\/([^\/?]+)\.(?:[\w]+)(?=\?|$)/))return filteredURL;filteredURL=filteredURL.split("?")[0];const urlPieces=filteredURL.split("/"),file=urlPieces[urlPieces.length-1];if(file.length<=maxLength)return"…"+filteredURL.slice(-maxLength);const index=file.lastIndexOf("."),[fileName,extension]=[file.slice(0,index),file.slice(index+1)],truncatedFile=fileName.slice(-3)+"."+extension;return file.slice(0,maxLength-truncatedFile.length-1)+"…"+truncatedFile}__webpack_require__.d(__webpack_exports__,{w:function(){return filterURLForDisplay}})},"./packages/url/build-module/is-url.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function isURL(url){try{return new URL(url),!0}catch{return!1}}__webpack_require__.d(__webpack_exports__,{P:function(){return isURL}})},"./packages/url/build-module/safe-decode-uri.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function safeDecodeURI(uri){try{return decodeURI(uri)}catch(uriError){return uri}}__webpack_require__.d(__webpack_exports__,{x:function(){return safeDecodeURI}})},"./packages/block-editor/src/components/url-popover/stories/index.story.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:function(){return __namedExportsOrder},_default:function(){return _default},default:function(){return index_story}});var react=__webpack_require__("./node_modules/react/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),keyboard_return=__webpack_require__("./packages/icons/build-module/library/keyboard-return.js"),private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),edit=__webpack_require__("./packages/icons/build-module/library/edit.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js"),filter_url_for_display=__webpack_require__("./packages/url/build-module/filter-url-for-display.js"),safe_decode_uri=__webpack_require__("./packages/url/build-module/safe-decode-uri.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function LinkViewerURL({url:url,urlLabel:urlLabel,className:className}){const linkClassName=classnames_default()(className,"block-editor-url-popover__link-viewer-url");return url?(0,jsx_runtime.jsx)(external_link.Z,{className:linkClassName,href:url,children:urlLabel||(0,filter_url_for_display.w)((0,safe_decode_uri.x)(url))}):(0,jsx_runtime.jsx)("span",{className:linkClassName})}function LinkViewer({className:className,linkClassName:linkClassName,onEditLinkClick:onEditLinkClick,url:url,urlLabel:urlLabel,...props}){return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("block-editor-url-popover__link-viewer",className),...props,children:[(0,jsx_runtime.jsx)(LinkViewerURL,{url:url,urlLabel:urlLabel,className:linkClassName}),onEditLinkClick&&(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:edit.Z,label:(0,build_module.__)("Edit"),onClick:onEditLinkClick})]})}LinkViewerURL.displayName="LinkViewerURL",LinkViewerURL.__docgenInfo={description:"",methods:[],displayName:"LinkViewerURL"},LinkViewer.displayName="LinkViewer",LinkViewer.__docgenInfo={description:"",methods:[],displayName:"LinkViewer"};var lib=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),lib_default=__webpack_require__.n(lib),keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),with_spoken_messages=__webpack_require__("./packages/components/build-module/higher-order/with-spoken-messages/index.js"),debounce=__webpack_require__("./packages/compose/build-module/utils/debounce/index.js"),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),with_safe_timeout=__webpack_require__("./packages/compose/build-module/higher-order/with-safe-timeout/index.js"),with_instance_id=__webpack_require__("./packages/compose/build-module/higher-order/with-instance-id/index.js"),with_select=__webpack_require__("./packages/data/build-module/components/with-select/index.js"),is_url=__webpack_require__("./packages/url/build-module/is-url.js"),store=__webpack_require__("./packages/block-editor/src/store/index.js");function isFunction(maybeFunc){return"function"==typeof maybeFunc}class URLInput extends react.Component{constructor(props){super(props),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=props.autocompleteRef||(0,react.createRef)(),this.inputRef=(0,react.createRef)(),this.updateSuggestions=(0,debounce.D)(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,isUpdatingSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(prevProps){const{showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion}=this.state,{value:value,__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1}=this.props;showSuggestions&&null!==selectedSuggestion&&this.suggestionNodes[selectedSuggestion]&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,lib_default()(this.suggestionNodes[selectedSuggestion],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),this.props.setTimeout((()=>{this.scrollingIntoView=!1}),100)),prevProps.value===value||this.props.disableSuggestions||this.state.isUpdatingSuggestions||(value?.length?this.updateSuggestions(value):__experimentalShowInitialSuggestions&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null}bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1,value:value}=this.props;return __experimentalShowInitialSuggestions&&!(value&&value.length)}updateSuggestions(value=""){const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions)return;const isInitialSuggestions=!value?.length;if(value=value.trim(),!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,is_url.P)(value)))return this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:value,selectedSuggestion:null,loading:!1});this.setState({isUpdatingSuggestions:!0,selectedSuggestion:null,loading:!0});const request=fetchLinkSuggestions(value,{isInitialSuggestions:isInitialSuggestions});request.then((suggestions=>{this.suggestionsRequest===request&&(this.setState({suggestions:suggestions,isUpdatingSuggestions:!1,suggestionsValue:value,loading:!1,showSuggestions:!!suggestions.length}),suggestions.length?this.props.debouncedSpeak((0,build_module.gB)((0,build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",suggestions.length),suggestions.length),"assertive"):this.props.debouncedSpeak((0,build_module.__)("No results."),"assertive"))})).catch((()=>{this.suggestionsRequest===request&&this.setState({isUpdatingSuggestions:!1,loading:!1})})),this.suggestionsRequest=request}onChange(event){this.props.onChange(event.target.value)}onFocus(){const{suggestions:suggestions}=this.state,{disableSuggestions:disableSuggestions,value:value}=this.props;!value||disableSuggestions||this.state.isUpdatingSuggestions||suggestions&&suggestions.length||this.updateSuggestions(value)}onKeyDown(event){this.props.onKeyDown?.(event);const{showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion,suggestions:suggestions,loading:loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case keycodes_build_module.UP:0!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(0,0));break;case keycodes_build_module.WV:this.props.value.length!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case keycodes_build_module.K5:this.props.onSubmit&&(event.preventDefault(),this.props.onSubmit(null,event))}return}const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case keycodes_build_module.UP:{event.preventDefault();const previousIndex=selectedSuggestion?selectedSuggestion-1:suggestions.length-1;this.setState({selectedSuggestion:previousIndex});break}case keycodes_build_module.WV:{event.preventDefault();const nextIndex=null===selectedSuggestion||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break}case keycodes_build_module.Mf:null!==this.state.selectedSuggestion&&(this.selectLink(suggestion),this.props.speak((0,build_module.__)("Link selected.")));break;case keycodes_build_module.K5:event.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(suggestion),this.props.onSubmit&&this.props.onSubmit(suggestion,event)):this.props.onSubmit&&this.props.onSubmit(null,event)}}selectLink(suggestion){this.props.onChange(suggestion.url,suggestion),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(suggestion){this.selectLink(suggestion),this.inputRef.current.focus()}static getDerivedStateFromProps({value:value,instanceId:instanceId,disableSuggestions:disableSuggestions,__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1},{showSuggestions:showSuggestions}){let shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;return __experimentalShowInitialSuggestions||hasValue||(shouldShowSuggestions=!1),!0===disableSuggestions&&(shouldShowSuggestions=!1),{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`}}render(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[this.renderControl(),this.renderSuggestions()]})}renderControl(){const{__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,label:label=null,className:className,isFullWidth:isFullWidth,instanceId:instanceId,placeholder:placeholder=(0,build_module.__)("Paste URL or type to search"),__experimentalRenderControl:renderControl,value:value="",hideLabelFromVision:hideLabelFromVision=!1}=this.props,{loading:loading,showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion,suggestionsListboxId:suggestionsListboxId,suggestionOptionIdPrefix:suggestionOptionIdPrefix}=this.state,inputId=`url-input-control-${instanceId}`,controlProps={id:inputId,label:label,className:classnames_default()("block-editor-url-input",className,{"is-full-width":isFullWidth}),hideLabelFromVision:hideLabelFromVision},inputProps={id:inputId,value:value,required:!0,className:"block-editor-url-input__input",type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:placeholder,onKeyDown:this.onKeyDown,role:"combobox","aria-label":label?void 0:(0,build_module.__)("URL"),"aria-expanded":showSuggestions,"aria-autocomplete":"list","aria-owns":suggestionsListboxId,"aria-activedescendant":null!==selectedSuggestion?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:void 0,ref:this.inputRef};return renderControl?renderControl(controlProps,inputProps,loading):(__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.blockEditor.URLInput",{since:"6.2",version:"6.5",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"}),(0,jsx_runtime.jsxs)(base_control.ZP,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,...controlProps,children:[(0,jsx_runtime.jsx)("input",{...inputProps}),loading&&(0,jsx_runtime.jsx)(spinner.ZP,{})]}))}renderSuggestions(){const{className:className,__experimentalRenderSuggestions:renderSuggestions}=this.props,{showSuggestions:showSuggestions,suggestions:suggestions,suggestionsValue:suggestionsValue,selectedSuggestion:selectedSuggestion,suggestionsListboxId:suggestionsListboxId,suggestionOptionIdPrefix:suggestionOptionIdPrefix,loading:loading}=this.state;if(!showSuggestions||0===suggestions.length)return null;const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:"listbox"},buildSuggestionItemProps=(suggestion,index)=>({role:"option",tabIndex:"-1",id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),"aria-selected":index===selectedSuggestion||void 0});return isFunction(renderSuggestions)?renderSuggestions({suggestions:suggestions,selectedSuggestion:selectedSuggestion,suggestionsListProps:suggestionsListProps,buildSuggestionItemProps:buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!suggestionsValue?.length,currentInputValue:suggestionsValue}):(0,jsx_runtime.jsx)(popover.ZP,{placement:"bottom",focusOnMount:!1,children:(0,jsx_runtime.jsx)("div",{...suggestionsListProps,className:classnames_default()("block-editor-url-input__suggestions",`${className}__suggestions`),children:suggestions.map(((suggestion,index)=>(0,react.createElement)(build_module_button.ZP,{...buildSuggestionItemProps(0,index),key:suggestion.id,className:classnames_default()("block-editor-url-input__suggestion",{"is-selected":index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)},suggestion.title)))})})}}URLInput.displayName="URLInput",URLInput.__docgenInfo={description:"",methods:[{name:"bindSuggestionNode",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null},{name:"shouldShowInitialSuggestions",docblock:null,modifiers:[],params:[],returns:null},{name:"updateSuggestions",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"selectLink",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"handleOnClick",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"renderControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSuggestions",docblock:null,modifiers:[],params:[],returns:null}],displayName:"URLInput"};var url_input=(0,compose.Z)(with_safe_timeout.Z,with_spoken_messages.Z,with_instance_id.Z,(0,with_select.Z)(((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions))return;const{getSettings:getSettings}=select(store.h);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions}})))(URLInput);function LinkEditor({autocompleteRef:autocompleteRef,className:className,onChangeInputValue:onChangeInputValue,value:value,...props}){return(0,jsx_runtime.jsxs)("form",{className:classnames_default()("block-editor-url-popover__link-editor",className),...props,children:[(0,jsx_runtime.jsx)(url_input,{__nextHasNoMarginBottom:!0,value:value,onChange:onChangeInputValue,autocompleteRef:autocompleteRef}),(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})}LinkEditor.displayName="LinkEditor",LinkEditor.__docgenInfo={description:"",methods:[],displayName:"LinkEditor"};var lock_unlock=__webpack_require__("./packages/block-editor/src/lock-unlock.js");const{__experimentalPopoverLegacyPositionToPlacement:__experimentalPopoverLegacyPositionToPlacement}=(0,lock_unlock.U)(private_apis.YH);function URLPopover({additionalControls:additionalControls,children:children,renderSettings:renderSettings,placement:placement,focusOnMount:focusOnMount="firstElement",position:position,...popoverProps}){let computedPlacement;void 0!==position&&(0,deprecated_build_module.Z)("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==placement?computedPlacement=placement:void 0!==position&&(computedPlacement=__experimentalPopoverLegacyPositionToPlacement(position)),computedPlacement=computedPlacement||"bottom";const[isSettingsExpanded,setIsSettingsExpanded]=(0,react.useState)(!1),showSettings=!!renderSettings&&isSettingsExpanded;return(0,jsx_runtime.jsxs)(popover.ZP,{className:"block-editor-url-popover",focusOnMount:focusOnMount,placement:computedPlacement,shift:!0,...popoverProps,children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__input-container",children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-url-popover__row",children:[children,!!renderSettings&&(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down.Z,label:(0,build_module.__)("Link settings"),onClick:()=>{setIsSettingsExpanded(!isSettingsExpanded)},"aria-expanded":isSettingsExpanded})]}),showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__row block-editor-url-popover__settings",children:renderSettings()})]}),additionalControls&&!showSettings&&(0,jsx_runtime.jsx)("div",{className:"block-editor-url-popover__additional-controls",children:additionalControls})]})}URLPopover.displayName="URLPopover",URLPopover.LinkEditor=LinkEditor,URLPopover.LinkViewer=LinkViewer,URLPopover.__docgenInfo={description:"",methods:[],displayName:"URLPopover",props:{focusOnMount:{defaultValue:{value:"'firstElement'",computed:!1},required:!1}}};var url_popover=URLPopover,index_story={title:"BlockEditor/URLPopover",parameters:{sourceLink:"packages/block-editor/src/components/url-popover"}};const TestURLPopover=()=>{const[isVisible,setVisiblility]=(0,react.useState)(!1),[url,setUrl]=(0,react.useState)(""),close=()=>setVisiblility(!1),setTarget=()=>{};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>setVisiblility(!0),children:"Edit URL"}),isVisible&&(0,jsx_runtime.jsx)(url_popover,{onClose:close,renderSettings:()=>(0,jsx_runtime.jsx)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,build_module.__)("Open in new tab"),onChange:setTarget}),children:(0,jsx_runtime.jsxs)("form",{onSubmit:close,children:[(0,jsx_runtime.jsx)("input",{type:"url",value:url,onChange:setUrl}),(0,jsx_runtime.jsx)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,build_module.__)("Apply"),type:"submit"})]})})]})},_default=()=>(0,jsx_runtime.jsx)(TestURLPopover,{});_default.displayName="_default",_default.parameters={..._default.parameters,docs:{..._default.parameters?.docs,source:{originalSource:"() => {\n  return <TestURLPopover />;\n}",..._default.parameters?.docs?.source}}};const __namedExportsOrder=["_default"];_default.__docgenInfo={description:"",methods:[],displayName:"_default"}}}]);