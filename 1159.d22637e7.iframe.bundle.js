"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[1159],{"./packages/block-editor/src/components/inserter/block-patterns-tab/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{BC:function(){return SYNC_TYPES},Ge:function(){return isPatternFiltered},N$:function(){return myPatternsCategory},_e:function(){return allPatternsCategory},qy:function(){return PATTERN_TYPES}});var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js");const PATTERN_TYPES={all:"all",synced:"synced",unsynced:"unsynced",user:"user",theme:"theme",directory:"directory"},SYNC_TYPES={all:"all",full:"fully",unsynced:"unsynced"},allPatternsCategory={name:"allPatterns",label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("All")},myPatternsCategory={name:"myPatterns",label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("My patterns")};function isPatternFiltered(pattern,sourceFilter,syncFilter){const isUserPattern=pattern.name.startsWith("core/block"),isDirectoryPattern="core"===pattern.source||pattern.source?.startsWith("pattern-directory");return!(sourceFilter!==PATTERN_TYPES.theme||!isUserPattern&&!isDirectoryPattern)||(!(sourceFilter!==PATTERN_TYPES.directory||!isUserPattern&&isDirectoryPattern)||(sourceFilter===PATTERN_TYPES.user&&pattern.type!==PATTERN_TYPES.user||(syncFilter===SYNC_TYPES.full&&""!==pattern.syncStatus||!(syncFilter!==SYNC_TYPES.unsynced||"unsynced"===pattern.syncStatus||!isUserPattern))))}},"./packages/block-editor/src/lock-unlock.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U:function(){return unlock}});var _wordpress_private_apis__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock:lock,unlock:unlock}=(0,_wordpress_private_apis__WEBPACK_IMPORTED_MODULE_0__.es)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/block-editor")},"./packages/block-editor/src/store/constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{G:function(){return STORE_NAME}});const STORE_NAME="core/block-editor"},"./packages/block-editor/src/store/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return store},i:function(){return storeConfig}});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,{__experimentalGetActiveBlockIdByBlockNames:function(){return __experimentalGetActiveBlockIdByBlockNames},__experimentalGetAllowedBlocks:function(){return __experimentalGetAllowedBlocks},__experimentalGetAllowedPatterns:function(){return __experimentalGetAllowedPatterns},__experimentalGetBlockListSettingsForBlocks:function(){return __experimentalGetBlockListSettingsForBlocks},__experimentalGetDirectInsertBlock:function(){return __experimentalGetDirectInsertBlock},__experimentalGetGlobalBlocksByName:function(){return __experimentalGetGlobalBlocksByName},__experimentalGetLastBlockAttributeChanges:function(){return __experimentalGetLastBlockAttributeChanges},__experimentalGetParsedPattern:function(){return __experimentalGetParsedPattern},__experimentalGetPatternTransformItems:function(){return __experimentalGetPatternTransformItems},__experimentalGetPatternsByBlockTypes:function(){return __experimentalGetPatternsByBlockTypes},__experimentalGetReusableBlockTitle:function(){return __experimentalGetReusableBlockTitle},__experimentalUserPatternCategories:function(){return __experimentalUserPatternCategories},__unstableGetBlockWithoutInnerBlocks:function(){return __unstableGetBlockWithoutInnerBlocks},__unstableGetClientIdWithClientIdsTree:function(){return __unstableGetClientIdWithClientIdsTree},__unstableGetClientIdsTree:function(){return __unstableGetClientIdsTree},__unstableGetContentLockingParent:function(){return __unstableGetContentLockingParent},__unstableGetEditorMode:function(){return __unstableGetEditorMode},__unstableGetSelectedBlocksWithPartialSelection:function(){return __unstableGetSelectedBlocksWithPartialSelection},__unstableGetTemporarilyEditingAsBlocks:function(){return __unstableGetTemporarilyEditingAsBlocks},__unstableGetVisibleBlocks:function(){return __unstableGetVisibleBlocks},__unstableHasActiveBlockOverlayActive:function(){return __unstableHasActiveBlockOverlayActive},__unstableIsFullySelected:function(){return __unstableIsFullySelected},__unstableIsLastBlockChangeIgnored:function(){return __unstableIsLastBlockChangeIgnored},__unstableIsSelectionCollapsed:function(){return __unstableIsSelectionCollapsed},__unstableIsSelectionMergeable:function(){return __unstableIsSelectionMergeable},__unstableIsWithinBlockOverlay:function(){return __unstableIsWithinBlockOverlay},__unstableSelectionHasUnmergeableBlock:function(){return __unstableSelectionHasUnmergeableBlock},areInnerBlocksControlled:function(){return areInnerBlocksControlled},canEditBlock:function(){return canEditBlock},canInsertBlockType:function(){return canInsertBlockType},canInsertBlocks:function(){return canInsertBlocks},canLockBlockType:function(){return canLockBlockType},canMoveBlock:function(){return canMoveBlock},canMoveBlocks:function(){return canMoveBlocks},canRemoveBlock:function(){return canRemoveBlock},canRemoveBlocks:function(){return canRemoveBlocks},didAutomaticChange:function(){return didAutomaticChange},getAdjacentBlockClientId:function(){return getAdjacentBlockClientId},getAllowedBlocks:function(){return getAllowedBlocks},getBlock:function(){return getBlock},getBlockAttributes:function(){return getBlockAttributes},getBlockCount:function(){return getBlockCount},getBlockEditingMode:function(){return getBlockEditingMode},getBlockHierarchyRootClientId:function(){return getBlockHierarchyRootClientId},getBlockIndex:function(){return getBlockIndex},getBlockInsertionPoint:function(){return getBlockInsertionPoint},getBlockListSettings:function(){return getBlockListSettings},getBlockMode:function(){return getBlockMode},getBlockName:function(){return getBlockName},getBlockNamesByClientId:function(){return getBlockNamesByClientId},getBlockOrder:function(){return getBlockOrder},getBlockParents:function(){return getBlockParents},getBlockParentsByBlockName:function(){return getBlockParentsByBlockName},getBlockRootClientId:function(){return getBlockRootClientId},getBlockSelectionEnd:function(){return getBlockSelectionEnd},getBlockSelectionStart:function(){return getBlockSelectionStart},getBlockTransformItems:function(){return getBlockTransformItems},getBlocks:function(){return getBlocks},getBlocksByClientId:function(){return getBlocksByClientId},getClientIdsOfDescendants:function(){return getClientIdsOfDescendants},getClientIdsWithDescendants:function(){return getClientIdsWithDescendants},getDirectInsertBlock:function(){return getDirectInsertBlock},getDraggedBlockClientIds:function(){return getDraggedBlockClientIds},getFirstMultiSelectedBlockClientId:function(){return getFirstMultiSelectedBlockClientId},getGlobalBlockCount:function(){return getGlobalBlockCount},getInserterItems:function(){return getInserterItems},getLastFocus:function(){return getLastFocus},getLastMultiSelectedBlockClientId:function(){return getLastMultiSelectedBlockClientId},getLowestCommonAncestorWithSelectedBlock:function(){return getLowestCommonAncestorWithSelectedBlock},getMultiSelectedBlockClientIds:function(){return getMultiSelectedBlockClientIds},getMultiSelectedBlocks:function(){return getMultiSelectedBlocks},getMultiSelectedBlocksEndClientId:function(){return getMultiSelectedBlocksEndClientId},getMultiSelectedBlocksStartClientId:function(){return getMultiSelectedBlocksStartClientId},getNextBlockClientId:function(){return getNextBlockClientId},getPatternsByBlockTypes:function(){return getPatternsByBlockTypes},getPreviousBlockClientId:function(){return getPreviousBlockClientId},getSelectedBlock:function(){return getSelectedBlock},getSelectedBlockClientId:function(){return getSelectedBlockClientId},getSelectedBlockClientIds:function(){return getSelectedBlockClientIds},getSelectedBlockCount:function(){return getSelectedBlockCount},getSelectedBlocksInitialCaretPosition:function(){return getSelectedBlocksInitialCaretPosition},getSelectionEnd:function(){return getSelectionEnd},getSelectionStart:function(){return getSelectionStart},getSettings:function(){return getSettings},getTemplate:function(){return getTemplate},getTemplateLock:function(){return getTemplateLock},hasBlockMovingClientId:function(){return selectors_hasBlockMovingClientId},hasDraggedInnerBlock:function(){return hasDraggedInnerBlock},hasInserterItems:function(){return hasInserterItems},hasMultiSelection:function(){return hasMultiSelection},hasSelectedBlock:function(){return hasSelectedBlock},hasSelectedInnerBlock:function(){return hasSelectedInnerBlock},isAncestorBeingDragged:function(){return isAncestorBeingDragged},isAncestorMultiSelected:function(){return isAncestorMultiSelected},isBlockBeingDragged:function(){return isBlockBeingDragged},isBlockHighlighted:function(){return isBlockHighlighted},isBlockInsertionPointVisible:function(){return isBlockInsertionPointVisible},isBlockMultiSelected:function(){return isBlockMultiSelected},isBlockSelected:function(){return isBlockSelected},isBlockValid:function(){return isBlockValid},isBlockVisible:function(){return isBlockVisible},isBlockWithinSelection:function(){return isBlockWithinSelection},isCaretWithinFormattedText:function(){return isCaretWithinFormattedText},isDraggingBlocks:function(){return isDraggingBlocks},isFirstMultiSelectedBlock:function(){return isFirstMultiSelectedBlock},isGroupable:function(){return isGroupable},isLastBlockChangePersistent:function(){return isLastBlockChangePersistent},isMultiSelecting:function(){return selectors_isMultiSelecting},isNavigationMode:function(){return isNavigationMode},isSelectionEnabled:function(){return selectors_isSelectionEnabled},isTyping:function(){return selectors_isTyping},isUngroupable:function(){return isUngroupable},isValidTemplate:function(){return isValidTemplate},wasBlockJustInserted:function(){return wasBlockJustInserted}});var private_actions_namespaceObject={};__webpack_require__.r(private_actions_namespaceObject),__webpack_require__.d(private_actions_namespaceObject,{__experimentalUpdateSettings:function(){return __experimentalUpdateSettings},clearBlockRemovalPrompt:function(){return clearBlockRemovalPrompt},deleteStyleOverride:function(){return deleteStyleOverride},ensureDefaultBlock:function(){return ensureDefaultBlock},hideBlockInterface:function(){return hideBlockInterface},privateRemoveBlocks:function(){return privateRemoveBlocks},setBlockRemovalRules:function(){return setBlockRemovalRules},setOpenedBlockSettingsMenu:function(){return setOpenedBlockSettingsMenu},setStyleOverride:function(){return setStyleOverride},showBlockInterface:function(){return showBlockInterface},syncDerivedBlockAttributes:function(){return syncDerivedBlockAttributes}});var private_selectors_namespaceObject={};__webpack_require__.r(private_selectors_namespaceObject),__webpack_require__.d(private_selectors_namespaceObject,{getBlockRemovalRules:function(){return getBlockRemovalRules},getEnabledBlockParents:function(){return getEnabledBlockParents},getEnabledClientIdsTree:function(){return getEnabledClientIdsTree},getInserterMediaCategories:function(){return getInserterMediaCategories},getLastInsertedBlocksClientIds:function(){return getLastInsertedBlocksClientIds},getOpenedBlockSettingsMenu:function(){return getOpenedBlockSettingsMenu},getRegisteredInserterMediaCategories:function(){return getRegisteredInserterMediaCategories},getRemovalPromptData:function(){return getRemovalPromptData},getStyleOverrides:function(){return getStyleOverrides},isBlockInterfaceHidden:function(){return private_selectors_isBlockInterfaceHidden},isBlockSubtreeDisabled:function(){return isBlockSubtreeDisabled}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{__unstableDeleteSelection:function(){return __unstableDeleteSelection},__unstableExpandSelection:function(){return __unstableExpandSelection},__unstableMarkAutomaticChange:function(){return __unstableMarkAutomaticChange},__unstableMarkLastChangeAsPersistent:function(){return __unstableMarkLastChangeAsPersistent},__unstableMarkNextChangeAsNotPersistent:function(){return __unstableMarkNextChangeAsNotPersistent},__unstableSaveReusableBlock:function(){return __unstableSaveReusableBlock},__unstableSetEditorMode:function(){return __unstableSetEditorMode},__unstableSetTemporarilyEditingAsBlocks:function(){return __unstableSetTemporarilyEditingAsBlocks},__unstableSplitSelection:function(){return __unstableSplitSelection},clearSelectedBlock:function(){return clearSelectedBlock},duplicateBlocks:function(){return duplicateBlocks},enterFormattedText:function(){return enterFormattedText},exitFormattedText:function(){return exitFormattedText},flashBlock:function(){return flashBlock},hideInsertionPoint:function(){return hideInsertionPoint},insertAfterBlock:function(){return insertAfterBlock},insertBeforeBlock:function(){return insertBeforeBlock},insertBlock:function(){return insertBlock},insertBlocks:function(){return insertBlocks},insertDefaultBlock:function(){return insertDefaultBlock},mergeBlocks:function(){return mergeBlocks},moveBlockToPosition:function(){return moveBlockToPosition},moveBlocksDown:function(){return moveBlocksDown},moveBlocksToPosition:function(){return moveBlocksToPosition},moveBlocksUp:function(){return moveBlocksUp},multiSelect:function(){return multiSelect},receiveBlocks:function(){return receiveBlocks},registerInserterMediaCategory:function(){return registerInserterMediaCategory},removeBlock:function(){return removeBlock},removeBlocks:function(){return removeBlocks},replaceBlock:function(){return replaceBlock},replaceBlocks:function(){return replaceBlocks},replaceInnerBlocks:function(){return replaceInnerBlocks},resetBlocks:function(){return resetBlocks},resetSelection:function(){return resetSelection},selectBlock:function(){return selectBlock},selectNextBlock:function(){return selectNextBlock},selectPreviousBlock:function(){return selectPreviousBlock},selectionChange:function(){return selectionChange},setBlockEditingMode:function(){return setBlockEditingMode},setBlockMovingClientId:function(){return setBlockMovingClientId},setBlockVisibility:function(){return setBlockVisibility},setHasControlledInnerBlocks:function(){return setHasControlledInnerBlocks},setLastFocus:function(){return setLastFocus},setNavigationMode:function(){return setNavigationMode},setTemplateValidity:function(){return setTemplateValidity},showInsertionPoint:function(){return showInsertionPoint},startDraggingBlocks:function(){return startDraggingBlocks},startMultiSelect:function(){return startMultiSelect},startTyping:function(){return startTyping},stopDraggingBlocks:function(){return stopDraggingBlocks},stopMultiSelect:function(){return stopMultiSelect},stopTyping:function(){return stopTyping},synchronizeTemplate:function(){return synchronizeTemplate},toggleBlockHighlight:function(){return toggleBlockHighlight},toggleBlockMode:function(){return toggleBlockMode},toggleSelection:function(){return toggleSelection},unsetBlockEditingMode:function(){return unsetBlockEditingMode},updateBlock:function(){return updateBlock},updateBlockAttributes:function(){return updateBlockAttributes},updateBlockListSettings:function(){return updateBlockListSettings},updateSettings:function(){return updateSettings},validateBlocksToTemplate:function(){return validateBlocksToTemplate}});var redux_store=__webpack_require__("./packages/data/build-module/redux-store/index.js"),build_module=__webpack_require__("./packages/data/build-module/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),pipe=__webpack_require__("./packages/compose/build-module/higher-order/pipe.js"),build_module_select=__webpack_require__("./packages/data/build-module/select.js"),blocks_build_module=__webpack_require__("./packages/blocks/build-module/index.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js");const PREFERENCES_DEFAULTS={insertUsage:{}},SETTINGS_DEFAULTS={alignWide:!1,supportsLayout:!0,colors:[{name:(0,i18n_build_module.__)("Black"),slug:"black",color:"#000000"},{name:(0,i18n_build_module.__)("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:(0,i18n_build_module.__)("White"),slug:"white",color:"#ffffff"},{name:(0,i18n_build_module.__)("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:(0,i18n_build_module.__)("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:(0,i18n_build_module.__)("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:(0,i18n_build_module.__)("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:(0,i18n_build_module.__)("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:(0,i18n_build_module.__)("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:(0,i18n_build_module.__)("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:(0,i18n_build_module.__)("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:(0,i18n_build_module.__)("Vivid purple"),slug:"vivid-purple",color:"#9b51e0"}],fontSizes:[{name:(0,i18n_build_module._x)("Small","font size name"),size:13,slug:"small"},{name:(0,i18n_build_module._x)("Normal","font size name"),size:16,slug:"normal"},{name:(0,i18n_build_module._x)("Medium","font size name"),size:20,slug:"medium"},{name:(0,i18n_build_module._x)("Large","font size name"),size:36,slug:"large"},{name:(0,i18n_build_module._x)("Huge","font size name"),size:42,slug:"huge"}],imageDefaultSize:"large",imageSizes:[{slug:"thumbnail",name:(0,i18n_build_module.__)("Thumbnail")},{slug:"medium",name:(0,i18n_build_module.__)("Medium")},{slug:"large",name:(0,i18n_build_module.__)("Large")},{slug:"full",name:(0,i18n_build_module.__)("Full Size")}],imageEditing:!0,maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:!0,enableOpenverseMediaCategory:!0,clearBlockSelection:!0,__experimentalCanUserUseUnfilteredHTML:!1,__experimentalBlockDirectory:!1,__mobileEnablePageTemplates:!1,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableGalleryWithImageBlocks:!1,__unstableIsPreviewMode:!1,blockInspectorAnimation:{animationParent:"core/navigation","core/navigation":{enterDirection:"leftToRight"},"core/navigation-submenu":{enterDirection:"rightToLeft"},"core/navigation-link":{enterDirection:"rightToLeft"},"core/search":{enterDirection:"rightToLeft"},"core/social-links":{enterDirection:"rightToLeft"},"core/page-list":{enterDirection:"rightToLeft"},"core/spacer":{enterDirection:"rightToLeft"},"core/home-link":{enterDirection:"rightToLeft"},"core/site-title":{enterDirection:"rightToLeft"},"core/site-logo":{enterDirection:"rightToLeft"}},generateAnchors:!1,gradients:[{name:(0,i18n_build_module.__)("Vivid cyan blue to vivid purple"),gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:(0,i18n_build_module.__)("Light green cyan to vivid green cyan"),gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:(0,i18n_build_module.__)("Luminous vivid amber to luminous vivid orange"),gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:(0,i18n_build_module.__)("Luminous vivid orange to vivid red"),gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:(0,i18n_build_module.__)("Very light gray to cyan bluish gray"),gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:(0,i18n_build_module.__)("Cool to warm spectrum"),gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"},{name:(0,i18n_build_module.__)("Blush light purple"),gradient:"linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)",slug:"blush-light-purple"},{name:(0,i18n_build_module.__)("Blush bordeaux"),gradient:"linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)",slug:"blush-bordeaux"},{name:(0,i18n_build_module.__)("Luminous dusk"),gradient:"linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)",slug:"luminous-dusk"},{name:(0,i18n_build_module.__)("Pale ocean"),gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",slug:"pale-ocean"},{name:(0,i18n_build_module.__)("Electric grass"),gradient:"linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)",slug:"electric-grass"},{name:(0,i18n_build_module.__)("Midnight"),gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",slug:"midnight"}],__unstableResolvedAssets:{styles:[],scripts:[]}};function insertAt(array,elements,index){return[...array.slice(0,index),...Array.isArray(elements)?elements:[elements],...array.slice(index)]}function moveTo(array,from,to,count=1){const withoutMovedElements=[...array];return withoutMovedElements.splice(from,count),insertAt(withoutMovedElements,array.slice(from,from+count),to)}const identity=x=>x;function mapBlockOrder(blocks,rootClientId=""){const result=new Map,current=[];return result.set(rootClientId,current),blocks.forEach((block=>{const{clientId:clientId,innerBlocks:innerBlocks}=block;current.push(clientId),mapBlockOrder(innerBlocks,clientId).forEach(((order,subClientId)=>{result.set(subClientId,order)}))})),result}function mapBlockParents(blocks,rootClientId=""){const result=[],stack=[[rootClientId,blocks]];for(;stack.length;){const[parent,currentBlocks]=stack.shift();currentBlocks.forEach((({innerBlocks:innerBlocks,...block})=>{result.push([block.clientId,parent]),innerBlocks?.length&&stack.push([block.clientId,innerBlocks])}))}return result}function flattenBlocks(blocks,transform=identity){const result=[],stack=[...blocks];for(;stack.length;){const{innerBlocks:innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),result.push([block.clientId,transform(block)])}return result}function getFlattenedBlocksWithoutAttributes(blocks){return flattenBlocks(blocks,(block=>{const{attributes:attributes,...restBlock}=block;return restBlock}))}function getFlattenedBlockAttributes(blocks){return flattenBlocks(blocks,(block=>block.attributes))}function isUpdatingSameBlockAttribute(action,lastAction){return"UPDATE_BLOCK_ATTRIBUTES"===action.type&&void 0!==lastAction&&"UPDATE_BLOCK_ATTRIBUTES"===lastAction.type&&es6_default()(action.clientIds,lastAction.clientIds)&&function hasSameKeys(a,b){return es6_default()(Object.keys(a),Object.keys(b))}(action.attributes,lastAction.attributes)}function updateBlockTreeForBlocks(state,blocks){const treeToUpdate=state.tree,stack=[...blocks],flattenedBlocks=[...blocks];for(;stack.length;){const block=stack.shift();stack.push(...block.innerBlocks),flattenedBlocks.push(...block.innerBlocks)}for(const block of flattenedBlocks)treeToUpdate.set(block.clientId,{});for(const block of flattenedBlocks)treeToUpdate.set(block.clientId,Object.assign(treeToUpdate.get(block.clientId),{...state.byClientId.get(block.clientId),attributes:state.attributes.get(block.clientId),innerBlocks:block.innerBlocks.map((subBlock=>treeToUpdate.get(subBlock.clientId)))}))}function updateParentInnerBlocksInTree(state,updatedClientIds,updateChildrenOfUpdatedClientIds=!1){const treeToUpdate=state.tree,uncontrolledParents=new Set([]),controlledParents=new Set;for(const clientId of updatedClientIds){let current=updateChildrenOfUpdatedClientIds?clientId:state.parents.get(clientId);do{if(state.controlledInnerBlocks[current]){controlledParents.add(current);break}uncontrolledParents.add(current),current=state.parents.get(current)}while(void 0!==current)}for(const clientId of uncontrolledParents)treeToUpdate.set(clientId,{...treeToUpdate.get(clientId)});for(const clientId of uncontrolledParents)treeToUpdate.get(clientId).innerBlocks=(state.order.get(clientId)||[]).map((subClientId=>treeToUpdate.get(subClientId)));for(const clientId of controlledParents)treeToUpdate.set("controlled||"+clientId,{innerBlocks:(state.order.get(clientId)||[]).map((subClientId=>treeToUpdate.get(subClientId)))})}const blocks=(0,pipe.Z)(build_module.UY,(reducer=>(state,action)=>{if(state&&"SAVE_REUSABLE_BLOCK_SUCCESS"===action.type){const{id:id,updatedId:updatedId}=action;if(id===updatedId)return state;(state={...state}).attributes=new Map(state.attributes),state.attributes.forEach(((attributes,clientId)=>{const{name:name}=state.byClientId.get(clientId);"core/block"===name&&attributes.ref===id&&state.attributes.set(clientId,{...attributes,ref:updatedId})}))}return reducer(state,action)}),(reducer=>(state={},action)=>{const newState=reducer(state,action);if(newState===state)return state;switch(newState.tree=state.tree?state.tree:new Map,action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":newState.tree=new Map(newState.tree),updateBlockTreeForBlocks(newState,action.blocks),updateParentInnerBlocksInTree(newState,action.rootClientId?[action.rootClientId]:[""],!0);break;case"UPDATE_BLOCK":newState.tree=new Map(newState.tree),newState.tree.set(action.clientId,{...newState.tree.get(action.clientId),...newState.byClientId.get(action.clientId),attributes:newState.attributes.get(action.clientId)}),updateParentInnerBlocksInTree(newState,[action.clientId],!1);break;case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":newState.tree=new Map(newState.tree),action.clientIds.forEach((clientId=>{newState.tree.set(clientId,{...newState.tree.get(clientId),attributes:newState.attributes.get(clientId)})})),updateParentInnerBlocksInTree(newState,action.clientIds,!1);break;case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const inserterClientIds=function getFlattenedClientIds(blocks){const result={},stack=[...blocks];for(;stack.length;){const{innerBlocks:innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),result[block.clientId]=!0}return result}(action.blocks);newState.tree=new Map(newState.tree),action.replacedClientIds.concat(action.replacedClientIds.filter((clientId=>!inserterClientIds[clientId])).map((clientId=>"controlled||"+clientId))).forEach((key=>{newState.tree.delete(key)})),updateBlockTreeForBlocks(newState,action.blocks),updateParentInnerBlocksInTree(newState,action.blocks.map((b=>b.clientId)),!1);const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds)void 0===state.parents.get(clientId)||""!==state.parents.get(clientId)&&!newState.byClientId.get(state.parents.get(clientId))||parentsOfRemovedBlocks.push(state.parents.get(clientId));updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,!0);break}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds)void 0===state.parents.get(clientId)||""!==state.parents.get(clientId)&&!newState.byClientId.get(state.parents.get(clientId))||parentsOfRemovedBlocks.push(state.parents.get(clientId));newState.tree=new Map(newState.tree),action.removedClientIds.concat(action.removedClientIds.map((clientId=>"controlled||"+clientId))).forEach((key=>{newState.tree.delete(key)})),updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,!0);break;case"MOVE_BLOCKS_TO_POSITION":{const updatedBlockUids=[];action.fromRootClientId?updatedBlockUids.push(action.fromRootClientId):updatedBlockUids.push(""),action.toRootClientId&&updatedBlockUids.push(action.toRootClientId),newState.tree=new Map(newState.tree),updateParentInnerBlocksInTree(newState,updatedBlockUids,!0);break}case"MOVE_BLOCKS_UP":case"MOVE_BLOCKS_DOWN":{const updatedBlockUids=[action.rootClientId?action.rootClientId:""];newState.tree=new Map(newState.tree),updateParentInnerBlocksInTree(newState,updatedBlockUids,!0);break}case"SAVE_REUSABLE_BLOCK_SUCCESS":{const updatedBlockUids=[];newState.attributes.forEach(((attributes,clientId)=>{"core/block"===newState.byClientId.get(clientId).name&&attributes.ref===action.updatedId&&updatedBlockUids.push(clientId)})),newState.tree=new Map(newState.tree),updatedBlockUids.forEach((clientId=>{newState.tree.set(clientId,{...newState.byClientId.get(clientId),attributes:newState.attributes.get(clientId),innerBlocks:newState.tree.get(clientId).innerBlocks})})),updateParentInnerBlocksInTree(newState,updatedBlockUids,!1)}}return newState}),(reducer=>(state,action)=>{const getAllChildren=clientIds=>{let result=clientIds;for(let i=0;i<result.length;i++)!state.order.get(result[i])||action.keepControlledInnerBlocks&&action.keepControlledInnerBlocks[result[i]]||(result===clientIds&&(result=[...result]),result.push(...state.order.get(result[i])));return result};if(state)switch(action.type){case"REMOVE_BLOCKS":action={...action,type:"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN",removedClientIds:getAllChildren(action.clientIds)};break;case"REPLACE_BLOCKS":action={...action,type:"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN",replacedClientIds:getAllChildren(action.clientIds)}}return reducer(state,action)}),(reducer=>(state,action)=>{if("REPLACE_INNER_BLOCKS"!==action.type)return reducer(state,action);const nestedControllers={};if(Object.keys(state.controlledInnerBlocks).length){const stack=[...action.blocks];for(;stack.length;){const{innerBlocks:innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),state.controlledInnerBlocks[block.clientId]&&(nestedControllers[block.clientId]=!0)}}let stateAfterBlocksRemoval=state;state.order.get(action.rootClientId)&&(stateAfterBlocksRemoval=reducer(stateAfterBlocksRemoval,{type:"REMOVE_BLOCKS",keepControlledInnerBlocks:nestedControllers,clientIds:state.order.get(action.rootClientId)}));let stateAfterInsert=stateAfterBlocksRemoval;if(action.blocks.length){stateAfterInsert=reducer(stateAfterInsert,{...action,type:"INSERT_BLOCKS",index:0});const stateAfterInsertOrder=new Map(stateAfterInsert.order);Object.keys(nestedControllers).forEach((key=>{state.order.get(key)&&stateAfterInsertOrder.set(key,state.order.get(key))})),stateAfterInsert.order=stateAfterInsertOrder,stateAfterInsert.tree=new Map(stateAfterInsert.tree),Object.keys(nestedControllers).forEach((_key=>{const key=`controlled||${_key}`;state.tree.has(key)&&stateAfterInsert.tree.set(key,state.tree.get(key))}))}return stateAfterInsert}),(reducer=>(state,action)=>{if("RESET_BLOCKS"===action.type){const newState={...state,byClientId:new Map(getFlattenedBlocksWithoutAttributes(action.blocks)),attributes:new Map(getFlattenedBlockAttributes(action.blocks)),order:mapBlockOrder(action.blocks),parents:new Map(mapBlockParents(action.blocks)),controlledInnerBlocks:{}};return newState.tree=new Map(state?.tree),updateBlockTreeForBlocks(newState,action.blocks),newState.tree.set("",{innerBlocks:action.blocks.map((subBlock=>newState.tree.get(subBlock.clientId)))}),newState}return reducer(state,action)}),(function withPersistentBlockChange(reducer){let lastAction,markNextChangeAsNotPersistent=!1;return(state,action)=>{let nextState=reducer(state,action);if("SYNC_DERIVED_BLOCK_ATTRIBUTES"===action.type)return nextState.isPersistentChange?{...nextState,isPersistentChange:!1}:nextState;const isExplicitPersistentChange="MARK_LAST_CHANGE_AS_PERSISTENT"===action.type||markNextChangeAsNotPersistent;if(state===nextState&&!isExplicitPersistentChange){var _state$isPersistentCh;markNextChangeAsNotPersistent="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===action.type;const nextIsPersistentChange=null===(_state$isPersistentCh=state?.isPersistentChange)||void 0===_state$isPersistentCh||_state$isPersistentCh;return state.isPersistentChange===nextIsPersistentChange?state:{...nextState,isPersistentChange:nextIsPersistentChange}}return nextState={...nextState,isPersistentChange:isExplicitPersistentChange?!markNextChangeAsNotPersistent:!isUpdatingSameBlockAttribute(action,lastAction)},lastAction=action,markNextChangeAsNotPersistent="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===action.type,nextState}}),(function withIgnoredBlockChange(reducer){const IGNORED_ACTION_TYPES=new Set(["RECEIVE_BLOCKS"]);return(state,action)=>{const nextState=reducer(state,action);return nextState!==state&&(nextState.isIgnoredChange=IGNORED_ACTION_TYPES.has(action.type)),nextState}}),(reducer=>(state,action)=>{if("SET_HAS_CONTROLLED_INNER_BLOCKS"===action.type){const tempState=reducer(state,{type:"REPLACE_INNER_BLOCKS",rootClientId:action.clientId,blocks:[]});return reducer(tempState,action)}return reducer(state,action)}))({byClientId(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const newState=new Map(state);return getFlattenedBlocksWithoutAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"UPDATE_BLOCK":{if(!state.has(action.clientId))return state;const{attributes:attributes,...changes}=action.updates;if(0===Object.values(changes).length)return state;const newState=new Map(state);return newState.set(action.clientId,{...state.get(action.clientId),...changes}),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!action.blocks)return state;const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),getFlattenedBlocksWithoutAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},attributes(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const newState=new Map(state);return getFlattenedBlockAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"UPDATE_BLOCK":{if(!state.get(action.clientId)||!action.updates.attributes)return state;const newState=new Map(state);return newState.set(action.clientId,{...state.get(action.clientId),...action.updates.attributes}),newState}case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":{if(action.clientIds.every((id=>!state.get(id))))return state;let hasChange=!1;const newState=new Map(state);for(const clientId of action.clientIds){var _action$attributes;const updatedAttributeEntries=Object.entries(action.uniqueByBlock?action.attributes[clientId]:null!==(_action$attributes=action.attributes)&&void 0!==_action$attributes?_action$attributes:{});if(0===updatedAttributeEntries.length)continue;let hasUpdatedAttributes=!1;const existingAttributes=state.get(clientId),newAttributes={};updatedAttributeEntries.forEach((([key,value])=>{existingAttributes[key]!==value&&(hasUpdatedAttributes=!0,newAttributes[key]=value)})),hasChange=hasChange||hasUpdatedAttributes,hasUpdatedAttributes&&newState.set(clientId,{...existingAttributes,...newAttributes})}return hasChange?newState:state}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!action.blocks)return state;const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),getFlattenedBlockAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},order(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":{var _state$get;const blockOrder=mapBlockOrder(action.blocks),newState=new Map(state);return blockOrder.forEach(((order,clientId)=>{""!==clientId&&newState.set(clientId,order)})),newState.set("",(null!==(_state$get=state.get(""))&&void 0!==_state$get?_state$get:[]).concat(blockOrder[""])),newState}case"INSERT_BLOCKS":{const{rootClientId:rootClientId=""}=action,subState=state.get(rootClientId)||[],mappedBlocks=mapBlockOrder(action.blocks,rootClientId),{index:index=subState.length}=action,newState=new Map(state);return mappedBlocks.forEach(((order,clientId)=>{newState.set(clientId,order)})),newState.set(rootClientId,insertAt(subState,mappedBlocks.get(rootClientId),index)),newState}case"MOVE_BLOCKS_TO_POSITION":{var _state$get$filter;const{fromRootClientId:fromRootClientId="",toRootClientId:toRootClientId="",clientIds:clientIds}=action,{index:index=state.get(toRootClientId).length}=action;if(fromRootClientId===toRootClientId){const fromIndex=state.get(toRootClientId).indexOf(clientIds[0]),newState=new Map(state);return newState.set(toRootClientId,moveTo(state.get(toRootClientId),fromIndex,index,clientIds.length)),newState}const newState=new Map(state);return newState.set(fromRootClientId,null!==(_state$get$filter=state.get(fromRootClientId)?.filter((id=>!clientIds.includes(id))))&&void 0!==_state$get$filter?_state$get$filter:[]),newState.set(toRootClientId,insertAt(state.get(toRootClientId),clientIds,index)),newState}case"MOVE_BLOCKS_UP":{const{clientIds:clientIds,rootClientId:rootClientId=""}=action,firstClientId=clientIds[0],subState=state.get(rootClientId);if(!subState.length||firstClientId===subState[0])return state;const firstIndex=subState.indexOf(firstClientId),newState=new Map(state);return newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex-1,clientIds.length)),newState}case"MOVE_BLOCKS_DOWN":{const{clientIds:clientIds,rootClientId:rootClientId=""}=action,firstClientId=clientIds[0],lastClientId=clientIds[clientIds.length-1],subState=state.get(rootClientId);if(!subState.length||lastClientId===subState[subState.length-1])return state;const firstIndex=subState.indexOf(firstClientId),newState=new Map(state);return newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex+1,clientIds.length)),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const{clientIds:clientIds}=action;if(!action.blocks)return state;const mappedBlocks=mapBlockOrder(action.blocks),newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),mappedBlocks.forEach(((order,clientId)=>{""!==clientId&&newState.set(clientId,order)})),newState.forEach(((order,clientId)=>{const newSubOrder=Object.values(order).reduce(((result,subClientId)=>subClientId===clientIds[0]?[...result,...mappedBlocks.get("")]:(-1===clientIds.indexOf(subClientId)&&result.push(subClientId),result)),[]);newState.set(clientId,newSubOrder)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState.forEach(((order,clientId)=>{var _order$filter;const newSubOrder=null!==(_order$filter=order?.filter((id=>!action.removedClientIds.includes(id))))&&void 0!==_order$filter?_order$filter:[];newSubOrder.length!==order.length&&newState.set(clientId,newSubOrder)})),newState}}return state},parents(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":{const newState=new Map(state);return mapBlockParents(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"INSERT_BLOCKS":{const newState=new Map(state);return mapBlockParents(action.blocks,action.rootClientId||"").forEach((([key,value])=>{newState.set(key,value)})),newState}case"MOVE_BLOCKS_TO_POSITION":{const newState=new Map(state);return action.clientIds.forEach((id=>{newState.set(id,action.toRootClientId||"")})),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),mapBlockParents(action.blocks,state.get(action.clientIds[0])).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},controlledInnerBlocks(state={},{type:type,clientId:clientId,hasControlledInnerBlocks:hasControlledInnerBlocks}){return"SET_HAS_CONTROLLED_INNER_BLOCKS"===type?{...state,[clientId]:hasControlledInnerBlocks}:state}});function selectionHelper(state={},action){switch(action.type){case"CLEAR_SELECTED_BLOCK":return state.clientId?{}:state;case"SELECT_BLOCK":return action.clientId===state.clientId?state:{clientId:action.clientId};case"REPLACE_INNER_BLOCKS":case"INSERT_BLOCKS":return action.updateSelection&&action.blocks.length?{clientId:action.blocks[0].clientId}:state;case"REMOVE_BLOCKS":return action.clientIds&&action.clientIds.length&&-1!==action.clientIds.indexOf(state.clientId)?{}:state;case"REPLACE_BLOCKS":{if(-1===action.clientIds.indexOf(state.clientId))return state;const blockToSelect=action.blocks[action.indexToSelect]||action.blocks[action.blocks.length-1];return blockToSelect?blockToSelect.clientId===state.clientId?state:{clientId:blockToSelect.clientId}:{}}}return state}var reducer=function withAutomaticChangeReset(reducer){return(state,action)=>{const nextState=reducer(state,action);return state?(nextState.automaticChangeStatus=state.automaticChangeStatus,"MARK_AUTOMATIC_CHANGE"===action.type?{...nextState,automaticChangeStatus:"pending"}:"MARK_AUTOMATIC_CHANGE_FINAL"===action.type&&"pending"===state.automaticChangeStatus?{...nextState,automaticChangeStatus:"final"}:nextState.blocks===state.blocks&&nextState.selection===state.selection||"final"!==nextState.automaticChangeStatus&&nextState.selection!==state.selection?nextState:{...nextState,automaticChangeStatus:void 0}):nextState}}((0,build_module.UY)({blocks:blocks,isTyping:function isTyping(state=!1,action){switch(action.type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return state},isBlockInterfaceHidden:function isBlockInterfaceHidden(state=!1,action){switch(action.type){case"HIDE_BLOCK_INTERFACE":return!0;case"SHOW_BLOCK_INTERFACE":return!1}return state},draggedBlocks:function draggedBlocks(state=[],action){switch(action.type){case"START_DRAGGING_BLOCKS":return action.clientIds;case"STOP_DRAGGING_BLOCKS":return[]}return state},selection:function selection(state={},action){switch(action.type){case"SELECTION_CHANGE":return action.clientId?{selectionStart:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.startOffset},selectionEnd:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.endOffset}}:{selectionStart:action.start||state.selectionStart,selectionEnd:action.end||state.selectionEnd};case"RESET_SELECTION":const{selectionStart:selectionStart,selectionEnd:selectionEnd}=action;return{selectionStart:selectionStart,selectionEnd:selectionEnd};case"MULTI_SELECT":const{start:start,end:end}=action;return start===state.selectionStart?.clientId&&end===state.selectionEnd?.clientId?state:{selectionStart:{clientId:start},selectionEnd:{clientId:end}};case"RESET_BLOCKS":const startClientId=state?.selectionStart?.clientId,endClientId=state?.selectionEnd?.clientId;if(!startClientId&&!endClientId)return state;if(!action.blocks.some((block=>block.clientId===startClientId)))return{selectionStart:{},selectionEnd:{}};if(!action.blocks.some((block=>block.clientId===endClientId)))return{...state,selectionEnd:state.selectionStart}}const selectionStart=selectionHelper(state.selectionStart,action),selectionEnd=selectionHelper(state.selectionEnd,action);return selectionStart===state.selectionStart&&selectionEnd===state.selectionEnd?state:{selectionStart:selectionStart,selectionEnd:selectionEnd}},isMultiSelecting:function isMultiSelecting(state=!1,action){switch(action.type){case"START_MULTI_SELECT":return!0;case"STOP_MULTI_SELECT":return!1}return state},isSelectionEnabled:function isSelectionEnabled(state=!0,action){return"TOGGLE_SELECTION"===action.type?action.isSelectionEnabled:state},initialPosition:function initialPosition(state=null,action){return"REPLACE_BLOCKS"===action.type&&void 0!==action.initialPosition||["MULTI_SELECT","SELECT_BLOCK","RESET_SELECTION","INSERT_BLOCKS","REPLACE_INNER_BLOCKS"].includes(action.type)?action.initialPosition:state},blocksMode:function blocksMode(state={},action){if("TOGGLE_BLOCK_MODE"===action.type){const{clientId:clientId}=action;return{...state,[clientId]:state[clientId]&&"html"===state[clientId]?"visual":"html"}}return state},blockListSettings:(state={},action)=>{switch(action.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object.fromEntries(Object.entries(state).filter((([id])=>!action.clientIds.includes(id))));case"UPDATE_BLOCK_LIST_SETTINGS":{const{clientId:clientId}=action;if(!action.settings){if(state.hasOwnProperty(clientId)){const{[clientId]:removedBlock,...restBlocks}=state;return restBlocks}return state}return es6_default()(state[clientId],action.settings)?state:{...state,[clientId]:action.settings}}}return state},insertionPoint:function insertionPoint(state=null,action){switch(action.type){case"SHOW_INSERTION_POINT":{const{rootClientId:rootClientId,index:index,__unstableWithInserter:__unstableWithInserter,operation:operation}=action,nextState={rootClientId:rootClientId,index:index,__unstableWithInserter:__unstableWithInserter,operation:operation};return es6_default()(state,nextState)?state:nextState}case"HIDE_INSERTION_POINT":return null}return state},template:function template(state={isValid:!0},action){return"SET_TEMPLATE_VALIDITY"===action.type?{...state,isValid:action.isValid}:state},settings:function settings(state=SETTINGS_DEFAULTS,action){return"UPDATE_SETTINGS"===action.type?action.reset?{...SETTINGS_DEFAULTS,...action.settings}:{...state,...action.settings}:state},preferences:function preferences(state=PREFERENCES_DEFAULTS,action){switch(action.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":return action.blocks.reduce(((prevState,block)=>{const{attributes:attributes,name:blockName}=block;let id=blockName;const match=(0,build_module_select.Y)(blocks_build_module.h).getActiveBlockVariation(blockName,attributes);return match?.name&&(id+="/"+match.name),"core/block"===blockName&&(id+="/"+attributes.ref),{...prevState,insertUsage:{...prevState.insertUsage,[id]:{time:action.time,count:prevState.insertUsage[id]?prevState.insertUsage[id].count+1:1}}}}),state)}return state},lastBlockAttributesChange:function lastBlockAttributesChange(state=null,action){switch(action.type){case"UPDATE_BLOCK":if(!action.updates.attributes)break;return{[action.clientId]:action.updates.attributes};case"UPDATE_BLOCK_ATTRIBUTES":return action.clientIds.reduce(((accumulator,id)=>({...accumulator,[id]:action.uniqueByBlock?action.attributes[id]:action.attributes})),{})}return state},lastFocus:function lastFocus(state=!1,action){return"LAST_FOCUS"===action.type?action.lastFocus:state},editorMode:function editorMode(state="edit",action){return"INSERT_BLOCKS"===action.type&&"navigation"===state?"edit":"SET_EDITOR_MODE"===action.type?action.mode:state},hasBlockMovingClientId:function hasBlockMovingClientId(state=null,action){return"SET_BLOCK_MOVING_MODE"===action.type?action.hasBlockMovingClientId:"SET_EDITOR_MODE"===action.type?null:state},highlightedBlock:function highlightedBlock(state,action){switch(action.type){case"TOGGLE_BLOCK_HIGHLIGHT":const{clientId:clientId,isHighlighted:isHighlighted}=action;return isHighlighted?clientId:state===clientId?null:state;case"SELECT_BLOCK":if(action.clientId!==state)return null}return state},lastBlockInserted:function lastBlockInserted(state={},action){switch(action.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":if(!action.blocks.length)return state;const clientIds=action.blocks.map((block=>block.clientId)),source=action.meta?.source;return{clientIds:clientIds,source:source};case"RESET_BLOCKS":return{}}return state},temporarilyEditingAsBlocks:function temporarilyEditingAsBlocks(state="",action){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===action.type?action.temporarilyEditingAsBlocks:state},blockVisibility:function blockVisibility(state={},action){return"SET_BLOCK_VISIBILITY"===action.type?{...state,...action.updates}:state},blockEditingModes:function blockEditingModes(state=new Map,action){switch(action.type){case"SET_BLOCK_EDITING_MODE":return new Map(state).set(action.clientId,action.mode);case"UNSET_BLOCK_EDITING_MODE":{const newState=new Map(state);return newState.delete(action.clientId),newState}case"RESET_BLOCKS":return state.has("")?(new Map).set("",state.get("")):state}return state},styleOverrides:function styleOverrides(state=new Map,action){switch(action.type){case"SET_STYLE_OVERRIDE":return new Map(state).set(action.id,action.style);case"DELETE_STYLE_OVERRIDE":{const newState=new Map(state);return newState.delete(action.id),newState}}return state},removalPromptData:function removalPromptData(state=!1,action){switch(action.type){case"DISPLAY_BLOCK_REMOVAL_PROMPT":const{clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt}=action;return{clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt};case"CLEAR_BLOCK_REMOVAL_PROMPT":return!1}return state},blockRemovalRules:function blockRemovalRules(state=!1,action){return"SET_BLOCK_REMOVAL_RULES"===action.type?action.rules:state},openedBlockSettingsMenu:function openedBlockSettingsMenu(state=null,action){var _action$clientId;return"SET_OPENED_BLOCK_SETTINGS_MENU"===action.type?null!==(_action$clientId=action?.clientId)&&void 0!==_action$clientId?_action$clientId:null:state},registeredInserterMediaCategories:function registeredInserterMediaCategories(state=[],action){return"REGISTER_INSERTER_MEDIA_CATEGORY"===action.type?[...state,action.category]:state}})),rememo=__webpack_require__("./node_modules/rememo/rememo.js"),platform=__webpack_require__("./packages/element/build-module/platform.js"),hooks_build_module=__webpack_require__("./packages/hooks/build-module/index.js"),symbol=__webpack_require__("./packages/icons/build-module/library/symbol.js"),rich_text_build_module=__webpack_require__("./packages/rich-text/build-module/index.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),factory=__webpack_require__("./packages/data/build-module/factory.js"),sorting=__webpack_require__("./packages/block-editor/src/utils/sorting.js"),utils=__webpack_require__("./packages/block-editor/src/components/inserter/block-patterns-tab/utils.js");const EMPTY_ARRAY=[],EMPTY_SET=new Set;function getBlockName(state,clientId){const block=state.blocks.byClientId.get(clientId);if("web"!==platform.Z.OS&&"core/social-link"===block?.name){const attributes=state.blocks.attributes.get(clientId),{service:service}=null!=attributes?attributes:{};return service?`core/social-link-${service}`:"core/social-link"}return block?block.name:null}function isBlockValid(state,clientId){const block=state.blocks.byClientId.get(clientId);return!!block&&block.isValid}function getBlockAttributes(state,clientId){return state.blocks.byClientId.get(clientId)?state.blocks.attributes.get(clientId):null}function getBlock(state,clientId){return state.blocks.byClientId.has(clientId)?state.blocks.tree.get(clientId):null}const __unstableGetBlockWithoutInnerBlocks=(0,rememo.Z)(((state,clientId)=>state.blocks.byClientId.has(clientId)?{...state.blocks.byClientId.get(clientId),attributes:getBlockAttributes(state,clientId)}:null),((state,clientId)=>[state.blocks.byClientId.get(clientId),state.blocks.attributes.get(clientId)]));function getBlocks(state,rootClientId){const treeKey=rootClientId&&areInnerBlocksControlled(state,rootClientId)?"controlled||"+rootClientId:rootClientId||"";return state.blocks.tree.get(treeKey)?.innerBlocks||EMPTY_ARRAY}const __unstableGetClientIdWithClientIdsTree=(0,rememo.Z)(((state,clientId)=>((0,deprecated_build_module.Z)("wp.data.select( 'core/block-editor' ).__unstableGetClientIdWithClientIdsTree",{since:"6.3",version:"6.5"}),{clientId:clientId,innerBlocks:__unstableGetClientIdsTree(state,clientId)})),(state=>[state.blocks.order])),__unstableGetClientIdsTree=(0,rememo.Z)(((state,rootClientId="")=>((0,deprecated_build_module.Z)("wp.data.select( 'core/block-editor' ).__unstableGetClientIdsTree",{since:"6.3",version:"6.5"}),getBlockOrder(state,rootClientId).map((clientId=>__unstableGetClientIdWithClientIdsTree(state,clientId))))),(state=>[state.blocks.order])),getClientIdsOfDescendants=(0,rememo.Z)(((state,clientIds)=>{const givenIds=Array.isArray(clientIds)?clientIds:[clientIds],collectedIds=[];for(const givenId of givenIds)for(const descendantId of getBlockOrder(state,givenId))collectedIds.push(descendantId,...getClientIdsOfDescendants(state,descendantId));return collectedIds}),(state=>[state.blocks.order])),getClientIdsWithDescendants=(0,rememo.Z)((state=>{const collectedIds=[];for(const topLevelId of getBlockOrder(state))collectedIds.push(topLevelId,...getClientIdsOfDescendants(state,topLevelId));return collectedIds}),(state=>[state.blocks.order])),getGlobalBlockCount=(0,rememo.Z)(((state,blockName)=>{const clientIds=getClientIdsWithDescendants(state);return blockName?clientIds.reduce(((accumulator,clientId)=>state.blocks.byClientId.get(clientId).name===blockName?accumulator+1:accumulator),0):clientIds.length}),(state=>[state.blocks.order,state.blocks.byClientId])),__experimentalGetGlobalBlocksByName=(0,rememo.Z)(((state,blockName)=>{if(!blockName)return EMPTY_ARRAY;const blockNames=Array.isArray(blockName)?blockName:[blockName],foundBlocks=getClientIdsWithDescendants(state).filter((clientId=>{const block=state.blocks.byClientId.get(clientId);return blockNames.includes(block.name)}));return foundBlocks.length>0?foundBlocks:EMPTY_ARRAY}),(state=>[state.blocks.order,state.blocks.byClientId])),getBlocksByClientId=(0,rememo.Z)(((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map((clientId=>getBlock(state,clientId)))),((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map((clientId=>state.blocks.tree.get(clientId))))),getBlockNamesByClientId=(0,rememo.Z)(((state,clientIds)=>getBlocksByClientId(state,clientIds).filter(Boolean).map((block=>block.name))),((state,clientIds)=>getBlocksByClientId(state,clientIds)));function getBlockCount(state,rootClientId){return getBlockOrder(state,rootClientId).length}function getSelectionStart(state){return state.selection.selectionStart}function getSelectionEnd(state){return state.selection.selectionEnd}function getBlockSelectionStart(state){return state.selection.selectionStart.clientId}function getBlockSelectionEnd(state){return state.selection.selectionEnd.clientId}function getSelectedBlockCount(state){const multiSelectedBlockCount=getMultiSelectedBlockClientIds(state).length;return multiSelectedBlockCount||(state.selection.selectionStart.clientId?1:0)}function hasSelectedBlock(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return!!selectionStart.clientId&&selectionStart.clientId===selectionEnd.clientId}function getSelectedBlockClientId(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection,{clientId:clientId}=selectionStart;return clientId&&clientId===selectionEnd.clientId?clientId:null}function getSelectedBlock(state){const clientId=getSelectedBlockClientId(state);return clientId?getBlock(state,clientId):null}function getBlockRootClientId(state,clientId){return state.blocks.parents.has(clientId)?state.blocks.parents.get(clientId):null}const getBlockParents=(0,rememo.Z)(((state,clientId,ascending=!1)=>{const parents=[];let current=clientId;for(;state.blocks.parents.get(current);)current=state.blocks.parents.get(current),parents.push(current);return parents.length?ascending?parents:parents.reverse():EMPTY_ARRAY}),(state=>[state.blocks.parents])),getBlockParentsByBlockName=(0,rememo.Z)(((state,clientId,blockName,ascending=!1)=>{const parents=getBlockParents(state,clientId,ascending),hasName=Array.isArray(blockName)?name=>blockName.includes(name):name=>blockName===name;return parents.filter((id=>hasName(getBlockName(state,id))))}),(state=>[state.blocks.parents]));function getBlockHierarchyRootClientId(state,clientId){let parent,current=clientId;do{parent=current,current=state.blocks.parents.get(current)}while(current);return parent}function getLowestCommonAncestorWithSelectedBlock(state,clientId){const selectedId=getSelectedBlockClientId(state),clientParents=[...getBlockParents(state,clientId),clientId],selectedParents=[...getBlockParents(state,selectedId),selectedId];let lowestCommonAncestor;const maxDepth=Math.min(clientParents.length,selectedParents.length);for(let index=0;index<maxDepth&&clientParents[index]===selectedParents[index];index++)lowestCommonAncestor=clientParents[index];return lowestCommonAncestor}function getAdjacentBlockClientId(state,startClientId,modifier=1){if(void 0===startClientId&&(startClientId=getSelectedBlockClientId(state)),void 0===startClientId&&(startClientId=modifier<0?getFirstMultiSelectedBlockClientId(state):getLastMultiSelectedBlockClientId(state)),!startClientId)return null;const rootClientId=getBlockRootClientId(state,startClientId);if(null===rootClientId)return null;const{order:order}=state.blocks,orderSet=order.get(rootClientId),nextIndex=orderSet.indexOf(startClientId)+1*modifier;return nextIndex<0||nextIndex===orderSet.length?null:orderSet[nextIndex]}function getPreviousBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,-1)}function getNextBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,1)}function getSelectedBlocksInitialCaretPosition(state){return state.initialPosition}const getSelectedBlockClientIds=(0,rememo.Z)((state=>{const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;if(!selectionStart.clientId||!selectionEnd.clientId)return EMPTY_ARRAY;if(selectionStart.clientId===selectionEnd.clientId)return[selectionStart.clientId];const rootClientId=getBlockRootClientId(state,selectionStart.clientId);if(null===rootClientId)return EMPTY_ARRAY;const blockOrder=getBlockOrder(state,rootClientId),startIndex=blockOrder.indexOf(selectionStart.clientId),endIndex=blockOrder.indexOf(selectionEnd.clientId);return startIndex>endIndex?blockOrder.slice(endIndex,startIndex+1):blockOrder.slice(startIndex,endIndex+1)}),(state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]));function getMultiSelectedBlockClientIds(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?EMPTY_ARRAY:getSelectedBlockClientIds(state)}const getMultiSelectedBlocks=(0,rememo.Z)((state=>{const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);return multiSelectedBlockClientIds.length?multiSelectedBlockClientIds.map((clientId=>getBlock(state,clientId))):EMPTY_ARRAY}),(state=>[...getSelectedBlockClientIds.getDependants(state),state.blocks.byClientId,state.blocks.order,state.blocks.attributes]));function getFirstMultiSelectedBlockClientId(state){return getMultiSelectedBlockClientIds(state)[0]||null}function getLastMultiSelectedBlockClientId(state){const selectedClientIds=getMultiSelectedBlockClientIds(state);return selectedClientIds[selectedClientIds.length-1]||null}function isFirstMultiSelectedBlock(state,clientId){return getFirstMultiSelectedBlockClientId(state)===clientId}function isBlockMultiSelected(state,clientId){return-1!==getMultiSelectedBlockClientIds(state).indexOf(clientId)}const isAncestorMultiSelected=(0,rememo.Z)(((state,clientId)=>{let ancestorClientId=clientId,isMultiSelected=!1;for(;ancestorClientId&&!isMultiSelected;)ancestorClientId=getBlockRootClientId(state,ancestorClientId),isMultiSelected=isBlockMultiSelected(state,ancestorClientId);return isMultiSelected}),(state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]));function getMultiSelectedBlocksStartClientId(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?null:selectionStart.clientId||null}function getMultiSelectedBlocksEndClientId(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?null:selectionEnd.clientId||null}function __unstableIsFullySelected(state){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);return!selectionAnchor.attributeKey&&!selectionFocus.attributeKey&&void 0===selectionAnchor.offset&&void 0===selectionFocus.offset}function __unstableIsSelectionCollapsed(state){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);return!!selectionAnchor&&!!selectionFocus&&selectionAnchor.clientId===selectionFocus.clientId&&selectionAnchor.attributeKey===selectionFocus.attributeKey&&selectionAnchor.offset===selectionFocus.offset}function __unstableSelectionHasUnmergeableBlock(state){return getSelectedBlockClientIds(state).some((clientId=>{const blockName=getBlockName(state,clientId);return!(0,blocks_build_module.ck)(blockName).merge}))}function __unstableIsSelectionMergeable(state,isForward){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return!1;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return!1;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);if(anchorRootClientId!==getBlockRootClientId(state,selectionFocus.clientId))return!1;const blockOrder=getBlockOrder(state,anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const targetBlockClientId=isForward?selectionEnd.clientId:selectionStart.clientId,blockToMergeClientId=isForward?selectionStart.clientId:selectionEnd.clientId,targetBlockName=getBlockName(state,targetBlockClientId);if(!(0,blocks_build_module.ck)(targetBlockName).merge)return!1;const blockToMerge=getBlock(state,blockToMergeClientId);if(blockToMerge.name===targetBlockName)return!0;const blocksToMerge=(0,blocks_build_module.m4)(blockToMerge,targetBlockName);return blocksToMerge&&blocksToMerge.length}const __unstableGetSelectedBlocksWithPartialSelection=state=>{const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return EMPTY_ARRAY;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return EMPTY_ARRAY;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);if(anchorRootClientId!==getBlockRootClientId(state,selectionFocus.clientId))return EMPTY_ARRAY;const blockOrder=getBlockOrder(state,anchorRootClientId),anchorIndex=blockOrder.indexOf(selectionAnchor.clientId),focusIndex=blockOrder.indexOf(selectionFocus.clientId),[selectionStart,selectionEnd]=anchorIndex>focusIndex?[selectionFocus,selectionAnchor]:[selectionAnchor,selectionFocus],blockA=getBlock(state,selectionStart.clientId),blockB=getBlock(state,selectionEnd.clientId),htmlA=blockA.attributes[selectionStart.attributeKey],htmlB=blockB.attributes[selectionEnd.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA}),valueB=(0,rich_text_build_module.Ue)({html:htmlB});return valueA=(0,rich_text_build_module.Od)(valueA,0,selectionStart.offset),valueB=(0,rich_text_build_module.Od)(valueB,selectionEnd.offset,valueB.text.length),[{...blockA,attributes:{...blockA.attributes,[selectionStart.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA})}},{...blockB,attributes:{...blockB.attributes,[selectionEnd.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB})}}]};function getBlockOrder(state,rootClientId){return state.blocks.order.get(rootClientId||"")||EMPTY_ARRAY}function getBlockIndex(state,clientId){return getBlockOrder(state,getBlockRootClientId(state,clientId)).indexOf(clientId)}function isBlockSelected(state,clientId){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId&&selectionStart.clientId===clientId}function hasSelectedInnerBlock(state,clientId,deep=!1){return getBlockOrder(state,clientId).some((innerClientId=>isBlockSelected(state,innerClientId)||isBlockMultiSelected(state,innerClientId)||deep&&hasSelectedInnerBlock(state,innerClientId,deep)))}function hasDraggedInnerBlock(state,clientId,deep=!1){return getBlockOrder(state,clientId).some((innerClientId=>isBlockBeingDragged(state,innerClientId)||deep&&hasDraggedInnerBlock(state,innerClientId,deep)))}function isBlockWithinSelection(state,clientId){if(!clientId)return!1;const clientIds=getMultiSelectedBlockClientIds(state),index=clientIds.indexOf(clientId);return index>-1&&index<clientIds.length-1}function hasMultiSelection(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId!==selectionEnd.clientId}function selectors_isMultiSelecting(state){return state.isMultiSelecting}function selectors_isSelectionEnabled(state){return state.isSelectionEnabled}function getBlockMode(state,clientId){return state.blocksMode[clientId]||"visual"}function selectors_isTyping(state){return state.isTyping}function isDraggingBlocks(state){return!!state.draggedBlocks.length}function getDraggedBlockClientIds(state){return state.draggedBlocks}function isBlockBeingDragged(state,clientId){return state.draggedBlocks.includes(clientId)}function isAncestorBeingDragged(state,clientId){if(!isDraggingBlocks(state))return!1;return getBlockParents(state,clientId).some((parentClientId=>isBlockBeingDragged(state,parentClientId)))}function isCaretWithinFormattedText(){return(0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:"6.1",version:"6.3"}),!1}const getBlockInsertionPoint=(0,rememo.Z)((state=>{let rootClientId,index;const{insertionPoint:insertionPoint,selection:{selectionEnd:selectionEnd}}=state;if(null!==insertionPoint)return insertionPoint;const{clientId:clientId}=selectionEnd;return clientId?(rootClientId=getBlockRootClientId(state,clientId)||void 0,index=getBlockIndex(state,selectionEnd.clientId)+1):index=getBlockOrder(state).length,{rootClientId:rootClientId,index:index}}),(state=>[state.insertionPoint,state.selection.selectionEnd.clientId,state.blocks.parents,state.blocks.order]));function isBlockInsertionPointVisible(state){return null!==state.insertionPoint}function isValidTemplate(state){return state.template.isValid}function getTemplate(state){return state.settings.template}function getTemplateLock(state,rootClientId){var _getBlockListSettings,_state$settings$templ;return rootClientId?null!==(_getBlockListSettings=getBlockListSettings(state,rootClientId)?.templateLock)&&void 0!==_getBlockListSettings&&_getBlockListSettings:null!==(_state$settings$templ=state.settings.templateLock)&&void 0!==_state$settings$templ&&_state$settings$templ}const checkAllowList=(list,item,defaultResult=null)=>"boolean"==typeof list?list:Array.isArray(list)?!(!list.includes("core/post-content")||null!==item)||list.includes(item):defaultResult,canInsertBlockTypeUnmemoized=(state,blockName,rootClientId=null)=>{let blockType;if(blockName&&"object"==typeof blockName?(blockType=blockName,blockName=blockType.name):blockType=(0,blocks_build_module.ck)(blockName),!blockType)return!1;const{allowedBlockTypes:allowedBlockTypes}=getSettings(state);if(!checkAllowList(allowedBlockTypes,blockName,!0))return!1;if(!!getTemplateLock(state,rootClientId))return!1;if("disabled"===getBlockEditingMode(state,null!=rootClientId?rootClientId:""))return!1;const parentBlockListSettings=getBlockListSettings(state,rootClientId);if(rootClientId&&void 0===parentBlockListSettings)return!1;const parentAllowedBlocks=parentBlockListSettings?.allowedBlocks,hasParentAllowedBlock=checkAllowList(parentAllowedBlocks,blockName),blockAllowedParentBlocks=blockType.parent,parentName=getBlockName(state,rootClientId),hasBlockAllowedParent=checkAllowList(blockAllowedParentBlocks,parentName);let hasBlockAllowedAncestor=!0;const blockAllowedAncestorBlocks=blockType.ancestor;if(blockAllowedAncestorBlocks){hasBlockAllowedAncestor=[rootClientId,...getBlockParents(state,rootClientId)].some((ancestorClientId=>checkAllowList(blockAllowedAncestorBlocks,getBlockName(state,ancestorClientId))))}const canInsert=hasBlockAllowedAncestor&&(null===hasParentAllowedBlock&&null===hasBlockAllowedParent||!0===hasParentAllowedBlock||!0===hasBlockAllowedParent);return canInsert?(0,hooks_build_module.O)("blockEditor.__unstableCanInsertBlockType",canInsert,blockType,rootClientId,{getBlock:getBlock.bind(null,state),getBlockParentsByBlockName:getBlockParentsByBlockName.bind(null,state)}):canInsert},canInsertBlockType=(0,rememo.Z)(canInsertBlockTypeUnmemoized,((state,blockName,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId),state.settings.allowedBlockTypes,state.settings.templateLock,state.blockEditingModes]));function canInsertBlocks(state,clientIds,rootClientId=null){return clientIds.every((id=>canInsertBlockType(state,getBlockName(state,id),rootClientId)))}function canRemoveBlock(state,clientId,rootClientId=null){const attributes=getBlockAttributes(state,clientId);return null===attributes||(void 0!==attributes.lock?.remove?!attributes.lock.remove:!getTemplateLock(state,rootClientId)&&"disabled"!==getBlockEditingMode(state,rootClientId))}function canRemoveBlocks(state,clientIds,rootClientId=null){return clientIds.every((clientId=>canRemoveBlock(state,clientId,rootClientId)))}function canMoveBlock(state,clientId,rootClientId=null){const attributes=getBlockAttributes(state,clientId);return null===attributes||(void 0!==attributes.lock?.move?!attributes.lock.move:"all"!==getTemplateLock(state,rootClientId)&&"disabled"!==getBlockEditingMode(state,rootClientId))}function canMoveBlocks(state,clientIds,rootClientId=null){return clientIds.every((clientId=>canMoveBlock(state,clientId,rootClientId)))}function canEditBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(null===attributes)return!0;const{lock:lock}=attributes;return!lock?.edit}function canLockBlockType(state,nameOrType){return!!(0,blocks_build_module.zb)(nameOrType,"lock",!0)&&!!state.settings?.canLockBlocks}function getInsertUsage(state,id){var _state$preferences$in;return null!==(_state$preferences$in=state.preferences.insertUsage?.[id])&&void 0!==_state$preferences$in?_state$preferences$in:null}const canIncludeBlockTypeInInserter=(state,blockType,rootClientId)=>!!(0,blocks_build_module.zb)(blockType,"inserter",!0)&&canInsertBlockTypeUnmemoized(state,blockType.name,rootClientId),calculateFrecency=(time,count)=>{if(!time)return count;const duration=Date.now()-time;switch(!0){case duration<36e5:return 4*count;case duration<864e5:return 2*count;case duration<6048e5:return count/2;default:return count/4}},buildBlockTypeItem=(state,{buildScope:buildScope="inserter"})=>blockType=>{const id=blockType.name;let isDisabled=!1;(0,blocks_build_module.zb)(blockType.name,"multiple",!0)||(isDisabled=getBlocksByClientId(state,getClientIdsWithDescendants(state)).some((({name:name})=>name===blockType.name)));const{time:time,count:count=0}=getInsertUsage(state,id)||{},blockItemBase={id:id,name:blockType.name,title:blockType.title,icon:blockType.icon,isDisabled:isDisabled,frecency:calculateFrecency(time,count)};if("transform"===buildScope)return blockItemBase;const inserterVariations=(0,blocks_build_module.Nr)(blockType.name,"inserter");return{...blockItemBase,initialAttributes:{},description:blockType.description,category:blockType.category,keywords:blockType.keywords,variations:inserterVariations,example:blockType.example,utility:1}},getInserterItems=(0,rememo.Z)(((state,rootClientId=null)=>{const syncedPatternInserterItems=canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)?getReusableBlocks(state).map((reusableBlock=>{const icon=reusableBlock.wp_pattern_sync_status?symbol.Z:{src:symbol.Z,foreground:"var(--wp-block-synced-color)"},id=`core/block/${reusableBlock.id}`,{time:time,count:count=0}=getInsertUsage(state,id)||{},frecency=calculateFrecency(time,count);return{id:id,name:"core/block",initialAttributes:{ref:reusableBlock.id},title:reusableBlock.title?.raw,icon:icon,category:"reusable",keywords:["reusable"],isDisabled:!1,utility:1,frecency:frecency,content:reusableBlock.content?.raw,syncStatus:reusableBlock.wp_pattern_sync_status}})):[],buildBlockTypeInserterItem=buildBlockTypeItem(state,{buildScope:"inserter"}),items=(0,blocks_build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))).map(buildBlockTypeInserterItem).reduce(((accumulator,item)=>{const{variations:variations=[]}=item;if(variations.some((({isDefault:isDefault})=>isDefault))||accumulator.push(item),variations.length){const variationMapper=((state,item)=>variation=>{const variationId=`${item.id}/${variation.name}`,{time:time,count:count=0}=getInsertUsage(state,variationId)||{};return{...item,id:variationId,icon:variation.icon||item.icon,title:variation.title||item.title,description:variation.description||item.description,category:variation.category||item.category,example:variation.hasOwnProperty("example")?variation.example:item.example,initialAttributes:{...item.initialAttributes,...variation.attributes},innerBlocks:variation.innerBlocks,keywords:variation.keywords||item.keywords,frecency:calculateFrecency(time,count)}})(state,item);accumulator.push(...variations.map(variationMapper))}return accumulator}),[]),{core:coreItems,noncore:nonCoreItems}=items.reduce(((blocks,block)=>{const{core:core,noncore:noncore}=blocks;return(block.name.startsWith("core/")?core:noncore).push(block),blocks}),{core:[],noncore:[]});return[...[...coreItems,...nonCoreItems],...syncedPatternInserterItems]}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.blocks.order,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,blocks_build_module.U8)()])),getBlockTransformItems=(0,rememo.Z)(((state,blocks,rootClientId=null)=>{const normalizedBlocks=Array.isArray(blocks)?blocks:[blocks],buildBlockTypeTransformItem=buildBlockTypeItem(state,{buildScope:"transform"}),blockTypeTransformItems=(0,blocks_build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))).map(buildBlockTypeTransformItem),itemsByName=Object.fromEntries(Object.entries(blockTypeTransformItems).map((([,value])=>[value.name,value]))),possibleTransforms=(0,blocks_build_module.ff)(normalizedBlocks).reduce(((accumulator,block)=>(itemsByName[block?.name]&&accumulator.push(itemsByName[block.name]),accumulator)),[]);return(0,sorting.X)(possibleTransforms,(block=>itemsByName[block.name].frecency),"desc")}),((state,blocks,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,(0,blocks_build_module.U8)()])),hasInserterItems=(0,rememo.Z)(((state,rootClientId=null)=>{if((0,blocks_build_module.U8)().some((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))))return!0;return canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)&&getReusableBlocks(state).length>0}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,blocks_build_module.U8)()])),getAllowedBlocks=(0,rememo.Z)(((state,rootClientId=null)=>{if(!rootClientId)return;return[...(0,blocks_build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))),...canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)&&getReusableBlocks(state).length>0?["core/block"]:[]]}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,blocks_build_module.U8)()])),__experimentalGetAllowedBlocks=(0,rememo.Z)(((state,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:"6.2",version:"6.4"}),getAllowedBlocks(state,rootClientId))),((state,rootClientId)=>[...getAllowedBlocks.getDependants(state,rootClientId)])),getDirectInsertBlock=(0,rememo.Z)(((state,rootClientId=null)=>{if(!rootClientId)return;const defaultBlock=state.blockListSettings[rootClientId]?.defaultBlock,directInsert=state.blockListSettings[rootClientId]?.directInsert;return defaultBlock&&directInsert?"function"==typeof directInsert?directInsert(getBlock(state,rootClientId))?defaultBlock:null:defaultBlock:void 0}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.tree.get(rootClientId)])),__experimentalGetDirectInsertBlock=(0,rememo.Z)(((state,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetDirectInsertBlock',{alternative:'wp.data.select( "core/block-editor" ).getDirectInsertBlock',since:"6.3",version:"6.4"}),getDirectInsertBlock(state,rootClientId))),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.tree.get(rootClientId)]));function getUserPatterns(state){var _state$settings$__exp,_state$settings$__exp2;const userPatterns=null!==(_state$settings$__exp=state?.settings?.__experimentalReusableBlocks)&&void 0!==_state$settings$__exp?_state$settings$__exp:EMPTY_ARRAY,userPatternCategories=null!==(_state$settings$__exp2=state?.settings?.__experimentalUserPatternCategories)&&void 0!==_state$settings$__exp2?_state$settings$__exp2:[],categories=new Map;return userPatternCategories.forEach((userCategory=>categories.set(userCategory.id,userCategory))),userPatterns.map((userPattern=>({name:`core/block/${userPattern.id}`,id:userPattern.id,type:utils.qy.user,title:userPattern.title.raw,categories:userPattern.wp_pattern_category.map((catId=>categories&&categories.get(catId)?categories.get(catId).slug:catId)),content:userPattern.content.raw,syncStatus:userPattern.wp_pattern_sync_status})))}const __experimentalUserPatternCategories=(0,rememo.Z)((state=>state?.settings?.__experimentalUserPatternCategories),(state=>[state.settings.__experimentalUserPatternCategories])),__experimentalGetParsedPattern=(0,rememo.Z)(((state,patternName)=>{const pattern=[...state.settings.__experimentalBlockPatterns,...getUserPatterns(state)].find((({name:name})=>name===patternName));return pattern?{...pattern,blocks:(0,blocks_build_module.Qc)(pattern.content,{__unstableSkipMigrationLogs:!0})}:null}),(state=>[state.settings.__experimentalBlockPatterns,state.settings.__experimentalReusableBlocks,state?.settings?.__experimentalUserPatternCategories])),getAllAllowedPatterns=(0,rememo.Z)((state=>{const patterns=state.settings.__experimentalBlockPatterns,userPatterns=getUserPatterns(state),{allowedBlockTypes:allowedBlockTypes}=getSettings(state),allowedPatterns=[...userPatterns,...patterns].filter((({inserter:inserter=!0})=>!!inserter)).map((({name:name})=>__experimentalGetParsedPattern(state,name))).filter((({blocks:blocks})=>((blocks,allowedBlockTypes)=>{if("boolean"==typeof allowedBlockTypes)return allowedBlockTypes;const blocksQueue=[...blocks];for(;blocksQueue.length>0;){const block=blocksQueue.shift();if(!checkAllowList(allowedBlockTypes,block.name||block.blockName,!0))return!1;block.innerBlocks?.forEach((innerBlock=>{blocksQueue.push(innerBlock)}))}return!0})(blocks,allowedBlockTypes)));return allowedPatterns}),(state=>[state.settings.__experimentalBlockPatterns,state.settings.__experimentalReusableBlocks,state.settings.allowedBlockTypes,state?.settings?.__experimentalUserPatternCategories])),__experimentalGetAllowedPatterns=(0,rememo.Z)(((state,rootClientId=null)=>{const patternsAllowed=getAllAllowedPatterns(state).filter((({blocks:blocks})=>blocks.every((({name:name})=>canInsertBlockType(state,name,rootClientId)))));return patternsAllowed}),((state,rootClientId)=>[state.settings.__experimentalBlockPatterns,state.settings.__experimentalReusableBlocks,state.settings.allowedBlockTypes,state.settings.templateLock,state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId)])),getPatternsByBlockTypes=(0,rememo.Z)(((state,blockNames,rootClientId=null)=>{if(!blockNames)return EMPTY_ARRAY;const patterns=__experimentalGetAllowedPatterns(state,rootClientId),normalizedBlockNames=Array.isArray(blockNames)?blockNames:[blockNames],filteredPatterns=patterns.filter((pattern=>pattern?.blockTypes?.some?.((blockName=>normalizedBlockNames.includes(blockName)))));return 0===filteredPatterns.length?EMPTY_ARRAY:filteredPatterns}),((state,blockNames,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)])),__experimentalGetPatternsByBlockTypes=(0,rememo.Z)(((state,blockNames,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:"6.2",version:"6.4"}),getPatternsByBlockTypes(state,blockNames,rootClientId))),((state,blockNames,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)])),__experimentalGetPatternTransformItems=(0,rememo.Z)(((state,blocks,rootClientId=null)=>{if(!blocks)return EMPTY_ARRAY;if(blocks.some((({clientId:clientId,innerBlocks:innerBlocks})=>innerBlocks.length||areInnerBlocksControlled(state,clientId))))return EMPTY_ARRAY;const selectedBlockNames=Array.from(new Set(blocks.map((({name:name})=>name))));return getPatternsByBlockTypes(state,selectedBlockNames,rootClientId)}),((state,blocks,rootClientId)=>[...getPatternsByBlockTypes.getDependants(state,rootClientId)]));function getBlockListSettings(state,clientId){return state.blockListSettings[clientId]}function getSettings(state){return state.settings}function isLastBlockChangePersistent(state){return state.blocks.isPersistentChange}const __experimentalGetBlockListSettingsForBlocks=(0,rememo.Z)(((state,clientIds=[])=>clientIds.reduce(((blockListSettingsForBlocks,clientId)=>state.blockListSettings[clientId]?{...blockListSettingsForBlocks,[clientId]:state.blockListSettings[clientId]}:blockListSettingsForBlocks),{})),(state=>[state.blockListSettings])),__experimentalGetReusableBlockTitle=(0,rememo.Z)(((state,ref)=>{const reusableBlock=getReusableBlocks(state).find((block=>block.id===ref));return reusableBlock?reusableBlock.title?.raw:null}),(state=>[getReusableBlocks(state)]));function __unstableIsLastBlockChangeIgnored(state){return state.blocks.isIgnoredChange}function __experimentalGetLastBlockAttributeChanges(state){return state.lastBlockAttributesChange}function getReusableBlocks(state){var _state$settings$__exp3;return null!==(_state$settings$__exp3=state?.settings?.__experimentalReusableBlocks)&&void 0!==_state$settings$__exp3?_state$settings$__exp3:EMPTY_ARRAY}function isNavigationMode(state){return"navigation"===state.editorMode}function __unstableGetEditorMode(state){return state.editorMode}function selectors_hasBlockMovingClientId(state){return state.hasBlockMovingClientId}function didAutomaticChange(state){return!!state.automaticChangeStatus}function isBlockHighlighted(state,clientId){return state.highlightedBlock===clientId}function areInnerBlocksControlled(state,clientId){return!!state.blocks.controlledInnerBlocks[clientId]}const __experimentalGetActiveBlockIdByBlockNames=(0,rememo.Z)(((state,validBlockNames)=>{if(!validBlockNames.length)return null;const selectedBlockClientId=getSelectedBlockClientId(state);if(validBlockNames.includes(getBlockName(state,selectedBlockClientId)))return selectedBlockClientId;const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state),entityAreaParents=getBlockParentsByBlockName(state,selectedBlockClientId||multiSelectedBlockClientIds[0],validBlockNames);return entityAreaParents?entityAreaParents[entityAreaParents.length-1]:null}),((state,validBlockNames)=>[state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId,validBlockNames]));function wasBlockJustInserted(state,clientId,source){const{lastBlockInserted:lastBlockInserted}=state;return lastBlockInserted.clientIds?.includes(clientId)&&lastBlockInserted.source===source}function isBlockVisible(state,clientId){var _state$blockVisibilit;return null===(_state$blockVisibilit=state.blockVisibility?.[clientId])||void 0===_state$blockVisibilit||_state$blockVisibilit}const __unstableGetVisibleBlocks=(0,rememo.Z)((state=>{const visibleBlocks=new Set(Object.keys(state.blockVisibility).filter((key=>state.blockVisibility[key])));return 0===visibleBlocks.size?EMPTY_SET:visibleBlocks}),(state=>[state.blockVisibility])),__unstableGetContentLockingParent=(0,rememo.Z)(((state,clientId)=>{let result,current=clientId;for(;state.blocks.parents.has(current);)current=state.blocks.parents.get(current),current&&"contentOnly"===getTemplateLock(state,current)&&(result=current);return result}),(state=>[state.blocks.parents,state.blockListSettings]));function __unstableGetTemporarilyEditingAsBlocks(state){return state.temporarilyEditingAsBlocks}function __unstableHasActiveBlockOverlayActive(state,clientId){if("default"!==getBlockEditingMode(state,clientId))return!1;if(!canEditBlock(state,clientId))return!0;const editorMode=__unstableGetEditorMode(state);if("zoom-out"===editorMode&&clientId&&!getBlockRootClientId(state,clientId))return!0;const blockSupportDisable=(0,blocks_build_module.zb)(getBlockName(state,clientId),"__experimentalDisableBlockOverlay",!1);return("navigation"===editorMode||!blockSupportDisable&&areInnerBlocksControlled(state,clientId))&&!isBlockSelected(state,clientId)&&!hasSelectedInnerBlock(state,clientId,!0)}function __unstableIsWithinBlockOverlay(state,clientId){let parent=state.blocks.parents.get(clientId);for(;parent;){if(__unstableHasActiveBlockOverlayActive(state,parent))return!0;parent=state.blocks.parents.get(parent)}return!1}const getBlockEditingMode=(0,factory.M)((select=>(state,clientId="")=>{if(state.blockEditingModes.has(clientId))return state.blockEditingModes.get(clientId);if(!clientId)return"default";const rootClientId=getBlockRootClientId(state,clientId);if("contentOnly"===getTemplateLock(state,rootClientId)){const name=getBlockName(state,clientId);return select(blocks_build_module.h).__experimentalHasContentRoleAttribute(name)?"contentOnly":"disabled"}const parentMode=getBlockEditingMode(state,rootClientId);return"contentOnly"===parentMode?"default":parentMode})),isUngroupable=(0,factory.M)((select=>(state,clientId="")=>{const _clientId=clientId||getSelectedBlockClientId(state);if(!_clientId)return!1;const{getGroupingBlockName:getGroupingBlockName}=select(blocks_build_module.h),block=getBlock(state,_clientId),groupingBlockName=getGroupingBlockName();return block&&(block.name===groupingBlockName||(0,blocks_build_module.ck)(block.name)?.transforms?.ungroup)&&!!block.innerBlocks.length&&canRemoveBlock(state,_clientId)})),isGroupable=(0,factory.M)((select=>(state,clientIds=EMPTY_ARRAY)=>{const{getGroupingBlockName:getGroupingBlockName}=select(blocks_build_module.h),groupingBlockName=getGroupingBlockName(),_clientIds=clientIds?.length?clientIds:getSelectedBlockClientIds(state),rootClientId=_clientIds?.length?getBlockRootClientId(state,_clientIds[0]):void 0;return canInsertBlockType(state,groupingBlockName,rootClientId)&&_clientIds.length&&canRemoveBlocks(state,_clientIds,rootClientId)}));function getLastFocus(state){return state.lastFocus}const privateSettings=["inserterMediaCategories","blockInspectorAnimation"];function __experimentalUpdateSettings(settings,{stripExperimentalSettings:stripExperimentalSettings=!1,reset:reset=!1}={}){let cleanSettings=settings;if(stripExperimentalSettings&&"web"===platform.Z.OS){cleanSettings={};for(const key in settings)privateSettings.includes(key)||(cleanSettings[key]=settings[key])}return{type:"UPDATE_SETTINGS",settings:cleanSettings,reset:reset}}function hideBlockInterface(){return{type:"HIDE_BLOCK_INTERFACE"}}function showBlockInterface(){return{type:"SHOW_BLOCK_INTERFACE"}}const privateRemoveBlocks=(clientIds,selectPrevious=!0,forceRemove=!1)=>({select:select,dispatch:dispatch,registry:registry})=>{if(!clientIds||!clientIds.length)return;var maybeArray;maybeArray=clientIds,clientIds=Array.isArray(maybeArray)?maybeArray:[maybeArray];const rootClientId=select.getBlockRootClientId(clientIds[0]);if(!select.canRemoveBlocks(clientIds,rootClientId))return;const rules=!forceRemove&&select.getBlockRemovalRules();if(rules){const blockNamesForPrompt=new Set,queue=[...clientIds];for(;queue.length;){const clientId=queue.shift(),blockName=select.getBlockName(clientId);rules[blockName]&&blockNamesForPrompt.add(blockName);const innerBlocks=select.getBlockOrder(clientId);queue.push(...innerBlocks)}if(blockNamesForPrompt.size)return void dispatch(function displayBlockRemovalPrompt(clientIds,selectPrevious,blockNamesForPrompt){return{type:"DISPLAY_BLOCK_REMOVAL_PROMPT",clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt}}(clientIds,selectPrevious,Array.from(blockNamesForPrompt)))}selectPrevious&&dispatch.selectPreviousBlock(clientIds[0],selectPrevious),registry.batch((()=>{dispatch({type:"REMOVE_BLOCKS",clientIds:clientIds}),dispatch(ensureDefaultBlock())}))},ensureDefaultBlock=()=>({select:select,dispatch:dispatch})=>{if(select.getBlockCount()>0)return;const{__unstableHasCustomAppender:__unstableHasCustomAppender}=select.getSettings();__unstableHasCustomAppender||dispatch.insertDefaultBlock()};function clearBlockRemovalPrompt(){return{type:"CLEAR_BLOCK_REMOVAL_PROMPT"}}function setBlockRemovalRules(rules=!1){return{type:"SET_BLOCK_REMOVAL_RULES",rules:rules}}function setOpenedBlockSettingsMenu(clientId){return{type:"SET_OPENED_BLOCK_SETTINGS_MENU",clientId:clientId}}function setStyleOverride(id,style){return{type:"SET_STYLE_OVERRIDE",id:id,style:style}}function deleteStyleOverride(id){return{type:"DELETE_STYLE_OVERRIDE",id:id}}function syncDerivedBlockAttributes(clientId,attributes){return{type:"SYNC_DERIVED_BLOCK_ATTRIBUTES",clientIds:[clientId],attributes:attributes}}function private_selectors_isBlockInterfaceHidden(state){return state.isBlockInterfaceHidden}function getLastInsertedBlocksClientIds(state){return state?.lastBlockInserted?.clientIds}const isBlockSubtreeDisabled=(0,rememo.Z)(((state,clientId)=>{const isChildSubtreeDisabled=childClientId=>"disabled"===getBlockEditingMode(state,childClientId)&&getBlockOrder(state,childClientId).every(isChildSubtreeDisabled);return"disabled"===getBlockEditingMode(state,clientId)&&getBlockOrder(state,clientId).every(isChildSubtreeDisabled)}),(state=>[state.blocks.parents,state.blocks.order,state.blockEditingModes,state.blockListSettings])),getEnabledClientIdsTree=(0,rememo.Z)(((state,rootClientId="")=>getBlockOrder(state,rootClientId).flatMap((clientId=>"disabled"!==getBlockEditingMode(state,clientId)?[{clientId:clientId,innerBlocks:getEnabledClientIdsTree(state,clientId)}]:getEnabledClientIdsTree(state,clientId)))),(state=>[state.blocks.order,state.blockEditingModes,state.settings.templateLock,state.blockListSettings])),getEnabledBlockParents=(0,rememo.Z)(((state,clientId,ascending=!1)=>getBlockParents(state,clientId,ascending).filter((parent=>"disabled"!==getBlockEditingMode(state,parent)))),(state=>[state.blocks.parents,state.blockEditingModes,state.settings.templateLock,state.blockListSettings]));function getRemovalPromptData(state){return state.removalPromptData}function getBlockRemovalRules(state){return state.blockRemovalRules}function getOpenedBlockSettingsMenu(state){return state.openedBlockSettingsMenu}function getStyleOverrides(state){return state.styleOverrides}function getRegisteredInserterMediaCategories(state){return state.registeredInserterMediaCategories}const getInserterMediaCategories=(0,rememo.Z)((state=>{const{settings:{inserterMediaCategories:inserterMediaCategories,allowedMimeTypes:allowedMimeTypes,enableOpenverseMediaCategory:enableOpenverseMediaCategory},registeredInserterMediaCategories:registeredInserterMediaCategories}=state;if(!inserterMediaCategories&&!registeredInserterMediaCategories.length||!allowedMimeTypes)return;const coreInserterMediaCategoriesNames=inserterMediaCategories?.map((({name:name})=>name))||[];return[...inserterMediaCategories||[],...(registeredInserterMediaCategories||[]).filter((({name:name})=>!coreInserterMediaCategoriesNames.includes(name)))].filter((category=>!(!enableOpenverseMediaCategory&&"openverse"===category.name)&&Object.values(allowedMimeTypes).some((mimeType=>mimeType.startsWith(`${category.mediaType}/`)))))}),(state=>[state.settings.inserterMediaCategories,state.settings.allowedMimeTypes,state.settings.enableOpenverseMediaCategory,state.registeredInserterMediaCategories]));var a11y_build_module=__webpack_require__("./packages/a11y/build-module/index.js");function retrieveSelectedAttribute(blockAttributes){if(blockAttributes)return Object.keys(blockAttributes).find((name=>{const value=blockAttributes[name];return"string"==typeof value&&-1!==value.indexOf("")}))}const actions_castArray=maybeArray=>Array.isArray(maybeArray)?maybeArray:[maybeArray],resetBlocks=blocks=>({dispatch:dispatch})=>{dispatch({type:"RESET_BLOCKS",blocks:blocks}),dispatch(validateBlocksToTemplate(blocks))},validateBlocksToTemplate=blocks=>({select:select,dispatch:dispatch})=>{const template=select.getTemplate(),templateLock=select.getTemplateLock(),isBlocksValidToTemplate=!template||"all"!==templateLock||(0,blocks_build_module.aW)(blocks,template);if(isBlocksValidToTemplate!==select.isValidTemplate())return dispatch.setTemplateValidity(isBlocksValidToTemplate),isBlocksValidToTemplate};function resetSelection(selectionStart,selectionEnd,initialPosition){return{type:"RESET_SELECTION",selectionStart:selectionStart,selectionEnd:selectionEnd,initialPosition:initialPosition}}function receiveBlocks(blocks){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:"5.9",alternative:"resetBlocks or insertBlocks"}),{type:"RECEIVE_BLOCKS",blocks:blocks}}function updateBlockAttributes(clientIds,attributes,uniqueByBlock=!1){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientIds:actions_castArray(clientIds),attributes:attributes,uniqueByBlock:uniqueByBlock}}function updateBlock(clientId,updates){return{type:"UPDATE_BLOCK",clientId:clientId,updates:updates}}function selectBlock(clientId,initialPosition=0){return{type:"SELECT_BLOCK",initialPosition:initialPosition,clientId:clientId}}const selectPreviousBlock=(clientId,fallbackToParent=!1)=>({select:select,dispatch:dispatch})=>{const previousBlockClientId=select.getPreviousBlockClientId(clientId);if(previousBlockClientId)dispatch.selectBlock(previousBlockClientId,-1);else if(fallbackToParent){const firstParentClientId=select.getBlockRootClientId(clientId);firstParentClientId&&dispatch.selectBlock(firstParentClientId,-1)}},selectNextBlock=clientId=>({select:select,dispatch:dispatch})=>{const nextBlockClientId=select.getNextBlockClientId(clientId);nextBlockClientId&&dispatch.selectBlock(nextBlockClientId)};function startMultiSelect(){return{type:"START_MULTI_SELECT"}}function stopMultiSelect(){return{type:"STOP_MULTI_SELECT"}}const multiSelect=(start,end,__experimentalInitialPosition=0)=>({select:select,dispatch:dispatch})=>{if(select.getBlockRootClientId(start)!==select.getBlockRootClientId(end))return;dispatch({type:"MULTI_SELECT",start:start,end:end,initialPosition:__experimentalInitialPosition});const blockCount=select.getSelectedBlockCount();(0,a11y_build_module.D)((0,i18n_build_module.gB)((0,i18n_build_module._n)("%s block selected.","%s blocks selected.",blockCount),blockCount),"assertive")};function clearSelectedBlock(){return{type:"CLEAR_SELECTED_BLOCK"}}function toggleSelection(isSelectionEnabled=!0){return{type:"TOGGLE_SELECTION",isSelectionEnabled:isSelectionEnabled}}function getBlocksWithDefaultStylesApplied(blocks,blockEditorSettings){var _blockEditorSettings$;const preferredStyleVariations=null!==(_blockEditorSettings$=blockEditorSettings?.__experimentalPreferredStyleVariations?.value)&&void 0!==_blockEditorSettings$?_blockEditorSettings$:{};return blocks.map((block=>{const blockName=block.name;if(!(0,blocks_build_module.zb)(blockName,"defaultStylePicker",!0))return block;if(!preferredStyleVariations[blockName])return block;const className=block.attributes?.className;if(className?.includes("is-style-"))return block;const{attributes:attributes={}}=block,blockStyle=preferredStyleVariations[blockName];return{...block,attributes:{...attributes,className:`${className||""} is-style-${blockStyle}`.trim()}}}))}const replaceBlocks=(clientIds,blocks,indexToSelect,initialPosition=0,meta)=>({select:select,dispatch:dispatch,registry:registry})=>{clientIds=actions_castArray(clientIds),blocks=getBlocksWithDefaultStylesApplied(actions_castArray(blocks),select.getSettings());const rootClientId=select.getBlockRootClientId(clientIds[0]);for(let index=0;index<blocks.length;index++){const block=blocks[index];if(!select.canInsertBlockType(block.name,rootClientId))return}registry.batch((()=>{dispatch({type:"REPLACE_BLOCKS",clientIds:clientIds,blocks:blocks,time:Date.now(),indexToSelect:indexToSelect,initialPosition:initialPosition,meta:meta}),dispatch.ensureDefaultBlock()}))};function replaceBlock(clientId,block){return replaceBlocks(clientId,block)}const createOnMove=type=>(clientIds,rootClientId)=>({select:select,dispatch:dispatch})=>{select.canMoveBlocks(clientIds,rootClientId)&&dispatch({type:type,clientIds:actions_castArray(clientIds),rootClientId:rootClientId})},moveBlocksDown=createOnMove("MOVE_BLOCKS_DOWN"),moveBlocksUp=createOnMove("MOVE_BLOCKS_UP"),moveBlocksToPosition=(clientIds,fromRootClientId="",toRootClientId="",index)=>({select:select,dispatch:dispatch})=>{if(select.canMoveBlocks(clientIds,fromRootClientId)){if(fromRootClientId!==toRootClientId){if(!select.canRemoveBlocks(clientIds,fromRootClientId))return;if(!select.canInsertBlocks(clientIds,toRootClientId))return}dispatch({type:"MOVE_BLOCKS_TO_POSITION",fromRootClientId:fromRootClientId,toRootClientId:toRootClientId,clientIds:clientIds,index:index})}};function moveBlockToPosition(clientId,fromRootClientId="",toRootClientId="",index){return moveBlocksToPosition([clientId],fromRootClientId,toRootClientId,index)}function insertBlock(block,index,rootClientId,updateSelection,meta){return insertBlocks([block],index,rootClientId,updateSelection,0,meta)}const insertBlocks=(blocks,index,rootClientId,updateSelection=!0,initialPosition=0,meta)=>({select:select,dispatch:dispatch})=>{null!==initialPosition&&"object"==typeof initialPosition&&(meta=initialPosition,initialPosition=0,(0,deprecated_build_module.Z)("meta argument in wp.data.dispatch('core/block-editor')",{since:"5.8",hint:"The meta argument is now the 6th argument of the function"})),blocks=getBlocksWithDefaultStylesApplied(actions_castArray(blocks),select.getSettings());const allowedBlocks=[];for(const block of blocks){select.canInsertBlockType(block.name,rootClientId)&&allowedBlocks.push(block)}allowedBlocks.length&&dispatch({type:"INSERT_BLOCKS",blocks:allowedBlocks,index:index,rootClientId:rootClientId,time:Date.now(),updateSelection:updateSelection,initialPosition:updateSelection?initialPosition:null,meta:meta})};function showInsertionPoint(rootClientId,index,__unstableOptions={}){const{__unstableWithInserter:__unstableWithInserter,operation:operation}=__unstableOptions;return{type:"SHOW_INSERTION_POINT",rootClientId:rootClientId,index:index,__unstableWithInserter:__unstableWithInserter,operation:operation}}const hideInsertionPoint=()=>({select:select,dispatch:dispatch})=>{select.isBlockInsertionPointVisible()&&dispatch({type:"HIDE_INSERTION_POINT"})};function setTemplateValidity(isValid){return{type:"SET_TEMPLATE_VALIDITY",isValid:isValid}}const synchronizeTemplate=()=>({select:select,dispatch:dispatch})=>{dispatch({type:"SYNCHRONIZE_TEMPLATE"});const blocks=select.getBlocks(),template=select.getTemplate(),updatedBlockList=(0,blocks_build_module.fw)(blocks,template);dispatch.resetBlocks(updatedBlockList)},__unstableDeleteSelection=isForward=>({registry:registry,select:select,dispatch:dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return!1;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);if(anchorRootClientId!==select.getBlockRootClientId(selectionFocus.clientId))return;const blockOrder=select.getBlockOrder(anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const targetSelection=isForward?selectionEnd:selectionStart,targetBlock=select.getBlock(targetSelection.clientId),targetBlockType=(0,blocks_build_module.ck)(targetBlock.name);if(!targetBlockType.merge)return;const selectionA=selectionStart,selectionB=selectionEnd,blockA=select.getBlock(selectionA.clientId),blockB=select.getBlock(selectionB.clientId),htmlA=blockA.attributes[selectionA.attributeKey],htmlB=blockB.attributes[selectionB.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA}),valueB=(0,rich_text_build_module.Ue)({html:htmlB});valueA=(0,rich_text_build_module.Od)(valueA,selectionA.offset,valueA.text.length),valueB=(0,rich_text_build_module.$T)(valueB,"",0,selectionB.offset);const cloneA=(0,blocks_build_module.Wm)(blockA,{[selectionA.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA})}),cloneB=(0,blocks_build_module.Wm)(blockB,{[selectionB.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB})}),followingBlock=isForward?cloneA:cloneB,blocksWithTheSameType=blockA.name===blockB.name?[followingBlock]:(0,blocks_build_module.m4)(followingBlock,targetBlockType.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length)return;let updatedAttributes;if(isForward){const blockToMerge=blocksWithTheSameType.pop();updatedAttributes=targetBlockType.merge(blockToMerge.attributes,cloneB.attributes)}else{const blockToMerge=blocksWithTheSameType.shift();updatedAttributes=targetBlockType.merge(cloneA.attributes,blockToMerge.attributes)}const newAttributeKey=retrieveSelectedAttribute(updatedAttributes),convertedHtml=updatedAttributes[newAttributeKey],convertedValue=(0,rich_text_build_module.Ue)({html:convertedHtml}),newOffset=convertedValue.text.indexOf(""),newValue=(0,rich_text_build_module.Od)(convertedValue,newOffset,newOffset+1),newHtml=(0,rich_text_build_module.Jz)({value:newValue});updatedAttributes[newAttributeKey]=newHtml;const selectedBlockClientIds=select.getSelectedBlockClientIds(),replacement=[...isForward?blocksWithTheSameType:[],{...targetBlock,attributes:{...targetBlock.attributes,...updatedAttributes}},...isForward?[]:blocksWithTheSameType];registry.batch((()=>{dispatch.selectionChange(targetBlock.clientId,newAttributeKey,newOffset,newOffset),dispatch.replaceBlocks(selectedBlockClientIds,replacement,0,select.getSelectedBlocksInitialCaretPosition())}))},__unstableSplitSelection=()=>({select:select,dispatch:dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);if(anchorRootClientId!==select.getBlockRootClientId(selectionFocus.clientId))return;const blockOrder=select.getBlockOrder(anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const selectionA=selectionStart,selectionB=selectionEnd,blockA=select.getBlock(selectionA.clientId),blockB=select.getBlock(selectionB.clientId),htmlA=blockA.attributes[selectionA.attributeKey],htmlB=blockB.attributes[selectionB.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA}),valueB=(0,rich_text_build_module.Ue)({html:htmlB});valueA=(0,rich_text_build_module.Od)(valueA,selectionA.offset,valueA.text.length),valueB=(0,rich_text_build_module.Od)(valueB,0,selectionB.offset),dispatch.replaceBlocks(select.getSelectedBlockClientIds(),[{...blockA,attributes:{...blockA.attributes,[selectionA.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA})}},{...blockB,attributes:{...blockB.attributes,[selectionB.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB})}}])},__unstableExpandSelection=()=>({select:select,dispatch:dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();dispatch.selectionChange({start:{clientId:selectionAnchor.clientId},end:{clientId:selectionFocus.clientId}})},mergeBlocks=(firstBlockClientId,secondBlockClientId)=>({registry:registry,select:select,dispatch:dispatch})=>{const blocks=[firstBlockClientId,secondBlockClientId];dispatch({type:"MERGE_BLOCKS",blocks:blocks});const[clientIdA,clientIdB]=blocks,blockA=select.getBlock(clientIdA),blockAType=(0,blocks_build_module.ck)(blockA.name);if(!blockAType)return;const blockB=select.getBlock(clientIdB);if(!blockAType.merge&&(0,blocks_build_module.Dx)(blockA.name,"__experimentalOnMerge")){const blocksWithTheSameType=(0,blocks_build_module.m4)(blockB,blockAType.name);if(1!==blocksWithTheSameType?.length)return void dispatch.selectBlock(blockA.clientId);const[blockWithSameType]=blocksWithTheSameType;return blockWithSameType.innerBlocks.length<1?void dispatch.selectBlock(blockA.clientId):void registry.batch((()=>{dispatch.insertBlocks(blockWithSameType.innerBlocks,void 0,clientIdA),dispatch.removeBlock(clientIdB),dispatch.selectBlock(blockWithSameType.innerBlocks[0].clientId);const nextBlockClientId=select.getNextBlockClientId(clientIdA);if(nextBlockClientId&&select.getBlockName(clientIdA)===select.getBlockName(nextBlockClientId)){const rootAttributes=select.getBlockAttributes(clientIdA),previousRootAttributes=select.getBlockAttributes(nextBlockClientId);Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key]))&&(dispatch.moveBlocksToPosition(select.getBlockOrder(nextBlockClientId),nextBlockClientId,clientIdA),dispatch.removeBlock(nextBlockClientId,!1))}}))}if((0,blocks_build_module.ZP)(blockA))return void dispatch.removeBlock(clientIdA,select.isBlockSelected(clientIdA));if((0,blocks_build_module.ZP)(blockB))return void dispatch.removeBlock(clientIdB,select.isBlockSelected(clientIdB));if(!blockAType.merge)return void dispatch.selectBlock(blockA.clientId);const blockBType=(0,blocks_build_module.ck)(blockB.name),{clientId:clientId,attributeKey:attributeKey,offset:offset}=select.getSelectionStart(),attributeDefinition=(clientId===clientIdA?blockAType:blockBType).attributes[attributeKey],canRestoreTextSelection=(clientId===clientIdA||clientId===clientIdB)&&void 0!==attributeKey&&void 0!==offset&&!!attributeDefinition;attributeDefinition||("number"==typeof attributeKey?window.console.error("RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was "+typeof attributeKey):window.console.error("The RichText identifier prop does not match any attributes defined by the block."));const cloneA=(0,blocks_build_module.Wm)(blockA),cloneB=(0,blocks_build_module.Wm)(blockB);if(canRestoreTextSelection){const selectedBlock=clientId===clientIdA?cloneA:cloneB,html=selectedBlock.attributes[attributeKey],value=(0,rich_text_build_module.$T)((0,rich_text_build_module.Ue)({html:html}),"",offset,offset);selectedBlock.attributes[attributeKey]=(0,rich_text_build_module.Jz)({value:value})}const blocksWithTheSameType=blockA.name===blockB.name?[cloneB]:(0,blocks_build_module.m4)(cloneB,blockA.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length)return;const updatedAttributes=blockAType.merge(cloneA.attributes,blocksWithTheSameType[0].attributes);if(canRestoreTextSelection){const newAttributeKey=retrieveSelectedAttribute(updatedAttributes),convertedHtml=updatedAttributes[newAttributeKey],convertedValue=(0,rich_text_build_module.Ue)({html:convertedHtml}),newOffset=convertedValue.text.indexOf(""),newValue=(0,rich_text_build_module.Od)(convertedValue,newOffset,newOffset+1),newHtml=(0,rich_text_build_module.Jz)({value:newValue});updatedAttributes[newAttributeKey]=newHtml,dispatch.selectionChange(blockA.clientId,newAttributeKey,newOffset,newOffset)}dispatch.replaceBlocks([blockA.clientId,blockB.clientId],[{...blockA,attributes:{...blockA.attributes,...updatedAttributes}},...blocksWithTheSameType.slice(1)],0)},removeBlocks=(clientIds,selectPrevious=!0)=>privateRemoveBlocks(clientIds,selectPrevious);function removeBlock(clientId,selectPrevious){return removeBlocks([clientId],selectPrevious)}function replaceInnerBlocks(rootClientId,blocks,updateSelection=!1,initialPosition=0){return{type:"REPLACE_INNER_BLOCKS",rootClientId:rootClientId,blocks:blocks,updateSelection:updateSelection,initialPosition:updateSelection?initialPosition:null,time:Date.now()}}function toggleBlockMode(clientId){return{type:"TOGGLE_BLOCK_MODE",clientId:clientId}}function startTyping(){return{type:"START_TYPING"}}function stopTyping(){return{type:"STOP_TYPING"}}function startDraggingBlocks(clientIds=[]){return{type:"START_DRAGGING_BLOCKS",clientIds:clientIds}}function stopDraggingBlocks(){return{type:"STOP_DRAGGING_BLOCKS"}}function enterFormattedText(){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}}function exitFormattedText(){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}}function selectionChange(clientId,attributeKey,startOffset,endOffset){return"string"==typeof clientId?{type:"SELECTION_CHANGE",clientId:clientId,attributeKey:attributeKey,startOffset:startOffset,endOffset:endOffset}:{type:"SELECTION_CHANGE",...clientId}}const insertDefaultBlock=(attributes,rootClientId,index)=>({dispatch:dispatch})=>{const defaultBlockName=(0,blocks_build_module.UT)();if(!defaultBlockName)return;const block=(0,blocks_build_module.j4)(defaultBlockName,attributes);return dispatch.insertBlock(block,index,rootClientId)};function updateBlockListSettings(clientId,settings){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId:clientId,settings:settings}}function updateSettings(settings){return __experimentalUpdateSettings(settings,{stripExperimentalSettings:!0})}function __unstableSaveReusableBlock(id,updatedId){return{type:"SAVE_REUSABLE_BLOCK_SUCCESS",id:id,updatedId:updatedId}}function __unstableMarkLastChangeAsPersistent(){return{type:"MARK_LAST_CHANGE_AS_PERSISTENT"}}function __unstableMarkNextChangeAsNotPersistent(){return{type:"MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"}}const __unstableMarkAutomaticChange=()=>({dispatch:dispatch})=>{dispatch({type:"MARK_AUTOMATIC_CHANGE"});const{requestIdleCallback:requestIdleCallback=(cb=>setTimeout(cb,100))}=window;requestIdleCallback((()=>{dispatch({type:"MARK_AUTOMATIC_CHANGE_FINAL"})}))},setNavigationMode=(isNavigationMode=!0)=>({dispatch:dispatch})=>{dispatch.__unstableSetEditorMode(isNavigationMode?"navigation":"edit")},__unstableSetEditorMode=mode=>({dispatch:dispatch,select:select})=>{if("zoom-out"===mode){const firstSelectedClientId=select.getBlockSelectionStart();firstSelectedClientId&&dispatch.selectBlock(select.getBlockHierarchyRootClientId(firstSelectedClientId))}dispatch({type:"SET_EDITOR_MODE",mode:mode}),"navigation"===mode?(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.")):"edit"===mode?(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in edit mode. To return to the navigation mode, press Escape.")):"zoom-out"===mode&&(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in zoom-out mode."))},setBlockMovingClientId=(hasBlockMovingClientId=null)=>({dispatch:dispatch})=>{dispatch({type:"SET_BLOCK_MOVING_MODE",hasBlockMovingClientId:hasBlockMovingClientId}),hasBlockMovingClientId&&(0,a11y_build_module.D)((0,i18n_build_module.__)("Use the Tab key and Arrow keys to choose new block location. Use Left and Right Arrow keys to move between nesting levels. Once location is selected press Enter or Space to move the block."))},duplicateBlocks=(clientIds,updateSelection=!0)=>({select:select,dispatch:dispatch})=>{if(!clientIds||!clientIds.length)return;const blocks=select.getBlocksByClientId(clientIds);if(blocks.some((block=>!block)))return;if(blocks.map((block=>block.name)).some((blockName=>!(0,blocks_build_module.zb)(blockName,"multiple",!0))))return;const rootClientId=select.getBlockRootClientId(clientIds[0]),clientIdsArray=actions_castArray(clientIds),lastSelectedIndex=select.getBlockIndex(clientIdsArray[clientIdsArray.length-1]),clonedBlocks=blocks.map((block=>(0,blocks_build_module.mR)(block)));return dispatch.insertBlocks(clonedBlocks,lastSelectedIndex+1,rootClientId,updateSelection),clonedBlocks.length>1&&updateSelection&&dispatch.multiSelect(clonedBlocks[0].clientId,clonedBlocks[clonedBlocks.length-1].clientId),clonedBlocks.map((block=>block.clientId))},insertBeforeBlock=clientId=>({select:select,dispatch:dispatch})=>{if(!clientId)return;const rootClientId=select.getBlockRootClientId(clientId);if(select.getTemplateLock(rootClientId))return;const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex)},insertAfterBlock=clientId=>({select:select,dispatch:dispatch})=>{if(!clientId)return;const rootClientId=select.getBlockRootClientId(clientId);if(select.getTemplateLock(rootClientId))return;const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex+1)};function toggleBlockHighlight(clientId,isHighlighted){return{type:"TOGGLE_BLOCK_HIGHLIGHT",clientId:clientId,isHighlighted:isHighlighted}}const flashBlock=clientId=>async({dispatch:dispatch})=>{dispatch(toggleBlockHighlight(clientId,!0)),await new Promise((resolve=>setTimeout(resolve,150))),dispatch(toggleBlockHighlight(clientId,!1))};function setHasControlledInnerBlocks(clientId,hasControlledInnerBlocks){return{type:"SET_HAS_CONTROLLED_INNER_BLOCKS",hasControlledInnerBlocks:hasControlledInnerBlocks,clientId:clientId}}function setBlockVisibility(updates){return{type:"SET_BLOCK_VISIBILITY",updates:updates}}function __unstableSetTemporarilyEditingAsBlocks(temporarilyEditingAsBlocks){return{type:"SET_TEMPORARILY_EDITING_AS_BLOCKS",temporarilyEditingAsBlocks:temporarilyEditingAsBlocks}}const registerInserterMediaCategory=category=>({select:select,dispatch:dispatch})=>{if(!category||"object"!=typeof category)return void console.error("Category should be an `InserterMediaCategory` object.");if(!category.name)return void console.error("Category should have a `name` that should be unique among all media categories.");if(!category.labels?.name)return void console.error("Category should have a `labels.name`.");if(!["image","audio","video"].includes(category.mediaType))return void console.error("Category should have `mediaType` property that is one of `image|audio|video`.");if(!category.fetch||"function"!=typeof category.fetch)return void console.error("Category should have a `fetch` function defined with the following signature `(InserterMediaRequest) => Promise<InserterMediaItem[]>`.");const registeredInserterMediaCategories=select.getRegisteredInserterMediaCategories();registeredInserterMediaCategories.some((({name:name})=>name===category.name))?console.error(`A category is already registered with the same name: "${category.name}".`):registeredInserterMediaCategories.some((({labels:{name:name}={}})=>name===category.labels?.name))?console.error(`A category is already registered with the same labels.name: "${category.labels.name}".`):dispatch({type:"REGISTER_INSERTER_MEDIA_CATEGORY",category:{...category,isExternalResource:!0}})};function setBlockEditingMode(clientId="",mode){return{type:"SET_BLOCK_EDITING_MODE",clientId:clientId,mode:mode}}function unsetBlockEditingMode(clientId=""){return{type:"UNSET_BLOCK_EDITING_MODE",clientId:clientId}}function setLastFocus(lastFocus=null){return{type:"LAST_FOCUS",lastFocus:lastFocus}}var constants=__webpack_require__("./packages/block-editor/src/store/constants.js"),lock_unlock=__webpack_require__("./packages/block-editor/src/lock-unlock.js");const storeConfig={reducer:reducer,selectors:selectors_namespaceObject,actions:actions_namespaceObject},store=(0,redux_store.Z)(constants.G,{...storeConfig,persist:["preferences"]}),registeredStore=(0,build_module.R9)(constants.G,{...storeConfig,persist:["preferences"]});(0,lock_unlock.U)(registeredStore).registerPrivateActions(private_actions_namespaceObject),(0,lock_unlock.U)(registeredStore).registerPrivateSelectors(private_selectors_namespaceObject),(0,lock_unlock.U)(store).registerPrivateActions(private_actions_namespaceObject),(0,lock_unlock.U)(store).registerPrivateSelectors(private_selectors_namespaceObject)},"./packages/block-editor/src/utils/sorting.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{X:function(){return orderBy}});const comparator=(field,items,order)=>(a,b)=>{let cmpA,cmpB;if("function"==typeof field?(cmpA=field(a),cmpB=field(b)):(cmpA=a[field],cmpB=b[field]),cmpA>cmpB)return"asc"===order?1:-1;if(cmpB>cmpA)return"asc"===order?-1:1;const orderA=items.findIndex((item=>item===a)),orderB=items.findIndex((item=>item===b));return orderA>orderB?1:orderB>orderA?-1:0};function orderBy(items,field,order="asc"){return items.concat().sort(comparator(field,items,order))}}}]);