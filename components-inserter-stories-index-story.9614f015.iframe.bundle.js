"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[81],{"./node_modules/@babel/runtime/helpers/esm/typeof.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}__webpack_require__.d(__webpack_exports__,{Z:function(){return _typeof}})},"./packages/block-editor/src/components/block-draggable/draggable-chip.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return BlockDraggableChip}});__webpack_require__("./node_modules/react/index.js");var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),_wordpress_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/icons/build-module/library/drag-handle.js"),_block_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/block-editor/src/components/block-icon/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function BlockDraggableChip({count:count,icon:icon,isPattern:isPattern}){const patternLabel=isPattern&&(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Pattern");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"block-editor-block-draggable-chip-wrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__.Z,{justify:"center",className:"block-editor-block-draggable-chip__content",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Z,{children:icon?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_block_icon__WEBPACK_IMPORTED_MODULE_5__.Z,{icon:icon}):patternLabel||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__._n)("%d block","%d blocks",count),count)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Z,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_block_icon__WEBPACK_IMPORTED_MODULE_5__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__.Z})})]})})})}BlockDraggableChip.displayName="BlockDraggableChip",BlockDraggableChip.__docgenInfo={description:"",methods:[],displayName:"BlockDraggableChip"}},"./packages/block-editor/src/components/block-edit/context.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{FF:function(){return DEFAULT_BLOCK_EDIT_CONTEXT},Q2:function(){return Provider},Z8:function(){return useBlockEditContext}});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const DEFAULT_BLOCK_EDIT_CONTEXT={name:"",isSelected:!1},Context=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createContext)(DEFAULT_BLOCK_EDIT_CONTEXT),{Provider:Provider}=Context;function useBlockEditContext(){return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useContext)(Context)}},"./packages/block-editor/src/components/block-icon/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/icons/build-module/library/block-default.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function BlockIcon({icon:icon,showColors:showColors=!1,className:className,context:context}){"block-default"===icon?.src&&(icon={src:_wordpress_icons__WEBPACK_IMPORTED_MODULE_3__.Z});const renderedIcon=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Z,{icon:icon&&icon.src?icon.src:icon,context:context}),style=showColors?{backgroundColor:icon&&icon.background,color:icon&&icon.foreground}:{};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{style:style,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("block-editor-block-icon",className,{"has-colors":showColors}),children:renderedIcon})}BlockIcon.displayName="BlockIcon",BlockIcon.__docgenInfo={description:"",methods:[],displayName:"BlockIcon",props:{showColors:{defaultValue:{value:"false",computed:!1},required:!1}}},__webpack_exports__.Z=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(BlockIcon)},"./packages/block-editor/src/components/provider/block-refs-provider.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{N:function(){return BlockRefs},m:function(){return BlockRefsProvider}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const BlockRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({refs:new Map,callbacks:new Map});function BlockRefsProvider({children:children}){const value=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({refs:new Map,callbacks:new Map})),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BlockRefs.Provider,{value:value,children:children})}BlockRefsProvider.displayName="BlockRefsProvider",BlockRefsProvider.__docgenInfo={description:"",methods:[],displayName:"BlockRefsProvider"}},"./packages/block-editor/src/components/provider/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{jC:function(){return ExperimentalBlockEditorProvider}});var react=__webpack_require__("./node_modules/react/index.js"),use_dispatch=__webpack_require__("./packages/data/build-module/components/use-dispatch/use-dispatch.js"),slot_fill=__webpack_require__("./packages/components/build-module/slot-fill/index.js"),with_registry=__webpack_require__("./packages/data/build-module/components/with-registry/index.js"),build_module_registry=__webpack_require__("./packages/data/build-module/registry.js"),context=__webpack_require__("./packages/data/build-module/components/registry-provider/context.js"),create_higher_order_component=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),store=__webpack_require__("./packages/block-editor/src/store/index.js"),constants=__webpack_require__("./packages/block-editor/src/store/constants.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");var with_registry_provider=(0,create_higher_order_component.o)((WrappedComponent=>(0,with_registry.Z)((({useSubRegistry:useSubRegistry=!0,registry:registry,...props})=>{if(!useSubRegistry)return(0,jsx_runtime.jsx)(WrappedComponent,{registry:registry,...props});const[subRegistry,setSubRegistry]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const newRegistry=(0,build_module_registry.p)({},registry);newRegistry.registerStore(constants.G,store.i),setSubRegistry(newRegistry)}),[registry]),subRegistry?(0,jsx_runtime.jsx)(context.ZP,{value:subRegistry,children:(0,jsx_runtime.jsx)(WrappedComponent,{registry:subRegistry,...props})}):null}))),"withRegistryProvider"),use_block_sync=__webpack_require__("./packages/block-editor/src/components/provider/use-block-sync.js"),block_refs_provider=__webpack_require__("./packages/block-editor/src/components/provider/block-refs-provider.js"),lock_unlock=__webpack_require__("./packages/block-editor/src/lock-unlock.js"),build_module=__webpack_require__("./packages/keyboard-shortcuts/build-module/index.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js");function KeyboardShortcuts(){return null}KeyboardShortcuts.Register=function KeyboardShortcutsRegister(){const{registerShortcut:registerShortcut}=(0,use_dispatch.Z)(build_module.h);return(0,react.useEffect)((()=>{registerShortcut({name:"core/block-editor/duplicate",category:"block",description:(0,i18n_build_module.__)("Duplicate the selected block(s)."),keyCombination:{modifier:"primaryShift",character:"d"}}),registerShortcut({name:"core/block-editor/remove",category:"block",description:(0,i18n_build_module.__)("Remove the selected block(s)."),keyCombination:{modifier:"access",character:"z"}}),registerShortcut({name:"core/block-editor/insert-before",category:"block",description:(0,i18n_build_module.__)("Insert a new block before the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"t"}}),registerShortcut({name:"core/block-editor/insert-after",category:"block",description:(0,i18n_build_module.__)("Insert a new block after the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"y"}}),registerShortcut({name:"core/block-editor/delete-multi-selection",category:"block",description:(0,i18n_build_module.__)("Delete selection."),keyCombination:{character:"del"},aliases:[{character:"backspace"}]}),registerShortcut({name:"core/block-editor/select-all",category:"selection",description:(0,i18n_build_module.__)("Select all text when typing. Press again to select all blocks."),keyCombination:{modifier:"primary",character:"a"}}),registerShortcut({name:"core/block-editor/unselect",category:"selection",description:(0,i18n_build_module.__)("Clear selection."),keyCombination:{character:"escape"}}),registerShortcut({name:"core/block-editor/multi-text-selection",category:"selection",description:(0,i18n_build_module.__)("Select text across multiple blocks."),keyCombination:{modifier:"shift",character:"arrow"}}),registerShortcut({name:"core/block-editor/focus-toolbar",category:"global",description:(0,i18n_build_module.__)("Navigate to the nearest toolbar."),keyCombination:{modifier:"alt",character:"F10"}}),registerShortcut({name:"core/block-editor/move-up",category:"block",description:(0,i18n_build_module.__)("Move the selected block(s) up."),keyCombination:{modifier:"secondary",character:"t"}}),registerShortcut({name:"core/block-editor/move-down",category:"block",description:(0,i18n_build_module.__)("Move the selected block(s) down."),keyCombination:{modifier:"secondary",character:"y"}})}),[registerShortcut]),null};var keyboard_shortcuts=KeyboardShortcuts;const ExperimentalBlockEditorProvider=with_registry_provider((props=>{const{children:children,settings:settings,stripExperimentalSettings:stripExperimentalSettings=!1}=props,{__experimentalUpdateSettings:__experimentalUpdateSettings}=(0,lock_unlock.U)((0,use_dispatch.Z)(store.h));return(0,react.useEffect)((()=>{__experimentalUpdateSettings({...settings,__internalIsInitialized:!0},{stripExperimentalSettings:stripExperimentalSettings,reset:!0})}),[settings,stripExperimentalSettings,__experimentalUpdateSettings]),(0,use_block_sync.Z)(props),(0,jsx_runtime.jsxs)(slot_fill.zt,{children:[(0,jsx_runtime.jsx)(keyboard_shortcuts.Register,{}),(0,jsx_runtime.jsx)(block_refs_provider.m,{children:children})]})})),BlockEditorProvider=props=>(0,jsx_runtime.jsx)(ExperimentalBlockEditorProvider,{...props,stripExperimentalSettings:!0,children:props.children});BlockEditorProvider.displayName="BlockEditorProvider",BlockEditorProvider.__docgenInfo={description:"",methods:[],displayName:"BlockEditorProvider"}},"./packages/block-editor/src/components/provider/use-block-sync.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return useBlockSync}});var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_wordpress_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/data/build-module/components/registry-provider/use-registry.js"),_wordpress_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/data/build-module/components/use-select/index.js"),_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/blocks/build-module/index.js"),_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/block-editor/src/store/index.js");const noop=()=>{};function useBlockSync({clientId:clientId=null,value:controlledBlocks,selection:controlledSelection,onChange:onChange=noop,onInput:onInput=noop}){const registry=(0,_wordpress_data__WEBPACK_IMPORTED_MODULE_2__.Z)(),{resetBlocks:resetBlocks,resetSelection:resetSelection,replaceInnerBlocks:replaceInnerBlocks,setHasControlledInnerBlocks:setHasControlledInnerBlocks,__unstableMarkNextChangeAsNotPersistent:__unstableMarkNextChangeAsNotPersistent}=registry.dispatch(_store__WEBPACK_IMPORTED_MODULE_1__.h),{getBlockName:getBlockName,getBlocks:getBlocks,getSelectionStart:getSelectionStart,getSelectionEnd:getSelectionEnd}=registry.select(_store__WEBPACK_IMPORTED_MODULE_1__.h),isControlled=(0,_wordpress_data__WEBPACK_IMPORTED_MODULE_3__.Z)((select=>!clientId||select(_store__WEBPACK_IMPORTED_MODULE_1__.h).areInnerBlocksControlled(clientId)),[clientId]),pendingChanges=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)({incoming:null,outgoing:[]}),subscribed=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)(!1),setControlledBlocks=()=>{controlledBlocks&&(__unstableMarkNextChangeAsNotPersistent(),clientId?registry.batch((()=>{setHasControlledInnerBlocks(clientId,!0);const storeBlocks=controlledBlocks.map((block=>(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.Wm)(block)));subscribed.current&&(pendingChanges.current.incoming=storeBlocks),__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,storeBlocks)})):(subscribed.current&&(pendingChanges.current.incoming=controlledBlocks),resetBlocks(controlledBlocks)))},onInputRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)(onInput),onChangeRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useRef)(onChange);(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{onInputRef.current=onInput,onChangeRef.current=onChange}),[onInput,onChange]),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{pendingChanges.current.outgoing.includes(controlledBlocks)?pendingChanges.current.outgoing[pendingChanges.current.outgoing.length-1]===controlledBlocks&&(pendingChanges.current.outgoing=[]):getBlocks(clientId)!==controlledBlocks&&(pendingChanges.current.outgoing=[],setControlledBlocks(),controlledSelection&&resetSelection(controlledSelection.selectionStart,controlledSelection.selectionEnd,controlledSelection.initialPosition))}),[controlledBlocks,clientId]),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{isControlled||(pendingChanges.current.outgoing=[],setControlledBlocks())}),[isControlled]),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{const{getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,isLastBlockChangePersistent:isLastBlockChangePersistent,__unstableIsLastBlockChangeIgnored:__unstableIsLastBlockChangeIgnored,areInnerBlocksControlled:areInnerBlocksControlled}=registry.select(_store__WEBPACK_IMPORTED_MODULE_1__.h);let blocks=getBlocks(clientId),isPersistent=isLastBlockChangePersistent(),previousAreBlocksDifferent=!1;subscribed.current=!0;const unsubscribe=registry.subscribe((()=>{if(null!==clientId&&null===getBlockName(clientId))return;if(!(!clientId||areInnerBlocksControlled(clientId)))return;const newIsPersistent=isLastBlockChangePersistent(),newBlocks=getBlocks(clientId),areBlocksDifferent=newBlocks!==blocks;if(blocks=newBlocks,areBlocksDifferent&&(pendingChanges.current.incoming||__unstableIsLastBlockChangeIgnored()))return pendingChanges.current.incoming=null,void(isPersistent=newIsPersistent);if(areBlocksDifferent||previousAreBlocksDifferent&&!areBlocksDifferent&&newIsPersistent&&!isPersistent){isPersistent=newIsPersistent,pendingChanges.current.outgoing.push(blocks);(isPersistent?onChangeRef.current:onInputRef.current)(blocks,{selection:{selectionStart:getSelectionStart(),selectionEnd:getSelectionEnd(),initialPosition:getSelectedBlocksInitialCaretPosition()}})}previousAreBlocksDifferent=areBlocksDifferent}),_store__WEBPACK_IMPORTED_MODULE_1__.h);return()=>{subscribed.current=!1,unsubscribe()}}),[registry,clientId]),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>()=>{__unstableMarkNextChangeAsNotPersistent(),clientId?(setHasControlledInnerBlocks(clientId,!1),__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,[])):resetBlocks([])}),[])}},"./packages/block-editor/src/components/use-settings/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{rV:function(){return useSettings}});var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/blocks/build-module/index.js"),_wordpress_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/data/build-module/components/use-select/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/hooks/build-module/index.js"),_block_edit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/block-editor/src/components/block-edit/context.js"),_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/block-editor/src/store/index.js"),_utils_object__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/block-editor/src/utils/object.js");const blockedPaths=["color","border","dimensions","typography","spacing"],deprecatedFlags={"color.palette":settings=>settings.colors,"color.gradients":settings=>settings.gradients,"color.custom":settings=>void 0===settings.disableCustomColors?void 0:!settings.disableCustomColors,"color.customGradient":settings=>void 0===settings.disableCustomGradients?void 0:!settings.disableCustomGradients,"typography.fontSizes":settings=>settings.fontSizes,"typography.customFontSize":settings=>void 0===settings.disableCustomFontSizes?void 0:!settings.disableCustomFontSizes,"typography.lineHeight":settings=>settings.enableCustomLineHeight,"spacing.units":settings=>{if(void 0!==settings.enableCustomUnits)return!0===settings.enableCustomUnits?["px","em","rem","vh","vw","%"]:settings.enableCustomUnits},"spacing.padding":settings=>settings.enableCustomSpacing},prefixedFlags={"border.customColor":"border.color","border.customStyle":"border.style","border.customWidth":"border.width","typography.customFontStyle":"typography.fontStyle","typography.customFontWeight":"typography.fontWeight","typography.customLetterSpacing":"typography.letterSpacing","typography.customTextDecorations":"typography.textDecoration","typography.customTextTransforms":"typography.textTransform","border.customRadius":"border.radius","spacing.customMargin":"spacing.margin","spacing.customPadding":"spacing.padding","typography.customLineHeight":"typography.lineHeight"},removeCustomPrefixes=path=>prefixedFlags[path]||path;const mergeCache=new WeakMap;function useSettings(...paths){const{name:blockName,clientId:clientId=null}=(0,_block_edit__WEBPACK_IMPORTED_MODULE_3__.Z8)();return paths=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.useMemo)((()=>paths),paths),(0,_wordpress_data__WEBPACK_IMPORTED_MODULE_5__.Z)((select=>{const candidates=clientId?[clientId,...select(_store__WEBPACK_IMPORTED_MODULE_2__.h).getBlockParents(clientId,!0)].filter((candidateClientId=>{const candidateBlockName=select(_store__WEBPACK_IMPORTED_MODULE_2__.h).getBlockName(candidateClientId);return(0,_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.zb)(candidateBlockName,"__experimentalSettings",!1)})):[];return paths.map((path=>{if(blockedPaths.includes(path))return void console.warn("Top level useSetting paths are disabled. Please use a subpath to query the information needed.");let result=(0,_wordpress_hooks__WEBPACK_IMPORTED_MODULE_1__.O)("blockEditor.useSetting.before",void 0,path,clientId,blockName);if(void 0!==result)return result;const normalizedPath=removeCustomPrefixes(path);for(const candidateClientId of candidates){var _getValueFromObjectPa;const candidateAtts=select(_store__WEBPACK_IMPORTED_MODULE_2__.h).getBlockAttributes(candidateClientId);if(result=null!==(_getValueFromObjectPa=(0,_utils_object__WEBPACK_IMPORTED_MODULE_6__.$E)(candidateAtts.settings?.blocks?.[blockName],normalizedPath))&&void 0!==_getValueFromObjectPa?_getValueFromObjectPa:(0,_utils_object__WEBPACK_IMPORTED_MODULE_6__.$E)(candidateAtts.settings,normalizedPath),void 0!==result)break}const settings=select(_store__WEBPACK_IMPORTED_MODULE_2__.h).getSettings();if(void 0===result&&blockName&&(result=(0,_utils_object__WEBPACK_IMPORTED_MODULE_6__.$E)(settings.__experimentalFeatures?.blocks?.[blockName],normalizedPath)),void 0===result&&(result=(0,_utils_object__WEBPACK_IMPORTED_MODULE_6__.$E)(settings.__experimentalFeatures,normalizedPath)),void 0!==result)return _wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__.yg[normalizedPath]?function mergeOrigins(value){let result=mergeCache.get(value);return result||(result=["default","theme","custom"].flatMap((key=>{var _value$key;return null!==(_value$key=value[key])&&void 0!==_value$key?_value$key:[]})),mergeCache.set(value,result)),result}(result):result;const deprecatedSettingsValue=deprecatedFlags[normalizedPath]?.(settings);return void 0!==deprecatedSettingsValue?deprecatedSettingsValue:"typography.dropCap"===normalizedPath||void 0}))}),[blockName,clientId,paths])}},"./packages/block-editor/src/utils/object.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$E:function(){return getValueFromObjectPath},GL:function(){return kebabCase}});var change_case__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/param-case/dist.es2015/index.js");function kebabCase(str){let input=str;var _str$toString;"string"!=typeof str&&(input=null!==(_str$toString=str?.toString?.())&&void 0!==_str$toString?_str$toString:"");return input=input.replace(/['\u2019]/,""),(0,change_case__WEBPACK_IMPORTED_MODULE_0__.o)(input,{splitRegexp:[/(?!(?:1ST|2ND|3RD|[4-9]TH)(?![a-z]))([a-z0-9])([A-Z])/g,/(?!(?:1st|2nd|3rd|[4-9]th)(?![a-z]))([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})}const getValueFromObjectPath=(object,path,defaultValue)=>{var _value;const arrayPath=Array.isArray(path)?path:path.split(".");let value=object;return arrayPath.forEach((fieldName=>{value=value?.[fieldName]})),null!==(_value=value)&&void 0!==_value?_value:defaultValue}},"./node_modules/use-memo-one/dist/use-memo-one.esm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Pr:function(){return useMemoOne}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useMemoOne(getResult,inputs){var initial=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((function(){return{inputs:inputs,result:getResult()}}))[0],committed=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initial),cache=Boolean(inputs&&committed.current.inputs&&function areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(newInputs[i]!==lastInputs[i])return!1;return!0}(inputs,committed.current.inputs))?committed.current:{inputs:inputs,result:getResult()};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){committed.current=cache}),[cache]),cache.result}},"./packages/block-editor/src/components/inserter/stories/index.story.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LibraryWithPatterns:function(){return LibraryWithPatterns},LibraryWithPatternsAndReusableBlocks:function(){return LibraryWithPatternsAndReusableBlocks},LibraryWithoutPatterns:function(){return LibraryWithoutPatterns},QuickInserter:function(){return index_story_QuickInserter},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return index_story}});var react=__webpack_require__("./node_modules/react/index.js"),use_select=__webpack_require__("./packages/data/build-module/components/use-select/index.js"),node_modules_classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(node_modules_classnames),component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),search_control=__webpack_require__("./packages/components/build-module/search-control/index.js"),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_debounced_input=__webpack_require__("./packages/compose/build-module/hooks/use-debounced-input/index.js"),create_interpolate_element=__webpack_require__("./packages/element/build-module/create-interpolate-element.js"),tip=__webpack_require__("./packages/components/build-module/tip/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const globalTips=[(0,create_interpolate_element.Z)((0,build_module.__)("While writing, you can press <kbd>/</kbd> to quickly insert new blocks."),{kbd:(0,jsx_runtime.jsx)("kbd",{})}),(0,create_interpolate_element.Z)((0,build_module.__)("Indent a list by pressing <kbd>space</kbd> at the beginning of a line."),{kbd:(0,jsx_runtime.jsx)("kbd",{})}),(0,create_interpolate_element.Z)((0,build_module.__)("Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line."),{kbd:(0,jsx_runtime.jsx)("kbd",{})}),(0,build_module.__)("Drag files into the editor to automatically insert media blocks."),(0,build_module.__)("Change a block's type by pressing the block icon on the toolbar.")];function Tips(){const[randomIndex]=(0,react.useState)(Math.floor(Math.random()*globalTips.length));return(0,jsx_runtime.jsx)(tip.Z,{children:globalTips[randomIndex]})}Tips.displayName="Tips",Tips.__docgenInfo={description:"",methods:[],displayName:"Tips"};var tips=Tips,blocks_build_module=__webpack_require__("./packages/blocks/build-module/index.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),chevron_right=__webpack_require__("./packages/icons/build-module/library/chevron-right.js"),chevron_left=__webpack_require__("./packages/icons/build-module/library/chevron-left.js"),use_dispatch=__webpack_require__("./packages/data/build-module/components/use-dispatch/use-dispatch.js"),block_icon=__webpack_require__("./packages/block-editor/src/components/block-icon/index.js"),store=__webpack_require__("./packages/block-editor/src/store/index.js");function BlockCard({title:title,icon:icon,description:description,blockType:blockType,className:className}){blockType&&((0,deprecated_build_module.Z)("`blockType` property in `BlockCard component`",{since:"5.7",alternative:"`title, icon and description` properties"}),({title:title,icon:icon,description:description}=blockType));const{parentNavBlockClientId:parentNavBlockClientId}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId:getSelectedBlockClientId,getBlockParentsByBlockName:getBlockParentsByBlockName}=select(store.h);return{parentNavBlockClientId:getBlockParentsByBlockName(getSelectedBlockClientId(),"core/navigation",!0)[0]}}),[]),{selectBlock:selectBlock}=(0,use_dispatch.Z)(store.h);return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("block-editor-block-card",className),children:[parentNavBlockClientId&&(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>selectBlock(parentNavBlockClientId),label:(0,build_module.__)("Go to parent Navigation block"),style:{minWidth:24,padding:0},icon:(0,build_module.dZ)()?chevron_right.Z:chevron_left.Z,isSmall:!0}),(0,jsx_runtime.jsx)(block_icon.Z,{icon:icon,showColors:!0}),(0,jsx_runtime.jsxs)("div",{className:"block-editor-block-card__content",children:[(0,jsx_runtime.jsx)("h2",{className:"block-editor-block-card__title",children:title}),description&&(0,jsx_runtime.jsx)("span",{className:"block-editor-block-card__description",children:description})]})]})}BlockCard.displayName="BlockCard",BlockCard.__docgenInfo={description:"",methods:[],displayName:"BlockCard"};var block_card=BlockCard,provider=__webpack_require__("./packages/block-editor/src/components/provider/index.js"),use_resize_observer=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js"),pure=__webpack_require__("./packages/compose/build-module/higher-order/pure/index.js"),use_ref_effect=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js"),disabled=__webpack_require__("./packages/components/build-module/disabled/index.js"),use_registry=__webpack_require__("./packages/data/build-module/components/registry-provider/use-registry.js"),context=__webpack_require__("./packages/data/build-module/components/async-mode-provider/context.js"),use_viewport_match=__webpack_require__("./packages/compose/build-module/hooks/use-viewport-match/index.js"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),raw_html=__webpack_require__("./packages/element/build-module/raw-html.js"),with_filters=__webpack_require__("./packages/components/build-module/higher-order/with-filters/index.js"),with_select=__webpack_require__("./packages/data/build-module/components/with-select/index.js"),with_dispatch=__webpack_require__("./packages/data/build-module/components/with-dispatch/index.js"),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),if_condition=__webpack_require__("./packages/compose/build-module/higher-order/if-condition/index.js"),safe_html=__webpack_require__("./packages/dom/build-module/dom/safe-html.js");const Context=(0,react.createContext)({});function BlockContextProvider({value:value,children:children}){const context=(0,react.useContext)(Context),nextValue=(0,react.useMemo)((()=>({...context,...value})),[context,value]);return(0,jsx_runtime.jsx)(Context.Provider,{value:nextValue,children:children})}BlockContextProvider.displayName="BlockContextProvider";var block_context=Context;BlockContextProvider.__docgenInfo={description:"Component which merges passed value with current consumed block context.\n\n@see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/block-context/README.md\n\n@param {BlockContextProviderProps} props",methods:[],displayName:"BlockContextProvider"};const DEFAULT_BLOCK_CONTEXT={},Edit=props=>{const{name:name}=props,blockType=(0,blocks_build_module.ck)(name);if(!blockType)return null;const Component=blockType.edit||blockType.save;return(0,jsx_runtime.jsx)(Component,{...props})};Edit.displayName="Edit";const EditWithFilters=(0,with_filters.Z)("editor.BlockEdit")(Edit),EditWithGeneratedProps=props=>{const{attributes:attributes={},name:name}=props,blockType=(0,blocks_build_module.ck)(name),blockContext=(0,react.useContext)(block_context),context=(0,react.useMemo)((()=>blockType&&blockType.usesContext?Object.fromEntries(Object.entries(blockContext).filter((([key])=>blockType.usesContext.includes(key)))):DEFAULT_BLOCK_CONTEXT),[blockType,blockContext]);if(!blockType)return null;if(blockType.apiVersion>1)return(0,jsx_runtime.jsx)(EditWithFilters,{...props,context:context});const generatedClassName=(0,blocks_build_module.zb)(blockType,"className",!0)?(0,blocks_build_module.Vk)(name):null,className=classnames_default()(generatedClassName,attributes.className,props.className);return(0,jsx_runtime.jsx)(EditWithFilters,{...props,context:context,className:className})};EditWithGeneratedProps.displayName="EditWithGeneratedProps",EditWithGeneratedProps.__docgenInfo={description:"",methods:[],displayName:"EditWithGeneratedProps"};var edit=EditWithGeneratedProps,block_edit_context=__webpack_require__("./packages/block-editor/src/components/block-edit/context.js");function BlockEdit(props){const{name:name,isSelected:isSelected,clientId:clientId,attributes:attributes={},__unstableLayoutClassNames:__unstableLayoutClassNames}=props,{layout:layout=null}=attributes,context={name:name,isSelected:isSelected,clientId:clientId,layout:(0,blocks_build_module.zb)(name,"layout",!1)||(0,blocks_build_module.zb)(name,"__experimentalLayout",!1)?layout:null,__unstableLayoutClassNames:__unstableLayoutClassNames};return(0,jsx_runtime.jsx)(block_edit_context.Q2,{value:(0,react.useMemo)((()=>context),Object.values(context)),children:(0,jsx_runtime.jsx)(edit,{...props})})}BlockEdit.displayName="BlockEdit",BlockEdit.__docgenInfo={description:"",methods:[],displayName:"BlockEdit"};var modal=__webpack_require__("./packages/components/build-module/modal/index.js"),dropdown_menu=__webpack_require__("./packages/components/build-module/dropdown-menu/index.js"),menu_group=__webpack_require__("./packages/components/build-module/menu-group/index.js"),menu_item=__webpack_require__("./packages/components/build-module/menu-item/index.js"),more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js");function Warning({className:className,actions:actions,children:children,secondaryActions:secondaryActions}){return(0,jsx_runtime.jsx)("div",{style:{display:"contents",all:"initial"},children:(0,jsx_runtime.jsx)("div",{className:classnames_default()(className,"block-editor-warning"),children:(0,jsx_runtime.jsxs)("div",{className:"block-editor-warning__contents",children:[(0,jsx_runtime.jsx)("p",{className:"block-editor-warning__message",children:children}),(react.Children.count(actions)>0||secondaryActions)&&(0,jsx_runtime.jsxs)("div",{className:"block-editor-warning__actions",children:[react.Children.count(actions)>0&&react.Children.map(actions,((action,i)=>(0,jsx_runtime.jsx)("span",{className:"block-editor-warning__action",children:action},i))),secondaryActions&&(0,jsx_runtime.jsx)(dropdown_menu.Z,{className:"block-editor-warning__secondary",icon:more_vertical.Z,label:(0,build_module.__)("More options"),popoverProps:{position:"bottom left",className:"block-editor-warning__dropdown"},noIcons:!0,children:()=>(0,jsx_runtime.jsx)(menu_group.Z,{children:secondaryActions.map(((item,pos)=>(0,jsx_runtime.jsx)(menu_item.Z,{onClick:item.onClick,children:item.title},pos)))})})]})]})})})}Warning.displayName="Warning",Warning.__docgenInfo={description:"",methods:[],displayName:"Warning"};var warning=Warning,character=__webpack_require__("./node_modules/diff/lib/diff/character.js");function BlockView({title:title,rawContent:rawContent,renderedContent:renderedContent,action:action,actionText:actionText,className:className}){return(0,jsx_runtime.jsxs)("div",{className:className,children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-block-compare__content",children:[(0,jsx_runtime.jsx)("h2",{className:"block-editor-block-compare__heading",children:title}),(0,jsx_runtime.jsx)("div",{className:"block-editor-block-compare__html",children:rawContent}),(0,jsx_runtime.jsx)("div",{className:"block-editor-block-compare__preview edit-post-visual-editor",children:(0,jsx_runtime.jsx)(raw_html.Z,{children:(0,safe_html.Z)(renderedContent)})})]}),(0,jsx_runtime.jsx)("div",{className:"block-editor-block-compare__action",children:(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"secondary",tabIndex:"0",onClick:action,children:actionText})})]})}function BlockCompare({block:block,onKeep:onKeep,onConvert:onConvert,convertor:convertor,convertButtonText:convertButtonText}){const converted=function getConvertedContent(convertedBlock){return(Array.isArray(convertedBlock)?convertedBlock:[convertedBlock]).map((item=>(0,blocks_build_module.kD)(item.name,item.attributes,item.innerBlocks))).join("")}(convertor(block)),difference=function getDifference(originalContent,newContent){return(0,character.Kx)(originalContent,newContent).map(((item,pos)=>{const classes=classnames_default()({"block-editor-block-compare__added":item.added,"block-editor-block-compare__removed":item.removed});return(0,jsx_runtime.jsx)("span",{className:classes,children:item.value},pos)}))}(block.originalContent,converted);return(0,jsx_runtime.jsxs)("div",{className:"block-editor-block-compare__wrapper",children:[(0,jsx_runtime.jsx)(BlockView,{title:(0,build_module.__)("Current"),className:"block-editor-block-compare__current",action:onKeep,actionText:(0,build_module.__)("Convert to HTML"),rawContent:block.originalContent,renderedContent:block.originalContent}),(0,jsx_runtime.jsx)(BlockView,{title:(0,build_module.__)("After Conversion"),className:"block-editor-block-compare__converted",action:onConvert,actionText:convertButtonText,rawContent:difference,renderedContent:converted})]})}BlockView.displayName="BlockView",BlockView.__docgenInfo={description:"",methods:[],displayName:"BlockView"},BlockCompare.displayName="BlockCompare",BlockCompare.__docgenInfo={description:"",methods:[],displayName:"BlockCompare"};var block_compare=BlockCompare;const blockToBlocks=block=>(0,blocks_build_module.AF)({HTML:block.originalContent});function BlockInvalidWarning({clientId:clientId}){const{block:block,canInsertHTMLBlock:canInsertHTMLBlock,canInsertClassicBlock:canInsertClassicBlock}=(0,use_select.Z)((select=>{const{canInsertBlockType:canInsertBlockType,getBlock:getBlock,getBlockRootClientId:getBlockRootClientId}=select(store.h),rootClientId=getBlockRootClientId(clientId);return{block:getBlock(clientId),canInsertHTMLBlock:canInsertBlockType("core/html",rootClientId),canInsertClassicBlock:canInsertBlockType("core/freeform",rootClientId)}}),[clientId]),{replaceBlock:replaceBlock}=(0,use_dispatch.Z)(store.h),[compare,setCompare]=(0,react.useState)(!1),onCompareClose=(0,react.useCallback)((()=>setCompare(!1)),[]),convert=(0,react.useMemo)((()=>({toClassic(){const classicBlock=(0,blocks_build_module.j4)("core/freeform",{content:block.originalContent});return replaceBlock(block.clientId,classicBlock)},toHTML(){const htmlBlock=(0,blocks_build_module.j4)("core/html",{content:block.originalContent});return replaceBlock(block.clientId,htmlBlock)},toBlocks(){const newBlocks=blockToBlocks(block);return replaceBlock(block.clientId,newBlocks)},toRecoveredBlock(){const recoveredBlock=(0,blocks_build_module.j4)(block.name,block.attributes,block.innerBlocks);return replaceBlock(block.clientId,recoveredBlock)}})),[block,replaceBlock]),secondaryActions=(0,react.useMemo)((()=>[{title:(0,build_module._x)("Resolve","imperative verb"),onClick:()=>setCompare(!0)},canInsertHTMLBlock&&{title:(0,build_module.__)("Convert to HTML"),onClick:convert.toHTML},canInsertClassicBlock&&{title:(0,build_module.__)("Convert to Classic Block"),onClick:convert.toClassic}].filter(Boolean)),[canInsertHTMLBlock,canInsertClassicBlock,convert]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(warning,{actions:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:convert.toRecoveredBlock,variant:"primary",children:(0,build_module.__)("Attempt Block Recovery")},"recover")],secondaryActions:secondaryActions,children:(0,build_module.__)("This block contains unexpected or invalid content.")}),compare&&(0,jsx_runtime.jsx)(modal.Z,{title:(0,build_module.__)("Resolve Block"),onRequestClose:onCompareClose,className:"block-editor-block-compare",children:(0,jsx_runtime.jsx)(block_compare,{block:block,onKeep:convert.toHTML,onConvert:convert.toBlocks,convertor:blockToBlocks,convertButtonText:(0,build_module.__)("Convert to Blocks")})})]})}BlockInvalidWarning.__docgenInfo={description:"",methods:[],displayName:"BlockInvalidWarning"};const block_crash_warning_warning=(0,jsx_runtime.jsx)(warning,{className:"block-editor-block-list__block-crash-warning",children:(0,build_module.__)("This block has encountered an error and cannot be previewed.")});var block_crash_warning=()=>block_crash_warning_warning;class BlockCrashBoundary extends react.Component{constructor(){super(...arguments),this.state={hasError:!1}}componentDidCatch(){this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}BlockCrashBoundary.displayName="BlockCrashBoundary",BlockCrashBoundary.__docgenInfo={description:"",methods:[],displayName:"BlockCrashBoundary"};var block_crash_boundary=BlockCrashBoundary,lib=__webpack_require__("./node_modules/react-autosize-textarea/lib/index.js");function BlockHTML({clientId:clientId}){const[html,setHtml]=(0,react.useState)(""),block=(0,use_select.Z)((select=>select(store.h).getBlock(clientId)),[clientId]),{updateBlock:updateBlock}=(0,use_dispatch.Z)(store.h);return(0,react.useEffect)((()=>{setHtml((0,blocks_build_module.Jo)(block))}),[block]),(0,jsx_runtime.jsx)(lib.Z,{className:"block-editor-block-list__block-html-textarea",value:html,onBlur:()=>{const blockType=(0,blocks_build_module.ck)(block.name);if(!blockType)return;const attributes=(0,blocks_build_module.DJ)(blockType,html,block.attributes),content=html||(0,blocks_build_module.kD)(blockType,attributes),[isValid]=html?(0,blocks_build_module.lM)({...block,attributes:attributes,originalContent:content}):[!0];updateBlock(clientId,{attributes:attributes,originalContent:content,isValid:isValid}),html||setHtml(content)},onChange:event=>setHtml(event.target.value)})}BlockHTML.displayName="BlockHTML",BlockHTML.__docgenInfo={description:"",methods:[],displayName:"BlockHTML"};var block_html=BlockHTML,use_disabled=__webpack_require__("./packages/compose/build-module/hooks/use-disabled/index.js"),warning_build_module=__webpack_require__("./packages/warning/build-module/index.js"),react_spring_web_esm=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),use_reduced_motion=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),get_scroll_container=__webpack_require__("./packages/dom/build-module/dom/get-scroll-container.js");const counterReducer=state=>state+1,getAbsolutePosition=element=>({top:element.offsetTop,left:element.offsetLeft});var use_moving_animation=function useMovingAnimation({isSelected:isSelected,adjustScrolling:adjustScrolling,enableAnimation:enableAnimation,triggerAnimationOnChange:triggerAnimationOnChange}){const ref=(0,react.useRef)(),prefersReducedMotion=(0,use_reduced_motion.Z)()||!enableAnimation,[triggeredAnimation,triggerAnimation]=(0,react.useReducer)(counterReducer,0),[finishedAnimation,endAnimation]=(0,react.useReducer)(counterReducer,0),[transform,setTransform]=(0,react.useState)({x:0,y:0}),previous=(0,react.useMemo)((()=>ref.current?getAbsolutePosition(ref.current):null),[triggerAnimationOnChange]),preserveScrollPosition=(0,react.useMemo)((()=>{if(!adjustScrolling||!ref.current)return()=>{};const scrollContainer=(0,get_scroll_container.Z)(ref.current);if(!scrollContainer)return()=>{};const prevRect=ref.current.getBoundingClientRect();return()=>{const diff=ref.current.getBoundingClientRect().top-prevRect.top;diff&&(scrollContainer.scrollTop+=diff)}}),[triggerAnimationOnChange,adjustScrolling]);return(0,react.useLayoutEffect)((()=>{triggeredAnimation&&endAnimation()}),[triggeredAnimation]),(0,react.useLayoutEffect)((()=>{if(!previous)return;if(prefersReducedMotion)return void preserveScrollPosition();ref.current.style.transform=void 0;const destination=getAbsolutePosition(ref.current);triggerAnimation(),setTransform({x:Math.round(previous.left-destination.left),y:Math.round(previous.top-destination.top)})}),[triggerAnimationOnChange]),(0,react_spring_web_esm.useSpring)({from:{x:transform.x,y:transform.y},to:{x:0,y:0},reset:triggeredAnimation!==finishedAnimation,config:{mass:5,tension:2e3,friction:200},immediate:prefersReducedMotion,onChange:function onChange({value:value}){if(!ref.current)return;let{x:x,y:y}=value;x=Math.round(x),y=Math.round(y);const finishedMoving=0===x&&0===y;ref.current.style.transformOrigin="center center",ref.current.style.transform=finishedMoving?null:`translate3d(${x}px,${y}px,0)`,ref.current.style.zIndex=isSelected?"1":"",preserveScrollPosition()}}),ref};const BlockListBlockContext=(0,react.createContext)(null);var dom_build_module=__webpack_require__("./packages/dom/build-module/index.js"),is_text_field=__webpack_require__("./packages/dom/build-module/dom/is-text-field.js"),is_form_element=__webpack_require__("./packages/dom/build-module/dom/is-form-element.js"),place_caret_at_horizontal_edge=__webpack_require__("./packages/dom/build-module/dom/place-caret-at-horizontal-edge.js");const BLOCK_SELECTOR=".block-editor-block-list__block",APPENDER_SELECTOR=".block-list-appender",BLOCK_APPENDER_CLASS=".block-editor-button-block-appender";function isInSameBlock(a,b){return a.closest(BLOCK_SELECTOR)===b.closest(BLOCK_SELECTOR)}function isInsideRootBlock(blockElement,element){return element.closest([BLOCK_SELECTOR,APPENDER_SELECTOR,BLOCK_APPENDER_CLASS].join(","))===blockElement}function getBlockClientId(node){for(;node&&node.nodeType!==node.ELEMENT_NODE;)node=node.parentNode;if(!node)return;const blockNode=node.closest(BLOCK_SELECTOR);return blockNode?blockNode.id.slice(6):void 0}function useFocusFirstElement(clientId){const ref=(0,react.useRef)(),initialPosition=function useInitialPosition(clientId){return(0,use_select.Z)((select=>{const{getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,__unstableGetEditorMode:__unstableGetEditorMode,isBlockSelected:isBlockSelected}=select(store.h);if(isBlockSelected(clientId)&&"edit"===__unstableGetEditorMode())return getSelectedBlocksInitialCaretPosition()}),[clientId])}(clientId),{isBlockSelected:isBlockSelected,isMultiSelecting:isMultiSelecting}=(0,use_select.Z)(store.h);return(0,react.useEffect)((()=>{if(!isBlockSelected(clientId)||isMultiSelecting())return;if(null==initialPosition)return;if(!ref.current)return;const{ownerDocument:ownerDocument}=ref.current;if(isInsideRootBlock(ref.current,ownerDocument.activeElement))return;const textInputs=dom_build_module.T_.tabbable.find(ref.current).filter((node=>(0,is_text_field.Z)(node))),isReverse=-1===initialPosition,target=textInputs[isReverse?textInputs.length-1:0]||ref.current;if(isInsideRootBlock(ref.current,target)){if(!ref.current.getAttribute("contenteditable")){const focusElement=dom_build_module.T_.tabbable.findNext(ref.current);if(focusElement&&isInsideRootBlock(ref.current,focusElement)&&(0,is_form_element.Z)(focusElement))return void focusElement.focus()}(0,place_caret_at_horizontal_edge.Z)(target,isReverse)}else ref.current.focus()}),[initialPosition,clientId]),ref}function listener(event){if(event.defaultPrevented)return;const action="mouseover"===event.type?"add":"remove";event.preventDefault(),event.currentTarget.classList[action]("is-hovered")}function useIsHovered(){const isEnabled=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store.h);return getSettings().outlineMode}),[]);return(0,use_ref_effect.Z)((node=>{if(isEnabled)return node.addEventListener("mouseout",listener),node.addEventListener("mouseover",listener),()=>{node.removeEventListener("mouseout",listener),node.removeEventListener("mouseover",listener),node.classList.remove("is-hovered")}}),[isEnabled])}function useBlockClassNames(clientId){return(0,use_select.Z)((select=>{const{isBlockBeingDragged:isBlockBeingDragged,isBlockHighlighted:isBlockHighlighted,isBlockSelected:isBlockSelected,isBlockMultiSelected:isBlockMultiSelected,getBlockName:getBlockName,getSettings:getSettings,hasSelectedInnerBlock:hasSelectedInnerBlock,isTyping:isTyping,__unstableIsFullySelected:__unstableIsFullySelected,__unstableSelectionHasUnmergeableBlock:__unstableSelectionHasUnmergeableBlock}=select(store.h),{outlineMode:outlineMode}=getSettings(),isDragging=isBlockBeingDragged(clientId),isSelected=isBlockSelected(clientId),name=getBlockName(clientId),isAncestorOfSelectedBlock=hasSelectedInnerBlock(clientId,!0),isMultiSelected=isBlockMultiSelected(clientId);return classnames_default()({"is-selected":isSelected,"is-highlighted":isBlockHighlighted(clientId),"is-multi-selected":isMultiSelected,"is-partially-selected":isMultiSelected&&!__unstableIsFullySelected()&&!__unstableSelectionHasUnmergeableBlock(),"is-reusable":(0,blocks_build_module.vr)((0,blocks_build_module.ck)(name)),"is-dragging":isDragging,"has-child-selected":isAncestorOfSelectedBlock,"remove-outline":isSelected&&outlineMode&&isTyping()})}),[clientId])}function useBlockDefaultClassName(clientId){return(0,use_select.Z)((select=>{const name=select(store.h).getBlockName(clientId),blockType=(0,blocks_build_module.ck)(name);if(blockType?.apiVersion>1)return(0,blocks_build_module.Vk)(name)}),[clientId])}function useBlockCustomClassName(clientId){return(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes}=select(store.h),attributes=getBlockAttributes(clientId);if(!attributes?.className)return;const blockType=(0,blocks_build_module.ck)(getBlockName(clientId));return blockType?.apiVersion>1?attributes.className:void 0}),[clientId])}function useBlockMovingModeClassNames(clientId){return(0,use_select.Z)((select=>{const{hasBlockMovingClientId:hasBlockMovingClientId,canInsertBlockType:canInsertBlockType,getBlockName:getBlockName,getBlockRootClientId:getBlockRootClientId,isBlockSelected:isBlockSelected}=select(store.h);if(!isBlockSelected(clientId))return;const movingClientId=hasBlockMovingClientId();return movingClientId?classnames_default()("is-block-moving-mode",{"can-insert-moving-block":canInsertBlockType(getBlockName(movingClientId),getBlockRootClientId(clientId))}):void 0}),[clientId])}function useFocusHandler(clientId){const{isBlockSelected:isBlockSelected}=(0,use_select.Z)(store.h),{selectBlock:selectBlock,selectionChange:selectionChange}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{function onFocus(event){node.parentElement.closest('[contenteditable="true"]')||(isBlockSelected(clientId)?event.target.isContentEditable||selectionChange(clientId):isInsideRootBlock(node,event.target)&&selectBlock(clientId))}return node.addEventListener("focusin",onFocus),()=>{node.removeEventListener("focusin",onFocus)}}),[isBlockSelected,selectBlock])}var keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js");function useEventHandlers(clientId){const isSelected=(0,use_select.Z)((select=>select(store.h).isBlockSelected(clientId)),[clientId]),{getBlockRootClientId:getBlockRootClientId,getBlockIndex:getBlockIndex}=(0,use_select.Z)(store.h),{insertDefaultBlock:insertDefaultBlock,removeBlock:removeBlock}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{if(isSelected)return node.addEventListener("keydown",onKeyDown),node.addEventListener("dragstart",onDragStart),()=>{node.removeEventListener("keydown",onKeyDown),node.removeEventListener("dragstart",onDragStart)};function onKeyDown(event){const{keyCode:keyCode,target:target}=event;keyCode!==keycodes_build_module.K5&&keyCode!==keycodes_build_module.ZH&&keyCode!==keycodes_build_module.yY||target!==node||(0,is_text_field.Z)(target)||(event.preventDefault(),keyCode===keycodes_build_module.K5?insertDefaultBlock({},getBlockRootClientId(clientId),getBlockIndex(clientId)+1):removeBlock(clientId))}function onDragStart(event){event.preventDefault()}}),[clientId,isSelected,getBlockRootClientId,getBlockIndex,insertDefaultBlock,removeBlock])}function useNavModeExit(clientId){const{isNavigationMode:isNavigationMode,isBlockSelected:isBlockSelected}=(0,use_select.Z)(store.h),{setNavigationMode:setNavigationMode,selectBlock:selectBlock}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{function onMouseDown(event){isNavigationMode()&&!event.defaultPrevented&&(event.preventDefault(),isBlockSelected(clientId)?setNavigationMode(!1):selectBlock(clientId))}return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)}}),[clientId,isNavigationMode,isBlockSelected,setNavigationMode])}var block_refs_provider=__webpack_require__("./packages/block-editor/src/components/provider/block-refs-provider.js");function useBlockRefProvider(clientId){const{refs:refs,callbacks:callbacks}=(0,react.useContext)(block_refs_provider.N),ref=(0,react.useRef)();return(0,react.useLayoutEffect)((()=>(refs.set(ref,clientId),()=>{refs.delete(ref)})),[clientId]),(0,use_ref_effect.Z)((element=>{ref.current=element,callbacks.forEach(((id,setElement)=>{clientId===id&&setElement(element)}))}),[clientId])}function useBlockElement(clientId){const{callbacks:callbacks}=(0,react.useContext)(block_refs_provider.N),ref=function useBlockRef(clientId){const{refs:refs}=(0,react.useContext)(block_refs_provider.N),freshClientId=(0,react.useRef)();return freshClientId.current=clientId,(0,react.useMemo)((()=>({get current(){let element=null;for(const[ref,id]of refs.entries())id===freshClientId.current&&ref.current&&(element=ref.current);return element}})),[])}(clientId),[element,setElement]=(0,react.useState)(null);return(0,react.useLayoutEffect)((()=>{if(clientId)return callbacks.set(setElement,clientId),()=>{callbacks.delete(setElement)}}),[clientId]),ref.current||element}function useIntersectionObserver(){const observer=(0,react.useContext)(IntersectionObserver);return(0,use_ref_effect.Z)((node=>{if(observer)return observer.observe(node),()=>{observer.unobserve(node)}}),[observer])}var lock_unlock=__webpack_require__("./packages/block-editor/src/lock-unlock.js");const BLOCK_ANIMATION_THRESHOLD=200;function useBlockProps(props={},{__unstableIsHtml:__unstableIsHtml}={}){const{clientId:clientId,className:className,wrapperProps:wrapperProps={},isAligned:isAligned}=(0,react.useContext)(BlockListBlockContext),{index:index,mode:mode,name:name,blockApiVersion:blockApiVersion,blockTitle:blockTitle,isPartOfSelection:isPartOfSelection,adjustScrolling:adjustScrolling,enableAnimation:enableAnimation,isSubtreeDisabled:isSubtreeDisabled}=(0,use_select.Z)((select=>{const{getBlockAttributes:getBlockAttributes,getBlockIndex:getBlockIndex,getBlockMode:getBlockMode,getBlockName:getBlockName,isTyping:isTyping,getGlobalBlockCount:getGlobalBlockCount,isBlockSelected:isBlockSelected,isBlockMultiSelected:isBlockMultiSelected,isAncestorMultiSelected:isAncestorMultiSelected,isFirstMultiSelectedBlock:isFirstMultiSelectedBlock,isBlockSubtreeDisabled:isBlockSubtreeDisabled}=(0,lock_unlock.U)(select(store.h)),{getActiveBlockVariation:getActiveBlockVariation}=select(blocks_build_module.h),isSelected=isBlockSelected(clientId),isPartOfMultiSelection=isBlockMultiSelected(clientId)||isAncestorMultiSelected(clientId),blockName=getBlockName(clientId),blockType=(0,blocks_build_module.ck)(blockName),match=getActiveBlockVariation(blockName,getBlockAttributes(clientId));return{index:getBlockIndex(clientId),mode:getBlockMode(clientId),name:blockName,blockApiVersion:blockType?.apiVersion||1,blockTitle:match?.title||blockType?.title,isPartOfSelection:isSelected||isPartOfMultiSelection,adjustScrolling:isSelected||isFirstMultiSelectedBlock(clientId),enableAnimation:!isTyping()&&getGlobalBlockCount()<=BLOCK_ANIMATION_THRESHOLD,isSubtreeDisabled:isBlockSubtreeDisabled(clientId)}}),[clientId]),hasOverlay=function useBlockOverlayActive(clientId){return(0,use_select.Z)((select=>{const{__unstableHasActiveBlockOverlayActive:__unstableHasActiveBlockOverlayActive}=select(store.h);return __unstableHasActiveBlockOverlayActive(clientId)}),[clientId])}(clientId),blockLabel=(0,build_module.gB)((0,build_module.__)("Block: %s"),blockTitle),htmlSuffix="html"!==mode||__unstableIsHtml?"":"-visual",mergedRefs=(0,use_merge_refs.Z)([props.ref,useFocusFirstElement(clientId),useBlockRefProvider(clientId),useFocusHandler(clientId),useEventHandlers(clientId),useNavModeExit(clientId),useIsHovered(),useIntersectionObserver(),use_moving_animation({isSelected:isPartOfSelection,adjustScrolling:adjustScrolling,enableAnimation:enableAnimation,triggerAnimationOnChange:index}),(0,use_disabled.Z)({isDisabled:!hasOverlay})]),blockEditContext=(0,block_edit_context.Z8)();return blockApiVersion<2&&clientId===blockEditContext.clientId&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Block type "${name}" must support API version 2 or higher to work correctly with "useBlockProps" method.`),{tabIndex:0,...wrapperProps,...props,ref:mergedRefs,id:`block-${clientId}${htmlSuffix}`,role:"document","aria-label":blockLabel,"data-block":clientId,"data-type":name,"data-title":blockTitle,inert:isSubtreeDisabled?"true":void 0,className:classnames_default()(classnames_default()("block-editor-block-list__block",{"wp-block":!isAligned,"has-block-overlay":hasOverlay}),className,props.className,wrapperProps.className,useBlockClassNames(clientId),useBlockDefaultClassName(clientId),useBlockCustomClassName(clientId),useBlockMovingModeClassNames(clientId)),style:{...wrapperProps.style,...props.style}}}useBlockProps.save=blocks_build_module.dF;var justify_left=__webpack_require__("./packages/icons/build-module/library/justify-left.js"),justify_center=__webpack_require__("./packages/icons/build-module/library/justify-center.js"),justify_right=__webpack_require__("./packages/icons/build-module/library/justify-right.js"),justify_space_between=__webpack_require__("./packages/icons/build-module/library/justify-space-between.js"),justify_stretch=__webpack_require__("./packages/icons/build-module/library/justify-stretch.js"),arrow_right=__webpack_require__("./packages/icons/build-module/library/arrow-right.js"),arrow_down=__webpack_require__("./packages/icons/build-module/library/arrow-down.js"),flex_component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),toggle_group_control_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control/component.js"),toggle_group_control_option_icon_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-icon/component.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js");const LAYOUT_DEFINITIONS={default:{name:"default",slug:"flow",className:"is-layout-flow",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}}],spacingStyles:[{selector:" > :first-child:first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child:last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},constrained:{name:"constrained",slug:"constrained",className:"is-layout-constrained",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > :where(:not(.alignleft):not(.alignright):not(.alignfull))",rules:{"max-width":"var(--wp--style--global--content-size)","margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > .alignwide",rules:{"max-width":"var(--wp--style--global--wide-size)"}}],spacingStyles:[{selector:" > :first-child:first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child:last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},flex:{name:"flex",slug:"flex",className:"is-layout-flex",displayMode:"flex",baseStyles:[{selector:"",rules:{"flex-wrap":"wrap","align-items":"center"}},{selector:" > *",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]},grid:{name:"grid",slug:"grid",className:"is-layout-grid",displayMode:"grid",baseStyles:[{selector:" > *",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]}};function appendSelectors(selectors,append=""){return selectors.split(",").map((subselector=>`.editor-styles-wrapper ${subselector}${append?` ${append}`:""}`)).join(",")}function getBlockGapCSS(selector,layoutDefinitions=LAYOUT_DEFINITIONS,layoutType,blockGapValue){let output="";return layoutDefinitions?.[layoutType]?.spacingStyles?.length&&blockGapValue&&layoutDefinitions[layoutType].spacingStyles.forEach((gapStyle=>{output+=`${appendSelectors(selector,gapStyle.selector.trim())} { `,output+=Object.entries(gapStyle.rules).map((([cssProperty,value])=>`${cssProperty}: ${value||blockGapValue}`)).join("; "),output+="; }"})),output}function getAlignmentsInfo(layout){const{contentSize:contentSize,wideSize:wideSize,type:type="default"}=layout,alignmentInfo={},sizeRegex=/^(?!0)\d+(px|em|rem|vw|vh|%|svw|lvw|dvw|svh|lvh|dvh|vi|svi|lvi|dvi|vb|svb|lvb|dvb|vmin|svmin|lvmin|dvmin|vmax|svmax|lvmax|dvmax)?$/i;return sizeRegex.test(contentSize)&&"constrained"===type&&(alignmentInfo.none=(0,build_module.gB)((0,build_module.__)("Max %s wide"),contentSize)),sizeRegex.test(wideSize)&&(alignmentInfo.wide=(0,build_module.gB)((0,build_module.__)("Max %s wide"),wideSize)),alignmentInfo}var sides_all=__webpack_require__("./packages/icons/build-module/library/sides-all.js"),sides_horizontal=__webpack_require__("./packages/icons/build-module/library/sides-horizontal.js"),sides_vertical=__webpack_require__("./packages/icons/build-module/library/sides-vertical.js"),sides_top=__webpack_require__("./packages/icons/build-module/library/sides-top.js"),sides_right=__webpack_require__("./packages/icons/build-module/library/sides-right.js"),sides_bottom=__webpack_require__("./packages/icons/build-module/library/sides-bottom.js"),sides_left=__webpack_require__("./packages/icons/build-module/library/sides-left.js");sides_all.Z,sides_all.Z,sides_horizontal.Z,sides_vertical.Z,sides_top.Z,sides_right.Z,sides_bottom.Z,sides_left.Z,(0,build_module.__)("Spacing control"),(0,build_module.__)("Top"),(0,build_module.__)("Bottom"),(0,build_module.__)("Left"),(0,build_module.__)("Right"),(0,build_module.__)("Mixed"),(0,build_module.__)("Vertical"),(0,build_module.__)("Horizontal"),(0,build_module.__)("Horizontal & vertical"),(0,build_module.__)("Custom");function getSpacingPresetCssVar(value){if(!value)return;const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?`var(--wp--preset--spacing--${slug[1]})`:value}function getGapCSSValue(blockGapValue,defaultValue="0"){const blockGapBoxControlValue=function getGapBoxControlValueFromStyle(blockGapValue){if(!blockGapValue)return null;const isValueString="string"==typeof blockGapValue;return{top:isValueString?blockGapValue:blockGapValue?.top,left:isValueString?blockGapValue:blockGapValue?.left}}(blockGapValue);if(!blockGapBoxControlValue)return null;const row=getSpacingPresetCssVar(blockGapBoxControlValue?.top)||defaultValue,column=getSpacingPresetCssVar(blockGapBoxControlValue?.left)||defaultValue;return row===column?row:`${row} ${column}`}var toolbar_group=__webpack_require__("./packages/components/build-module/toolbar/toolbar-group/index.js"),style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js"),slot_fill=__webpack_require__("./packages/components/build-module/slot-fill/index.js");var block_controls_groups={default:(0,slot_fill.up)("BlockControls"),block:(0,slot_fill.up)("BlockControlsBlock"),inline:(0,slot_fill.up)("BlockFormatControls"),other:(0,slot_fill.up)("BlockControlsOther"),parent:(0,slot_fill.up)("BlockControlsParent")};function useBlockControlsFill(group,shareWithChildBlocks){const isDisplayed=function useDisplayBlockControls(){const{isSelected:isSelected,clientId:clientId,name:name}=(0,block_edit_context.Z8)();return(0,use_select.Z)((select=>{if(isSelected)return!0;const{getBlockName:getBlockName,isFirstMultiSelectedBlock:isFirstMultiSelectedBlock,getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds}=select(store.h);return!!isFirstMultiSelectedBlock(clientId)&&getMultiSelectedBlockClientIds().every((id=>getBlockName(id)===name))}),[clientId,isSelected,name])}(),{clientId:clientId}=(0,block_edit_context.Z8)(),isParentDisplayed=(0,use_select.Z)((select=>{if(!shareWithChildBlocks)return!1;const{getBlockName:getBlockName,hasSelectedInnerBlock:hasSelectedInnerBlock}=select(store.h),{hasBlockSupport:hasBlockSupport}=select(blocks_build_module.h);return hasBlockSupport(getBlockName(clientId),"__experimentalExposeControlsToChildren",!1)&&hasSelectedInnerBlock(clientId)}),[shareWithChildBlocks,clientId]);return isDisplayed?block_controls_groups[group]?.Fill:isParentDisplayed?block_controls_groups.parent.Fill:null}function BlockControlsFill({group:group="default",controls:controls,children:children,__experimentalShareWithChildBlocks:__experimentalShareWithChildBlocks=!1}){const Fill=useBlockControlsFill(group,__experimentalShareWithChildBlocks);if(!Fill)return null;const innerMarkup=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["default"===group&&(0,jsx_runtime.jsx)(toolbar_group.Z,{controls:controls}),children]});return(0,jsx_runtime.jsx)(style_provider.Z,{document:document,children:(0,jsx_runtime.jsx)(Fill,{children:fillProps=>{const{forwardedContext:forwardedContext=[]}=fillProps;return forwardedContext.reduce(((inner,[Provider,props])=>(0,jsx_runtime.jsx)(Provider,{...props,children:inner})),innerMarkup)}})})}BlockControlsFill.displayName="BlockControlsFill",BlockControlsFill.__docgenInfo={description:"",methods:[],displayName:"BlockControlsFill",props:{group:{defaultValue:{value:"'default'",computed:!1},required:!1},__experimentalShareWithChildBlocks:{defaultValue:{value:"false",computed:!1},required:!1}}};var private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),use_slot_fills=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/use-slot-fills.js");const{ComponentsContext:ComponentsContext}=(0,lock_unlock.U)(private_apis.YH);function BlockControlsSlot({group:group="default",...props}){const toolbarState=(0,react.useContext)(toolbar_context.Z),contextState=(0,react.useContext)(ComponentsContext),fillProps=(0,react.useMemo)((()=>({forwardedContext:[[toolbar_context.Z.Provider,{value:toolbarState}],[ComponentsContext.Provider,{value:contextState}]]})),[toolbarState,contextState]),Slot=block_controls_groups[group]?.Slot,fills=(0,use_slot_fills.Z)(Slot?.__unstableName);if(!Slot)return"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Unknown BlockControls group "${group}" provided.`),null;if(!fills?.length)return null;const slot=(0,jsx_runtime.jsx)(Slot,{...props,bubblesVirtually:!0,fillProps:fillProps});return"default"===group?slot:(0,jsx_runtime.jsx)(toolbar_group.Z,{children:slot})}BlockControlsSlot.displayName="BlockControlsSlot",BlockControlsSlot.__docgenInfo={description:"",methods:[],displayName:"BlockControlsSlot",props:{group:{defaultValue:{value:"'default'",computed:!1},required:!1}}};const BlockControls=BlockControlsFill;BlockControls.Slot=BlockControlsSlot;const BlockFormatControls=props=>(0,jsx_runtime.jsx)(BlockControlsFill,{group:"inline",...props});BlockFormatControls.displayName="BlockFormatControls",BlockFormatControls.Slot=props=>(0,jsx_runtime.jsx)(BlockControlsSlot,{group:"inline",...props});var block_controls=BlockControls;BlockFormatControls.__docgenInfo={description:"",methods:[{name:"Slot",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null}],displayName:"BlockFormatControls"};var toolbar_dropdown_menu=__webpack_require__("./packages/components/build-module/toolbar/toolbar-dropdown-menu/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");const alignBottom=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})}),alignCenter=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})}),alignTop=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})}),alignStretch=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M4 4L20 4L20 5.5L4 5.5L4 4ZM10 7L14 7L14 17L10 17L10 7ZM20 18.5L4 18.5L4 20L20 20L20 18.5Z"})}),spaceBetween=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M7 4H17V8L7 8V4ZM7 16L17 16V20L7 20V16ZM20 11.25H4V12.75H20V11.25Z"})}),BLOCK_ALIGNMENTS_CONTROLS={top:{icon:alignTop,title:(0,build_module._x)("Align top","Block vertical alignment setting")},center:{icon:alignCenter,title:(0,build_module._x)("Align middle","Block vertical alignment setting")},bottom:{icon:alignBottom,title:(0,build_module._x)("Align bottom","Block vertical alignment setting")},stretch:{icon:alignStretch,title:(0,build_module._x)("Stretch to fill","Block vertical alignment setting")},"space-between":{icon:spaceBetween,title:(0,build_module._x)("Space between","Block vertical alignment setting")}},DEFAULT_CONTROLS=["top","center","bottom"];function BlockVerticalAlignmentUI({value:value,onChange:onChange,controls:controls=DEFAULT_CONTROLS,isCollapsed:isCollapsed=!0,isToolbar:isToolbar}){const activeAlignment=BLOCK_ALIGNMENTS_CONTROLS[value],defaultAlignmentControl=BLOCK_ALIGNMENTS_CONTROLS.top,UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed:isCollapsed}:{};return(0,jsx_runtime.jsx)(UIComponent,{icon:activeAlignment?activeAlignment.icon:defaultAlignmentControl.icon,label:(0,build_module._x)("Change vertical alignment","Block vertical alignment setting label"),controls:controls.map((control=>{return{...BLOCK_ALIGNMENTS_CONTROLS[control],isActive:value===control,role:isCollapsed?"menuitemradio":void 0,onClick:(align=control,()=>onChange(value===align?void 0:align))};var align})),...extraProps})}BlockVerticalAlignmentUI.displayName="BlockVerticalAlignmentUI",BlockVerticalAlignmentUI.__docgenInfo={description:"",methods:[],displayName:"BlockVerticalAlignmentUI",props:{controls:{defaultValue:{value:"[ 'top', 'center', 'bottom' ]",computed:!1},required:!1},isCollapsed:{defaultValue:{value:"true",computed:!1},required:!1}}};var ui=BlockVerticalAlignmentUI;const BlockVerticalAlignmentControl=props=>(0,jsx_runtime.jsx)(ui,{...props,isToolbar:!1});BlockVerticalAlignmentControl.displayName="BlockVerticalAlignmentControl";const BlockVerticalAlignmentToolbar=props=>(0,jsx_runtime.jsx)(ui,{...props,isToolbar:!0});BlockVerticalAlignmentToolbar.displayName="BlockVerticalAlignmentToolbar",BlockVerticalAlignmentControl.__docgenInfo={description:"",methods:[],displayName:"BlockVerticalAlignmentControl"},BlockVerticalAlignmentToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockVerticalAlignmentToolbar"};const icons={left:justify_left.Z,center:justify_center.Z,right:justify_right.Z,"space-between":justify_space_between.Z,stretch:justify_stretch.Z};function JustifyContentUI({allowedControls:allowedControls=["left","center","right","space-between"],isCollapsed:isCollapsed=!0,onChange:onChange,value:value,popoverProps:popoverProps,isToolbar:isToolbar}){const handleClick=next=>{onChange(next===value?void 0:next)},icon=value?icons[value]:icons.left,allControls=[{name:"left",icon:justify_left.Z,title:(0,build_module.__)("Justify items left"),isActive:"left"===value,onClick:()=>handleClick("left")},{name:"center",icon:justify_center.Z,title:(0,build_module.__)("Justify items center"),isActive:"center"===value,onClick:()=>handleClick("center")},{name:"right",icon:justify_right.Z,title:(0,build_module.__)("Justify items right"),isActive:"right"===value,onClick:()=>handleClick("right")},{name:"space-between",icon:justify_space_between.Z,title:(0,build_module.__)("Space between items"),isActive:"space-between"===value,onClick:()=>handleClick("space-between")},{name:"stretch",icon:justify_stretch.Z,title:(0,build_module.__)("Stretch items"),isActive:"stretch"===value,onClick:()=>handleClick("stretch")}],UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed:isCollapsed}:{};return(0,jsx_runtime.jsx)(UIComponent,{icon:icon,popoverProps:popoverProps,label:(0,build_module.__)("Change items justification"),controls:allControls.filter((elem=>allowedControls.includes(elem.name))),...extraProps})}JustifyContentUI.displayName="JustifyContentUI",JustifyContentUI.__docgenInfo={description:"",methods:[],displayName:"JustifyContentUI",props:{allowedControls:{defaultValue:{value:"[ 'left', 'center', 'right', 'space-between' ]",computed:!1},required:!1},isCollapsed:{defaultValue:{value:"true",computed:!1},required:!1}}};var justify_content_control_ui=JustifyContentUI;const JustifyContentControl=props=>(0,jsx_runtime.jsx)(justify_content_control_ui,{...props,isToolbar:!1});JustifyContentControl.displayName="JustifyContentControl";const JustifyToolbar=props=>(0,jsx_runtime.jsx)(justify_content_control_ui,{...props,isToolbar:!0});JustifyToolbar.displayName="JustifyToolbar",JustifyContentControl.__docgenInfo={description:"",methods:[],displayName:"JustifyContentControl"},JustifyToolbar.__docgenInfo={description:"",methods:[],displayName:"JustifyToolbar"};function shouldSkipSerialization(blockType,featureSet,feature){const support=(0,blocks_build_module.Dx)(blockType,featureSet),skipSerialization=support?.__experimentalSkipSerialization;return Array.isArray(skipSerialization)?skipSerialization.includes(feature):skipSerialization}const justifyContentMap={left:"flex-start",right:"flex-end",center:"center","space-between":"space-between"},alignItemsMap={left:"flex-start",right:"flex-end",center:"center",stretch:"stretch"},verticalAlignmentMap={top:"flex-start",center:"center",bottom:"flex-end",stretch:"stretch","space-between":"space-between"},flexWrapOptions=["wrap","nowrap"];var flex={name:"flex",label:(0,build_module.__)("Flex"),inspectorControls:function FlexLayoutInspectorControls({layout:layout={},onChange:onChange,layoutBlockSupport:layoutBlockSupport={}}){const{allowOrientation:allowOrientation=!0}=layoutBlockSupport;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(flex_component.Z,{children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{children:(0,jsx_runtime.jsx)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange})}),(0,jsx_runtime.jsx)(flex_item_component.Z,{children:allowOrientation&&(0,jsx_runtime.jsx)(OrientationControl,{layout:layout,onChange:onChange})})]}),(0,jsx_runtime.jsx)(FlexWrapControl,{layout:layout,onChange:onChange})]})},toolBarControls:function FlexLayoutToolbarControls({layout:layout={},onChange:onChange,layoutBlockSupport:layoutBlockSupport}){if(layoutBlockSupport?.allowSwitching)return null;const{allowVerticalAlignment:allowVerticalAlignment=!0}=layoutBlockSupport;return(0,jsx_runtime.jsxs)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0,children:[(0,jsx_runtime.jsx)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange,isToolbar:!0}),allowVerticalAlignment&&(0,jsx_runtime.jsx)(FlexLayoutVerticalAlignmentControl,{layout:layout,onChange:onChange,isToolbar:!0})]})},getLayoutStyle:function getLayoutStyle({selector:selector,layout:layout,style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const{orientation:orientation="horizontal"}=layout,blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,"spacing","blockGap")?getGapCSSValue(style?.spacing?.blockGap,"0.5em"):void 0,justifyContent=justifyContentMap[layout.justifyContent],flexWrap=flexWrapOptions.includes(layout.flexWrap)?layout.flexWrap:"wrap",verticalAlignment=verticalAlignmentMap[layout.verticalAlignment],alignItems=alignItemsMap[layout.justifyContent]||alignItemsMap.left;let output="";const rules=[];return flexWrap&&"wrap"!==flexWrap&&rules.push(`flex-wrap: ${flexWrap}`),"horizontal"===orientation?(verticalAlignment&&rules.push(`align-items: ${verticalAlignment}`),justifyContent&&rules.push(`justify-content: ${justifyContent}`)):(verticalAlignment&&rules.push(`justify-content: ${verticalAlignment}`),rules.push("flex-direction: column"),rules.push(`align-items: ${alignItems}`)),rules.length&&(output=`${appendSelectors(selector)} {\n\t\t\t\t${rules.join("; ")};\n\t\t\t}`),hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"flex",blockGapValue)),output},getOrientation(layout){const{orientation:orientation="horizontal"}=layout;return orientation},getAlignments(){return[]}};function FlexLayoutVerticalAlignmentControl({layout:layout,onChange:onChange,isToolbar:isToolbar=!1}){const{orientation:orientation="horizontal"}=layout,defaultVerticalAlignment="horizontal"===orientation?verticalAlignmentMap.center:verticalAlignmentMap.top,{verticalAlignment:verticalAlignment=defaultVerticalAlignment}=layout,onVerticalAlignmentChange=value=>{onChange({...layout,verticalAlignment:value})};if(isToolbar)return(0,jsx_runtime.jsx)(BlockVerticalAlignmentControl,{onChange:onVerticalAlignmentChange,value:verticalAlignment,controls:"horizontal"===orientation?["top","center","bottom","stretch"]:["top","center","bottom","space-between"]});const verticalAlignmentOptions=[{value:"flex-start",label:(0,build_module.__)("Align items top")},{value:"center",label:(0,build_module.__)("Align items center")},{value:"flex-end",label:(0,build_module.__)("Align items bottom")}];return(0,jsx_runtime.jsxs)("fieldset",{className:"block-editor-hooks__flex-layout-vertical-alignment-control",children:[(0,jsx_runtime.jsx)("legend",{children:(0,build_module.__)("Vertical alignment")}),(0,jsx_runtime.jsx)("div",{children:verticalAlignmentOptions.map(((value,icon,label)=>(0,jsx_runtime.jsx)(build_module_button.ZP,{label:label,icon:icon,isPressed:verticalAlignment===value,onClick:()=>onVerticalAlignmentChange(value)},value)))})]})}FlexLayoutVerticalAlignmentControl.displayName="FlexLayoutVerticalAlignmentControl";const POPOVER_PROPS={placement:"bottom-start"};function FlexLayoutJustifyContentControl({layout:layout,onChange:onChange,isToolbar:isToolbar=!1}){const{justifyContent:justifyContent="left",orientation:orientation="horizontal"}=layout,onJustificationChange=value=>{onChange({...layout,justifyContent:value})},allowedControls=["left","center","right"];if("horizontal"===orientation?allowedControls.push("space-between"):allowedControls.push("stretch"),isToolbar)return(0,jsx_runtime.jsx)(JustifyContentControl,{allowedControls:allowedControls,value:justifyContent,onChange:onJustificationChange,popoverProps:POPOVER_PROPS});const justificationOptions=[{value:"left",icon:justify_left.Z,label:(0,build_module.__)("Justify items left")},{value:"center",icon:justify_center.Z,label:(0,build_module.__)("Justify items center")},{value:"right",icon:justify_right.Z,label:(0,build_module.__)("Justify items right")}];return"horizontal"===orientation?justificationOptions.push({value:"space-between",icon:justify_space_between.Z,label:(0,build_module.__)("Space between items")}):justificationOptions.push({value:"stretch",icon:justify_stretch.Z,label:(0,build_module.__)("Stretch items")}),(0,jsx_runtime.jsx)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,label:(0,build_module.__)("Justification"),value:justifyContent,onChange:onJustificationChange,className:"block-editor-hooks__flex-layout-justification-controls",children:justificationOptions.map((({value:value,icon:icon,label:label})=>(0,jsx_runtime.jsx)(toggle_group_control_option_icon_component.Z,{value:value,icon:icon,label:label},value)))})}function FlexWrapControl({layout:layout,onChange:onChange}){const{flexWrap:flexWrap="wrap"}=layout;return(0,jsx_runtime.jsx)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,build_module.__)("Allow to wrap to multiple lines"),onChange:value=>{onChange({...layout,flexWrap:value?"wrap":"nowrap"})},checked:"wrap"===flexWrap})}function OrientationControl({layout:layout,onChange:onChange}){const{orientation:orientation="horizontal",verticalAlignment:verticalAlignment,justifyContent:justifyContent}=layout;return(0,jsx_runtime.jsxs)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-hooks__flex-layout-orientation-controls",label:(0,build_module.__)("Orientation"),value:orientation,onChange:value=>{let newVerticalAlignment=verticalAlignment,newJustification=justifyContent;return"horizontal"===value?("space-between"===verticalAlignment&&(newVerticalAlignment="center"),"stretch"===justifyContent&&(newJustification="left")):("stretch"===verticalAlignment&&(newVerticalAlignment="top"),"space-between"===justifyContent&&(newJustification="left")),onChange({...layout,orientation:value,verticalAlignment:newVerticalAlignment,justifyContent:newJustification})},children:[(0,jsx_runtime.jsx)(toggle_group_control_option_icon_component.Z,{icon:arrow_right.Z,value:"horizontal",label:(0,build_module.__)("Horizontal")}),(0,jsx_runtime.jsx)(toggle_group_control_option_icon_component.Z,{icon:arrow_down.Z,value:"vertical",label:(0,build_module.__)("Vertical")})]})}FlexLayoutJustifyContentControl.displayName="FlexLayoutJustifyContentControl",FlexWrapControl.displayName="FlexWrapControl",OrientationControl.displayName="OrientationControl";var flow={name:"default",label:(0,build_module.__)("Flow"),inspectorControls:function DefaultLayoutInspectorControls(){return null},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector:selector,style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue="";shouldSkipSerialization(blockName,"spacing","blockGap")||(blockGapStyleValue?.top?blockGapValue=getGapCSSValue(blockGapStyleValue?.top):"string"==typeof blockGapStyleValue&&(blockGapValue=getGapCSSValue(blockGapStyleValue)));let output="";return hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"default",blockGapValue)),output},getOrientation(){return"vertical"},getAlignments(layout,isBlockBasedTheme){const alignmentInfo=getAlignmentsInfo(layout);if(void 0!==layout.alignments)return layout.alignments.includes("none")||layout.alignments.unshift("none"),layout.alignments.map((alignment=>({name:alignment,info:alignmentInfo[alignment]})));const alignments=[{name:"left"},{name:"center"},{name:"right"}];if(!isBlockBasedTheme){const{contentSize:contentSize,wideSize:wideSize}=layout;contentSize&&alignments.unshift({name:"full"}),wideSize&&alignments.unshift({name:"wide",info:alignmentInfo.wide})}return alignments.unshift({name:"none",info:alignmentInfo.none}),alignments}},utils=__webpack_require__("./packages/components/build-module/unit-control/utils.js"),unit_control=__webpack_require__("./packages/components/build-module/unit-control/index.js"),icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),position_center=__webpack_require__("./packages/icons/build-module/library/position-center.js"),stretch_wide=__webpack_require__("./packages/icons/build-module/library/stretch-wide.js"),style_engine_build_module=__webpack_require__("./packages/style-engine/build-module/index.js"),use_settings=__webpack_require__("./packages/block-editor/src/components/use-settings/index.js"),constrained={name:"constrained",label:(0,build_module.__)("Constrained"),inspectorControls:function DefaultLayoutInspectorControls({layout:layout,onChange:onChange,layoutBlockSupport:layoutBlockSupport={}}){const{wideSize:wideSize,contentSize:contentSize,justifyContent:justifyContent="center"}=layout,{allowJustification:allowJustification=!0,allowCustomContentAndWideSize:allowCustomContentAndWideSize=!0}=layoutBlockSupport,justificationOptions=[{value:"left",icon:justify_left.Z,label:(0,build_module.__)("Justify items left")},{value:"center",icon:justify_center.Z,label:(0,build_module.__)("Justify items center")},{value:"right",icon:justify_right.Z,label:(0,build_module.__)("Justify items right")}],[availableUnits]=(0,use_settings.rV)("spacing.units"),units=(0,utils.nj)({availableUnits:availableUnits||["%","px","em","rem","vw"]});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[allowCustomContentAndWideSize&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-hooks__layout-controls",children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-hooks__layout-controls-unit",children:[(0,jsx_runtime.jsx)(unit_control.ZP,{className:"block-editor-hooks__layout-controls-unit-input",label:(0,build_module.__)("Content"),labelPosition:"top",__unstableInputWidth:"80px",value:contentSize||wideSize||"",onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?"0":nextWidth,onChange({...layout,contentSize:nextWidth})},units:units}),(0,jsx_runtime.jsx)(icon.Z,{icon:position_center.Z})]}),(0,jsx_runtime.jsxs)("div",{className:"block-editor-hooks__layout-controls-unit",children:[(0,jsx_runtime.jsx)(unit_control.ZP,{className:"block-editor-hooks__layout-controls-unit-input",label:(0,build_module.__)("Wide"),labelPosition:"top",__unstableInputWidth:"80px",value:wideSize||contentSize||"",onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?"0":nextWidth,onChange({...layout,wideSize:nextWidth})},units:units}),(0,jsx_runtime.jsx)(icon.Z,{icon:stretch_wide.Z})]})]}),(0,jsx_runtime.jsx)("p",{className:"block-editor-hooks__layout-controls-helptext",children:(0,build_module.__)("Customize the width for all elements that are assigned to the center or wide columns.")})]}),allowJustification&&(0,jsx_runtime.jsx)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,label:(0,build_module.__)("Justification"),value:justifyContent,onChange:value=>{onChange({...layout,justifyContent:value})},children:justificationOptions.map((({value:value,icon:icon,label:label})=>(0,jsx_runtime.jsx)(toggle_group_control_option_icon_component.Z,{value:value,icon:icon,label:label},value)))})]})},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector:selector,layout:layout={},style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const{contentSize:contentSize,wideSize:wideSize,justifyContent:justifyContent}=layout,blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue="";shouldSkipSerialization(blockName,"spacing","blockGap")||(blockGapStyleValue?.top?blockGapValue=getGapCSSValue(blockGapStyleValue?.top):"string"==typeof blockGapStyleValue&&(blockGapValue=getGapCSSValue(blockGapStyleValue)));const marginLeft="left"===justifyContent?"0 !important":"auto !important",marginRight="right"===justifyContent?"0 !important":"auto !important";let output=contentSize||wideSize?`\n\t\t\t\t\t${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")} {\n\t\t\t\t\t\tmax-width: ${null!=contentSize?contentSize:wideSize};\n\t\t\t\t\t\tmargin-left: ${marginLeft};\n\t\t\t\t\t\tmargin-right: ${marginRight};\n\t\t\t\t\t}\n\t\t\t\t\t${appendSelectors(selector,"> .alignwide")}  {\n\t\t\t\t\t\tmax-width: ${null!=wideSize?wideSize:contentSize};\n\t\t\t\t\t}\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmax-width: none;\n\t\t\t\t\t}\n\t\t\t\t`:"";if("left"===justifyContent?output+=`${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-left: ${marginLeft}; }`:"right"===justifyContent&&(output+=`${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-right: ${marginRight}; }`),style?.spacing?.padding){(0,style_engine_build_module.R)(style).forEach((rule=>{"paddingRight"===rule.key?output+=`\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmargin-right: calc(${rule.value} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`:"paddingLeft"===rule.key&&(output+=`\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmargin-left: calc(${rule.value} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`)}))}return hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"constrained",blockGapValue)),output},getOrientation(){return"vertical"},getAlignments(layout){const alignmentInfo=getAlignmentsInfo(layout);if(void 0!==layout.alignments)return layout.alignments.includes("none")||layout.alignments.unshift("none"),layout.alignments.map((alignment=>({name:alignment,info:alignmentInfo[alignment]})));const{contentSize:contentSize,wideSize:wideSize}=layout,alignments=[{name:"left"},{name:"center"},{name:"right"}];return contentSize&&alignments.unshift({name:"full"}),wideSize&&alignments.unshift({name:"wide",info:alignmentInfo.wide}),alignments.unshift({name:"none",info:alignmentInfo.none}),alignments}},base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js");const RANGE_CONTROL_MAX_VALUES={px:600,"%":100,vw:100,vh:100,em:38,rem:38,svw:100,lvw:100,dvw:100,svh:100,lvh:100,dvh:100,vi:100,svi:100,lvi:100,dvi:100,vb:100,svb:100,lvb:100,dvb:100,vmin:100,svmin:100,lvmin:100,dvmin:100,vmax:100,svmax:100,lvmax:100,dvmax:100};var grid={name:"grid",label:(0,build_module.__)("Grid"),inspectorControls:function GridLayoutInspectorControls({layout:layout={},onChange:onChange}){return layout?.columnCount?(0,jsx_runtime.jsx)(GridLayoutColumnsControl,{layout:layout,onChange:onChange}):(0,jsx_runtime.jsx)(GridLayoutMinimumWidthControl,{layout:layout,onChange:onChange})},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector:selector,layout:layout,style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const{minimumColumnWidth:minimumColumnWidth="12rem",columnCount:columnCount=null}=layout,blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,"spacing","blockGap")?getGapCSSValue(style?.spacing?.blockGap,"0.5em"):void 0;let output="";const rules=[];return columnCount?rules.push(`grid-template-columns: repeat(${columnCount}, minmax(0, 1fr))`):minimumColumnWidth&&rules.push(`grid-template-columns: repeat(auto-fill, minmax(min(${minimumColumnWidth}, 100%), 1fr))`),rules.length&&(output=`${appendSelectors(selector)} { ${rules.join("; ")}; }`),hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"grid",blockGapValue)),output},getOrientation(){return"horizontal"},getAlignments(){return[]}};function GridLayoutMinimumWidthControl({layout:layout,onChange:onChange}){const{minimumColumnWidth:value="12rem"}=layout,[quantity,unit]=(0,utils.YX)(value);return(0,jsx_runtime.jsxs)("fieldset",{children:[(0,jsx_runtime.jsx)(base_control.ZP.VisualLabel,{as:"legend",children:(0,build_module.__)("Minimum column width")}),(0,jsx_runtime.jsxs)(flex_component.Z,{gap:4,children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{isBlock:!0,children:(0,jsx_runtime.jsx)(unit_control.ZP,{size:"__unstable-large",onChange:newValue=>{onChange({...layout,minimumColumnWidth:newValue})},onUnitChange:newUnit=>{let newValue;["em","rem"].includes(newUnit)&&"px"===unit?newValue=(quantity/16).toFixed(2)+newUnit:["em","rem"].includes(unit)&&"px"===newUnit?newValue=Math.round(16*quantity)+newUnit:["vh","vw","%","svw","lvw","dvw","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(newUnit)&&quantity>100&&(newValue=100+newUnit),onChange({...layout,minimumColumnWidth:newValue})},value:value,min:0})}),(0,jsx_runtime.jsx)(flex_item_component.Z,{isBlock:!0,children:(0,jsx_runtime.jsx)(range_control.Z,{onChange:next=>{onChange({...layout,minimumColumnWidth:[next,unit].join("")})},value:quantity,min:0,max:RANGE_CONTROL_MAX_VALUES[unit]||600,withInputField:!1})})]})]})}function GridLayoutColumnsControl({layout:layout,onChange:onChange}){const{columnCount:columnCount=3}=layout;return(0,jsx_runtime.jsx)(range_control.Z,{label:(0,build_module.__)("Columns"),value:columnCount,onChange:value=>onChange({...layout,columnCount:value}),min:1,max:6})}GridLayoutMinimumWidthControl.displayName="GridLayoutMinimumWidthControl",GridLayoutColumnsControl.displayName="GridLayoutColumnsControl";const layoutTypes=[flow,flex,constrained,grid];function getLayoutType(name="default"){return layoutTypes.find((layoutType=>layoutType.name===name))}const defaultLayout={type:"default"},Layout=(0,react.createContext)(defaultLayout),LayoutProvider=Layout.Provider;function Block({children:children,isHtml:isHtml,...props}){return(0,jsx_runtime.jsx)("div",{...useBlockProps(props,{__unstableIsHtml:isHtml}),children:children})}function BlockListBlock({block:{__unstableBlockSource:__unstableBlockSource},mode:mode,isLocked:isLocked,canRemove:canRemove,clientId:clientId,isSelected:isSelected,isSelectionEnabled:isSelectionEnabled,className:className,__unstableLayoutClassNames:layoutClassNames,name:name,isValid:isValid,attributes:attributes,wrapperProps:wrapperProps,setAttributes:setAttributes,onReplace:onReplace,onInsertBlocksAfter:onInsertBlocksAfter,onMerge:onMerge,toggleSelection:toggleSelection}){var _wrapperProps;const{themeSupportsLayout:themeSupportsLayout,isTemporarilyEditingAsBlocks:isTemporarilyEditingAsBlocks,blockEditingMode:blockEditingMode}=(0,use_select.Z)((select=>{const{getSettings:getSettings,__unstableGetTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks,getBlockEditingMode:getBlockEditingMode}=select(store.h);return{themeSupportsLayout:getSettings().supportsLayout,isTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===clientId,blockEditingMode:getBlockEditingMode(clientId)}}),[clientId]),{removeBlock:removeBlock}=(0,use_dispatch.Z)(store.h),onRemove=(0,react.useCallback)((()=>removeBlock(clientId)),[clientId]),parentLayout=function useLayout(){return(0,react.useContext)(Layout)}()||{};let blockEdit=(0,jsx_runtime.jsx)(BlockEdit,{name:name,isSelected:isSelected,attributes:attributes,setAttributes:setAttributes,insertBlocksAfter:isLocked?void 0:onInsertBlocksAfter,onReplace:canRemove?onReplace:void 0,onRemove:canRemove?onRemove:void 0,mergeBlocks:canRemove?onMerge:void 0,clientId:clientId,isSelectionEnabled:isSelectionEnabled,toggleSelection:toggleSelection,__unstableLayoutClassNames:layoutClassNames,__unstableParentLayout:Object.keys(parentLayout).length?parentLayout:void 0});const blockType=(0,blocks_build_module.ck)(name);"disabled"===blockEditingMode&&(wrapperProps={...wrapperProps,tabIndex:-1}),blockType?.getEditWrapperProps&&(wrapperProps=function mergeWrapperProps(propsA,propsB){const newProps={...propsA,...propsB};return propsA?.className&&propsB?.className&&(newProps.className=classnames_default()(propsA.className,propsB.className)),propsA?.style&&propsB?.style&&(newProps.style={...propsA.style,...propsB.style}),newProps}(wrapperProps,blockType.getEditWrapperProps(attributes)));const isAligned=wrapperProps&&!!wrapperProps["data-align"]&&!themeSupportsLayout;let block;if(isAligned&&(blockEdit=(0,jsx_runtime.jsx)("div",{className:"wp-block","data-align":wrapperProps["data-align"],children:blockEdit})),isValid)block="html"===mode?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{style:{display:"none"},children:blockEdit}),(0,jsx_runtime.jsx)(Block,{isHtml:!0,children:(0,jsx_runtime.jsx)(block_html,{clientId:clientId})})]}):blockType?.apiVersion>1?blockEdit:(0,jsx_runtime.jsx)(Block,{...wrapperProps,children:blockEdit});else{const saveContent=__unstableBlockSource?(0,blocks_build_module.rq)(__unstableBlockSource):(0,blocks_build_module.kD)(blockType,attributes);block=(0,jsx_runtime.jsxs)(Block,{className:"has-warning",children:[(0,jsx_runtime.jsx)(BlockInvalidWarning,{clientId:clientId}),(0,jsx_runtime.jsx)(raw_html.Z,{children:(0,safe_html.Z)(saveContent)})]})}const{"data-align":dataAlign,...restWrapperProps}=null!==(_wrapperProps=wrapperProps)&&void 0!==_wrapperProps?_wrapperProps:{},value={clientId:clientId,className:classnames_default()({"is-editing-disabled":"disabled"===blockEditingMode,"is-content-locked-temporarily-editing-as-blocks":isTemporarilyEditingAsBlocks},dataAlign&&themeSupportsLayout&&`align${dataAlign}`,className),wrapperProps:restWrapperProps,isAligned:isAligned},memoizedValue=(0,react.useMemo)((()=>value),Object.values(value));return(0,jsx_runtime.jsx)(BlockListBlockContext.Provider,{value:memoizedValue,children:(0,jsx_runtime.jsx)(block_crash_boundary,{fallback:(0,jsx_runtime.jsx)(Block,{className:"has-warning",children:(0,jsx_runtime.jsx)(block_crash_warning,{})}),children:block})})}Block.displayName="Block",BlockListBlock.displayName="BlockListBlock";const applyWithSelect=(0,with_select.Z)(((select,{clientId:clientId,rootClientId:rootClientId})=>{const{isBlockSelected:isBlockSelected,getBlockMode:getBlockMode,isSelectionEnabled:isSelectionEnabled,getTemplateLock:getTemplateLock,__unstableGetBlockWithoutInnerBlocks:__unstableGetBlockWithoutInnerBlocks,canRemoveBlock:canRemoveBlock,canMoveBlock:canMoveBlock}=select(store.h),block=__unstableGetBlockWithoutInnerBlocks(clientId),isSelected=isBlockSelected(clientId),templateLock=getTemplateLock(rootClientId),canRemove=canRemoveBlock(clientId,rootClientId),canMove=canMoveBlock(clientId,rootClientId),{name:name,attributes:attributes,isValid:isValid}=block||{};return{mode:getBlockMode(clientId),isSelectionEnabled:isSelectionEnabled(),isLocked:!!templateLock,canRemove:canRemove,canMove:canMove,block:block,name:name,attributes:attributes,isValid:isValid,isSelected:isSelected}})),applyWithDispatch=(0,with_dispatch.Z)(((dispatch,ownProps,registry)=>{const{updateBlockAttributes:updateBlockAttributes,insertBlocks:insertBlocks,mergeBlocks:mergeBlocks,replaceBlocks:replaceBlocks,toggleSelection:toggleSelection,__unstableMarkLastChangeAsPersistent:__unstableMarkLastChangeAsPersistent,moveBlocksToPosition:moveBlocksToPosition,removeBlock:removeBlock}=dispatch(store.h);return{setAttributes(newAttributes){const{getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds}=registry.select(store.h),multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(),{clientId:clientId}=ownProps,clientIds=multiSelectedBlockClientIds.length?multiSelectedBlockClientIds:[clientId];updateBlockAttributes(clientIds,newAttributes)},onInsertBlocks(blocks,index){const{rootClientId:rootClientId}=ownProps;insertBlocks(blocks,index,rootClientId)},onInsertBlocksAfter(blocks){const{clientId:clientId,rootClientId:rootClientId}=ownProps,{getBlockIndex:getBlockIndex}=registry.select(store.h),index=getBlockIndex(clientId);insertBlocks(blocks,index+1,rootClientId)},onMerge(forward){const{clientId:clientId,rootClientId:rootClientId}=ownProps,{getPreviousBlockClientId:getPreviousBlockClientId,getNextBlockClientId:getNextBlockClientId,getBlock:getBlock,getBlockAttributes:getBlockAttributes,getBlockName:getBlockName,getBlockOrder:getBlockOrder,getBlockIndex:getBlockIndex,getBlockRootClientId:getBlockRootClientId,canInsertBlockType:canInsertBlockType}=registry.select(store.h);function moveFirstItemUp(_clientId,changeSelection=!0){const targetRootClientId=getBlockRootClientId(_clientId),blockOrder=getBlockOrder(_clientId),[firstClientId]=blockOrder;1===blockOrder.length&&(0,blocks_build_module.pe)(getBlock(firstClientId))?removeBlock(_clientId):registry.batch((()=>{if(canInsertBlockType(getBlockName(firstClientId),targetRootClientId))moveBlocksToPosition([firstClientId],_clientId,targetRootClientId,getBlockIndex(_clientId));else{const replacement=(0,blocks_build_module.m4)(getBlock(firstClientId),(0,blocks_build_module.UT)());replacement&&replacement.length&&(insertBlocks(replacement,getBlockIndex(_clientId),targetRootClientId,changeSelection),removeBlock(firstClientId,!1))}!getBlockOrder(_clientId).length&&(0,blocks_build_module.pe)(getBlock(_clientId))&&removeBlock(_clientId,!1)}))}if(forward){if(rootClientId){const nextRootClientId=getNextBlockClientId(rootClientId);if(nextRootClientId){if(getBlockName(rootClientId)!==getBlockName(nextRootClientId))return void mergeBlocks(rootClientId,nextRootClientId);{const rootAttributes=getBlockAttributes(rootClientId),previousRootAttributes=getBlockAttributes(nextRootClientId);if(Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key])))return void registry.batch((()=>{moveBlocksToPosition(getBlockOrder(nextRootClientId),nextRootClientId,rootClientId),removeBlock(nextRootClientId,!1)}))}}}const nextBlockClientId=getNextBlockClientId(clientId);if(!nextBlockClientId)return;getBlockOrder(nextBlockClientId).length?moveFirstItemUp(nextBlockClientId,!1):mergeBlocks(clientId,nextBlockClientId)}else{const previousBlockClientId=getPreviousBlockClientId(clientId);if(previousBlockClientId)mergeBlocks(previousBlockClientId,clientId);else if(rootClientId){const previousRootClientId=getPreviousBlockClientId(rootClientId);if(previousRootClientId&&getBlockName(rootClientId)===getBlockName(previousRootClientId)){const rootAttributes=getBlockAttributes(rootClientId),previousRootAttributes=getBlockAttributes(previousRootClientId);if(Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key])))return void registry.batch((()=>{moveBlocksToPosition(getBlockOrder(rootClientId),rootClientId,previousRootClientId),removeBlock(rootClientId,!1)}))}moveFirstItemUp(rootClientId)}else removeBlock(clientId)}},onReplace(blocks,indexToSelect,initialPosition){blocks.length&&!(0,blocks_build_module.ZP)(blocks[blocks.length-1])&&__unstableMarkLastChangeAsPersistent();const replacementBlocks=1===blocks?.length&&Array.isArray(blocks[0])?blocks[0]:blocks;replaceBlocks([ownProps.clientId],replacementBlocks,indexToSelect,initialPosition)},toggleSelection(selectionEnabled){toggleSelection(selectionEnabled)}}}));BlockListBlock.__docgenInfo={description:"",methods:[],displayName:"BlockListBlock"};var block=(0,compose.Z)(pure.Z,applyWithSelect,applyWithDispatch,(0,if_condition.Z)((({block:block})=>!!block)),(0,with_filters.Z)("editor.BlockListBlock"))(BlockListBlock),html_entities_build_module=__webpack_require__("./packages/html-entities/build-module/index.js"),a11y_build_module=__webpack_require__("./packages/a11y/build-module/index.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js"),use_async_list=__webpack_require__("./packages/compose/build-module/hooks/use-async-list/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),truncate_component=__webpack_require__("./packages/components/build-module/truncate/component.js"),platform=__webpack_require__("./packages/keycodes/build-module/platform.js");const{CompositeItemV2:CompositeItem}=(0,lock_unlock.U)(private_apis.YH);function InserterListboxItem({isFirst:isFirst,as:Component,children:children,...props},ref){return(0,jsx_runtime.jsx)(CompositeItem,{ref:ref,role:"option",accessibleWhenDisabled:!0,...props,render:htmlProps=>{const propsWithTabIndex={...htmlProps,tabIndex:isFirst?0:htmlProps.tabIndex};return Component?(0,jsx_runtime.jsx)(Component,{...propsWithTabIndex,children:children}):"function"==typeof children?children(propsWithTabIndex):(0,jsx_runtime.jsx)(build_module_button.ZP,{...propsWithTabIndex,children:children})}})}InserterListboxItem.displayName="InserterListboxItem",InserterListboxItem.__docgenInfo={description:"",methods:[],displayName:"InserterListboxItem"};var inserter_listbox_item=(0,react.forwardRef)(InserterListboxItem),draggable=__webpack_require__("./packages/components/build-module/draggable/index.js"),draggable_chip=__webpack_require__("./packages/block-editor/src/components/block-draggable/draggable-chip.js");const InserterDraggableBlocks=({isEnabled:isEnabled,blocks:blocks,icon:icon,children:children,isPattern:isPattern})=>{const transferData={type:"inserter",blocks:blocks},blockTypeIcon=(0,use_select.Z)((select=>{const{getBlockType:getBlockType}=select(blocks_build_module.h);return 1===blocks.length&&getBlockType(blocks[0].name)?.icon}),[blocks]);return(0,jsx_runtime.jsx)(draggable.Z,{__experimentalTransferDataType:"wp-blocks",transferData:transferData,onDragStart:event=>{event.dataTransfer.setData("text/html",(0,blocks_build_module.qC)(blocks))},__experimentalDragComponent:(0,jsx_runtime.jsx)(draggable_chip.Z,{count:blocks.length,icon:icon||!isPattern&&blockTypeIcon,isPattern:isPattern}),children:({onDraggableStart:onDraggableStart,onDraggableEnd:onDraggableEnd})=>children({draggable:isEnabled,onDragStart:isEnabled?onDraggableStart:void 0,onDragEnd:isEnabled?onDraggableEnd:void 0})})};InserterDraggableBlocks.displayName="InserterDraggableBlocks",InserterDraggableBlocks.__docgenInfo={description:"",methods:[],displayName:"InserterDraggableBlocks"};var inserter_draggable_blocks=InserterDraggableBlocks;function InserterListItem({className:className,isFirst:isFirst,item:item,onSelect:onSelect,onHover:onHover,isDraggable:isDraggable,...props}){const isDragging=(0,react.useRef)(!1),itemIconStyle=item.icon?{backgroundColor:item.icon.background,color:item.icon.foreground}:{},blocks=(0,react.useMemo)((()=>[(0,blocks_build_module.j4)(item.name,item.initialAttributes,(0,blocks_build_module.ne)(item.innerBlocks))]),[item.name,item.initialAttributes,item.initialAttributes]),isSynced=(0,blocks_build_module.vr)(item)&&"unsynced"!==item.syncStatus||(0,blocks_build_module.zQ)(item);return(0,jsx_runtime.jsx)(inserter_draggable_blocks,{isEnabled:isDraggable&&!item.disabled,blocks:blocks,icon:item.icon,children:({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,jsx_runtime.jsx)("div",{className:classnames_default()("block-editor-block-types-list__list-item",{"is-synced":isSynced}),draggable:draggable,onDragStart:event=>{isDragging.current=!0,onDragStart&&(onHover(null),onDragStart(event))},onDragEnd:event=>{isDragging.current=!1,onDragEnd&&onDragEnd(event)},children:(0,jsx_runtime.jsxs)(inserter_listbox_item,{isFirst:isFirst,className:classnames_default()("block-editor-block-types-list__item",className),disabled:item.isDisabled,onClick:event=>{event.preventDefault(),onSelect(item,(0,platform.R)()?event.metaKey:event.ctrlKey),onHover(null)},onKeyDown:event=>{const{keyCode:keyCode}=event;keyCode===keycodes_build_module.K5&&(event.preventDefault(),onSelect(item,(0,platform.R)()?event.metaKey:event.ctrlKey),onHover(null))},onMouseEnter:()=>{isDragging.current||onHover(item)},onMouseLeave:()=>onHover(null),...props,children:[(0,jsx_runtime.jsx)("span",{className:"block-editor-block-types-list__item-icon",style:itemIconStyle,children:(0,jsx_runtime.jsx)(block_icon.Z,{icon:item.icon,showColors:!0})}),(0,jsx_runtime.jsx)("span",{className:"block-editor-block-types-list__item-title",children:(0,jsx_runtime.jsx)(truncate_component.Z,{numberOfLines:3,children:item.title})})]})})})}InserterListItem.displayName="InserterListItem",InserterListItem.__docgenInfo={description:"",methods:[],displayName:"InserterListItem"};var inserter_list_item=(0,react.memo)(InserterListItem);function InserterListboxGroup(props,ref){const[shouldSpeak,setShouldSpeak]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{shouldSpeak&&(0,a11y_build_module.D)((0,build_module.__)("Use left and right arrow keys to move through blocks"))}),[shouldSpeak]),(0,jsx_runtime.jsx)("div",{ref:ref,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{setShouldSpeak(!0)},onBlur:event=>{!event.currentTarget.contains(event.relatedTarget)&&setShouldSpeak(!1)},...props})}InserterListboxGroup.displayName="InserterListboxGroup",InserterListboxGroup.__docgenInfo={description:"",methods:[],displayName:"InserterListboxGroup"};var group=(0,react.forwardRef)(InserterListboxGroup);const{CompositeGroupV2:CompositeGroup}=(0,lock_unlock.U)(private_apis.YH);function InserterListboxRow(props,ref){return(0,jsx_runtime.jsx)(CompositeGroup,{role:"presentation",ref:ref,...props})}InserterListboxRow.displayName="InserterListboxRow",InserterListboxRow.__docgenInfo={description:"",methods:[],displayName:"InserterListboxRow"};var inserter_listbox_row=(0,react.forwardRef)(InserterListboxRow);function chunk(array,size){const chunks=[];for(let i=0,j=array.length;i<j;i+=size)chunks.push(array.slice(i,i+size));return chunks}function BlockTypesList({items:items=[],onSelect:onSelect,onHover:onHover=(()=>{}),children:children,label:label,isDraggable:isDraggable=!0}){const className="block-editor-block-types-list",listId=(0,use_instance_id.Z)(BlockTypesList,className);return(0,jsx_runtime.jsxs)(group,{className:className,"aria-label":label,children:[chunk(items,3).map(((row,i)=>(0,jsx_runtime.jsx)(inserter_listbox_row,{children:row.map(((item,j)=>(0,jsx_runtime.jsx)(inserter_list_item,{item:item,className:(0,blocks_build_module.hq)(item.id),onSelect:onSelect,onHover:onHover,isDraggable:isDraggable&&!item.isDisabled,isFirst:0===i&&0===j,rowId:`${listId}-${i}`},item.id)))},i))),children]})}BlockTypesList.displayName="BlockTypesList",BlockTypesList.__docgenInfo={description:"",methods:[],displayName:"BlockTypesList",props:{items:{defaultValue:{value:"[]",computed:!1},required:!1},onHover:{defaultValue:{value:"() => {}",computed:!1},required:!1},isDraggable:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_types_list=BlockTypesList,tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),symbol=__webpack_require__("./packages/icons/build-module/library/symbol.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js");function Pagination({currentPage:currentPage,numPages:numPages,changePage:changePage,totalItems:totalItems}){return(0,jsx_runtime.jsxs)(v_stack_component.Z,{className:"block-editor-patterns__grid-pagination-wrapper",children:[(0,jsx_runtime.jsx)(text_component.Z,{variant:"muted",children:(0,build_module.gB)((0,build_module._n)("%s item","%s items",totalItems),totalItems)}),numPages>1&&(0,jsx_runtime.jsxs)(h_stack_component.Z,{expanded:!1,spacing:3,justify:"flex-start",className:"block-editor-patterns__grid-pagination",children:[(0,jsx_runtime.jsxs)(h_stack_component.Z,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-previous",children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(1),disabled:1===currentPage,"aria-label":(0,build_module.__)("First page"),children:(0,jsx_runtime.jsx)("span",{children:"«"})}),(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(currentPage-1),disabled:1===currentPage,"aria-label":(0,build_module.__)("Previous page"),children:(0,jsx_runtime.jsx)("span",{children:"‹"})})]}),(0,jsx_runtime.jsx)(text_component.Z,{variant:"muted",children:(0,build_module.gB)((0,build_module._x)("%1$s of %2$s","paging"),currentPage,numPages)}),(0,jsx_runtime.jsxs)(h_stack_component.Z,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-next",children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(currentPage+1),disabled:currentPage===numPages,"aria-label":(0,build_module.__)("Next page"),children:(0,jsx_runtime.jsx)("span",{children:"›"})}),(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(numPages),disabled:currentPage===numPages,"aria-label":(0,build_module.__)("Last page"),size:"default",children:(0,jsx_runtime.jsx)("span",{children:"»"})})]})]})]})}Pagination.displayName="Pagination",Pagination.__docgenInfo={description:"",methods:[],displayName:"Pagination"};var block_patterns_tab_utils=__webpack_require__("./packages/block-editor/src/components/inserter/block-patterns-tab/utils.js");const{CompositeV2:Composite,CompositeItemV2:block_patterns_list_CompositeItem,useCompositeStoreV2:useCompositeStore}=(0,lock_unlock.U)(private_apis.YH),WithToolTip=({showTooltip:showTooltip,title:title,children:children})=>showTooltip?(0,jsx_runtime.jsx)(tooltip.Z,{text:title,children:children}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children});function BlockPattern({id:id,isDraggable:isDraggable,pattern:pattern,onClick:onClick,onHover:onHover,showTooltip:showTooltip}){const[isDragging,setIsDragging]=(0,react.useState)(!1),{blocks:blocks,viewportWidth:viewportWidth}=pattern,descriptionId=`block-editor-block-patterns-list__item-description-${(0,use_instance_id.Z)(BlockPattern)}`;return(0,jsx_runtime.jsx)(inserter_draggable_blocks,{isEnabled:isDraggable,blocks:blocks,isPattern:!!pattern,children:({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,jsx_runtime.jsx)("div",{className:"block-editor-block-patterns-list__list-item",draggable:draggable,onDragStart:event=>{setIsDragging(!0),onDragStart&&(onHover?.(null),onDragStart(event))},onDragEnd:event=>{setIsDragging(!1),onDragEnd&&onDragEnd(event)},children:(0,jsx_runtime.jsx)(WithToolTip,{showTooltip:showTooltip&&!pattern.type!==block_patterns_tab_utils.qy.user,title:pattern.title,children:(0,jsx_runtime.jsxs)(block_patterns_list_CompositeItem,{render:(0,jsx_runtime.jsx)("div",{role:"option","aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:void 0,className:classnames_default()("block-editor-block-patterns-list__item",{"block-editor-block-patterns-list__list-item-synced":pattern.type===block_patterns_tab_utils.qy.user&&!pattern.syncStatus})}),id:id,onClick:()=>{onClick(pattern,blocks),onHover?.(null)},onMouseEnter:()=>{isDragging||onHover?.(pattern)},onMouseLeave:()=>onHover?.(null),children:[(0,jsx_runtime.jsx)(block_preview,{blocks:blocks,viewportWidth:viewportWidth}),(0,jsx_runtime.jsxs)(h_stack_component.Z,{className:"block-editor-patterns__pattern-details",children:[pattern.type===block_patterns_tab_utils.qy.user&&!pattern.syncStatus&&(0,jsx_runtime.jsx)("div",{className:"block-editor-patterns__pattern-icon-wrapper",children:(0,jsx_runtime.jsx)(icon.Z,{className:"block-editor-patterns__pattern-icon",icon:symbol.Z})}),(!showTooltip||pattern.type===block_patterns_tab_utils.qy.user)&&(0,jsx_runtime.jsx)("div",{className:"block-editor-block-patterns-list__item-title",children:pattern.title})]}),!!pattern.description&&(0,jsx_runtime.jsx)(component.Z,{id:descriptionId,children:pattern.description})]})})})})}function BlockPatternPlaceholder(){return(0,jsx_runtime.jsx)("div",{className:"block-editor-block-patterns-list__item is-placeholder"})}function BlockPatternsList({isDraggable:isDraggable,blockPatterns:blockPatterns,shownPatterns:shownPatterns,onHover:onHover,onClickPattern:onClickPattern,orientation:orientation,label:label=(0,build_module.__)("Block patterns"),showTitlesAsTooltip:showTitlesAsTooltip,pagingProps:pagingProps},ref){const compositeStore=useCompositeStore({orientation:orientation}),{setActiveId:setActiveId}=compositeStore;return(0,react.useEffect)((()=>{setActiveId(void 0)}),[setActiveId,shownPatterns,blockPatterns]),(0,jsx_runtime.jsxs)(Composite,{store:compositeStore,role:"listbox",className:"block-editor-block-patterns-list","aria-label":label,ref:ref,children:[blockPatterns.map((pattern=>shownPatterns.includes(pattern)?(0,jsx_runtime.jsx)(BlockPattern,{id:pattern.name,pattern:pattern,onClick:onClickPattern,onHover:onHover,isDraggable:isDraggable,showTooltip:showTitlesAsTooltip},pattern.name):(0,jsx_runtime.jsx)(BlockPatternPlaceholder,{},pattern.name))),pagingProps&&(0,jsx_runtime.jsx)(Pagination,{...pagingProps})]})}BlockPattern.displayName="BlockPattern",BlockPatternPlaceholder.displayName="BlockPatternPlaceholder",BlockPatternsList.displayName="BlockPatternsList",BlockPatternsList.__docgenInfo={description:"",methods:[],displayName:"BlockPatternsList",props:{label:{defaultValue:{value:"__( 'Block patterns' )",computed:!0},required:!1}}};var block_patterns_list=(0,react.forwardRef)(BlockPatternsList);const{Fill:__unstableInserterMenuExtension,Slot:Slot}=(0,slot_fill.up)("__unstableInserterMenuExtension");__unstableInserterMenuExtension.Slot=Slot;var inserter_menu_extension=__unstableInserterMenuExtension,build_module_icon=__webpack_require__("./packages/components/build-module/icon/index.js");function InserterPanel({title:title,icon:icon,children:children}){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__panel-header",children:[(0,jsx_runtime.jsx)("h2",{className:"block-editor-inserter__panel-title",children:title}),(0,jsx_runtime.jsx)(build_module_icon.Z,{icon:icon})]}),(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__panel-content",children:children})]})}InserterPanel.__docgenInfo={description:"",methods:[],displayName:"InserterPanel"};var panel=InserterPanel,block_default=__webpack_require__("./packages/icons/build-module/library/block-default.js");function InserterNoResults(){return(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__no-results",children:[(0,jsx_runtime.jsx)(icon.Z,{className:"block-editor-inserter__no-results-icon",icon:block_default.Z}),(0,jsx_runtime.jsx)("p",{children:(0,build_module.__)("No results found.")})]})}InserterNoResults.displayName="InserterNoResults",InserterNoResults.__docgenInfo={description:"",methods:[],displayName:"InserterNoResults"};var no_results=InserterNoResults;var use_insertion_point=function useInsertionPoint({rootClientId:rootClientId="",insertionIndex:insertionIndex,clientId:clientId,isAppender:isAppender,onSelect:onSelect,shouldFocusBlock:shouldFocusBlock=!0,selectBlockOnInsert:selectBlockOnInsert=!0}){const{getSelectedBlock:getSelectedBlock}=(0,use_select.Z)(store.h),{destinationRootClientId:destinationRootClientId,destinationIndex:destinationIndex}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId:getSelectedBlockClientId,getBlockRootClientId:getBlockRootClientId,getBlockIndex:getBlockIndex,getBlockOrder:getBlockOrder}=select(store.h),selectedBlockClientId=getSelectedBlockClientId();let _destinationIndex,_destinationRootClientId=rootClientId;return void 0!==insertionIndex?_destinationIndex=insertionIndex:clientId?_destinationIndex=getBlockIndex(clientId):!isAppender&&selectedBlockClientId?(_destinationRootClientId=getBlockRootClientId(selectedBlockClientId),_destinationIndex=getBlockIndex(selectedBlockClientId)+1):_destinationIndex=getBlockOrder(_destinationRootClientId).length,{destinationRootClientId:_destinationRootClientId,destinationIndex:_destinationIndex}}),[rootClientId,insertionIndex,clientId,isAppender]),{replaceBlocks:replaceBlocks,insertBlocks:insertBlocks,showInsertionPoint:showInsertionPoint,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store.h),onInsertBlocks=(0,react.useCallback)(((blocks,meta,shouldForceFocusBlock=!1)=>{const selectedBlock=getSelectedBlock();!isAppender&&selectedBlock&&(0,blocks_build_module.ZP)(selectedBlock)?replaceBlocks(selectedBlock.clientId,blocks,null,shouldFocusBlock||shouldForceFocusBlock?0:null,meta):insertBlocks(blocks,destinationIndex,destinationRootClientId,selectBlockOnInsert,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);const blockLength=Array.isArray(blocks)?blocks.length:1,message=(0,build_module.gB)((0,build_module._n)("%d block added.","%d blocks added.",blockLength),blockLength);(0,a11y_build_module.D)(message),onSelect&&onSelect(blocks)}),[isAppender,getSelectedBlock,replaceBlocks,insertBlocks,destinationRootClientId,destinationIndex,onSelect,shouldFocusBlock,selectBlockOnInsert]),onToggleInsertionPoint=(0,react.useCallback)((show=>{show?showInsertionPoint(destinationRootClientId,destinationIndex):hideInsertionPoint()}),[showInsertionPoint,hideInsertionPoint,destinationRootClientId,destinationIndex]);return[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]},notices_build_module=__webpack_require__("./packages/notices/build-module/index.js");var use_patterns_state=(onInsert,rootClientId)=>{const{patternCategories:patternCategories,patterns:patterns,userPatternCategories:userPatternCategories}=(0,use_select.Z)((select=>{const{__experimentalGetAllowedPatterns:__experimentalGetAllowedPatterns,getSettings:getSettings}=select(store.h),{__experimentalUserPatternCategories:__experimentalUserPatternCategories,__experimentalBlockPatternCategories:__experimentalBlockPatternCategories}=getSettings();return{patterns:__experimentalGetAllowedPatterns(rootClientId),userPatternCategories:__experimentalUserPatternCategories,patternCategories:__experimentalBlockPatternCategories}}),[rootClientId]),allCategories=(0,react.useMemo)((()=>{const categories=[...patternCategories];return userPatternCategories?.forEach((userCategory=>{categories.find((existingCategory=>existingCategory.name===userCategory.name))||categories.push(userCategory)})),categories}),[patternCategories,userPatternCategories]),{createSuccessNotice:createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h),onClickPattern=(0,react.useCallback)(((pattern,blocks)=>{const patternBlocks=pattern.type===block_patterns_tab_utils.qy.user&&"unsynced"!==pattern.syncStatus?[(0,blocks_build_module.j4)("core/block",{ref:pattern.id})]:blocks;onInsert((null!=patternBlocks?patternBlocks:[]).map((block=>(0,blocks_build_module.Wm)(block))),pattern.name),createSuccessNotice((0,build_module.gB)((0,build_module.__)('Block pattern "%s" inserted.'),pattern.title),{type:"snackbar",id:"block-pattern-inserted-notice"})}),[createSuccessNotice,onInsert]);return[patterns,allCategories,onClickPattern]};var use_block_types_state=(rootClientId,onInsert)=>{const{categories:categories,collections:collections,items:items}=(0,use_select.Z)((select=>{const{getInserterItems:getInserterItems}=select(store.h),{getCategories:getCategories,getCollections:getCollections}=select(blocks_build_module.h);return{categories:getCategories(),collections:getCollections(),items:getInserterItems(rootClientId)}}),[rootClientId]);return[items,categories,collections,(0,react.useCallback)((({name:name,initialAttributes:initialAttributes,innerBlocks:innerBlocks,syncStatus:syncStatus,content:content},shouldFocusBlock)=>{const insertedBlock="unsynced"===syncStatus?(0,blocks_build_module.Qc)(content,{__unstableSkipMigrationLogs:!0}):(0,blocks_build_module.j4)(name,initialAttributes,(0,blocks_build_module.ne)(innerBlocks));onInsert(insertedBlock,void 0,shouldFocusBlock)}),[onInsert])]},remove_accents=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents_default=__webpack_require__.n(remove_accents),dist_es2015=__webpack_require__("./node_modules/no-case/dist.es2015/index.js");const defaultGetName=item=>item.name||"",defaultGetTitle=item=>item.title,defaultGetDescription=item=>item.description||"",defaultGetKeywords=item=>item.keywords||[],defaultGetCategory=item=>item.category,defaultGetCollection=()=>null;function extractWords(input=""){return(0,dist_es2015.B)(input,{splitRegexp:[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu],stripRegexp:/(\p{C}|\p{P}|\p{S})+/giu}).split(" ").filter(Boolean)}function normalizeSearchInput(input=""){return input=(input=(input=remove_accents_default()(input)).replace(/^\//,"")).toLowerCase()}const getNormalizedSearchTerms=(input="")=>extractWords(normalizeSearchInput(input)),searchItems=(items=[],searchInput="",config={})=>{if(0===getNormalizedSearchTerms(searchInput).length)return items;const rankedItems=items.map((item=>[item,getItemSearchRank(item,searchInput,config)])).filter((([,rank])=>rank>0));return rankedItems.sort((([,rank1],[,rank2])=>rank2-rank1)),rankedItems.map((([item])=>item))};function getItemSearchRank(item,searchTerm,config={}){const{getName:getName=defaultGetName,getTitle:getTitle=defaultGetTitle,getDescription:getDescription=defaultGetDescription,getKeywords:getKeywords=defaultGetKeywords,getCategory:getCategory=defaultGetCategory,getCollection:getCollection=defaultGetCollection}=config,name=getName(item),title=getTitle(item),description=getDescription(item),keywords=getKeywords(item),category=getCategory(item),collection=getCollection(item),normalizedSearchInput=normalizeSearchInput(searchTerm),normalizedTitle=normalizeSearchInput(title);let rank=0;if(normalizedSearchInput===normalizedTitle)rank+=30;else if(normalizedTitle.startsWith(normalizedSearchInput))rank+=20;else{const terms=[name,title,description,...keywords,category,collection].join(" ");0===((unmatchedTerms,unprocessedTerms)=>unmatchedTerms.filter((term=>!getNormalizedSearchTerms(unprocessedTerms).some((unprocessedTerm=>unprocessedTerm.includes(term))))))(extractWords(normalizedSearchInput),terms).length&&(rank+=10)}if(0!==rank&&name.startsWith("core/")){rank+=name!==item.id?1:2}return rank}const{CompositeV2:inserter_listbox_Composite,useCompositeStoreV2:inserter_listbox_useCompositeStore}=(0,lock_unlock.U)(private_apis.YH);function InserterListbox({children:children}){const store=inserter_listbox_useCompositeStore({focusShift:!0,focusWrap:"horizontal"});return(0,jsx_runtime.jsx)(inserter_listbox_Composite,{store:store,render:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{}),children:children})}InserterListbox.displayName="InserterListbox",InserterListbox.__docgenInfo={description:"",methods:[],displayName:"InserterListbox"};var inserter_listbox=InserterListbox,sorting=__webpack_require__("./packages/block-editor/src/utils/sorting.js");const EMPTY_ARRAY=[];function InserterSearchResults({filterValue:filterValue,onSelect:onSelect,onHover:onHover,onHoverPattern:onHoverPattern,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,maxBlockPatterns:maxBlockPatterns,maxBlockTypes:maxBlockTypes,showBlockDirectory:showBlockDirectory=!1,isDraggable:isDraggable=!0,shouldFocusBlock:shouldFocusBlock=!0,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert}){const debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),{prioritizedBlocks:prioritizedBlocks}=(0,use_select.Z)((select=>{const blockListSettings=select(store.h).getBlockListSettings(rootClientId);return{prioritizedBlocks:blockListSettings?.prioritizedInserterBlocks||EMPTY_ARRAY}}),[rootClientId]),[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock:shouldFocusBlock,selectBlockOnInsert:selectBlockOnInsert}),[blockTypes,blockTypeCategories,blockTypeCollections,onSelectBlockType]=use_block_types_state(destinationRootClientId,onInsertBlocks),[patterns,,onClickPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId),filteredBlockPatterns=(0,react.useMemo)((()=>{if(0===maxBlockPatterns)return[];const results=searchItems(patterns,filterValue);return void 0!==maxBlockPatterns?results.slice(0,maxBlockPatterns):results}),[filterValue,patterns,maxBlockPatterns]);let maxBlockTypesToShow=maxBlockTypes;prioritizePatterns&&filteredBlockPatterns.length>2&&(maxBlockTypesToShow=0);const filteredBlockTypes=(0,react.useMemo)((()=>{if(0===maxBlockTypesToShow)return[];const nonPatternBlockTypes=blockTypes.filter((blockType=>"core/block"!==blockType.name));let orderedItems=(0,sorting.X)(nonPatternBlockTypes,"frecency","desc");var items,priority;!filterValue&&prioritizedBlocks.length&&(items=orderedItems,orderedItems=(priority=prioritizedBlocks)?(items.sort((({id:aName},{id:bName})=>{let aIndex=priority.indexOf(aName),bIndex=priority.indexOf(bName);return aIndex<0&&(aIndex=priority.length),bIndex<0&&(bIndex=priority.length),aIndex-bIndex})),items):items);const results=((items,categories,collections,searchInput)=>0===getNormalizedSearchTerms(searchInput).length?items:searchItems(items,searchInput,{getCategory:item=>categories.find((({slug:slug})=>slug===item.category))?.title,getCollection:item=>collections[item.name.split("/")[0]]?.title}))(orderedItems,blockTypeCategories,blockTypeCollections,filterValue);return void 0!==maxBlockTypesToShow?results.slice(0,maxBlockTypesToShow):results}),[filterValue,blockTypes,blockTypeCategories,blockTypeCollections,maxBlockTypesToShow,prioritizedBlocks]);(0,react.useEffect)((()=>{if(!filterValue)return;const count=filteredBlockTypes.length+filteredBlockPatterns.length,resultsFoundMessage=(0,build_module.gB)((0,build_module._n)("%d result found.","%d results found.",count),count);debouncedSpeak(resultsFoundMessage)}),[filterValue,debouncedSpeak,filteredBlockTypes,filteredBlockPatterns]);const currentShownBlockTypes=(0,use_async_list.Z)(filteredBlockTypes,{step:9}),currentShownPatterns=(0,use_async_list.Z)(currentShownBlockTypes.length===filteredBlockTypes.length?filteredBlockPatterns:EMPTY_ARRAY),hasItems=filteredBlockTypes.length>0||filteredBlockPatterns.length>0,blocksUI=!!filteredBlockTypes.length&&(0,jsx_runtime.jsx)(panel,{title:(0,jsx_runtime.jsx)(component.Z,{children:(0,build_module.__)("Blocks")}),children:(0,jsx_runtime.jsx)(block_types_list,{items:currentShownBlockTypes,onSelect:onSelectBlockType,onHover:onHover,label:(0,build_module.__)("Blocks"),isDraggable:isDraggable})}),patternsUI=!!filteredBlockPatterns.length&&(0,jsx_runtime.jsx)(panel,{title:(0,jsx_runtime.jsx)(component.Z,{children:(0,build_module.__)("Block patterns")}),children:(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__quick-inserter-patterns",children:(0,jsx_runtime.jsx)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:filteredBlockPatterns,onClickPattern:onClickPattern,onHover:onHoverPattern,isDraggable:isDraggable})})});return(0,jsx_runtime.jsxs)(inserter_listbox,{children:[!showBlockDirectory&&!hasItems&&(0,jsx_runtime.jsx)(no_results,{}),prioritizePatterns?patternsUI:blocksUI,!!filteredBlockTypes.length&&!!filteredBlockPatterns.length&&(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__quick-inserter-separator"}),prioritizePatterns?blocksUI:patternsUI,showBlockDirectory&&(0,jsx_runtime.jsx)(inserter_menu_extension.Slot,{fillProps:{onSelect:onSelectBlockType,onHover:onHover,filterValue:filterValue,hasItems:hasItems,rootClientId:destinationRootClientId},children:fills=>fills.length?fills:hasItems?null:(0,jsx_runtime.jsx)(no_results,{})})]})}InserterSearchResults.displayName="InserterSearchResults",InserterSearchResults.__docgenInfo={description:"",methods:[],displayName:"InserterSearchResults",props:{showBlockDirectory:{defaultValue:{value:"false",computed:!1},required:!1},isDraggable:{defaultValue:{value:"true",computed:!1},required:!1},shouldFocusBlock:{defaultValue:{value:"true",computed:!1},required:!1}}};var search_results=InserterSearchResults;function QuickInserter({onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert}){const[filterValue,setFilterValue]=(0,react.useState)(""),[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,selectBlockOnInsert:selectBlockOnInsert}),[blockTypes]=use_block_types_state(destinationRootClientId,onInsertBlocks),[patterns]=use_patterns_state(onInsertBlocks,destinationRootClientId),{setInserterIsOpened:setInserterIsOpened,insertionIndex:insertionIndex}=(0,use_select.Z)((select=>{const{getSettings:getSettings,getBlockIndex:getBlockIndex,getBlockCount:getBlockCount}=select(store.h),settings=getSettings(),index=getBlockIndex(clientId),blockCount=getBlockCount();return{setInserterIsOpened:settings.__experimentalSetIsInserterOpened,insertionIndex:-1===index?blockCount:index}}),[clientId]),showPatterns=patterns.length&&(!!filterValue||prioritizePatterns),showSearch=showPatterns&&patterns.length>6||blockTypes.length>6;(0,react.useEffect)((()=>{setInserterIsOpened&&setInserterIsOpened(!1)}),[setInserterIsOpened]);let maxBlockPatterns=0;return showPatterns&&(maxBlockPatterns=prioritizePatterns?4:2),(0,jsx_runtime.jsxs)("div",{className:classnames_default()("block-editor-inserter__quick-inserter",{"has-search":showSearch,"has-expand":setInserterIsOpened}),children:[showSearch&&(0,jsx_runtime.jsx)(search_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",value:filterValue,onChange:value=>{setFilterValue(value)},label:(0,build_module.__)("Search for blocks and patterns"),placeholder:(0,build_module.__)("Search")}),(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__quick-inserter-results",children:(0,jsx_runtime.jsx)(search_results,{filterValue:filterValue,onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,maxBlockPatterns:maxBlockPatterns,maxBlockTypes:6,isDraggable:!1,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert})}),setInserterIsOpened&&(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"block-editor-inserter__quick-inserter-expand",onClick:()=>{setInserterIsOpened({rootClientId:rootClientId,insertionIndex:insertionIndex,filterValue:filterValue})},"aria-label":(0,build_module.__)("Browse all. This will open the main inserter panel in the editor toolbar."),children:(0,build_module.__)("Browse all")})]})}QuickInserter.displayName="QuickInserter",QuickInserter.__docgenInfo={description:"",methods:[],displayName:"QuickInserter"};const defaultRenderToggle=({onToggle:onToggle,disabled:disabled,isOpen:isOpen,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType,toggleProps:toggleProps={},prioritizePatterns:prioritizePatterns})=>{const{as:Wrapper=build_module_button.ZP,label:labelProp,onClick:onClick,...rest}=toggleProps;let label=labelProp;return!label&&hasSingleBlockType?label=(0,build_module.gB)((0,build_module._x)("Add %s","directly add the only allowed block"),blockTitle):!label&&prioritizePatterns?label=(0,build_module.__)("Add pattern"):label||(label=(0,build_module._x)("Add block","Generic label for block inserter button")),(0,jsx_runtime.jsx)(Wrapper,{icon:plus.Z,label:label,tooltipPosition:"bottom",onClick:function handleClick(event){onToggle&&onToggle(event),onClick&&onClick(event)},className:"block-editor-inserter__toggle","aria-haspopup":!hasSingleBlockType&&"true","aria-expanded":!hasSingleBlockType&&isOpen,disabled:disabled,...rest})};defaultRenderToggle.displayName="defaultRenderToggle";class PrivateInserter extends react.Component{constructor(){super(...arguments),this.onToggle=this.onToggle.bind(this),this.renderToggle=this.renderToggle.bind(this),this.renderContent=this.renderContent.bind(this)}onToggle(isOpen){const{onToggle:onToggle}=this.props;onToggle&&onToggle(isOpen)}renderToggle({onToggle:onToggle,isOpen:isOpen}){const{disabled:disabled,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType,directInsertBlock:directInsertBlock,toggleProps:toggleProps,hasItems:hasItems,renderToggle:renderToggle=defaultRenderToggle,prioritizePatterns:prioritizePatterns}=this.props;return renderToggle({onToggle:onToggle,isOpen:isOpen,disabled:disabled||!hasItems,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType,directInsertBlock:directInsertBlock,toggleProps:toggleProps,prioritizePatterns:prioritizePatterns})}renderContent({onClose:onClose}){const{rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,__experimentalIsQuick:isQuick,prioritizePatterns:prioritizePatterns,onSelectOrClose:onSelectOrClose,selectBlockOnInsert:selectBlockOnInsert}=this.props;return isQuick?(0,jsx_runtime.jsx)(QuickInserter,{onSelect:blocks=>{const firstBlock=Array.isArray(blocks)&&blocks?.length?blocks[0]:blocks;onSelectOrClose&&"function"==typeof onSelectOrClose&&onSelectOrClose(firstBlock),onClose()},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert}):(0,jsx_runtime.jsx)(menu,{onSelect:()=>{onClose()},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,prioritizePatterns:prioritizePatterns})}render(){const{position:position,hasSingleBlockType:hasSingleBlockType,directInsertBlock:directInsertBlock,insertOnlyAllowedBlock:insertOnlyAllowedBlock,__experimentalIsQuick:isQuick,onSelectOrClose:onSelectOrClose}=this.props;return hasSingleBlockType||directInsertBlock?this.renderToggle({onToggle:insertOnlyAllowedBlock}):(0,jsx_runtime.jsx)(dropdown.Z,{className:"block-editor-inserter",contentClassName:classnames_default()("block-editor-inserter__popover",{"is-quick":isQuick}),popoverProps:{position:position,shift:!0},onToggle:this.onToggle,expandOnMobile:!0,headerTitle:(0,build_module.__)("Add a block"),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:onSelectOrClose})}}PrivateInserter.displayName="PrivateInserter";const ComposedPrivateInserter=(0,compose.Z)([(0,with_select.Z)(((select,{clientId:clientId,rootClientId:rootClientId,shouldDirectInsert:shouldDirectInsert=!0})=>{const{getBlockRootClientId:getBlockRootClientId,hasInserterItems:hasInserterItems,getAllowedBlocks:getAllowedBlocks,getDirectInsertBlock:getDirectInsertBlock,getSettings:getSettings}=select(store.h),{getBlockVariations:getBlockVariations}=select(blocks_build_module.h),allowedBlocks=getAllowedBlocks(rootClientId=rootClientId||getBlockRootClientId(clientId)||void 0),directInsertBlock=shouldDirectInsert&&getDirectInsertBlock(rootClientId),settings=getSettings(),hasSingleBlockType=1===allowedBlocks?.length&&0===getBlockVariations(allowedBlocks[0].name,"inserter")?.length;let allowedBlockType=!1;return hasSingleBlockType&&(allowedBlockType=allowedBlocks[0]),{hasItems:hasInserterItems(rootClientId),hasSingleBlockType:hasSingleBlockType,blockTitle:allowedBlockType?allowedBlockType.title:"",allowedBlockType:allowedBlockType,directInsertBlock:directInsertBlock,rootClientId:rootClientId,prioritizePatterns:settings.__experimentalPreferPatternsOnRoot&&!rootClientId}})),(0,with_dispatch.Z)(((dispatch,ownProps,{select:select})=>({insertOnlyAllowedBlock(){const{rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,hasSingleBlockType:hasSingleBlockType,allowedBlockType:allowedBlockType,directInsertBlock:directInsertBlock,onSelectOrClose:onSelectOrClose,selectBlockOnInsert:selectBlockOnInsert}=ownProps;if(!hasSingleBlockType&&!directInsertBlock)return;const{insertBlock:insertBlock}=dispatch(store.h);let blockToInsert;if(directInsertBlock){const newAttributes=function getAdjacentBlockAttributes(attributesToCopy){const{getBlock:getBlock,getPreviousBlockClientId:getPreviousBlockClientId}=select(store.h);if(!attributesToCopy||!clientId&&!rootClientId)return{};const result={};let adjacentAttributes={};if(clientId){const currentBlock=getBlock(clientId),previousBlock=getBlock(getPreviousBlockClientId(clientId));currentBlock?.name===previousBlock?.name&&(adjacentAttributes=previousBlock?.attributes||{})}else{const parentBlock=getBlock(rootClientId);if(parentBlock?.innerBlocks?.length){const lastInnerBlock=parentBlock.innerBlocks[parentBlock.innerBlocks.length-1];directInsertBlock&&directInsertBlock?.name===lastInnerBlock.name&&(adjacentAttributes=lastInnerBlock.attributes)}}return attributesToCopy.forEach((attribute=>{adjacentAttributes.hasOwnProperty(attribute)&&(result[attribute]=adjacentAttributes[attribute])})),result}(directInsertBlock.attributesToCopy);blockToInsert=(0,blocks_build_module.j4)(directInsertBlock.name,{...directInsertBlock.attributes||{},...newAttributes})}else blockToInsert=(0,blocks_build_module.j4)(allowedBlockType.name);insertBlock(blockToInsert,function getInsertionIndex(){const{getBlockIndex:getBlockIndex,getBlockSelectionEnd:getBlockSelectionEnd,getBlockOrder:getBlockOrder,getBlockRootClientId:getBlockRootClientId}=select(store.h);if(clientId)return getBlockIndex(clientId);const end=getBlockSelectionEnd();return!isAppender&&end&&getBlockRootClientId(end)===rootClientId?getBlockIndex(end)+1:getBlockOrder(rootClientId).length}(),rootClientId,selectBlockOnInsert),onSelectOrClose&&onSelectOrClose({clientId:blockToInsert?.clientId});const message=(0,build_module.gB)((0,build_module.__)("%s block added"),allowedBlockType.title);(0,a11y_build_module.D)(message)}}))),(0,if_condition.Z)((({hasItems:hasItems,isAppender:isAppender,rootClientId:rootClientId,clientId:clientId})=>hasItems||!isAppender&&!rootClientId&&!clientId))])(PrivateInserter);var inserter=(0,react.forwardRef)(((props,ref)=>(0,jsx_runtime.jsx)(ComposedPrivateInserter,{ref:ref,...props})));PrivateInserter.__docgenInfo={description:"",methods:[{name:"onToggle",docblock:null,modifiers:[],params:[{name:"isOpen",type:null}],returns:null},{name:"renderToggle",docblock:"Render callback to display Dropdown toggle element.\n\n@param {Object}   options\n@param {Function} options.onToggle Callback to invoke when toggle is\n                                   pressed.\n@param {boolean}  options.isOpen   Whether dropdown is currently open.\n\n@return {Element} Dropdown toggle element.",modifiers:[],params:[{name:"{ onToggle, isOpen }"}],returns:{description:"Dropdown toggle element.",type:{name:"Element"}},description:"Render callback to display Dropdown toggle element."},{name:"renderContent",docblock:"Render callback to display Dropdown content element.\n\n@param {Object}   options\n@param {Function} options.onClose Callback to invoke when dropdown is\n                                  closed.\n\n@return {Element} Dropdown content element.",modifiers:[],params:[{name:"{ onClose }"}],returns:{description:"Dropdown content element.",type:{name:"Element"}},description:"Render callback to display Dropdown content element."}],displayName:"PrivateInserter"};function DefaultBlockAppender({isLocked:isLocked,onAppend:onAppend,showPrompt:showPrompt,placeholder:placeholder,rootClientId:rootClientId}){if(isLocked)return null;const value=(0,html_entities_build_module.S)(placeholder)||(0,build_module.__)("Type / to choose a block");return(0,jsx_runtime.jsxs)("div",{"data-root-client-id":rootClientId||"",className:classnames_default()("block-editor-default-block-appender",{"has-visible-prompt":showPrompt}),children:[(0,jsx_runtime.jsx)("p",{tabIndex:"0",role:"button","aria-label":(0,build_module.__)("Add default block"),className:"block-editor-default-block-appender__content",onKeyDown:event=>{keycodes_build_module.K5!==event.keyCode&&keycodes_build_module.L_!==event.keyCode||onAppend()},onClick:()=>onAppend(),onFocus:()=>{showPrompt&&onAppend()},children:showPrompt?value:"\ufeff"}),(0,jsx_runtime.jsx)(inserter,{rootClientId:rootClientId,position:"bottom right",isAppender:!0,__experimentalIsQuick:!0})]})}DefaultBlockAppender.displayName="DefaultBlockAppender",DefaultBlockAppender.__docgenInfo={description:"",methods:[],displayName:"DefaultBlockAppender"};var default_block_appender=(0,compose.Z)((0,with_select.Z)(((select,ownProps)=>{const{getBlockCount:getBlockCount,getSettings:getSettings,getTemplateLock:getTemplateLock}=select(store.h),isEmpty=!getBlockCount(ownProps.rootClientId),{bodyPlaceholder:bodyPlaceholder}=getSettings();return{showPrompt:isEmpty,isLocked:!!getTemplateLock(ownProps.rootClientId),placeholder:bodyPlaceholder}})),(0,with_dispatch.Z)(((dispatch,ownProps)=>{const{insertDefaultBlock:insertDefaultBlock,startTyping:startTyping}=dispatch(store.h);return{onAppend(){const{rootClientId:rootClientId}=ownProps;insertDefaultBlock(void 0,rootClientId),startTyping()}}})))(DefaultBlockAppender);function ButtonBlockAppender({rootClientId:rootClientId,className:className,onFocus:onFocus,tabIndex:tabIndex},ref){return(0,jsx_runtime.jsx)(inserter,{position:"bottom center",rootClientId:rootClientId,__experimentalIsQuick:!0,renderToggle:({onToggle:onToggle,disabled:disabled,isOpen:isOpen,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType})=>{let label;label=hasSingleBlockType?(0,build_module.gB)((0,build_module._x)("Add %s","directly add the only allowed block"),blockTitle):(0,build_module._x)("Add block","Generic label for block inserter button");const isToggleButton=!hasSingleBlockType;let inserterButton=(0,jsx_runtime.jsxs)(build_module_button.ZP,{ref:ref,onFocus:onFocus,tabIndex:tabIndex,className:classnames_default()(className,"block-editor-button-block-appender"),onClick:onToggle,"aria-haspopup":isToggleButton?"true":void 0,"aria-expanded":isToggleButton?isOpen:void 0,disabled:disabled,label:label,children:[!hasSingleBlockType&&(0,jsx_runtime.jsx)(component.Z,{as:"span",children:label}),(0,jsx_runtime.jsx)(icon.Z,{icon:plus.Z})]});return(isToggleButton||hasSingleBlockType)&&(inserterButton=(0,jsx_runtime.jsx)(tooltip.Z,{text:label,children:inserterButton})),inserterButton},isAppender:!0})}ButtonBlockAppender.displayName="ButtonBlockAppender";(0,react.forwardRef)(((props,ref)=>((0,deprecated_build_module.Z)("wp.blockEditor.ButtonBlockerAppender",{alternative:"wp.blockEditor.ButtonBlockAppender",since:"5.9"}),ButtonBlockAppender(props,ref))));ButtonBlockAppender.__docgenInfo={description:"",methods:[],displayName:"ButtonBlockAppender"};var button_block_appender=(0,react.forwardRef)(ButtonBlockAppender);function DefaultAppender({rootClientId:rootClientId}){return(0,use_select.Z)((select=>select(store.h).canInsertBlockType((0,blocks_build_module.UT)(),rootClientId)))?(0,jsx_runtime.jsx)(default_block_appender,{rootClientId:rootClientId}):(0,jsx_runtime.jsx)(button_block_appender,{rootClientId:rootClientId,className:"block-list-appender__toggle"})}function BlockListAppender({rootClientId:rootClientId,renderAppender:renderAppender,className:className,tagName:TagName="div"}){return!1===renderAppender?null:(0,jsx_runtime.jsx)(BlockListAppenderInner,{rootClientId:rootClientId,renderAppender:renderAppender,className:className,tagName:TagName})}function BlockListAppenderInner({rootClientId:rootClientId,renderAppender:renderAppender,className:className,tagName:TagName}){const appender=function useAppender(rootClientId,CustomAppender){return(0,use_select.Z)((select=>{const{getTemplateLock:getTemplateLock,getSelectedBlockClientId:getSelectedBlockClientId,__unstableGetEditorMode:__unstableGetEditorMode,getBlockEditingMode:getBlockEditingMode}=select(store.h);if(!CustomAppender){const selectedBlockClientId=getSelectedBlockClientId();if(rootClientId!==selectedBlockClientId&&(rootClientId||selectedBlockClientId))return!1}return!getTemplateLock(rootClientId)&&"disabled"!==getBlockEditingMode(rootClientId)&&"zoom-out"!==__unstableGetEditorMode()}),[rootClientId,CustomAppender])?CustomAppender?(0,jsx_runtime.jsx)(CustomAppender,{}):(0,jsx_runtime.jsx)(DefaultAppender,{rootClientId:rootClientId}):null}(rootClientId,renderAppender),isDragOver=(0,use_select.Z)((select=>{const{getBlockInsertionPoint:getBlockInsertionPoint,isBlockInsertionPointVisible:isBlockInsertionPointVisible,getBlockCount:getBlockCount}=select(store.h),insertionPoint=getBlockInsertionPoint();return isBlockInsertionPointVisible()&&rootClientId===insertionPoint?.rootClientId&&0===getBlockCount(rootClientId)}),[rootClientId]);return appender?(0,jsx_runtime.jsx)(TagName,{tabIndex:-1,className:classnames_default()("block-list-appender wp-block",className,{"is-drag-over":isDragOver}),contentEditable:!1,"data-block":!0,children:appender}):null}DefaultAppender.displayName="DefaultAppender",BlockListAppender.displayName="BlockListAppender",BlockListAppenderInner.displayName="BlockListAppenderInner",BlockListAppender.__docgenInfo={description:"",methods:[],displayName:"BlockListAppender",props:{tagName:{defaultValue:{value:"'div'",computed:!1},required:!1}}};var block_list_appender=BlockListAppender,motion=__webpack_require__("./packages/components/node_modules/framer-motion/dist/es/render/dom/motion.mjs");var use_popover_scroll=function usePopoverScroll(scrollableRef){return(0,use_ref_effect.Z)((node=>{if(!scrollableRef)return;function onWheel(event){const{deltaX:deltaX,deltaY:deltaY}=event;scrollableRef.current.scrollBy(deltaX,deltaY)}const options={passive:!0};return node.addEventListener("wheel",onWheel,options),()=>{node.removeEventListener("wheel",onWheel,options)}}),[scrollableRef])};const MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;(0,react.createContext)();function BlockPopoverInbetween({previousClientId:previousClientId,nextClientId:nextClientId,children:children,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,...props}){const[popoverRecomputeCounter,forcePopoverRecompute]=(0,react.useReducer)((s=>(s+1)%MAX_POPOVER_RECOMPUTE_COUNTER),0),{orientation:orientation,rootClientId:rootClientId,isVisible:isVisible}=(0,use_select.Z)((select=>{const{getBlockListSettings:getBlockListSettings,getBlockRootClientId:getBlockRootClientId,isBlockVisible:isBlockVisible}=select(store.h),_rootClientId=getBlockRootClientId(null!=previousClientId?previousClientId:nextClientId);return{orientation:getBlockListSettings(_rootClientId)?.orientation||"vertical",rootClientId:_rootClientId,isVisible:isBlockVisible(previousClientId)&&isBlockVisible(nextClientId)}}),[previousClientId,nextClientId]),previousElement=useBlockElement(previousClientId),nextElement=useBlockElement(nextClientId),isVertical="vertical"===orientation,popoverAnchor=(0,react.useMemo)((()=>{if(popoverRecomputeCounter<0||!previousElement&&!nextElement||!isVisible)return;return{contextElement:previousElement||nextElement,getBoundingClientRect(){const previousRect=previousElement?previousElement.getBoundingClientRect():null,nextRect=nextElement?nextElement.getBoundingClientRect():null;let left=0,top=0,width=0,height=0;return isVertical?(top=previousRect?previousRect.bottom:nextRect.top,width=previousRect?previousRect.width:nextRect.width,height=nextRect&&previousRect?nextRect.top-previousRect.bottom:0,left=previousRect?previousRect.left:nextRect.left):(top=previousRect?previousRect.top:nextRect.top,height=previousRect?previousRect.height:nextRect.height,(0,build_module.dZ)()?(left=nextRect?nextRect.right:previousRect.left,width=previousRect&&nextRect?previousRect.left-nextRect.right:0):(left=previousRect?previousRect.right:nextRect.left,width=previousRect&&nextRect?nextRect.left-previousRect.right:0)),new window.DOMRect(left,top,width,height)}}}),[previousElement,nextElement,popoverRecomputeCounter,isVertical,isVisible]),popoverScrollRef=use_popover_scroll(__unstableContentRef);return(0,react.useLayoutEffect)((()=>{if(!previousElement)return;const observer=new window.MutationObserver(forcePopoverRecompute);return observer.observe(previousElement,{attributes:!0}),()=>{observer.disconnect()}}),[previousElement]),(0,react.useLayoutEffect)((()=>{if(!nextElement)return;const observer=new window.MutationObserver(forcePopoverRecompute);return observer.observe(nextElement,{attributes:!0}),()=>{observer.disconnect()}}),[nextElement]),(0,react.useLayoutEffect)((()=>{if(previousElement)return previousElement.ownerDocument.defaultView.addEventListener("resize",forcePopoverRecompute),()=>{previousElement.ownerDocument.defaultView?.removeEventListener("resize",forcePopoverRecompute)}}),[previousElement]),(previousElement||nextElement)&&isVisible?(0,jsx_runtime.jsx)(popover.ZP,{ref:popoverScrollRef,animate:!1,anchor:popoverAnchor,focusOnMount:!1,__unstableSlotName:__unstablePopoverSlot,inline:!__unstablePopoverSlot,...props,className:classnames_default()("block-editor-block-popover","block-editor-block-popover__inbetween",props.className),resize:!1,flip:!1,placement:"overlay",variant:"unstyled",children:(0,jsx_runtime.jsx)("div",{className:"block-editor-block-popover__inbetween-container",children:children})},nextClientId+"--"+rootClientId):null}BlockPopoverInbetween.displayName="BlockPopoverInbetween",BlockPopoverInbetween.__docgenInfo={description:"",methods:[],displayName:"BlockPopoverInbetween"};var inbetween=BlockPopoverInbetween;const block_popover_MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;function BlockPopover({clientId:clientId,bottomClientId:bottomClientId,children:children,__unstableRefreshSize:__unstableRefreshSize,__unstableCoverTarget:__unstableCoverTarget=!1,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,shift:shift=!0,...props},ref){const selectedElement=useBlockElement(clientId),lastSelectedElement=useBlockElement(null!=bottomClientId?bottomClientId:clientId),mergedRefs=(0,use_merge_refs.Z)([ref,use_popover_scroll(__unstableContentRef)]),[popoverDimensionsRecomputeCounter,forceRecomputePopoverDimensions]=(0,react.useReducer)((s=>(s+1)%block_popover_MAX_POPOVER_RECOMPUTE_COUNTER),0);(0,react.useLayoutEffect)((()=>{if(!selectedElement)return;const observer=new window.MutationObserver(forceRecomputePopoverDimensions);return observer.observe(selectedElement,{attributes:!0}),()=>{observer.disconnect()}}),[selectedElement]);const style=(0,react.useMemo)((()=>popoverDimensionsRecomputeCounter<0||!selectedElement||lastSelectedElement!==selectedElement?{}:{position:"absolute",width:selectedElement.offsetWidth,height:selectedElement.offsetHeight}),[selectedElement,lastSelectedElement,__unstableRefreshSize,popoverDimensionsRecomputeCounter]),popoverAnchor=(0,react.useMemo)((()=>{if(!(popoverDimensionsRecomputeCounter<0||!selectedElement||bottomClientId&&!lastSelectedElement))return{getBoundingClientRect(){var _lastSelectedBCR$left,_lastSelectedBCR$top,_lastSelectedBCR$righ,_lastSelectedBCR$bott;const selectedBCR=selectedElement.getBoundingClientRect(),lastSelectedBCR=lastSelectedElement?.getBoundingClientRect(),left=Math.min(selectedBCR.left,null!==(_lastSelectedBCR$left=lastSelectedBCR?.left)&&void 0!==_lastSelectedBCR$left?_lastSelectedBCR$left:1/0),top=Math.min(selectedBCR.top,null!==(_lastSelectedBCR$top=lastSelectedBCR?.top)&&void 0!==_lastSelectedBCR$top?_lastSelectedBCR$top:1/0),width=Math.max(selectedBCR.right,null!==(_lastSelectedBCR$righ=lastSelectedBCR.right)&&void 0!==_lastSelectedBCR$righ?_lastSelectedBCR$righ:-1/0)-left,height=Math.max(selectedBCR.bottom,null!==(_lastSelectedBCR$bott=lastSelectedBCR.bottom)&&void 0!==_lastSelectedBCR$bott?_lastSelectedBCR$bott:-1/0)-top;return new window.DOMRect(left,top,width,height)},contextElement:selectedElement}}),[bottomClientId,lastSelectedElement,selectedElement,popoverDimensionsRecomputeCounter]);return!selectedElement||bottomClientId&&!lastSelectedElement?null:(0,jsx_runtime.jsxs)(popover.ZP,{ref:mergedRefs,animate:!1,focusOnMount:!1,anchor:popoverAnchor,__unstableSlotName:__unstablePopoverSlot,inline:!__unstablePopoverSlot,placement:"top-start",resize:!1,flip:!1,shift:shift,...props,className:classnames_default()("block-editor-block-popover",props.className),variant:"unstyled",children:[__unstableCoverTarget&&(0,jsx_runtime.jsx)("div",{style:style,children:children}),!__unstableCoverTarget&&children]})}BlockPopover.displayName="BlockPopover",BlockPopover.__docgenInfo={description:"",methods:[],displayName:"BlockPopover",props:{__unstableCoverTarget:{defaultValue:{value:"false",computed:!1},required:!1},shift:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_popover=(0,react.forwardRef)(BlockPopover);const animateVariants={hide:{opacity:0,scaleY:.75},show:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:.9}};function BlockDropZonePopover({__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef}){const{clientId:clientId}=(0,use_select.Z)((select=>{const{getBlockOrder:getBlockOrder,getBlockInsertionPoint:getBlockInsertionPoint}=select(store.h),insertionPoint=getBlockInsertionPoint(),order=getBlockOrder(insertionPoint.rootClientId);return order.length?{clientId:order[insertionPoint.index]}:{}}),[]),reducedMotion=(0,use_reduced_motion.Z)();return(0,jsx_runtime.jsx)(block_popover,{clientId:clientId,__unstableCoverTarget:!0,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,className:"block-editor-block-popover__drop-zone",children:(0,jsx_runtime.jsx)(motion.E.div,{"data-testid":"block-popover-drop-zone",initial:reducedMotion?animateVariants.show:animateVariants.hide,animate:animateVariants.show,exit:reducedMotion?animateVariants.show:animateVariants.exit,className:"block-editor-block-popover__drop-zone-foreground"})})}BlockDropZonePopover.displayName="BlockDropZonePopover",BlockDropZonePopover.__docgenInfo={description:"",methods:[],displayName:"BlockDropZonePopover"};const insertion_point_InsertionPointOpenRef=(0,react.createContext)();function InbetweenInsertionPointPopover({__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef}){const{selectBlock:selectBlock,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store.h),openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),ref=(0,react.useRef)(),{orientation:orientation,previousClientId:previousClientId,nextClientId:nextClientId,rootClientId:rootClientId,isInserterShown:isInserterShown,isDistractionFree:isDistractionFree,isNavigationMode:isNavigationMode}=(0,use_select.Z)((select=>{const{getBlockOrder:getBlockOrder,getBlockListSettings:getBlockListSettings,getBlockInsertionPoint:getBlockInsertionPoint,isBlockBeingDragged:isBlockBeingDragged,getPreviousBlockClientId:getPreviousBlockClientId,getNextBlockClientId:getNextBlockClientId,getSettings:getSettings,isNavigationMode:_isNavigationMode}=select(store.h),insertionPoint=getBlockInsertionPoint(),order=getBlockOrder(insertionPoint.rootClientId);if(!order.length)return{};let _previousClientId=order[insertionPoint.index-1],_nextClientId=order[insertionPoint.index];for(;isBlockBeingDragged(_previousClientId);)_previousClientId=getPreviousBlockClientId(_previousClientId);for(;isBlockBeingDragged(_nextClientId);)_nextClientId=getNextBlockClientId(_nextClientId);const settings=getSettings();return{previousClientId:_previousClientId,nextClientId:_nextClientId,orientation:getBlockListSettings(insertionPoint.rootClientId)?.orientation||"vertical",rootClientId:insertionPoint.rootClientId,isNavigationMode:_isNavigationMode(),isDistractionFree:settings.isDistractionFree,isInserterShown:insertionPoint?.__unstableWithInserter}}),[]),disableMotion=(0,use_reduced_motion.Z)();const lineVariants={start:{opacity:0,scale:0},rest:{opacity:1,scale:1,transition:{delay:isInserterShown?.5:0,type:"tween"}},hover:{opacity:1,scale:1,transition:{delay:.5,type:"tween"}}},inserterVariants={start:{scale:disableMotion?1:0},rest:{scale:1,transition:{delay:.4,type:"tween"}}};if(isDistractionFree&&!isNavigationMode)return null;const className=classnames_default()("block-editor-block-list__insertion-point","is-"+orientation);return(0,jsx_runtime.jsx)(inbetween,{previousClientId:previousClientId,nextClientId:nextClientId,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,children:(0,jsx_runtime.jsxs)(motion.E.div,{layout:!disableMotion,initial:disableMotion?"rest":"start",animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref:ref,tabIndex:-1,onClick:function onClick(event){event.target===ref.current&&nextClientId&&selectBlock(nextClientId,-1)},onFocus:function onFocus(event){event.target!==ref.current&&(openRef.current=!0)},className:classnames_default()(className,{"is-with-inserter":isInserterShown}),onHoverEnd:function maybeHideInserterPoint(event){event.target!==ref.current||openRef.current||hideInsertionPoint()},children:[(0,jsx_runtime.jsx)(motion.E.div,{variants:lineVariants,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),isInserterShown&&(0,jsx_runtime.jsx)(motion.E.div,{variants:inserterVariants,className:classnames_default()("block-editor-block-list__insertion-point-inserter"),children:(0,jsx_runtime.jsx)(inserter,{position:"bottom center",clientId:nextClientId,rootClientId:rootClientId,__experimentalIsQuick:!0,onToggle:isOpen=>{openRef.current=isOpen},onSelectOrClose:()=>{openRef.current=!1}})})]})})}function useInBetweenInserter(){const openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),isInBetweenInserterDisabled=(0,use_select.Z)((select=>select(store.h).getSettings().isDistractionFree||"zoom-out"===select(store.h).__unstableGetEditorMode()),[]),{getBlockListSettings:getBlockListSettings,getBlockIndex:getBlockIndex,isMultiSelecting:isMultiSelecting,getSelectedBlockClientIds:getSelectedBlockClientIds,getTemplateLock:getTemplateLock,__unstableIsWithinBlockOverlay:__unstableIsWithinBlockOverlay,getBlockEditingMode:getBlockEditingMode}=(0,use_select.Z)(store.h),{showInsertionPoint:showInsertionPoint,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{if(!isInBetweenInserterDisabled)return node.addEventListener("mousemove",onMouseMove),()=>{node.removeEventListener("mousemove",onMouseMove)};function onMouseMove(event){if(openRef.current)return;if(event.target.nodeType===event.target.TEXT_NODE)return;if(isMultiSelecting())return;if(!event.target.classList.contains("block-editor-block-list__layout"))return void hideInsertionPoint();let rootClientId;if(!event.target.classList.contains("is-root-container")){rootClientId=(event.target.getAttribute("data-block")?event.target:event.target.closest("[data-block]")).getAttribute("data-block")}if(getTemplateLock(rootClientId)||"disabled"===getBlockEditingMode(rootClientId))return;const orientation=getBlockListSettings(rootClientId)?.orientation||"vertical",offsetTop=event.clientY,offsetLeft=event.clientX;let element=Array.from(event.target.children).find((blockEl=>{const blockElRect=blockEl.getBoundingClientRect();return blockEl.classList.contains("wp-block")&&"vertical"===orientation&&blockElRect.top>offsetTop||blockEl.classList.contains("wp-block")&&"horizontal"===orientation&&((0,build_module.dZ)()?blockElRect.right<offsetLeft:blockElRect.left>offsetLeft)}));if(!element)return void hideInsertionPoint();if(!element.id&&(element=element.firstElementChild,!element))return void hideInsertionPoint();const clientId=element.id.slice(6);if(!clientId||__unstableIsWithinBlockOverlay(clientId))return;if(getSelectedBlockClientIds().includes(clientId))return;const elementRect=element.getBoundingClientRect();if("horizontal"===orientation&&(event.clientY>elementRect.bottom||event.clientY<elementRect.top)||"vertical"===orientation&&(event.clientX>elementRect.right||event.clientX<elementRect.left))return void hideInsertionPoint();const index=getBlockIndex(clientId);0!==index?showInsertionPoint(rootClientId,index,{__unstableWithInserter:!0}):hideInsertionPoint()}}),[openRef,getBlockListSettings,getBlockIndex,isMultiSelecting,showInsertionPoint,hideInsertionPoint,getSelectedBlockClientIds,isInBetweenInserterDisabled])}function useBlockSelectionClearer(){const{getSettings:getSettings,hasSelectedBlock:hasSelectedBlock,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store.h),{clearSelectedBlock:clearSelectedBlock}=(0,use_dispatch.Z)(store.h),{clearBlockSelection:isEnabled}=getSettings();return(0,use_ref_effect.Z)((node=>{if(isEnabled)return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)};function onMouseDown(event){(hasSelectedBlock()||hasMultiSelection())&&event.target===node&&clearSelectedBlock()}}),[hasSelectedBlock,hasMultiSelection,clearSelectedBlock,isEnabled])}function BlockSelectionClearer(props){return(0,jsx_runtime.jsx)("div",{ref:useBlockSelectionClearer(),...props})}InbetweenInsertionPointPopover.displayName="InbetweenInsertionPointPopover",BlockSelectionClearer.displayName="BlockSelectionClearer",BlockSelectionClearer.__docgenInfo={description:"",methods:[],displayName:"BlockSelectionClearer"};var with_client_id=(0,__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js").o)((WrappedComponent=>props=>{const{clientId:clientId}=(0,block_edit_context.Z8)();return(0,jsx_runtime.jsx)(WrappedComponent,{...props,clientId:clientId})}),"withClientId");const button_block_appender_ButtonBlockAppender=({clientId:clientId,showSeparator:showSeparator,isFloating:isFloating,onAddBlock:onAddBlock,isToggle:isToggle})=>(0,jsx_runtime.jsx)(button_block_appender,{className:classnames_default()({"block-list-appender__toggle":isToggle}),rootClientId:clientId,showSeparator:showSeparator,isFloating:isFloating,onAddBlock:onAddBlock});button_block_appender_ButtonBlockAppender.displayName="ButtonBlockAppender",button_block_appender_ButtonBlockAppender.__docgenInfo={description:"",methods:[],displayName:"ButtonBlockAppender"};var inner_blocks_button_block_appender=with_client_id(button_block_appender_ButtonBlockAppender);const default_block_appender_DefaultBlockAppender=({clientId:clientId})=>(0,jsx_runtime.jsx)(default_block_appender,{rootClientId:clientId});default_block_appender_DefaultBlockAppender.displayName="DefaultBlockAppender",default_block_appender_DefaultBlockAppender.__docgenInfo={description:"",methods:[],displayName:"DefaultBlockAppender"};var inner_blocks_default_block_appender=(0,compose.Z)([with_client_id,(0,with_select.Z)(((select,{clientId:clientId})=>{const{getBlockOrder:getBlockOrder}=select(store.h),blockClientIds=getBlockOrder(clientId);return{lastBlockClientId:blockClientIds[blockClientIds.length-1]}}))])(default_block_appender_DefaultBlockAppender),is_shallow_equal_build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js");const pendingSettingsUpdates=new WeakMap;function useNestedSettingsUpdate(clientId,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout){const{updateBlockListSettings:updateBlockListSettings}=(0,use_dispatch.Z)(store.h),registry=(0,use_registry.Z)(),{parentLock:parentLock}=(0,use_select.Z)((select=>{const rootClientId=select(store.h).getBlockRootClientId(clientId);return{parentLock:select(store.h).getTemplateLock(rootClientId)}}),[clientId]),_allowedBlocks=function useShallowMemo(value){const[prevValue,setPrevValue]=(0,react.useState)(value);return(0,is_shallow_equal_build_module.ZP)(prevValue,value)||setPrevValue(value),prevValue}(allowedBlocks),_prioritizedInserterBlocks=(0,react.useMemo)((()=>prioritizedInserterBlocks),prioritizedInserterBlocks),_templateLock=void 0===templateLock||"contentOnly"===parentLock?parentLock:templateLock;(0,react.useLayoutEffect)((()=>{const newSettings={allowedBlocks:_allowedBlocks,prioritizedInserterBlocks:_prioritizedInserterBlocks,templateLock:_templateLock};if(void 0!==captureToolbars&&(newSettings.__experimentalCaptureToolbars=captureToolbars),void 0!==orientation)newSettings.orientation=orientation;else{const layoutType=getLayoutType(layout?.type);newSettings.orientation=layoutType.getOrientation(layout)}void 0!==__experimentalDefaultBlock&&((0,deprecated_build_module.Z)("__experimentalDefaultBlock",{alternative:"defaultBlock",since:"6.3",version:"6.4"}),newSettings.defaultBlock=__experimentalDefaultBlock),void 0!==defaultBlock&&(newSettings.defaultBlock=defaultBlock),void 0!==__experimentalDirectInsert&&((0,deprecated_build_module.Z)("__experimentalDirectInsert",{alternative:"directInsert",since:"6.3",version:"6.4"}),newSettings.directInsert=__experimentalDirectInsert),void 0!==directInsert&&(newSettings.directInsert=directInsert),pendingSettingsUpdates.get(registry)||pendingSettingsUpdates.set(registry,[]),pendingSettingsUpdates.get(registry).push([clientId,newSettings]),window.queueMicrotask((()=>{pendingSettingsUpdates.get(registry)?.length&&registry.batch((()=>{pendingSettingsUpdates.get(registry).forEach((args=>{updateBlockListSettings(...args)})),pendingSettingsUpdates.set(registry,[])}))}))}),[clientId,_allowedBlocks,_prioritizedInserterBlocks,_templateLock,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,captureToolbars,orientation,updateBlockListSettings,layout,registry])}var es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6);var use_block_sync=__webpack_require__("./packages/block-editor/src/components/provider/use-block-sync.js"),use_throttle=__webpack_require__("./packages/compose/build-module/hooks/use-throttle/index.js"),use_drop_zone=__webpack_require__("./packages/compose/build-module/hooks/use-drop-zone/index.js"),data_transfer=__webpack_require__("./packages/dom/build-module/data-transfer.js");function onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock){return event=>{const{srcRootClientId:sourceRootClientId,srcClientIds:sourceClientIds,type:dropType,blocks:blocks}=function parseDropEvent(event){let result={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!event.dataTransfer)return result;try{result=Object.assign(result,JSON.parse(event.dataTransfer.getData("wp-blocks")))}catch(err){return result}return result}(event);if("inserter"===dropType){clearSelectedBlock();const blocksToInsert=blocks.map((block=>(0,blocks_build_module.Wm)(block)));insertOrReplaceBlocks(blocksToInsert,!0,null)}if("block"===dropType){const sourceBlockIndex=getBlockIndex(sourceClientIds[0]);if(sourceRootClientId===targetRootClientId&&sourceBlockIndex===targetBlockIndex)return;if(sourceClientIds.includes(targetRootClientId)||getClientIdsOfDescendants(sourceClientIds).some((id=>id===targetRootClientId)))return;const isAtSameLevel=sourceRootClientId===targetRootClientId,draggedBlockCount=sourceClientIds.length;moveBlocks(sourceClientIds,sourceRootClientId,isAtSameLevel&&sourceBlockIndex<targetBlockIndex?targetBlockIndex-draggedBlockCount:targetBlockIndex)}}}function useOnBlockDrop(targetRootClientId,targetBlockIndex,options={}){const{operation:operation="insert"}=options,hasUploadPermissions=(0,use_select.Z)((select=>select(store.h).getSettings().mediaUpload),[]),{canInsertBlockType:canInsertBlockType,getBlockIndex:getBlockIndex,getClientIdsOfDescendants:getClientIdsOfDescendants,getBlockOrder:getBlockOrder,getBlocksByClientId:getBlocksByClientId}=(0,use_select.Z)(store.h),{insertBlocks:insertBlocks,moveBlocksToPosition:moveBlocksToPosition,updateBlockAttributes:updateBlockAttributes,clearSelectedBlock:clearSelectedBlock,replaceBlocks:replaceBlocks,removeBlocks:removeBlocks}=(0,use_dispatch.Z)(store.h),registry=(0,use_registry.Z)(),insertOrReplaceBlocks=(0,react.useCallback)(((blocks,updateSelection=!0,initialPosition=0)=>{if("replace"===operation){const clientId=getBlockOrder(targetRootClientId)[targetBlockIndex];replaceBlocks(clientId,blocks,void 0,initialPosition)}else insertBlocks(blocks,targetBlockIndex,targetRootClientId,updateSelection,initialPosition)}),[operation,getBlockOrder,insertBlocks,replaceBlocks,targetBlockIndex,targetRootClientId]),moveBlocks=(0,react.useCallback)(((sourceClientIds,sourceRootClientId,insertIndex)=>{if("replace"===operation){const sourceBlocks=getBlocksByClientId(sourceClientIds),targetBlockClientId=getBlockOrder(targetRootClientId)[targetBlockIndex];registry.batch((()=>{removeBlocks(sourceClientIds,!1),replaceBlocks(targetBlockClientId,sourceBlocks,void 0,0)}))}else moveBlocksToPosition(sourceClientIds,sourceRootClientId,targetRootClientId,insertIndex)}),[operation,getBlockOrder,getBlocksByClientId,insertBlocks,moveBlocksToPosition,removeBlocks,targetBlockIndex,targetRootClientId]),_onDrop=onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock),_onFilesDrop=function onFilesDrop(targetRootClientId,targetBlockIndex,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks){return files=>{if(!hasUploadPermissions)return;const transformation=(0,blocks_build_module.MC)((0,blocks_build_module.Xn)("from"),(transform=>"files"===transform.type&&canInsertBlockType(transform.blockName,targetRootClientId)&&transform.isMatch(files)));if(transformation){const blocks=transformation.transform(files,updateBlockAttributes);insertOrReplaceBlocks(blocks)}}}(targetRootClientId,0,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks),_onHTMLDrop=function onHTMLDrop(targetRootClientId,targetBlockIndex,insertOrReplaceBlocks){return HTML=>{const blocks=(0,blocks_build_module.ag)({HTML:HTML,mode:"BLOCKS"});blocks.length&&insertOrReplaceBlocks(blocks)}}(0,0,insertOrReplaceBlocks);return event=>{const files=(0,data_transfer.f)(event.dataTransfer),html=event.dataTransfer.getData("text/html");html?_onHTMLDrop(html):files.length?_onFilesDrop(files):_onDrop(event)}}function getDistanceToNearestEdge(point,rect,allowedEdges=["top","bottom","left","right"]){let candidateDistance,candidateEdge;return allowedEdges.forEach((edge=>{const distance=function getDistanceFromPointToEdge(point,rect,edge){const isHorizontal="top"===edge||"bottom"===edge,{x:x,y:y}=point,pointLateralPosition=isHorizontal?x:y,pointForwardPosition=isHorizontal?y:x,edgeStart=isHorizontal?rect.left:rect.top,edgeEnd=isHorizontal?rect.right:rect.bottom,edgeForwardPosition=rect[edge];let edgeLateralPosition;return edgeLateralPosition=pointLateralPosition>=edgeStart&&pointLateralPosition<=edgeEnd?pointLateralPosition:pointLateralPosition<edgeEnd?edgeStart:edgeEnd,Math.sqrt((pointLateralPosition-edgeLateralPosition)**2+(pointForwardPosition-edgeForwardPosition)**2)}(point,rect,edge);(void 0===candidateDistance||distance<candidateDistance)&&(candidateDistance=distance,candidateEdge=edge)})),[candidateDistance,candidateEdge]}function useBlockDropZone({dropZoneElement:dropZoneElement,rootClientId:targetRootClientId=""}={}){const registry=(0,use_registry.Z)(),[dropTarget,setDropTarget]=(0,react.useState)({index:null,operation:"insert"}),isDisabled=(0,use_select.Z)((select=>{const{__unstableIsWithinBlockOverlay:__unstableIsWithinBlockOverlay,__unstableHasActiveBlockOverlayActive:__unstableHasActiveBlockOverlayActive,getBlockEditingMode:getBlockEditingMode}=select(store.h);return"default"!==getBlockEditingMode(targetRootClientId)||__unstableHasActiveBlockOverlayActive(targetRootClientId)||__unstableIsWithinBlockOverlay(targetRootClientId)}),[targetRootClientId]),{getBlockListSettings:getBlockListSettings,getBlocks:getBlocks,getBlockIndex:getBlockIndex}=(0,use_select.Z)(store.h),{showInsertionPoint:showInsertionPoint,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store.h),onBlockDrop=useOnBlockDrop(targetRootClientId,dropTarget.index,{operation:dropTarget.operation}),throttled=(0,use_throttle.Z)((0,react.useCallback)(((event,ownerDocument)=>{const blocks=getBlocks(targetRootClientId);if(0===blocks.length)return void registry.batch((()=>{setDropTarget({index:0,operation:"insert"}),showInsertionPoint(targetRootClientId,0,{operation:"insert"})}));const blocksData=blocks.map((block=>{const clientId=block.clientId;return{isUnmodifiedDefaultBlock:(0,blocks_build_module.ZP)(block),getBoundingClientRect:()=>ownerDocument.getElementById(`block-${clientId}`).getBoundingClientRect(),blockIndex:getBlockIndex(clientId)}})),[targetIndex,operation]=function getDropTargetPosition(blocksData,position,orientation="vertical"){const allowedEdges="horizontal"===orientation?["left","right"]:["top","bottom"],isRightToLeft=(0,build_module.dZ)();let nearestIndex=0,insertPosition="before",minDistance=1/0;blocksData.forEach((({isUnmodifiedDefaultBlock:isUnmodifiedDefaultBlock,getBoundingClientRect:getBoundingClientRect,blockIndex:blockIndex})=>{const rect=getBoundingClientRect();let[distance,edge]=getDistanceToNearestEdge(position,rect,allowedEdges);isUnmodifiedDefaultBlock&&function isPointContainedByRect(point,rect){return rect.left<=point.x&&rect.right>=point.x&&rect.top<=point.y&&rect.bottom>=point.y}(position,rect)&&(distance=0),distance<minDistance&&(insertPosition="bottom"===edge||!isRightToLeft&&"right"===edge||isRightToLeft&&"left"===edge?"after":"before",minDistance=distance,nearestIndex=blockIndex)}));const adjacentIndex=nearestIndex+("after"===insertPosition?1:-1),isNearestBlockUnmodifiedDefaultBlock=!!blocksData[nearestIndex]?.isUnmodifiedDefaultBlock,isAdjacentBlockUnmodifiedDefaultBlock=!!blocksData[adjacentIndex]?.isUnmodifiedDefaultBlock;if(!isNearestBlockUnmodifiedDefaultBlock&&!isAdjacentBlockUnmodifiedDefaultBlock)return["after"===insertPosition?nearestIndex+1:nearestIndex,"insert"];return[isNearestBlockUnmodifiedDefaultBlock?nearestIndex:adjacentIndex,"replace"]}(blocksData,{x:event.clientX,y:event.clientY},getBlockListSettings(targetRootClientId)?.orientation);registry.batch((()=>{setDropTarget({index:targetIndex,operation:operation}),showInsertionPoint(targetRootClientId,targetIndex,{operation:operation})}))}),[getBlocks,targetRootClientId,getBlockListSettings,registry,showInsertionPoint,getBlockIndex]),200);return(0,use_drop_zone.Z)({dropZoneElement:dropZoneElement,isDisabled:isDisabled,onDrop:onBlockDrop,onDragOver(event){throttled(event,event.currentTarget.ownerDocument)},onDragLeave(){throttled.cancel(),hideInsertionPoint()},onDragEnd(){throttled.cancel(),hideInsertionPoint()}})}const EMPTY_OBJECT={};function UncontrolledInnerBlocks(props){const{clientId:clientId,allowedBlocks:allowedBlocks,prioritizedInserterBlocks:prioritizedInserterBlocks,defaultBlock:defaultBlock,directInsert:directInsert,__experimentalDefaultBlock:__experimentalDefaultBlock,__experimentalDirectInsert:__experimentalDirectInsert,template:template,templateLock:templateLock,wrapperRef:wrapperRef,templateInsertUpdatesSelection:templateInsertUpdatesSelection,__experimentalCaptureToolbars:captureToolbars,__experimentalAppenderTagName:__experimentalAppenderTagName,renderAppender:renderAppender,orientation:orientation,placeholder:placeholder,layout:layout}=props;useNestedSettingsUpdate(clientId,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout),function useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection){const{getBlocks:getBlocks,getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,isBlockSelected:isBlockSelected}=(0,use_select.Z)(store.h),{replaceInnerBlocks:replaceInnerBlocks,__unstableMarkNextChangeAsNotPersistent:__unstableMarkNextChangeAsNotPersistent}=(0,use_dispatch.Z)(store.h),{innerBlocks:innerBlocks}=(0,use_select.Z)((select=>({innerBlocks:select(store.h).getBlocks(clientId)})),[clientId]),existingTemplate=(0,react.useRef)(null);(0,react.useLayoutEffect)((()=>{let isCancelled=!1;return window.queueMicrotask((()=>{if(isCancelled)return;const currentInnerBlocks=getBlocks(clientId),shouldApplyTemplate=0===currentInnerBlocks.length||"all"===templateLock||"contentOnly"===templateLock,hasTemplateChanged=!es6_default()(template,existingTemplate.current);if(!shouldApplyTemplate||!hasTemplateChanged)return;existingTemplate.current=template;const nextBlocks=(0,blocks_build_module.fw)(currentInnerBlocks,template);es6_default()(nextBlocks,currentInnerBlocks)||(__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,nextBlocks,0===currentInnerBlocks.length&&templateInsertUpdatesSelection&&0!==nextBlocks.length&&isBlockSelected(clientId),getSelectedBlocksInitialCaretPosition()))})),()=>{isCancelled=!0}}),[innerBlocks,template,templateLock,clientId])}(clientId,template,templateLock,templateInsertUpdatesSelection);const context=function useBlockContext(clientId){return(0,use_select.Z)((select=>{const block=select(store.h).getBlock(clientId);if(!block)return;const blockType=select(blocks_build_module.h).getBlockType(block.name);return blockType&&0!==Object.keys(blockType.providesContext).length?Object.fromEntries(Object.entries(blockType.providesContext).map((([contextName,attributeName])=>[contextName,block.attributes[attributeName]]))):void 0}),[clientId])}(clientId),name=(0,use_select.Z)((select=>select(store.h).getBlock(clientId)?.name),[clientId]),defaultLayoutBlockSupport=(0,blocks_build_module.Dx)(name,"layout")||(0,blocks_build_module.Dx)(name,"__experimentalLayout")||EMPTY_OBJECT,{allowSizingOnChildren:allowSizingOnChildren=!1}=defaultLayoutBlockSupport,[defaultLayout]=(0,use_settings.rV)("layout"),usedLayout=layout||defaultLayoutBlockSupport,memoedLayout=(0,react.useMemo)((()=>({...defaultLayout,...usedLayout,...allowSizingOnChildren&&{allowSizingOnChildren:!0}})),[defaultLayout,usedLayout,allowSizingOnChildren]);return(0,jsx_runtime.jsx)(BlockContextProvider,{value:context,children:(0,jsx_runtime.jsx)(block_list_BlockListItems,{rootClientId:clientId,renderAppender:renderAppender,__experimentalAppenderTagName:__experimentalAppenderTagName,layout:memoedLayout,wrapperRef:wrapperRef,placeholder:placeholder})})}function ControlledInnerBlocks(props){return(0,use_block_sync.Z)(props),(0,jsx_runtime.jsx)(UncontrolledInnerBlocks,{...props})}UncontrolledInnerBlocks.displayName="UncontrolledInnerBlocks",ControlledInnerBlocks.displayName="ControlledInnerBlocks";const ForwardedInnerBlocks=(0,react.forwardRef)(((props,ref)=>{const innerBlocksProps=useInnerBlocksProps({ref:ref},props);return(0,jsx_runtime.jsx)("div",{className:"block-editor-inner-blocks",children:(0,jsx_runtime.jsx)("div",{...innerBlocksProps})})}));function useInnerBlocksProps(props={},options={}){const{__unstableDisableLayoutClassNames:__unstableDisableLayoutClassNames,__unstableDisableDropZone:__unstableDisableDropZone,dropZoneElement:dropZoneElement}=options,{clientId:clientId,layout:layout=null,__unstableLayoutClassNames:layoutClassNames=""}=(0,block_edit_context.Z8)(),isSmallScreen=(0,use_viewport_match.Z)("medium","<"),{__experimentalCaptureToolbars:__experimentalCaptureToolbars,hasOverlay:hasOverlay}=(0,use_select.Z)((select=>{if(!clientId)return{};const{getBlockName:getBlockName,isBlockSelected:isBlockSelected,hasSelectedInnerBlock:hasSelectedInnerBlock,__unstableGetEditorMode:__unstableGetEditorMode}=select(store.h),blockName=getBlockName(clientId),enableClickThrough="navigation"===__unstableGetEditorMode()||isSmallScreen;return{__experimentalCaptureToolbars:select(blocks_build_module.h).hasBlockSupport(blockName,"__experimentalExposeControlsToChildren",!1),hasOverlay:"core/template"!==blockName&&!isBlockSelected(clientId)&&!hasSelectedInnerBlock(clientId,!0)&&enableClickThrough}}),[clientId,isSmallScreen]),blockDropZoneRef=useBlockDropZone({dropZoneElement:dropZoneElement,rootClientId:clientId}),ref=(0,use_merge_refs.Z)([props.ref,__unstableDisableDropZone?null:blockDropZoneRef]),innerBlocksProps={__experimentalCaptureToolbars:__experimentalCaptureToolbars,layout:layout,...options},InnerBlocks=innerBlocksProps.value&&innerBlocksProps.onChange?ControlledInnerBlocks:UncontrolledInnerBlocks;return{...props,ref:ref,className:classnames_default()(props.className,"block-editor-block-list__layout",__unstableDisableLayoutClassNames?"":layoutClassNames,{"has-overlay":hasOverlay}),children:clientId?(0,jsx_runtime.jsx)(InnerBlocks,{...innerBlocksProps,clientId:clientId}):(0,jsx_runtime.jsx)(block_list_BlockListItems,{...options})}}useInnerBlocksProps.save=blocks_build_module.cZ,ForwardedInnerBlocks.DefaultBlockAppender=inner_blocks_default_block_appender,ForwardedInnerBlocks.ButtonBlockAppender=inner_blocks_button_block_appender,ForwardedInnerBlocks.Content=()=>useInnerBlocksProps.save().children;const KEY_DOWN_ELIGIBLE_KEY_CODES=new Set([keycodes_build_module.UP,keycodes_build_module.pX,keycodes_build_module.WV,keycodes_build_module.RL,keycodes_build_module.K5,keycodes_build_module.ZH]);function useTypingObserver(){const{isTyping:isTyping,hasInlineToolbar:hasInlineToolbar}=(0,use_select.Z)((select=>{const{isTyping:_isTyping,getSettings:getSettings}=select(store.h);return{isTyping:_isTyping(),hasInlineToolbar:getSettings().hasInlineToolbar}}),[]),{startTyping:startTyping,stopTyping:stopTyping}=(0,use_dispatch.Z)(store.h),ref1=function useMouseMoveTypingReset(){const isTyping=(0,use_select.Z)((select=>select(store.h).isTyping()),[]),{stopTyping:stopTyping}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{if(!isTyping)return;const{ownerDocument:ownerDocument}=node;let lastClientX,lastClientY;function stopTypingOnMouseMove(event){const{clientX:clientX,clientY:clientY}=event;lastClientX&&lastClientY&&(lastClientX!==clientX||lastClientY!==clientY)&&stopTyping(),lastClientX=clientX,lastClientY=clientY}return ownerDocument.addEventListener("mousemove",stopTypingOnMouseMove),()=>{ownerDocument.removeEventListener("mousemove",stopTypingOnMouseMove)}}),[isTyping,stopTyping])}(),ref2=(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument,selection=defaultView.getSelection();if(isTyping){let timerId;function stopTypingOnNonTextField(event){const{target:target}=event;timerId=defaultView.setTimeout((()=>{(0,is_text_field.Z)(target)||stopTyping()}))}function stopTypingOnEscapeKey(event){const{keyCode:keyCode}=event;keyCode!==keycodes_build_module.hY&&keyCode!==keycodes_build_module.Mf||stopTyping()}function stopTypingOnSelectionUncollapse(){selection.isCollapsed||stopTyping()}return node.addEventListener("focus",stopTypingOnNonTextField),node.addEventListener("keydown",stopTypingOnEscapeKey),hasInlineToolbar||ownerDocument.addEventListener("selectionchange",stopTypingOnSelectionUncollapse),()=>{defaultView.clearTimeout(timerId),node.removeEventListener("focus",stopTypingOnNonTextField),node.removeEventListener("keydown",stopTypingOnEscapeKey),ownerDocument.removeEventListener("selectionchange",stopTypingOnSelectionUncollapse)}}function startTypingInTextField(event){const{type:type,target:target}=event;(0,is_text_field.Z)(target)&&node.contains(target)&&("keydown"!==type||function isKeyDownEligibleForStartTyping(event){const{keyCode:keyCode,shiftKey:shiftKey}=event;return!shiftKey&&KEY_DOWN_ELIGIBLE_KEY_CODES.has(keyCode)}(event))&&startTyping()}return node.addEventListener("keypress",startTypingInTextField),node.addEventListener("keydown",startTypingInTextField),()=>{node.removeEventListener("keypress",startTypingInTextField),node.removeEventListener("keydown",startTypingInTextField)}}),[isTyping,hasInlineToolbar,startTyping,stopTyping]);return(0,use_merge_refs.Z)([ref1,ref2])}function ObserveTyping({children:children}){return(0,jsx_runtime.jsx)("div",{ref:useTypingObserver(),children:children})}ObserveTyping.displayName="ObserveTyping",ObserveTyping.__docgenInfo={description:"",methods:[],displayName:"ObserveTyping"};const IntersectionObserver=(0,react.createContext)(),pendingBlockVisibilityUpdatesPerRegistry=new WeakMap;function Root({className:className,...settings}){const isLargeViewport=(0,use_viewport_match.Z)("medium"),{isOutlineMode:isOutlineMode,isFocusMode:isFocusMode,editorMode:editorMode}=(0,use_select.Z)((select=>{const{getSettings:getSettings,__unstableGetEditorMode:__unstableGetEditorMode}=select(store.h),{outlineMode:outlineMode,focusMode:focusMode}=getSettings();return{isOutlineMode:outlineMode,isFocusMode:focusMode,editorMode:__unstableGetEditorMode()}}),[]),registry=(0,use_registry.Z)(),{setBlockVisibility:setBlockVisibility}=(0,use_dispatch.Z)(store.h),delayedBlockVisibilityUpdates=(0,use_debounce.Z)((0,react.useCallback)((()=>{const updates={};pendingBlockVisibilityUpdatesPerRegistry.get(registry).forEach((([id,isIntersecting])=>{updates[id]=isIntersecting})),setBlockVisibility(updates)}),[registry]),300,{trailing:!0}),intersectionObserver=(0,react.useMemo)((()=>{const{IntersectionObserver:Observer}=window;if(Observer)return new Observer((entries=>{pendingBlockVisibilityUpdatesPerRegistry.get(registry)||pendingBlockVisibilityUpdatesPerRegistry.set(registry,[]);for(const entry of entries){const clientId=entry.target.getAttribute("data-block");pendingBlockVisibilityUpdatesPerRegistry.get(registry).push([clientId,entry.isIntersecting])}delayedBlockVisibilityUpdates()}))}),[]),innerBlocksProps=useInnerBlocksProps({ref:(0,use_merge_refs.Z)([useBlockSelectionClearer(),useInBetweenInserter(),useTypingObserver()]),className:classnames_default()("is-root-container",className,{"is-outline-mode":isOutlineMode,"is-focus-mode":isFocusMode&&isLargeViewport,"is-navigate-mode":"navigation"===editorMode})},settings);return(0,jsx_runtime.jsx)(IntersectionObserver.Provider,{value:intersectionObserver,children:(0,jsx_runtime.jsx)("div",{...innerBlocksProps})})}function BlockList(settings){return(0,jsx_runtime.jsx)(block_edit_context.Q2,{value:block_edit_context.FF,children:(0,jsx_runtime.jsx)(Root,{...settings})})}function Items({placeholder:placeholder,rootClientId:rootClientId,renderAppender:renderAppender,__experimentalAppenderTagName:__experimentalAppenderTagName,layout:layout=defaultLayout}){const{order:order,selectedBlocks:selectedBlocks,visibleBlocks:visibleBlocks}=(0,use_select.Z)((select=>{const{getBlockOrder:getBlockOrder,getSelectedBlockClientIds:getSelectedBlockClientIds,__unstableGetVisibleBlocks:__unstableGetVisibleBlocks}=select(store.h);return{order:getBlockOrder(rootClientId),selectedBlocks:getSelectedBlockClientIds(),visibleBlocks:__unstableGetVisibleBlocks()}}),[rootClientId]);return(0,jsx_runtime.jsxs)(LayoutProvider,{value:layout,children:[order.map((clientId=>(0,jsx_runtime.jsx)(context.ZP,{value:!visibleBlocks.has(clientId)&&!selectedBlocks.includes(clientId),children:(0,jsx_runtime.jsx)(block,{rootClientId:rootClientId,clientId:clientId})},clientId))),order.length<1&&placeholder,(0,jsx_runtime.jsx)(block_list_appender,{tagName:__experimentalAppenderTagName,rootClientId:rootClientId,renderAppender:renderAppender})]})}function block_list_BlockListItems(props){return(0,jsx_runtime.jsx)(context.ZP,{value:!1,children:(0,jsx_runtime.jsx)(Items,{...props})})}Root.displayName="Root",BlockList.displayName="BlockList",Items.displayName="Items",block_list_BlockListItems.displayName="BlockListItems",BlockList.__docgenInfo={description:"",methods:[],displayName:"BlockList"},block_list_BlockListItems.__docgenInfo={description:"",methods:[],displayName:"BlockListItems"};var react_dom=__webpack_require__("./node_modules/react-dom/index.js");function selector(select){const{isMultiSelecting:isMultiSelecting,getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,getSelectedBlockClientId:getSelectedBlockClientId,getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,__unstableIsFullySelected:__unstableIsFullySelected}=select(store.h);return{isMultiSelecting:isMultiSelecting(),multiSelectedBlockClientIds:getMultiSelectedBlockClientIds(),hasMultiSelection:hasMultiSelection(),selectedBlockClientId:getSelectedBlockClientId(),initialPosition:getSelectedBlocksInitialCaretPosition(),isFullSelection:__unstableIsFullySelected()}}function useMultiSelection(){const{initialPosition:initialPosition,isMultiSelecting:isMultiSelecting,multiSelectedBlockClientIds:multiSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,selectedBlockClientId:selectedBlockClientId,isFullSelection:isFullSelection}=(0,use_select.Z)(selector,[]);return(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;if(null==initialPosition)return;if(!hasMultiSelection||isMultiSelecting)return;const{length:length}=multiSelectedBlockClientIds;length<2||isFullSelection&&(node.contentEditable=!0,node.focus(),defaultView.getSelection().removeAllRanges())}),[hasMultiSelection,isMultiSelecting,multiSelectedBlockClientIds,selectedBlockClientId,initialPosition,isFullSelection])}var is_vertical_edge=__webpack_require__("./packages/dom/build-module/dom/is-vertical-edge.js"),is_horizontal_edge=__webpack_require__("./packages/dom/build-module/dom/is-horizontal-edge.js"),compute_caret_rect=__webpack_require__("./packages/dom/build-module/dom/compute-caret-rect.js"),is_rtl=__webpack_require__("./packages/dom/build-module/dom/is-rtl.js"),place_caret_at_vertical_edge=__webpack_require__("./packages/dom/build-module/dom/place-caret-at-vertical-edge.js");function getClosestTabbable(target,isReverse,containerElement,onlyVertical){let targetRect,focusableNodes=dom_build_module.T_.focusable.find(containerElement);return isReverse&&focusableNodes.reverse(),focusableNodes=focusableNodes.slice(focusableNodes.indexOf(target)+1),onlyVertical&&(targetRect=target.getBoundingClientRect()),focusableNodes.find((function isTabCandidate(node){if(!(node.closest("[inert]")||1===node.children.length&&isInSameBlock(node,node.firstElementChild)&&"true"===node.firstElementChild.getAttribute("contenteditable"))){if(!dom_build_module.T_.tabbable.isTabbableIndex(node))return!1;if(node.isContentEditable&&"true"!==node.contentEditable)return!1;if(onlyVertical){const nodeRect=node.getBoundingClientRect();if(nodeRect.left>=targetRect.right||nodeRect.right<=targetRect.left)return!1}return!0}}))}function useArrowNav(){const{getMultiSelectedBlocksStartClientId:getMultiSelectedBlocksStartClientId,getMultiSelectedBlocksEndClientId:getMultiSelectedBlocksEndClientId,getSettings:getSettings,hasMultiSelection:hasMultiSelection,__unstableIsFullySelected:__unstableIsFullySelected}=(0,use_select.Z)(store.h),{selectBlock:selectBlock}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{let verticalRect;function onMouseDown(){verticalRect=null}function onKeyDown(event){if(event.defaultPrevented)return;const{keyCode:keyCode,target:target,shiftKey:shiftKey,ctrlKey:ctrlKey,altKey:altKey,metaKey:metaKey}=event,isUp=keyCode===keycodes_build_module.UP,isDown=keyCode===keycodes_build_module.WV,isLeft=keyCode===keycodes_build_module.RL,isRight=keyCode===keycodes_build_module.pX,isReverse=isUp||isLeft,isHorizontal=isLeft||isRight,isVertical=isUp||isDown,isNav=isHorizontal||isVertical,hasModifier=shiftKey||ctrlKey||altKey||metaKey,isNavEdge=isVertical?is_vertical_edge.Z:is_horizontal_edge.Z,{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;if(!isNav)return;if(hasMultiSelection()){if(shiftKey)return;if(!__unstableIsFullySelected())return;return event.preventDefault(),void(isReverse?selectBlock(getMultiSelectedBlocksStartClientId()):selectBlock(getMultiSelectedBlocksEndClientId(),-1))}if(!function isNavigationCandidate(element,keyCode,hasModifier){const isVertical=keyCode===keycodes_build_module.UP||keyCode===keycodes_build_module.WV,{tagName:tagName}=element,elementType=element.getAttribute("type");if(isVertical&&!hasModifier)return"INPUT"!==tagName||!["date","datetime-local","month","number","range","time","week"].includes(elementType);if("INPUT"===tagName)return["button","checkbox","number","color","file","image","radio","reset","submit"].includes(elementType);return"TEXTAREA"!==tagName}(target,keyCode,hasModifier))return;isVertical?verticalRect||(verticalRect=(0,compute_caret_rect.Z)(defaultView)):verticalRect=null;const isReverseDir=(0,is_rtl.Z)(target)?!isReverse:isReverse,{keepCaretInsideBlock:keepCaretInsideBlock}=getSettings();if(shiftKey)(function isClosestTabbableABlock(target,isReverse){const closestTabbable=getClosestTabbable(target,isReverse,node);return closestTabbable&&getBlockClientId(closestTabbable)})(target,isReverse)&&isNavEdge(target,isReverse)&&(node.contentEditable=!0,node.focus());else if(!isVertical||!(0,is_vertical_edge.Z)(target,isReverse)||altKey&&!(0,is_horizontal_edge.Z)(target,isReverseDir)||keepCaretInsideBlock){if(isHorizontal&&defaultView.getSelection().isCollapsed&&(0,is_horizontal_edge.Z)(target,isReverseDir)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverseDir,node);(0,place_caret_at_horizontal_edge.Z)(closestTabbable,isReverse),event.preventDefault()}}else{const closestTabbable=getClosestTabbable(target,isReverse,node,!0);closestTabbable&&((0,place_caret_at_vertical_edge.Z)(closestTabbable,altKey?!isReverse:isReverse,altKey?void 0:verticalRect),event.preventDefault())}}return node.addEventListener("mousedown",onMouseDown),node.addEventListener("keydown",onKeyDown),()=>{node.removeEventListener("mousedown",onMouseDown),node.removeEventListener("keydown",onKeyDown)}}),[])}var is_entirely_selected=__webpack_require__("./packages/dom/build-module/dom/is-entirely-selected.js"),keyboard_shortcuts_build_module=__webpack_require__("./packages/keyboard-shortcuts/build-module/index.js");function useSelectAll(){const{getBlockOrder:getBlockOrder,getSelectedBlockClientIds:getSelectedBlockClientIds,getBlockRootClientId:getBlockRootClientId}=(0,use_select.Z)(store.h),{multiSelect:multiSelect,selectBlock:selectBlock}=(0,use_dispatch.Z)(store.h),isMatch=(0,keyboard_shortcuts_build_module.sx)();return(0,use_ref_effect.Z)((node=>{function onKeyDown(event){if(!isMatch("core/block-editor/select-all",event))return;const selectedClientIds=getSelectedBlockClientIds();if(selectedClientIds.length<2&&!(0,is_entirely_selected.Z)(event.target))return;event.preventDefault();const[firstSelectedClientId]=selectedClientIds,rootClientId=getBlockRootClientId(firstSelectedClientId),blockClientIds=getBlockOrder(rootClientId);selectedClientIds.length!==blockClientIds.length?multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1]):rootClientId&&(node.ownerDocument.defaultView.getSelection().removeAllRanges(),selectBlock(rootClientId))}return node.addEventListener("keydown",onKeyDown),()=>{node.removeEventListener("keydown",onKeyDown)}}),[])}function setContentEditableWrapper(node,value){node.contentEditable=value,value&&node.focus()}function useDragSelection(){const{startMultiSelect:startMultiSelect,stopMultiSelect:stopMultiSelect}=(0,use_dispatch.Z)(store.h),{isSelectionEnabled:isSelectionEnabled,hasMultiSelection:hasMultiSelection,isDraggingBlocks:isDraggingBlocks}=(0,use_select.Z)(store.h);return(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;let anchorElement,rafId;function onMouseUp(){stopMultiSelect(),defaultView.removeEventListener("mouseup",onMouseUp),rafId=defaultView.requestAnimationFrame((()=>{if(hasMultiSelection())return;setContentEditableWrapper(node,!1);const selection=defaultView.getSelection();if(selection.rangeCount){const{commonAncestorContainer:commonAncestorContainer}=selection.getRangeAt(0);anchorElement.contains(commonAncestorContainer)&&anchorElement.focus()}}))}function onMouseLeave({buttons:buttons,target:target}){isDraggingBlocks()||1===buttons&&"true"===target.getAttribute("contenteditable")&&isSelectionEnabled()&&(anchorElement=target,startMultiSelect(),defaultView.addEventListener("mouseup",onMouseUp),setContentEditableWrapper(node,!0))}return node.addEventListener("mouseout",onMouseLeave),()=>{node.removeEventListener("mouseout",onMouseLeave),defaultView.removeEventListener("mouseup",onMouseUp),defaultView.cancelAnimationFrame(rafId)}}),[startMultiSelect,stopMultiSelect,isSelectionEnabled,hasMultiSelection])}function use_selection_observer_setContentEditableWrapper(node,value){node.contentEditable!==String(value)&&(node.contentEditable=value),value&&node.focus()}function useSelectionObserver(){const{multiSelect:multiSelect,selectBlock:selectBlock,selectionChange:selectionChange}=(0,use_dispatch.Z)(store.h),{getBlockParents:getBlockParents,getBlockSelectionStart:getBlockSelectionStart}=(0,use_select.Z)(store.h);return(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;function onSelectionChange(event){const selection=defaultView.getSelection();if(!selection.rangeCount)return;const isClickShift=event.shiftKey&&"mouseup"===event.type;if(selection.isCollapsed&&!isClickShift)return void use_selection_observer_setContentEditableWrapper(node,!1);let startClientId=getBlockClientId(function extractSelectionStartNode(selection){const{anchorNode:anchorNode,anchorOffset:anchorOffset}=selection;return anchorNode.nodeType===anchorNode.TEXT_NODE||0===anchorOffset?anchorNode:anchorNode.childNodes[anchorOffset-1]}(selection)),endClientId=getBlockClientId(function extractSelectionEndNode(selection){const{focusNode:focusNode,focusOffset:focusOffset}=selection;return focusNode.nodeType===focusNode.TEXT_NODE||focusOffset===focusNode.childNodes.length?focusNode:focusNode.childNodes[focusOffset]}(selection));if(isClickShift){const selectedClientId=getBlockSelectionStart(),clickedClientId=getBlockClientId(event.target),focusNodeIsNonSelectable=clickedClientId!==endClientId;(startClientId===endClientId&&selection.isCollapsed||!endClientId||focusNodeIsNonSelectable)&&(endClientId=clickedClientId),startClientId!==selectedClientId&&(startClientId=selectedClientId)}if(void 0===startClientId&&void 0===endClientId)return void use_selection_observer_setContentEditableWrapper(node,!1);if(startClientId===endClientId)selectBlock(startClientId);else{const startPath=[...getBlockParents(startClientId),startClientId],endPath=[...getBlockParents(endClientId),endClientId],depth=function findDepth(a,b){let depth=0;for(;a[depth]===b[depth];)depth++;return depth}(startPath,endPath);multiSelect(startPath[depth],endPath[depth])}}function addListeners(){ownerDocument.addEventListener("selectionchange",onSelectionChange),defaultView.addEventListener("mouseup",onSelectionChange)}function removeListeners(){ownerDocument.removeEventListener("selectionchange",onSelectionChange),defaultView.removeEventListener("mouseup",onSelectionChange)}function resetListeners(){removeListeners(),addListeners()}return addListeners(),node.addEventListener("focusin",resetListeners),()=>{removeListeners(),node.removeEventListener("focusin",resetListeners)}}),[multiSelect,selectBlock,selectionChange,getBlockParents])}function useClickSelection(){const{selectBlock:selectBlock}=(0,use_dispatch.Z)(store.h),{isSelectionEnabled:isSelectionEnabled,getBlockSelectionStart:getBlockSelectionStart,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store.h);return(0,use_ref_effect.Z)((node=>{function onMouseDown(event){if(!isSelectionEnabled()||0!==event.button)return;const startClientId=getBlockSelectionStart(),clickedClientId=getBlockClientId(event.target);event.shiftKey?startClientId!==clickedClientId&&(node.contentEditable=!0,node.focus()):hasMultiSelection()&&selectBlock(clickedClientId)}return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)}}),[selectBlock,isSelectionEnabled,getBlockSelectionStart,hasMultiSelection])}function useInput(){const{__unstableIsFullySelected:__unstableIsFullySelected,getSelectedBlockClientIds:getSelectedBlockClientIds,__unstableIsSelectionMergeable:__unstableIsSelectionMergeable,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store.h),{replaceBlocks:replaceBlocks,__unstableSplitSelection:__unstableSplitSelection,removeBlocks:removeBlocks,__unstableDeleteSelection:__unstableDeleteSelection,__unstableExpandSelection:__unstableExpandSelection}=(0,use_dispatch.Z)(store.h);return(0,use_ref_effect.Z)((node=>{function onBeforeInput(event){"true"===node.contentEditable&&event.preventDefault()}function onKeyDown(event){event.defaultPrevented||hasMultiSelection()&&(event.keyCode===keycodes_build_module.K5?(node.contentEditable=!1,event.preventDefault(),__unstableIsFullySelected()?replaceBlocks(getSelectedBlockClientIds(),(0,blocks_build_module.j4)((0,blocks_build_module.UT)())):__unstableSplitSelection()):event.keyCode===keycodes_build_module.ZH||event.keyCode===keycodes_build_module.yY?(node.contentEditable=!1,event.preventDefault(),__unstableIsFullySelected()?removeBlocks(getSelectedBlockClientIds()):__unstableIsSelectionMergeable()?__unstableDeleteSelection(event.keyCode===keycodes_build_module.yY):__unstableExpandSelection()):1!==event.key.length||event.metaKey||event.ctrlKey||(node.contentEditable=!1,__unstableIsSelectionMergeable()?__unstableDeleteSelection(event.keyCode===keycodes_build_module.yY):(event.preventDefault(),node.ownerDocument.defaultView.getSelection().removeAllRanges())))}function onCompositionStart(event){hasMultiSelection()&&(node.contentEditable=!1,__unstableIsSelectionMergeable()?__unstableDeleteSelection():(event.preventDefault(),node.ownerDocument.defaultView.getSelection().removeAllRanges()))}return node.addEventListener("beforeinput",onBeforeInput),node.addEventListener("keydown",onKeyDown),node.addEventListener("compositionstart",onCompositionStart),()=>{node.removeEventListener("beforeinput",onBeforeInput),node.removeEventListener("keydown",onKeyDown),node.removeEventListener("compositionstart",onCompositionStart)}}),[])}var document_has_uncollapsed_selection=__webpack_require__("./packages/dom/build-module/dom/document-has-uncollapsed-selection.js"),document_has_selection=__webpack_require__("./packages/dom/build-module/dom/document-has-selection.js"),strip_html=__webpack_require__("./packages/dom/build-module/dom/strip-html.js");function useClipboardHandler(){const{getBlocksByClientId:getBlocksByClientId,getSelectedBlockClientIds:getSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,getSettings:getSettings,__unstableIsFullySelected:__unstableIsFullySelected,__unstableIsSelectionCollapsed:__unstableIsSelectionCollapsed,__unstableIsSelectionMergeable:__unstableIsSelectionMergeable,__unstableGetSelectedBlocksWithPartialSelection:__unstableGetSelectedBlocksWithPartialSelection,canInsertBlockType:canInsertBlockType}=(0,use_select.Z)(store.h),{flashBlock:flashBlock,removeBlocks:removeBlocks,replaceBlocks:replaceBlocks,__unstableDeleteSelection:__unstableDeleteSelection,__unstableExpandSelection:__unstableExpandSelection,insertBlocks:insertBlocks}=(0,use_dispatch.Z)(store.h),notifyCopy=function useNotifyCopy(){const{getBlockName:getBlockName}=(0,use_select.Z)(store.h),{getBlockType:getBlockType}=(0,use_select.Z)(blocks_build_module.h),{createSuccessNotice:createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h);return(0,react.useCallback)(((eventType,selectedBlockClientIds)=>{let notice="";if(1===selectedBlockClientIds.length){const clientId=selectedBlockClientIds[0],title=getBlockType(getBlockName(clientId))?.title;notice="copy"===eventType?(0,build_module.gB)((0,build_module.__)('Copied "%s" to clipboard.'),title):(0,build_module.gB)((0,build_module.__)('Moved "%s" to clipboard.'),title)}else notice="copy"===eventType?(0,build_module.gB)((0,build_module._n)("Copied %d block to clipboard.","Copied %d blocks to clipboard.",selectedBlockClientIds.length),selectedBlockClientIds.length):(0,build_module.gB)((0,build_module._n)("Moved %d block to clipboard.","Moved %d blocks to clipboard.",selectedBlockClientIds.length),selectedBlockClientIds.length);createSuccessNotice(notice,{type:"snackbar"})}),[])}();return(0,use_ref_effect.Z)((node=>{function handler(event){if(event.defaultPrevented)return;const selectedBlockClientIds=getSelectedBlockClientIds();if(0===selectedBlockClientIds.length)return;if(!hasMultiSelection()){const{target:target}=event,{ownerDocument:ownerDocument}=target;if("copy"===event.type||"cut"===event.type?(0,document_has_uncollapsed_selection.Z)(ownerDocument):(0,document_has_selection.Z)(ownerDocument))return}if(!node.contains(event.target.ownerDocument.activeElement))return;event.preventDefault();const isSelectionMergeable=__unstableIsSelectionMergeable(),shouldHandleWholeBlocks=__unstableIsSelectionCollapsed()||__unstableIsFullySelected(),expandSelectionIsNeeded=!shouldHandleWholeBlocks&&!isSelectionMergeable;if("copy"===event.type||"cut"===event.type)if(1===selectedBlockClientIds.length&&flashBlock(selectedBlockClientIds[0]),expandSelectionIsNeeded)__unstableExpandSelection();else{let blocks;if(notifyCopy(event.type,selectedBlockClientIds),shouldHandleWholeBlocks)blocks=getBlocksByClientId(selectedBlockClientIds);else{const[head,tail]=__unstableGetSelectedBlocksWithPartialSelection();blocks=[head,...getBlocksByClientId(selectedBlockClientIds.slice(1,selectedBlockClientIds.length-1)),tail]}const wrapperBlockName=event.clipboardData.getData("__unstableWrapperBlockName");wrapperBlockName&&(blocks=(0,blocks_build_module.j4)(wrapperBlockName,JSON.parse(event.clipboardData.getData("__unstableWrapperBlockAttributes")),blocks));const serialized=(0,blocks_build_module.qC)(blocks);event.clipboardData.setData("text/plain",function toPlainText(html){html=html.replace(/<br>/g,"\n");return(0,strip_html.Z)(html).trim().replace(/\n\n+/g,"\n\n")}(serialized)),event.clipboardData.setData("text/html",serialized)}if("cut"===event.type)shouldHandleWholeBlocks&&!expandSelectionIsNeeded?removeBlocks(selectedBlockClientIds):(event.target.ownerDocument.activeElement.contentEditable=!1,__unstableDeleteSelection());else if("paste"===event.type){const{__experimentalCanUserUseUnfilteredHTML:canUserUseUnfilteredHTML}=getSettings(),{plainText:plainText,html:html,files:files}=function getPasteEventData({clipboardData:clipboardData}){let plainText="",html="";try{plainText=clipboardData.getData("text/plain"),html=clipboardData.getData("text/html")}catch(error1){try{html=clipboardData.getData("Text")}catch(error2){return}}html=function removeWindowsFragments(html){const startIdx=html.indexOf("\x3c!--StartFragment--\x3e");if(!(startIdx>-1))return html;const endIdx=(html=html.substring(startIdx+20)).indexOf("\x3c!--EndFragment--\x3e");return endIdx>-1&&(html=html.substring(0,endIdx)),html}(html),html=function removeCharsetMetaTag(html){const metaTag="<meta charset='utf-8'>";return html.startsWith(metaTag)?html.slice(22):html}(html);const files=(0,data_transfer.f)(clipboardData);return files.length&&!function shouldDismissPastedFiles(files,html){if(html&&1===files?.length&&0===files[0].type.indexOf("image/")){const IMAGE_TAG=/<\s*img\b/gi;if(1!==html.match(IMAGE_TAG)?.length)return!0;const IMG_WITH_LOCAL_SRC=/<\s*img\b[^>]*\bsrc="file:\/\//i;if(html.match(IMG_WITH_LOCAL_SRC))return!0}return!1}(files,html)?{files:files}:{html:html,plainText:plainText,files:[]}}(event);let blocks=[];if(files.length){const fromTransforms=(0,blocks_build_module.Xn)("from");blocks=files.reduce(((accumulator,file)=>{const transformation=(0,blocks_build_module.MC)(fromTransforms,(transform=>"files"===transform.type&&transform.isMatch([file])));return transformation&&accumulator.push(transformation.transform([file])),accumulator}),[]).flat()}else blocks=(0,blocks_build_module.ag)({HTML:html,plainText:plainText,mode:"BLOCKS",canUserUseUnfilteredHTML:canUserUseUnfilteredHTML});if(1===selectedBlockClientIds.length){const[selectedBlockClientId]=selectedBlockClientIds;if(blocks.every((block=>canInsertBlockType(block.name,selectedBlockClientId))))return void insertBlocks(blocks,void 0,selectedBlockClientId)}replaceBlocks(selectedBlockClientIds,blocks,blocks.length-1,-1)}}return node.ownerDocument.addEventListener("copy",handler),node.ownerDocument.addEventListener("cut",handler),node.ownerDocument.addEventListener("paste",handler),()=>{node.ownerDocument.removeEventListener("copy",handler),node.ownerDocument.removeEventListener("cut",handler),node.ownerDocument.removeEventListener("paste",handler)}}),[])}function useWritingFlow(){const[before,ref,after]=function useTabNav(){const container=(0,react.useRef)(),focusCaptureBeforeRef=(0,react.useRef)(),focusCaptureAfterRef=(0,react.useRef)(),{hasMultiSelection:hasMultiSelection,getSelectedBlockClientId:getSelectedBlockClientId,getBlockCount:getBlockCount}=(0,use_select.Z)(store.h),{setNavigationMode:setNavigationMode,setLastFocus:setLastFocus}=(0,use_dispatch.Z)(store.h),isNavigationMode=(0,use_select.Z)((select=>select(store.h).isNavigationMode()),[]),lastFocus=(0,use_select.Z)((select=>select(store.h).getLastFocus()),[]),focusCaptureTabIndex=isNavigationMode?void 0:"0",noCapture=(0,react.useRef)();function onFocusCapture(event){if(noCapture.current)noCapture.current=null;else if(hasMultiSelection())container.current.focus();else if(getSelectedBlockClientId())lastFocus.current.focus();else{setNavigationMode(!0);const canvasElement=container.current.ownerDocument===event.target.ownerDocument?container.current:container.current.ownerDocument.defaultView.frameElement,isBefore=event.target.compareDocumentPosition(canvasElement)&event.target.DOCUMENT_POSITION_FOLLOWING,tabbables=dom_build_module.T_.tabbable.find(container.current);tabbables.length&&(isBefore?tabbables[0]:tabbables[tabbables.length-1]).focus()}}const before=(0,jsx_runtime.jsx)("div",{ref:focusCaptureBeforeRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture}),after=(0,jsx_runtime.jsx)("div",{ref:focusCaptureAfterRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture}),ref=(0,use_ref_effect.Z)((node=>{function onKeyDown(event){if(event.defaultPrevented)return;if(event.keyCode===keycodes_build_module.hY&&!hasMultiSelection())return event.preventDefault(),void setNavigationMode(!0);if(event.keyCode!==keycodes_build_module.Mf)return;const isShift=event.shiftKey,direction=isShift?"findPrevious":"findNext";if(!hasMultiSelection()&&!getSelectedBlockClientId())return void(event.target===node&&setNavigationMode(!0));const nextTabbable=dom_build_module.T_.tabbable[direction](event.target),currentBlock=event.target.closest("[data-block]"),isElementPartOfSelectedBlock=currentBlock&&nextTabbable&&(isInSameBlock(currentBlock,nextTabbable)||isInsideRootBlock(currentBlock,nextTabbable));if((0,is_form_element.Z)(nextTabbable)&&isElementPartOfSelectedBlock)return;const next=isShift?focusCaptureBeforeRef:focusCaptureAfterRef;noCapture.current=!0,next.current.focus({preventScroll:!0})}function onFocusOut(event){setLastFocus({...lastFocus,current:event.target});const{ownerDocument:ownerDocument}=node;event.relatedTarget||ownerDocument.activeElement!==ownerDocument.body||0!==getBlockCount()||node.focus()}function preventScrollOnTab(event){if(event.keyCode!==keycodes_build_module.Mf)return;if("region"===event.target?.getAttribute("role"))return;if(container.current===event.target)return;const direction=event.shiftKey?"findPrevious":"findNext",target=dom_build_module.T_.tabbable[direction](event.target);target!==focusCaptureBeforeRef.current&&target!==focusCaptureAfterRef.current||(event.preventDefault(),target.focus({preventScroll:!0}))}const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;return defaultView.addEventListener("keydown",preventScrollOnTab),node.addEventListener("keydown",onKeyDown),node.addEventListener("focusout",onFocusOut),()=>{defaultView.removeEventListener("keydown",preventScrollOnTab),node.removeEventListener("keydown",onKeyDown),node.removeEventListener("focusout",onFocusOut)}}),[]);return[before,(0,use_merge_refs.Z)([container,ref]),after]}(),hasMultiSelection=(0,use_select.Z)((select=>select(store.h).hasMultiSelection()),[]);return[before,(0,use_merge_refs.Z)([ref,useClipboardHandler(),useInput(),useDragSelection(),useSelectionObserver(),useClickSelection(),useMultiSelection(),useSelectAll(),useArrowNav(),(0,use_ref_effect.Z)((node=>{if(node.tabIndex=0,node.contentEditable=hasMultiSelection,hasMultiSelection)return node.classList.add("has-multi-selection"),node.setAttribute("aria-label",(0,build_module.__)("Multiple selected blocks")),()=>{node.classList.remove("has-multi-selection"),node.removeAttribute("aria-label")}}),[hasMultiSelection])]),after]}function WritingFlow({children:children,...props},forwardedRef){const[before,ref,after]=useWritingFlow();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[before,(0,jsx_runtime.jsx)("div",{...props,ref:(0,use_merge_refs.Z)([ref,forwardedRef]),className:classnames_default()(props.className,"block-editor-writing-flow"),children:children}),after]})}WritingFlow.__docgenInfo={description:"",methods:[],displayName:"WritingFlow"};(0,react.forwardRef)(WritingFlow);function bubbleEvent(event,Constructor,frame){const init={};for(const key in event)init[key]=event[key];if(event instanceof frame.contentDocument.defaultView.MouseEvent){const rect=frame.getBoundingClientRect();init.clientX+=rect.left,init.clientY+=rect.top}const newEvent=new Constructor(event.type,init);init.defaultPrevented&&newEvent.preventDefault();!frame.dispatchEvent(newEvent)&&event.preventDefault()}function useBubbleEvents(iframeDocument){return(0,use_ref_effect.Z)((()=>{const{defaultView:defaultView}=iframeDocument;if(!defaultView)return;const{frameElement:frameElement}=defaultView,html=iframeDocument.documentElement,eventTypes=["dragover","mousemove"],handlers={};for(const name of eventTypes)handlers[name]=event=>{const constructorName=Object.getPrototypeOf(event).constructor.name;bubbleEvent(event,window[constructorName],frameElement)},html.addEventListener(name,handlers[name]);return()=>{for(const name of eventTypes)html.removeEventListener(name,handlers[name])}}))}function Iframe({contentRef:contentRef,children:children,tabIndex:tabIndex=0,scale:scale=1,frameSize:frameSize=0,expand:expand=!1,readonly:readonly,forwardedRef:ref,...props}){const{resolvedAssets:resolvedAssets,isPreviewMode:isPreviewMode}=(0,use_select.Z)((select=>{const settings=select(store.h).getSettings();return{resolvedAssets:settings.__unstableResolvedAssets,isPreviewMode:settings.__unstableIsPreviewMode}}),[]),{styles:styles="",scripts:scripts=""}=resolvedAssets,[iframeDocument,setIframeDocument]=(0,react.useState)(),[bodyClasses,setBodyClasses]=(0,react.useState)([]),compatStyles=function useCompatibilityStyles(){return(0,react.useMemo)((()=>Array.from(document.styleSheets).reduce(((accumulator,styleSheet)=>{try{styleSheet.cssRules}catch(e){return accumulator}const{ownerNode:ownerNode,cssRules:cssRules}=styleSheet;if(null===ownerNode)return accumulator;if(!cssRules)return accumulator;if("wp-reset-editor-styles-css"===ownerNode.id)return accumulator;if(!ownerNode.id)return accumulator;if(function matchFromRules(_cssRules){return Array.from(_cssRules).find((({selectorText:selectorText,conditionText:conditionText,cssRules:__cssRules})=>conditionText?matchFromRules(__cssRules):selectorText&&(selectorText.includes(".editor-styles-wrapper")||selectorText.includes(".wp-block"))))}(cssRules)){const isInline="STYLE"===ownerNode.tagName;if(isInline){const mainStylesCssId=ownerNode.id.replace("-inline-css","-css"),mainStylesElement=document.getElementById(mainStylesCssId);mainStylesElement&&accumulator.push(mainStylesElement.cloneNode(!0))}if(accumulator.push(ownerNode.cloneNode(!0)),!isInline){const inlineStylesCssId=ownerNode.id.replace("-css","-inline-css"),inlineStylesElement=document.getElementById(inlineStylesCssId);inlineStylesElement&&accumulator.push(inlineStylesElement.cloneNode(!0))}}return accumulator}),[])),[])}(),clearerRef=useBlockSelectionClearer(),[before,writingFlowRef,after]=useWritingFlow(),[contentResizeListener,{height:contentHeight}]=(0,use_resize_observer.Z)(),setRef=(0,use_ref_effect.Z)((node=>{let iFrameDocument;function preventFileDropDefault(event){event.preventDefault()}function onLoad(){const{contentDocument:contentDocument,ownerDocument:ownerDocument}=node,{documentElement:documentElement}=contentDocument;iFrameDocument=contentDocument,clearerRef(documentElement),setBodyClasses(Array.from(ownerDocument.body.classList).filter((name=>name.startsWith("admin-color-")||name.startsWith("post-type-")||"wp-embed-responsive"===name))),contentDocument.dir=ownerDocument.dir;for(const compatStyle of compatStyles)contentDocument.getElementById(compatStyle.id)||(contentDocument.head.appendChild(compatStyle.cloneNode(!0)),isPreviewMode||console.warn(`${compatStyle.id} was added to the iframe incorrectly. Please use block.json or enqueue_block_assets to add styles to the iframe.`,compatStyle));iFrameDocument.addEventListener("dragover",preventFileDropDefault,!1),iFrameDocument.addEventListener("drop",preventFileDropDefault,!1)}return node._load=()=>{setIframeDocument(node.contentDocument)},node.addEventListener("load",onLoad),()=>{delete node._load,node.removeEventListener("load",onLoad),iFrameDocument?.removeEventListener("dragover",preventFileDropDefault),iFrameDocument?.removeEventListener("drop",preventFileDropDefault)}}),[]),disabledRef=(0,use_disabled.Z)({isDisabled:!readonly}),bodyRef=(0,use_merge_refs.Z)([useBubbleEvents(iframeDocument),contentRef,clearerRef,writingFlowRef,disabledRef]),html=`<!doctype html>\n<html>\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<script>window.frameElement._load()<\/script>\n\t\t<style>html{height:auto!important;min-height:100%;}body{margin:0}</style>\n\t\t${styles}\n\t\t${scripts}\n\t</head>\n\t<body>\n\t\t<script>document.currentScript.parentElement.remove()<\/script>\n\t</body>\n</html>`,[src,cleanup]=(0,react.useMemo)((()=>{const _src=URL.createObjectURL(new window.Blob([html],{type:"text/html"}));return[_src,()=>URL.revokeObjectURL(_src)]}),[html]);(0,react.useEffect)((()=>cleanup),[cleanup]);const marginFromScaling=contentHeight*(1-scale)/2;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[tabIndex>=0&&before,(0,jsx_runtime.jsx)("iframe",{...props,style:{border:0,...props.style,height:expand?contentHeight:props.style?.height,marginTop:1!==scale?-marginFromScaling+frameSize:props.style?.marginTop,marginBottom:1!==scale?-marginFromScaling+frameSize:props.style?.marginBottom,transform:1!==scale?`scale( ${scale} )`:props.style?.transform,transition:"all .3s"},ref:(0,use_merge_refs.Z)([ref,setRef]),tabIndex:tabIndex,src:src,title:(0,build_module.__)("Editor canvas"),onKeyDown:event=>{event.currentTarget.ownerDocument!==event.target.ownerDocument&&(event.stopPropagation(),bubbleEvent(event,window.KeyboardEvent,event.currentTarget))},children:iframeDocument&&(0,react_dom.createPortal)((0,jsx_runtime.jsxs)("body",{ref:bodyRef,className:classnames_default()("block-editor-iframe__body","editor-styles-wrapper",...bodyClasses),children:[contentResizeListener,(0,jsx_runtime.jsx)(style_provider.Z,{document:iframeDocument,children:children})]}),iframeDocument.documentElement)}),tabIndex>=0&&after]})}function IframeIfReady(props,ref){return(0,use_select.Z)((select=>select(store.h).getSettings().__internalIsInitialized),[])?(0,jsx_runtime.jsx)(Iframe,{...props,forwardedRef:ref}):null}IframeIfReady.displayName="IframeIfReady",IframeIfReady.__docgenInfo={description:"",methods:[],displayName:"IframeIfReady"};var iframe=(0,react.forwardRef)(IframeIfReady),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),a11y=__webpack_require__("./node_modules/colord/plugins/a11y.mjs"),postcss=__webpack_require__("./packages/block-editor/node_modules/postcss/lib/postcss.mjs"),build=__webpack_require__("./node_modules/postcss-prefixwrap/build/index.js"),build_default=__webpack_require__.n(build),postcss_urlrebase=__webpack_require__("./node_modules/postcss-urlrebase/index.js"),postcss_urlrebase_default=__webpack_require__.n(postcss_urlrebase);var transform_styles=(styles,wrapperSelector="")=>styles.map((({css:css,ignoredSelectors:ignoredSelectors=[],baseURL:baseURL})=>{if(!wrapperSelector&&!baseURL)return css;try{return(0,postcss.ZP)([wrapperSelector&&build_default()(wrapperSelector,{ignoredSelectors:[...ignoredSelectors,wrapperSelector]}),baseURL&&postcss_urlrebase_default()({rootUrl:baseURL})].filter(Boolean)).process(css,{}).css}catch(error){return error instanceof postcss.Se?console.warn("wp.blockEditor.transformStyles Failed to transform CSS.",error.message+"\n"+error.showSourceCode(!1)):console.warn("wp.blockEditor.transformStyles Failed to transform CSS.",error),null}}));function useDarkThemeBodyClassName(styles,scope){return(0,react.useCallback)((node=>{if(!node)return;const{ownerDocument:ownerDocument}=node,{defaultView:defaultView,body:body}=ownerDocument,canvas=scope?ownerDocument.querySelector(scope):body;let backgroundColor;if(canvas)backgroundColor=defaultView?.getComputedStyle(canvas,null).getPropertyValue("background-color");else{const tempCanvas=ownerDocument.createElement("div");tempCanvas.classList.add("editor-styles-wrapper"),body.appendChild(tempCanvas),backgroundColor=defaultView?.getComputedStyle(tempCanvas,null).getPropertyValue("background-color"),body.removeChild(tempCanvas)}const colordBackgroundColor=(0,colord.Vi)(backgroundColor);colordBackgroundColor.luminance()>.5||0===colordBackgroundColor.alpha()?body.classList.remove("is-dark-theme"):body.classList.add("is-dark-theme")}),[styles,scope])}function editor_styles_EditorStyles({styles:styles,scope:scope}){const overrides=(0,use_select.Z)((select=>(0,lock_unlock.U)(select(store.h)).getStyleOverrides()),[]),[transformedStyles,transformedSvgs]=(0,react.useMemo)((()=>{const _styles=Object.values(null!=styles?styles:[]);for(const[id,override]of overrides){const index=_styles.findIndex((({id:_id})=>id===_id)),overrideWithId={...override,id:id};-1===index?_styles.push(overrideWithId):_styles[index]=overrideWithId}return[transform_styles(_styles.filter((style=>style?.css)),scope),_styles.filter((style=>"svgs"===style.__unstableType)).map((style=>style.assets)).join("")]}),[styles,overrides,scope]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("style",{ref:useDarkThemeBodyClassName(transformedStyles,scope)}),transformedStyles.map(((css,index)=>(0,jsx_runtime.jsx)("style",{children:css},index))),(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:transformedSvgs}})]})}let MemoizedBlockList;(0,colord.l7)([names.Z,a11y.Z]),editor_styles_EditorStyles.__docgenInfo={description:"",methods:[],displayName:"EditorStyles"};const MAX_HEIGHT=2e3;function ScaledBlockPreview({viewportWidth:viewportWidth,containerWidth:containerWidth,minHeight:minHeight,additionalStyles:additionalStyles=[]}){viewportWidth||(viewportWidth=containerWidth);const[contentResizeListener,{height:contentHeight}]=(0,use_resize_observer.Z)(),{styles:styles}=(0,use_select.Z)((select=>({styles:select(store.h).getSettings().styles})),[]),editorStyles=(0,react.useMemo)((()=>styles?[...styles,{css:"body{height:auto;overflow:hidden;border:none;padding:0;}",__unstableType:"presets"},...additionalStyles]:styles),[styles,additionalStyles]);MemoizedBlockList=MemoizedBlockList||(0,pure.Z)(BlockList);const scale=containerWidth/viewportWidth,aspectRatio=contentHeight?containerWidth/(contentHeight*scale):0;return(0,jsx_runtime.jsx)(disabled.Z,{className:"block-editor-block-preview__content",style:{transform:`scale(${scale})`,aspectRatio:aspectRatio,maxHeight:contentHeight>MAX_HEIGHT?MAX_HEIGHT*scale:void 0,minHeight:minHeight},children:(0,jsx_runtime.jsxs)(iframe,{contentRef:(0,use_ref_effect.Z)((bodyElement=>{const{ownerDocument:{documentElement:documentElement}}=bodyElement;documentElement.classList.add("block-editor-block-preview__content-iframe"),documentElement.style.position="absolute",documentElement.style.width="100%",bodyElement.style.boxSizing="border-box",bodyElement.style.position="absolute",bodyElement.style.width="100%"}),[]),"aria-hidden":!0,tabIndex:-1,style:{position:"absolute",width:viewportWidth,height:contentHeight,pointerEvents:"none",maxHeight:MAX_HEIGHT,minHeight:0!==scale&&scale<1&&minHeight?minHeight/scale:minHeight},children:[(0,jsx_runtime.jsx)(editor_styles_EditorStyles,{styles:editorStyles}),contentResizeListener,(0,jsx_runtime.jsx)(MemoizedBlockList,{renderAppender:!1})]})})}function AutoBlockPreview(props){const[containerResizeListener,{width:containerWidth}]=(0,use_resize_observer.Z)();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{style:{position:"relative",width:"100%",height:0},children:containerResizeListener}),(0,jsx_runtime.jsx)("div",{className:"block-editor-block-preview__container",children:!!containerWidth&&(0,jsx_runtime.jsx)(ScaledBlockPreview,{...props,containerWidth:containerWidth})})]})}function BlockPreview({blocks:blocks,viewportWidth:viewportWidth=1200,minHeight:minHeight,additionalStyles:additionalStyles=[],__experimentalMinHeight:__experimentalMinHeight,__experimentalPadding:__experimentalPadding}){__experimentalMinHeight&&(minHeight=__experimentalMinHeight,(0,deprecated_build_module.Z)("The __experimentalMinHeight prop",{since:"6.2",version:"6.4",alternative:"minHeight"})),__experimentalPadding&&(additionalStyles=[...additionalStyles,{css:`body { padding: ${__experimentalPadding}px; }`}],(0,deprecated_build_module.Z)("The __experimentalPadding prop of BlockPreview",{since:"6.2",version:"6.4",alternative:"additionalStyles"}));const originalSettings=(0,use_select.Z)((select=>select(store.h).getSettings()),[]),settings=(0,react.useMemo)((()=>({...originalSettings,__unstableIsPreviewMode:!0})),[originalSettings]),renderedBlocks=(0,react.useMemo)((()=>Array.isArray(blocks)?blocks:[blocks]),[blocks]);return blocks&&0!==blocks.length?(0,jsx_runtime.jsx)(provider.jC,{value:renderedBlocks,settings:settings,children:(0,jsx_runtime.jsx)(AutoBlockPreview,{viewportWidth:viewportWidth,minHeight:minHeight,additionalStyles:additionalStyles})}):null}ScaledBlockPreview.displayName="ScaledBlockPreview",AutoBlockPreview.__docgenInfo={description:"",methods:[],displayName:"AutoBlockPreview"},BlockPreview.displayName="BlockPreview",BlockPreview.__docgenInfo={description:"",methods:[],displayName:"BlockPreview",props:{viewportWidth:{defaultValue:{value:"1200",computed:!1},required:!1},additionalStyles:{defaultValue:{value:"[]",computed:!1},required:!1}}};var block_preview=(0,react.memo)(BlockPreview);function InserterPreviewPanel({item:item}){var _example$viewportWidt;const{name:name,title:title,icon:icon,description:description,initialAttributes:initialAttributes,example:example}=item,isReusable=(0,blocks_build_module.vr)(item),blocks=(0,react.useMemo)((()=>example?(0,blocks_build_module.Wf)(name,{attributes:{...example.attributes,...initialAttributes},innerBlocks:example.innerBlocks}):(0,blocks_build_module.j4)(name,initialAttributes)),[name,example,initialAttributes]);return(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__preview-container",children:[(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__preview",children:isReusable||example?(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__preview-content",children:(0,jsx_runtime.jsx)(block_preview,{blocks:blocks,viewportWidth:null!==(_example$viewportWidt=example?.viewportWidth)&&void 0!==_example$viewportWidt?_example$viewportWidt:500,additionalStyles:[{css:"body { padding: 24px; }"}]})}):(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__preview-content-missing",children:(0,build_module.__)("No preview available.")})}),!isReusable&&(0,jsx_runtime.jsx)(block_card,{title:title,icon:icon,description:description})]})}InserterPreviewPanel.displayName="InserterPreviewPanel",InserterPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"InserterPreviewPanel"};var preview_panel=InserterPreviewPanel,pipe=__webpack_require__("./packages/compose/build-module/higher-order/pipe.js");const block_types_tab_EMPTY_ARRAY=[];function BlockTypesTab({rootClientId:rootClientId,onInsert:onInsert,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks}){const[items,categories,collections,onSelectItem]=use_block_types_state(rootClientId,onInsert),suggestedItems=(0,react.useMemo)((()=>(0,sorting.X)(items,"frecency","desc").slice(0,6)),[items]),uncategorizedItems=(0,react.useMemo)((()=>items.filter((item=>!item.category))),[items]),itemsPerCategory=(0,react.useMemo)((()=>(0,pipe.Z)((itemList=>itemList.filter((item=>item.category&&"reusable"!==item.category))),(itemList=>itemList.reduce(((acc,item)=>{const{category:category}=item;return acc[category]||(acc[category]=[]),acc[category].push(item),acc}),{})))(items)),[items]),itemsPerCollection=(0,react.useMemo)((()=>{const result={...collections};return Object.keys(collections).forEach((namespace=>{result[namespace]=items.filter((item=>(item=>item.name.split("/")[0])(item)===namespace)),0===result[namespace].length&&delete result[namespace]})),result}),[items,collections]);(0,react.useEffect)((()=>()=>onHover(null)),[]);const currentlyRenderedCategories=(0,use_async_list.Z)(categories),didRenderAllCategories=categories.length===currentlyRenderedCategories.length,collectionEntries=(0,react.useMemo)((()=>Object.entries(collections)),[collections]),currentlyRenderedCollections=(0,use_async_list.Z)(didRenderAllCategories?collectionEntries:block_types_tab_EMPTY_ARRAY);return(0,jsx_runtime.jsx)(inserter_listbox,{children:(0,jsx_runtime.jsxs)("div",{children:[showMostUsedBlocks&&!!suggestedItems.length&&(0,jsx_runtime.jsx)(panel,{title:(0,build_module._x)("Most used","blocks"),children:(0,jsx_runtime.jsx)(block_types_list,{items:suggestedItems,onSelect:onSelectItem,onHover:onHover,label:(0,build_module._x)("Most used","blocks")})}),currentlyRenderedCategories.map((category=>{const categoryItems=itemsPerCategory[category.slug];return categoryItems&&categoryItems.length?(0,jsx_runtime.jsx)(panel,{title:category.title,icon:category.icon,children:(0,jsx_runtime.jsx)(block_types_list,{items:categoryItems,onSelect:onSelectItem,onHover:onHover,label:category.title})},category.slug):null})),didRenderAllCategories&&uncategorizedItems.length>0&&(0,jsx_runtime.jsx)(panel,{className:"block-editor-inserter__uncategorized-blocks-panel",title:(0,build_module.__)("Uncategorized"),children:(0,jsx_runtime.jsx)(block_types_list,{items:uncategorizedItems,onSelect:onSelectItem,onHover:onHover,label:(0,build_module.__)("Uncategorized")})}),currentlyRenderedCollections.map((([namespace,collection])=>{const collectionItems=itemsPerCollection[namespace];return collectionItems&&collectionItems.length?(0,jsx_runtime.jsx)(panel,{title:collection.title,icon:collection.icon,children:(0,jsx_runtime.jsx)(block_types_list,{items:collectionItems,onSelect:onSelectItem,onHover:onHover,label:collection.title})},namespace):null}))]})})}BlockTypesTab.displayName="BlockTypesTab",BlockTypesTab.__docgenInfo={description:"",methods:[],displayName:"BlockTypesTab"};var block_types_tab=BlockTypesTab,item_group_component=__webpack_require__("./packages/components/build-module/item-group/item-group/component.js"),item_component=__webpack_require__("./packages/components/build-module/item-group/item/component.js"),flex_block_component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js");function PatternCategoriesList({selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory}){const baseClassName="block-editor-block-patterns-explorer__sidebar";return(0,jsx_runtime.jsx)("div",{className:`${baseClassName}__categories-list`,children:patternCategories.map((({name:name,label:label})=>(0,jsx_runtime.jsx)(build_module_button.ZP,{label:label,className:`${baseClassName}__categories-list__item`,isPressed:selectedCategory===name,onClick:()=>{onClickCategory(name)},children:label},name)))})}function PatternsExplorerSearch({searchValue:searchValue,setSearchValue:setSearchValue}){return(0,jsx_runtime.jsx)("div",{className:"block-editor-block-patterns-explorer__search",children:(0,jsx_runtime.jsx)(search_control.Z,{__nextHasNoMarginBottom:!0,onChange:setSearchValue,value:searchValue,label:(0,build_module.__)("Search for patterns"),placeholder:(0,build_module.__)("Search")})})}function PatternExplorerSidebar({selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory,searchValue:searchValue,setSearchValue:setSearchValue}){return(0,jsx_runtime.jsxs)("div",{className:"block-editor-block-patterns-explorer__sidebar",children:[(0,jsx_runtime.jsx)(PatternsExplorerSearch,{searchValue:searchValue,setSearchValue:setSearchValue}),!searchValue&&(0,jsx_runtime.jsx)(PatternCategoriesList,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory})]})}PatternCategoriesList.displayName="PatternCategoriesList",PatternsExplorerSearch.displayName="PatternsExplorerSearch",PatternExplorerSidebar.displayName="PatternExplorerSidebar",PatternExplorerSidebar.__docgenInfo={description:"",methods:[],displayName:"PatternExplorerSidebar"};var pattern_explorer_sidebar=PatternExplorerSidebar,heading_component=__webpack_require__("./packages/components/build-module/heading/component.js"),use_previous=__webpack_require__("./packages/compose/build-module/hooks/use-previous/index.js");const PAGE_SIZE=20,use_patterns_paging_INITIAL_INSERTER_RESULTS=5;function usePatternsPaging(currentCategoryPatterns,currentCategory,scrollContainerRef,currentFilter=""){const[currentPage,setCurrentPage]=(0,react.useState)(1),previousCategory=(0,use_previous.Z)(currentCategory),previousFilter=(0,use_previous.Z)(currentFilter);previousCategory===currentCategory&&previousFilter===currentFilter||1===currentPage||setCurrentPage(1);const totalItems=currentCategoryPatterns.length,pageIndex=currentPage-1,categoryPatterns=(0,react.useMemo)((()=>currentCategoryPatterns.slice(pageIndex*PAGE_SIZE,pageIndex*PAGE_SIZE+PAGE_SIZE)),[pageIndex,currentCategoryPatterns]),categoryPatternsAsyncList=(0,use_async_list.Z)(categoryPatterns,{step:use_patterns_paging_INITIAL_INSERTER_RESULTS}),numPages=Math.ceil(currentCategoryPatterns.length/PAGE_SIZE);return(0,react.useEffect)((function scrollToTopOnCategoryChange(){const scrollContainer=(0,get_scroll_container.Z)(scrollContainerRef?.current);scrollContainer?.scrollTo(0,0)}),[currentCategory,scrollContainerRef]),{totalItems:totalItems,categoryPatterns:categoryPatterns,categoryPatternsAsyncList:categoryPatternsAsyncList,numPages:numPages,changePage:page=>{const scrollContainer=(0,get_scroll_container.Z)(scrollContainerRef?.current);scrollContainer?.scrollTo(0,0),setCurrentPage(page)},currentPage:currentPage}}function PatternsListHeader({filterValue:filterValue,filteredBlockPatternsLength:filteredBlockPatternsLength}){return filterValue?(0,jsx_runtime.jsx)(heading_component.Z,{level:2,lineHeight:"48px",className:"block-editor-block-patterns-explorer__search-results-count",children:(0,build_module.gB)((0,build_module._n)("%d pattern found","%d patterns found",filteredBlockPatternsLength),filteredBlockPatternsLength)}):null}function PatternList({searchValue:searchValue,selectedCategory:selectedCategory,patternCategories:patternCategories}){const container=(0,react.useRef)(),debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),[destinationRootClientId,onInsertBlocks]=use_insertion_point({shouldFocusBlock:!0}),[patterns,,onClickPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId),registeredPatternCategories=(0,react.useMemo)((()=>patternCategories.map((patternCategory=>patternCategory.name))),[patternCategories]),filteredBlockPatterns=(0,react.useMemo)((()=>{const filteredPatterns=patterns.filter((pattern=>{if(selectedCategory===block_patterns_tab_utils._e.name)return!0;if(selectedCategory===block_patterns_tab_utils.N$.name&&pattern.type===block_patterns_tab_utils.qy.user)return!0;if("uncategorized"===selectedCategory){const hasKnownCategory=pattern.categories.some((category=>registeredPatternCategories.includes(category)));return!pattern.categories?.length||!hasKnownCategory}return pattern.categories?.includes(selectedCategory)}));return searchValue?searchItems(filteredPatterns,searchValue):filteredPatterns}),[searchValue,patterns,selectedCategory,registeredPatternCategories]);(0,react.useEffect)((()=>{if(!searchValue)return;const count=filteredBlockPatterns.length,resultsFoundMessage=(0,build_module.gB)((0,build_module._n)("%d result found.","%d results found.",count),count);debouncedSpeak(resultsFoundMessage)}),[searchValue,debouncedSpeak,filteredBlockPatterns.length]);const pagingProps=usePatternsPaging(filteredBlockPatterns,selectedCategory,container),[previousSearchValue,setPreviousSearchValue]=(0,react.useState)(searchValue);searchValue!==previousSearchValue&&(setPreviousSearchValue(searchValue),pagingProps.changePage(1));const hasItems=!!filteredBlockPatterns?.length;return(0,jsx_runtime.jsxs)("div",{className:"block-editor-block-patterns-explorer__list",ref:container,children:[(0,jsx_runtime.jsx)(PatternsListHeader,{filterValue:searchValue,filteredBlockPatternsLength:filteredBlockPatterns.length}),(0,jsx_runtime.jsx)(inserter_listbox,{children:hasItems&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(block_patterns_list,{shownPatterns:pagingProps.categoryPatternsAsyncList,blockPatterns:pagingProps.categoryPatterns,onClickPattern:onClickPattern,isDraggable:!1}),(0,jsx_runtime.jsx)(Pagination,{...pagingProps})]})})]})}PatternsListHeader.displayName="PatternsListHeader",PatternList.displayName="PatternList",PatternList.__docgenInfo={description:"",methods:[],displayName:"PatternList"};var pattern_list=PatternList;function usePatternCategories(rootClientId,sourceFilter="all"){const[patterns,allCategories]=use_patterns_state(void 0,rootClientId),filteredPatterns=(0,react.useMemo)((()=>"all"===sourceFilter?patterns:patterns.filter((pattern=>!(0,block_patterns_tab_utils.Ge)(pattern,sourceFilter)))),[sourceFilter,patterns]),hasRegisteredCategory=(0,react.useCallback)((pattern=>!(!pattern.categories||!pattern.categories.length)&&pattern.categories.some((cat=>allCategories.some((category=>category.name===cat))))),[allCategories]);return(0,react.useMemo)((()=>{const categories=allCategories.filter((category=>filteredPatterns.some((pattern=>pattern.categories?.includes(category.name))))).sort(((a,b)=>a.label.localeCompare(b.label)));return filteredPatterns.some((pattern=>!hasRegisteredCategory(pattern)))&&!categories.find((category=>"uncategorized"===category.name))&&categories.push({name:"uncategorized",label:(0,build_module._x)("Uncategorized")}),filteredPatterns.some((pattern=>pattern.type===block_patterns_tab_utils.qy.user))&&categories.unshift(block_patterns_tab_utils.N$),filteredPatterns.length>0&&categories.unshift({name:block_patterns_tab_utils._e.name,label:block_patterns_tab_utils._e.label}),(0,a11y_build_module.D)((0,build_module.gB)((0,build_module._n)("%d category button displayed.","%d category buttons displayed.",categories.length),categories.length)),categories}),[allCategories,filteredPatterns,hasRegisteredCategory])}function PatternsExplorer({initialCategory:initialCategory,rootClientId:rootClientId}){const[searchValue,setSearchValue]=(0,react.useState)(""),[patternSourceFilter,setPatternSourceFilter]=(0,react.useState)("all"),[selectedCategory,setSelectedCategory]=(0,react.useState)(initialCategory?.name),patternCategories=usePatternCategories(rootClientId,patternSourceFilter);return(0,jsx_runtime.jsxs)("div",{className:"block-editor-block-patterns-explorer",children:[(0,jsx_runtime.jsx)(pattern_explorer_sidebar,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:setSelectedCategory,searchValue:searchValue,setSearchValue:setSearchValue,patternSourceFilter:patternSourceFilter,setPatternSourceFilter:setPatternSourceFilter}),(0,jsx_runtime.jsx)(pattern_list,{searchValue:searchValue,selectedCategory:selectedCategory,patternCategories:patternCategories,patternSourceFilter:patternSourceFilter})]})}function PatternsExplorerModal({onModalClose:onModalClose,...restProps}){return(0,jsx_runtime.jsx)(modal.Z,{title:(0,build_module.__)("Patterns"),onRequestClose:onModalClose,isFullScreen:!0,children:(0,jsx_runtime.jsx)(PatternsExplorer,{...restProps})})}PatternsExplorer.displayName="PatternsExplorer",PatternsExplorerModal.displayName="PatternsExplorerModal",PatternsExplorerModal.__docgenInfo={description:"",methods:[],displayName:"PatternsExplorerModal"};var block_patterns_explorer=PatternsExplorerModal,view_component=__webpack_require__("./packages/components/build-module/view/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),navigator_back_button_component=__webpack_require__("./packages/components/build-module/navigator/navigator-back-button/component.js"),navigator_provider_component=__webpack_require__("./packages/components/build-module/navigator/navigator-provider/component.js"),navigator_screen_component=__webpack_require__("./packages/components/build-module/navigator/navigator-screen/component.js"),navigator_button_component=__webpack_require__("./packages/components/build-module/navigator/navigator-button/component.js");function ScreenHeader({title:title}){return(0,jsx_runtime.jsx)(v_stack_component.Z,{spacing:0,children:(0,jsx_runtime.jsx)(view_component.Z,{children:(0,jsx_runtime.jsx)(spacer_component.Z,{marginBottom:0,paddingX:4,paddingY:3,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{spacing:2,children:[(0,jsx_runtime.jsx)(navigator_back_button_component.Z,{style:{minWidth:24,padding:0},icon:(0,build_module.dZ)()?chevron_right.Z:chevron_left.Z,isSmall:!0,"aria-label":(0,build_module.__)("Navigate to the previous view")}),(0,jsx_runtime.jsx)(spacer_component.Z,{children:(0,jsx_runtime.jsx)(heading_component.Z,{level:5,children:title})})]})})})})}function MobileTabNavigation({categories:categories,children:children}){return(0,jsx_runtime.jsxs)(navigator_provider_component.Z,{initialPath:"/",className:"block-editor-inserter__mobile-tab-navigation",children:[(0,jsx_runtime.jsx)(navigator_screen_component.Z,{path:"/",children:(0,jsx_runtime.jsx)(item_group_component.Z,{children:categories.map((category=>(0,jsx_runtime.jsx)(navigator_button_component.Z,{path:`/category/${category.name}`,as:item_component.Z,isAction:!0,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{children:[(0,jsx_runtime.jsx)(flex_block_component.Z,{children:category.label}),(0,jsx_runtime.jsx)(icon.Z,{icon:(0,build_module.dZ)()?chevron_left.Z:chevron_right.Z})]})},category.name)))})}),categories.map((category=>(0,jsx_runtime.jsxs)(navigator_screen_component.Z,{path:`/category/${category.name}`,children:[(0,jsx_runtime.jsx)(ScreenHeader,{title:(0,build_module.__)("Back")}),children(category)]},category.name)))]})}ScreenHeader.displayName="ScreenHeader",MobileTabNavigation.displayName="MobileTabNavigation",MobileTabNavigation.__docgenInfo={description:"",methods:[],displayName:"MobileTabNavigation"};var menu_items_choice=__webpack_require__("./packages/components/build-module/menu-items-choice/index.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js");const getShouldDisableSyncFilter=sourceFilter=>sourceFilter!==block_patterns_tab_utils.qy.all&&sourceFilter!==block_patterns_tab_utils.qy.user,getShouldDisableNonUserSources=category=>category.name===block_patterns_tab_utils.N$.name;function PatternsFilter({setPatternSyncFilter:setPatternSyncFilter,setPatternSourceFilter:setPatternSourceFilter,patternSyncFilter:patternSyncFilter,patternSourceFilter:patternSourceFilter,scrollContainerRef:scrollContainerRef,category:category}){const currentPatternSourceFilter=category.name===block_patterns_tab_utils.N$.name?block_patterns_tab_utils.qy.user:patternSourceFilter,shouldDisableSyncFilter=getShouldDisableSyncFilter(currentPatternSourceFilter),shouldDisableNonUserSources=getShouldDisableNonUserSources(category),patternSyncMenuOptions=(0,react.useMemo)((()=>[{value:block_patterns_tab_utils.BC.all,label:(0,build_module._x)("All","Option that shows all patterns")},{value:block_patterns_tab_utils.BC.full,label:(0,build_module._x)("Synced","Option that shows all synchronized patterns"),disabled:shouldDisableSyncFilter},{value:block_patterns_tab_utils.BC.unsynced,label:(0,build_module._x)("Not synced","Option that shows all patterns that are not synchronized"),disabled:shouldDisableSyncFilter}]),[shouldDisableSyncFilter]),patternSourceMenuOptions=(0,react.useMemo)((()=>[{value:block_patterns_tab_utils.qy.all,label:(0,build_module.__)("All"),disabled:shouldDisableNonUserSources},{value:block_patterns_tab_utils.qy.directory,label:(0,build_module.__)("Pattern Directory"),disabled:shouldDisableNonUserSources},{value:block_patterns_tab_utils.qy.theme,label:(0,build_module.__)("Theme & Plugins"),disabled:shouldDisableNonUserSources},{value:block_patterns_tab_utils.qy.user,label:(0,build_module.__)("User")}]),[shouldDisableNonUserSources]);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(dropdown_menu.Z,{popoverProps:{placement:"right-end"},label:"Filter patterns",icon:(0,jsx_runtime.jsx)(icon.Z,{icon:(0,jsx_runtime.jsx)(svg.Wj,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"#1E1E1E"})})}),children:()=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(menu_group.Z,{label:(0,build_module.__)("Source"),children:(0,jsx_runtime.jsx)(menu_items_choice.Z,{choices:patternSourceMenuOptions,onSelect:value=>{!function handleSetSourceFilterChange(newSourceFilter){setPatternSourceFilter(newSourceFilter),getShouldDisableSyncFilter(newSourceFilter)&&setPatternSyncFilter(block_patterns_tab_utils.BC.all)}(value),scrollContainerRef.current?.scrollTo(0,0)},value:currentPatternSourceFilter})}),(0,jsx_runtime.jsx)(menu_group.Z,{label:(0,build_module.__)("Type"),children:(0,jsx_runtime.jsx)(menu_items_choice.Z,{choices:patternSyncMenuOptions,onSelect:value=>{setPatternSyncFilter(value),scrollContainerRef.current?.scrollTo(0,0)},value:patternSyncFilter})}),(0,jsx_runtime.jsx)("div",{className:"block-editor-tool-selector__help",children:(0,create_interpolate_element.Z)((0,build_module.__)("Patterns are available from the <Link>WordPress.org Pattern Directory</Link>, bundled in the active theme, or created by users on this site. Only patterns created on this site can be synced."),{Link:(0,jsx_runtime.jsx)(external_link.Z,{href:(0,build_module.__)("https://wordpress.org/patterns/")})})})]})})})}PatternsFilter.__docgenInfo={description:"",methods:[],displayName:"PatternsFilter"};const noop=()=>{};function PatternCategoryPreviews({rootClientId:rootClientId,onInsert:onInsert,onHover:onHover=noop,category:category,showTitlesAsTooltip:showTitlesAsTooltip}){const[allPatterns,,onClickPattern]=use_patterns_state(onInsert,rootClientId),[patternSyncFilter,setPatternSyncFilter]=(0,react.useState)("all"),[patternSourceFilter,setPatternSourceFilter]=(0,react.useState)("all"),availableCategories=usePatternCategories(rootClientId,patternSourceFilter),scrollContainerRef=(0,react.useRef)(),currentCategoryPatterns=(0,react.useMemo)((()=>allPatterns.filter((pattern=>{var _pattern$categories$f;if((0,block_patterns_tab_utils.Ge)(pattern,patternSourceFilter,patternSyncFilter))return!1;if(category.name===block_patterns_tab_utils._e.name)return!0;if(category.name===block_patterns_tab_utils.N$.name&&pattern.type===block_patterns_tab_utils.qy.user)return!0;if("uncategorized"!==category.name)return pattern.categories?.includes(category.name);return 0===(null!==(_pattern$categories$f=pattern.categories?.filter((cat=>availableCategories.find((availableCategory=>availableCategory.name===cat)))))&&void 0!==_pattern$categories$f?_pattern$categories$f:[]).length}))),[allPatterns,availableCategories,category.name,patternSourceFilter,patternSyncFilter]),pagingProps=usePatternsPaging(currentCategoryPatterns,category,scrollContainerRef),{changePage:changePage}=pagingProps;(0,react.useEffect)((()=>()=>onHover(null)),[]);const onSetPatternSyncFilter=(0,react.useCallback)((value=>{setPatternSyncFilter(value),changePage(1)}),[setPatternSyncFilter,changePage]),onSetPatternSourceFilter=(0,react.useCallback)((value=>{setPatternSourceFilter(value),changePage(1)}),[setPatternSourceFilter,changePage]);return(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__patterns-category-panel",children:[(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:2,className:"block-editor-inserter__patterns-category-panel-header",children:[(0,jsx_runtime.jsxs)(h_stack_component.Z,{children:[(0,jsx_runtime.jsx)(flex_block_component.Z,{children:(0,jsx_runtime.jsx)(heading_component.Z,{level:4,as:"div",children:category.label})}),(0,jsx_runtime.jsx)(PatternsFilter,{patternSyncFilter:patternSyncFilter,patternSourceFilter:patternSourceFilter,setPatternSyncFilter:onSetPatternSyncFilter,setPatternSourceFilter:onSetPatternSourceFilter,scrollContainerRef:scrollContainerRef,category:category})]}),!currentCategoryPatterns.length&&(0,jsx_runtime.jsx)(text_component.Z,{variant:"muted",className:"block-editor-inserter__patterns-category-no-results",children:(0,build_module.__)("No results found")})]}),currentCategoryPatterns.length>0&&(0,jsx_runtime.jsx)(block_patterns_list,{ref:scrollContainerRef,shownPatterns:pagingProps.categoryPatternsAsyncList,blockPatterns:pagingProps.categoryPatterns,onClickPattern:onClickPattern,onHover:onHover,label:category.label,orientation:"vertical",category:category.name,isDraggable:!0,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternSourceFilter,pagingProps:pagingProps})]})}function BlockPatternsTab({onSelectCategory:onSelectCategory,selectedCategory:selectedCategory,onInsert:onInsert,rootClientId:rootClientId}){const[showPatternsExplorer,setShowPatternsExplorer]=(0,react.useState)(!1),categories=usePatternCategories(rootClientId),initialCategory=selectedCategory||categories[0],isMobile=(0,use_viewport_match.Z)("medium","<");return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!isMobile&&(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__block-patterns-tabs-container",children:(0,jsx_runtime.jsx)("nav",{"aria-label":(0,build_module.__)("Block pattern categories"),className:"block-editor-inserter__block-patterns-tabs",children:(0,jsx_runtime.jsxs)(item_group_component.Z,{role:"list",children:[categories.map((category=>(0,jsx_runtime.jsx)(item_component.Z,{role:"listitem",onClick:()=>onSelectCategory(category),className:category===selectedCategory?"block-editor-inserter__patterns-category block-editor-inserter__patterns-selected-category":"block-editor-inserter__patterns-category","aria-label":category.label,"aria-current":category===selectedCategory?"true":void 0,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{children:[(0,jsx_runtime.jsx)(flex_block_component.Z,{children:category.label}),(0,jsx_runtime.jsx)(icon.Z,{icon:(0,build_module.dZ)()?chevron_left.Z:chevron_right.Z})]})},category.name))),(0,jsx_runtime.jsx)("div",{role:"listitem",children:(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"block-editor-inserter__patterns-explore-button",onClick:()=>setShowPatternsExplorer(!0),variant:"secondary",children:(0,build_module.__)("Explore all patterns")})})]})})}),isMobile&&(0,jsx_runtime.jsx)(MobileTabNavigation,{categories:categories,children:category=>(0,jsx_runtime.jsx)(PatternCategoryPreviews,{onInsert:onInsert,rootClientId:rootClientId,category:category,showTitlesAsTooltip:!1},category.name)}),showPatternsExplorer&&(0,jsx_runtime.jsx)(block_patterns_explorer,{initialCategory:initialCategory,patternCategories:categories,onModalClose:()=>setShowPatternsExplorer(!1),rootClientId:rootClientId})]})}PatternCategoryPreviews.displayName="PatternCategoryPreviews",PatternCategoryPreviews.__docgenInfo={description:"",methods:[],displayName:"PatternCategoryPreviews",props:{onHover:{defaultValue:{value:"() => {}",computed:!1},required:!1}}},BlockPatternsTab.__docgenInfo={description:"",methods:[],displayName:"BlockPatternsTab"};var block_patterns_tab=BlockPatternsTab;function PatternCategoryPreviewPanel({rootClientId:rootClientId,onInsert:onInsert,onHover:onHover,category:category,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternFilter}){const container=(0,react.useRef)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{const[firstTabbable]=dom_build_module.T_.tabbable.find(container.current);firstTabbable?.focus()}));return()=>clearTimeout(timeout)}),[category]),(0,jsx_runtime.jsx)("div",{ref:container,className:"block-editor-inserter__patterns-category-dialog",children:(0,jsx_runtime.jsx)(PatternCategoryPreviews,{rootClientId:rootClientId,onInsert:onInsert,onHover:onHover,category:category,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternFilter},category.name)})}function useMediaCategories(rootClientId){const[categories,setCategories]=(0,react.useState)([]),inserterMediaCategories=(0,use_select.Z)((select=>(0,lock_unlock.U)(select(store.h)).getInserterMediaCategories()),[]),{canInsertImage:canInsertImage,canInsertVideo:canInsertVideo,canInsertAudio:canInsertAudio}=(0,use_select.Z)((select=>{const{canInsertBlockType:canInsertBlockType}=select(store.h);return{canInsertImage:canInsertBlockType("core/image",rootClientId),canInsertVideo:canInsertBlockType("core/video",rootClientId),canInsertAudio:canInsertBlockType("core/audio",rootClientId)}}),[rootClientId]);return(0,react.useEffect)((()=>{(async()=>{const _categories=[];if(!inserterMediaCategories)return;const categoriesHaveMedia=new Map(await Promise.all(inserterMediaCategories.map((async category=>{if(category.isExternalResource)return[category.name,!0];let results=[];try{results=await category.fetch({per_page:1})}catch(e){}return[category.name,!!results.length]})))),canInsertMediaType={image:canInsertImage,video:canInsertVideo,audio:canInsertAudio};inserterMediaCategories.forEach((category=>{canInsertMediaType[category.mediaType]&&categoriesHaveMedia.get(category.name)&&_categories.push(category)})),_categories.length&&setCategories(_categories)})()}),[canInsertImage,canInsertVideo,canInsertAudio,inserterMediaCategories]),categories}PatternCategoryPreviewPanel.displayName="PatternCategoryPreviewPanel",PatternCategoryPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"PatternCategoryPreviewPanel"};var spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),external=__webpack_require__("./packages/icons/build-module/library/external.js"),blob_build_module=__webpack_require__("./packages/blob/build-module/index.js");const mediaTypeTag={image:"img",video:"video",audio:"audio"};function getBlockAndPreviewFromMedia(media,mediaType){const attributes={id:media.id||void 0,caption:media.caption||void 0},mediaSrc=media.url,alt=media.alt||void 0;"image"===mediaType?(attributes.url=mediaSrc,attributes.alt=alt):["video","audio"].includes(mediaType)&&(attributes.src=mediaSrc);const PreviewTag=mediaTypeTag[mediaType],preview=(0,jsx_runtime.jsx)(PreviewTag,{src:media.previewUrl||mediaSrc,alt:alt,controls:"audio"===mediaType||void 0,inert:"true",onError:({currentTarget:currentTarget})=>{currentTarget.src===media.previewUrl&&(currentTarget.src=mediaSrc)}});return[(0,blocks_build_module.j4)(`core/${mediaType}`,attributes),preview]}const ALLOWED_MEDIA_TYPES=["image"],MAXIMUM_TITLE_LENGTH=25,MEDIA_OPTIONS_POPOVER_PROPS={position:"bottom left",className:"block-editor-inserter__media-list__item-preview-options__popover"},{CompositeItemV2:media_preview_CompositeItem}=(0,lock_unlock.U)(private_apis.YH);function MediaPreviewOptions({category:category,media:media}){if(!category.getReportUrl)return null;const reportUrl=category.getReportUrl(media);return(0,jsx_runtime.jsx)(dropdown_menu.Z,{className:"block-editor-inserter__media-list__item-preview-options",label:(0,build_module.__)("Options"),popoverProps:MEDIA_OPTIONS_POPOVER_PROPS,icon:more_vertical.Z,children:()=>(0,jsx_runtime.jsx)(menu_group.Z,{children:(0,jsx_runtime.jsx)(menu_item.Z,{onClick:()=>window.open(reportUrl,"_blank").focus(),icon:external.Z,children:(0,build_module.gB)((0,build_module.__)("Report %s"),category.mediaType)})})})}function InsertExternalImageModal({onClose:onClose,onSubmit:onSubmit}){return(0,jsx_runtime.jsxs)(modal.Z,{title:(0,build_module.__)("Insert external image"),onRequestClose:onClose,className:"block-editor-inserter-media-tab-media-preview-inserter-external-image-modal",children:[(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:3,children:[(0,jsx_runtime.jsx)("p",{children:(0,build_module.__)("This image cannot be uploaded to your Media Library, but it can still be inserted as an external image.")}),(0,jsx_runtime.jsx)("p",{children:(0,build_module.__)("External images can be removed by the external provider without warning and could even have legal compliance issues related to privacy legislation.")})]}),(0,jsx_runtime.jsxs)(flex_component.Z,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1,children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{children:(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:onClose,children:(0,build_module.__)("Cancel")})}),(0,jsx_runtime.jsx)(flex_item_component.Z,{children:(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"primary",onClick:onSubmit,children:(0,build_module.__)("Insert")})})]})]})}function MediaPreview({media:media,onClick:onClick,category:category}){const[showExternalUploadModal,setShowExternalUploadModal]=(0,react.useState)(!1),[isHovered,setIsHovered]=(0,react.useState)(!1),[isInserting,setIsInserting]=(0,react.useState)(!1),[block,preview]=(0,react.useMemo)((()=>getBlockAndPreviewFromMedia(media,category.mediaType)),[media,category.mediaType]),{createErrorNotice:createErrorNotice,createSuccessNotice:createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h),mediaUpload=(0,use_select.Z)((select=>select(store.h).getSettings().mediaUpload),[]),onMediaInsert=(0,react.useCallback)((previewBlock=>{if(isInserting)return;const clonedBlock=(0,blocks_build_module.Wm)(previewBlock),{id:id,url:url,caption:caption}=clonedBlock.attributes;id?onClick(clonedBlock):(setIsInserting(!0),window.fetch(url).then((response=>response.blob())).then((blob=>{mediaUpload({filesList:[blob],additionalData:{caption:caption},onFileChange([img]){(0,blob_build_module.Gu)(img.url)||(onClick({...clonedBlock,attributes:{...clonedBlock.attributes,id:img.id,url:img.url}}),createSuccessNotice((0,build_module.__)("Image uploaded and inserted."),{type:"snackbar"}),setIsInserting(!1))},allowedTypes:ALLOWED_MEDIA_TYPES,onError(message){createErrorNotice(message,{type:"snackbar"}),setIsInserting(!1)}})})).catch((()=>{setShowExternalUploadModal(!0),setIsInserting(!1)})))}),[isInserting,onClick,mediaUpload,createErrorNotice,createSuccessNotice]),title=media.title?.rendered||media.title;let truncatedTitle;if(title.length>MAXIMUM_TITLE_LENGTH){const omission="...";truncatedTitle=title.slice(0,MAXIMUM_TITLE_LENGTH-omission.length)+omission}const onMouseEnter=(0,react.useCallback)((()=>setIsHovered(!0)),[]),onMouseLeave=(0,react.useCallback)((()=>setIsHovered(!1)),[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(inserter_draggable_blocks,{isEnabled:!0,blocks:[block],children:({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,jsx_runtime.jsx)("div",{className:classnames_default()("block-editor-inserter__media-list__list-item",{"is-hovered":isHovered}),draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd,children:(0,jsx_runtime.jsxs)("div",{onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,children:[(0,jsx_runtime.jsx)(tooltip.Z,{text:truncatedTitle||title,children:(0,jsx_runtime.jsx)(media_preview_CompositeItem,{render:(0,jsx_runtime.jsx)("div",{"aria-label":title,role:"option",className:"block-editor-inserter__media-list__item"}),onClick:()=>onMediaInsert(block),children:(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__media-list__item-preview",children:[preview,isInserting&&(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__media-list__item-preview-spinner",children:(0,jsx_runtime.jsx)(spinner.ZP,{})})]})})}),!isInserting&&(0,jsx_runtime.jsx)(MediaPreviewOptions,{category:category,media:media})]})})}),showExternalUploadModal&&(0,jsx_runtime.jsx)(InsertExternalImageModal,{onClose:()=>setShowExternalUploadModal(!1),onSubmit:()=>{onClick((0,blocks_build_module.Wm)(block)),createSuccessNotice((0,build_module.__)("Image inserted."),{type:"snackbar"}),setShowExternalUploadModal(!1)}})]})}MediaPreviewOptions.displayName="MediaPreviewOptions",InsertExternalImageModal.displayName="InsertExternalImageModal",MediaPreview.__docgenInfo={description:"",methods:[],displayName:"MediaPreview"};const{CompositeV2:media_list_Composite,useCompositeStoreV2:media_list_useCompositeStore}=(0,lock_unlock.U)(private_apis.YH);function MediaList({mediaList:mediaList,category:category,onClick:onClick,label:label=(0,build_module.__)("Media List")}){const compositeStore=media_list_useCompositeStore();return(0,jsx_runtime.jsx)(media_list_Composite,{store:compositeStore,role:"listbox",className:"block-editor-inserter__media-list","aria-label":label,children:mediaList.map(((media,index)=>(0,jsx_runtime.jsx)(MediaPreview,{media:media,category:category,onClick:onClick},media.id||media.sourceId||index)))})}MediaList.displayName="MediaList",MediaList.__docgenInfo={description:"",methods:[],displayName:"MediaList",props:{label:{defaultValue:{value:"__( 'Media List' )",computed:!0},required:!1}}};var media_list=MediaList;const INITIAL_MEDIA_ITEMS_PER_PAGE=10;function MediaCategoryDialog({rootClientId:rootClientId,onInsert:onInsert,category:category}){const container=(0,react.useRef)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{const[firstTabbable]=dom_build_module.T_.tabbable.find(container.current);firstTabbable?.focus()}));return()=>clearTimeout(timeout)}),[category]),(0,jsx_runtime.jsx)("div",{ref:container,className:"block-editor-inserter__media-dialog",children:(0,jsx_runtime.jsx)(MediaCategoryPanel,{rootClientId:rootClientId,onInsert:onInsert,category:category})})}function MediaCategoryPanel({rootClientId:rootClientId,onInsert:onInsert,category:category}){const[search,setSearch,debouncedSearch]=(0,use_debounced_input.Z)(),{mediaList:mediaList,isLoading:isLoading}=function useMediaResults(category,query={}){const[mediaList,setMediaList]=(0,react.useState)(),[isLoading,setIsLoading]=(0,react.useState)(!1),lastRequest=(0,react.useRef)();return(0,react.useEffect)((()=>{(async()=>{const key=JSON.stringify({category:category.name,...query});lastRequest.current=key,setIsLoading(!0),setMediaList([]);const _media=await(category.fetch?.(query));key===lastRequest.current&&(setMediaList(_media),setIsLoading(!1))})()}),[category.name,...Object.values(query)]),{mediaList:mediaList,isLoading:isLoading}}(category,{per_page:debouncedSearch?20:INITIAL_MEDIA_ITEMS_PER_PAGE,search:debouncedSearch}),baseCssClass="block-editor-inserter__media-panel",searchLabel=category.labels.search_items||(0,build_module.__)("Search");return(0,jsx_runtime.jsxs)("div",{className:baseCssClass,children:[(0,jsx_runtime.jsx)(search_control.Z,{className:`${baseCssClass}-search`,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel}),isLoading&&(0,jsx_runtime.jsx)("div",{className:`${baseCssClass}-spinner`,children:(0,jsx_runtime.jsx)(spinner.ZP,{})}),!isLoading&&!mediaList?.length&&(0,jsx_runtime.jsx)(no_results,{}),!isLoading&&!!mediaList?.length&&(0,jsx_runtime.jsx)(media_list,{rootClientId:rootClientId,onClick:onInsert,mediaList:mediaList,category:category})]})}MediaCategoryDialog.displayName="MediaCategoryDialog",MediaCategoryPanel.displayName="MediaCategoryPanel",MediaCategoryDialog.__docgenInfo={description:"",methods:[],displayName:"MediaCategoryDialog"},MediaCategoryPanel.__docgenInfo={description:"",methods:[],displayName:"MediaCategoryPanel"};var check=function MediaUploadCheck({fallback:fallback=null,children:children}){return(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store.h);return!!getSettings().mediaUpload}),[])?children:fallback};var media_upload=(0,with_filters.Z)("editor.MediaUpload")((()=>null));const media_tab_ALLOWED_MEDIA_TYPES=["image","video","audio"];function MediaTab({rootClientId:rootClientId,selectedCategory:selectedCategory,onSelectCategory:onSelectCategory,onInsert:onInsert}){const mediaCategories=useMediaCategories(rootClientId),isMobile=(0,use_viewport_match.Z)("medium","<"),baseCssClass="block-editor-inserter__media-tabs",onSelectMedia=(0,react.useCallback)((media=>{if(!media?.url)return;const[block]=getBlockAndPreviewFromMedia(media,media.type);onInsert(block)}),[onInsert]),mobileMediaCategories=(0,react.useMemo)((()=>mediaCategories.map((mediaCategory=>({...mediaCategory,label:mediaCategory.labels.name})))),[mediaCategories]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!isMobile&&(0,jsx_runtime.jsx)("div",{className:`${baseCssClass}-container`,children:(0,jsx_runtime.jsx)("nav",{"aria-label":(0,build_module.__)("Media categories"),children:(0,jsx_runtime.jsxs)(item_group_component.Z,{role:"list",className:baseCssClass,children:[mediaCategories.map((mediaCategory=>(0,jsx_runtime.jsx)(item_component.Z,{role:"listitem",onClick:()=>onSelectCategory(mediaCategory),className:classnames_default()(`${baseCssClass}__media-category`,{"is-selected":selectedCategory===mediaCategory}),"aria-label":mediaCategory.labels.name,"aria-current":mediaCategory===selectedCategory?"true":void 0,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{children:[(0,jsx_runtime.jsx)(flex_block_component.Z,{children:mediaCategory.labels.name}),(0,jsx_runtime.jsx)(icon.Z,{icon:(0,build_module.dZ)()?chevron_left.Z:chevron_right.Z})]})},mediaCategory.name))),(0,jsx_runtime.jsx)("div",{role:"listitem",children:(0,jsx_runtime.jsx)(check,{children:(0,jsx_runtime.jsx)(media_upload,{multiple:!1,onSelect:onSelectMedia,allowedTypes:media_tab_ALLOWED_MEDIA_TYPES,render:({open:open})=>(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:event=>{event.target.focus(),open()},className:"block-editor-inserter__media-library-button",variant:"secondary","data-unstable-ignore-focus-outside-for-relatedtarget":".media-modal",children:(0,build_module.__)("Open Media Library")})})})})]})})}),isMobile&&(0,jsx_runtime.jsx)(MobileTabNavigation,{categories:mobileMediaCategories,children:category=>(0,jsx_runtime.jsx)(MediaCategoryPanel,{onInsert:onInsert,rootClientId:rootClientId,category:category})})]})}MediaTab.__docgenInfo={description:"",methods:[],displayName:"MediaTab"};var media_tab=MediaTab,tab_panel=__webpack_require__("./packages/components/build-module/tab-panel/index.js");const blocksTab={name:"blocks",title:(0,build_module.__)("Blocks")},patternsTab={name:"patterns",title:(0,build_module.__)("Patterns")},mediaTab={name:"media",title:(0,build_module.__)("Media")};function InserterTabs({children:children,showPatterns:showPatterns=!1,showMedia:showMedia=!1,onSelect:onSelect,prioritizePatterns:prioritizePatterns}){const tabs=(0,react.useMemo)((()=>{const tempTabs=[];return prioritizePatterns&&showPatterns&&tempTabs.push(patternsTab),tempTabs.push(blocksTab),!prioritizePatterns&&showPatterns&&tempTabs.push(patternsTab),showMedia&&tempTabs.push(mediaTab),tempTabs}),[prioritizePatterns,showPatterns,showMedia]);return(0,jsx_runtime.jsx)(tab_panel.Z,{className:"block-editor-inserter__tabs",tabs:tabs,onSelect:onSelect,children:children})}InserterTabs.displayName="InserterTabs",InserterTabs.__docgenInfo={description:"",methods:[],displayName:"InserterTabs",props:{showPatterns:{defaultValue:{value:"false",computed:!1},required:!1},showMedia:{defaultValue:{value:"false",computed:!1},required:!1}}};var tabs=InserterTabs;function InserterMenu({rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,onSelect:onSelect,showInserterHelpPanel:showInserterHelpPanel,showMostUsedBlocks:showMostUsedBlocks,__experimentalFilterValue:__experimentalFilterValue="",shouldFocusBlock:shouldFocusBlock=!0,prioritizePatterns:prioritizePatterns},ref){const[filterValue,setFilterValue,delayedFilterValue]=(0,use_debounced_input.Z)(__experimentalFilterValue),[hoveredItem,setHoveredItem]=(0,react.useState)(null),[selectedPatternCategory,setSelectedPatternCategory]=(0,react.useState)(null),[patternFilter,setPatternFilter]=(0,react.useState)("all"),[selectedMediaCategory,setSelectedMediaCategory]=(0,react.useState)(null),[selectedTab,setSelectedTab]=(0,react.useState)(null),[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]=use_insertion_point({rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock:shouldFocusBlock}),{showPatterns:showPatterns,inserterItems:inserterItems}=(0,use_select.Z)((select=>{const{__experimentalGetAllowedPatterns:__experimentalGetAllowedPatterns,getInserterItems:getInserterItems}=select(store.h);return{showPatterns:!!__experimentalGetAllowedPatterns(destinationRootClientId).length,inserterItems:getInserterItems(destinationRootClientId)}}),[destinationRootClientId]),hasReusableBlocks=(0,react.useMemo)((()=>inserterItems.some((({category:category})=>"reusable"===category))),[inserterItems]),showMedia=!!useMediaCategories(destinationRootClientId).length,onInsert=(0,react.useCallback)(((blocks,meta,shouldForceFocusBlock)=>{onInsertBlocks(blocks,meta,shouldForceFocusBlock),onSelect()}),[onInsertBlocks,onSelect]),onInsertPattern=(0,react.useCallback)(((blocks,patternName)=>{onInsertBlocks(blocks,{patternName:patternName}),onSelect()}),[onInsertBlocks,onSelect]),onHover=(0,react.useCallback)((item=>{onToggleInsertionPoint(!!item),setHoveredItem(item)}),[onToggleInsertionPoint,setHoveredItem]),onHoverPattern=(0,react.useCallback)((item=>{onToggleInsertionPoint(!!item)}),[onToggleInsertionPoint]),onClickPatternCategory=(0,react.useCallback)(((patternCategory,filter)=>{setSelectedPatternCategory(patternCategory),setPatternFilter(filter)}),[setSelectedPatternCategory]),blocksTab=(0,react.useMemo)((()=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__block-list",children:(0,jsx_runtime.jsx)(block_types_tab,{rootClientId:destinationRootClientId,onInsert:onInsert,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks})}),showInserterHelpPanel&&(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__tips",children:[(0,jsx_runtime.jsx)(component.Z,{as:"h2",children:(0,build_module.__)("A tip for using the block editor")}),(0,jsx_runtime.jsx)(tips,{})]})]})),[destinationRootClientId,onInsert,onHover,showMostUsedBlocks,showInserterHelpPanel]),patternsTab=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(block_patterns_tab,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onSelectCategory:onClickPatternCategory,selectedCategory:selectedPatternCategory})),[destinationRootClientId,onInsertPattern,onClickPatternCategory,selectedPatternCategory]),mediaTab=(0,react.useMemo)((()=>(0,jsx_runtime.jsx)(media_tab,{rootClientId:destinationRootClientId,selectedCategory:selectedMediaCategory,onSelectCategory:setSelectedMediaCategory,onInsert:onInsert})),[destinationRootClientId,onInsert,selectedMediaCategory,setSelectedMediaCategory]),getCurrentTab=(0,react.useCallback)((tab=>"blocks"===tab.name?blocksTab:"patterns"===tab.name?patternsTab:"media"===tab.name?mediaTab:void 0),[blocksTab,patternsTab,mediaTab]),searchRef=(0,react.useRef)();(0,react.useImperativeHandle)(ref,(()=>({focusSearch:()=>{searchRef.current.focus()}})));const showPatternPanel="patterns"===selectedTab&&!delayedFilterValue&&selectedPatternCategory,showAsTabs=!delayedFilterValue&&(showPatterns||hasReusableBlocks||showMedia),showMediaPanel="media"===selectedTab&&!delayedFilterValue&&selectedMediaCategory;return(0,jsx_runtime.jsxs)("div",{className:"block-editor-inserter__menu",children:[(0,jsx_runtime.jsxs)("div",{className:classnames_default()("block-editor-inserter__main-area",{"show-as-tabs":showAsTabs}),children:[(0,jsx_runtime.jsx)(search_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",onChange:value=>{hoveredItem&&setHoveredItem(null),setFilterValue(value)},value:filterValue,label:(0,build_module.__)("Search for blocks and patterns"),placeholder:(0,build_module.__)("Search"),ref:searchRef}),!!delayedFilterValue&&(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__no-tab-container",children:(0,jsx_runtime.jsx)(search_results,{filterValue:delayedFilterValue,onSelect:onSelect,onHover:onHover,onHoverPattern:onHoverPattern,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,showBlockDirectory:!0,shouldFocusBlock:shouldFocusBlock})}),showAsTabs&&(0,jsx_runtime.jsx)(tabs,{showPatterns:showPatterns,showReusableBlocks:hasReusableBlocks,showMedia:showMedia,prioritizePatterns:prioritizePatterns,onSelect:value=>{"patterns"!==value&&setSelectedPatternCategory(null),setSelectedTab(value)},children:getCurrentTab}),!delayedFilterValue&&!showAsTabs&&(0,jsx_runtime.jsx)("div",{className:"block-editor-inserter__no-tab-container",children:blocksTab})]}),showMediaPanel&&(0,jsx_runtime.jsx)(MediaCategoryDialog,{rootClientId:destinationRootClientId,onInsert:onInsert,category:selectedMediaCategory}),showInserterHelpPanel&&hoveredItem&&(0,jsx_runtime.jsx)(popover.ZP,{className:"block-editor-inserter__preview-container__popover",placement:"right-start",offset:16,focusOnMount:!1,animate:!1,children:(0,jsx_runtime.jsx)(preview_panel,{item:hoveredItem})}),showPatternPanel&&(0,jsx_runtime.jsx)(PatternCategoryPreviewPanel,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onHover:onHoverPattern,category:selectedPatternCategory,patternFilter:patternFilter,showTitlesAsTooltip:!0})]})}InserterMenu.displayName="InserterMenu",InserterMenu.__docgenInfo={description:"",methods:[],displayName:"InserterMenu",props:{__experimentalFilterValue:{defaultValue:{value:"''",computed:!1},required:!1},shouldFocusBlock:{defaultValue:{value:"true",computed:!1},required:!1}}};var menu=(0,react.forwardRef)(InserterMenu);const library_noop=()=>{};function InserterLibrary({rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,showMostUsedBlocks:showMostUsedBlocks=!1,__experimentalInsertionIndex:__experimentalInsertionIndex,__experimentalFilterValue:__experimentalFilterValue,onSelect:onSelect=library_noop,shouldFocusBlock:shouldFocusBlock=!1},ref){const{destinationRootClientId:destinationRootClientId,prioritizePatterns:prioritizePatterns}=(0,use_select.Z)((select=>{const{getBlockRootClientId:getBlockRootClientId,getSettings:getSettings}=select(store.h),_rootClientId=rootClientId||getBlockRootClientId(clientId)||void 0;return{destinationRootClientId:_rootClientId,prioritizePatterns:getSettings().__experimentalPreferPatternsOnRoot&&!_rootClientId}}),[clientId,rootClientId]);return(0,jsx_runtime.jsx)(menu,{onSelect:onSelect,rootClientId:destinationRootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,showMostUsedBlocks:showMostUsedBlocks,__experimentalInsertionIndex:__experimentalInsertionIndex,__experimentalFilterValue:__experimentalFilterValue,shouldFocusBlock:shouldFocusBlock,prioritizePatterns:prioritizePatterns,ref:ref})}InserterLibrary.displayName="InserterLibrary",InserterLibrary.__docgenInfo={description:"",methods:[],displayName:"InserterLibrary",props:{showMostUsedBlocks:{defaultValue:{value:"false",computed:!1},required:!1},onSelect:{defaultValue:{value:"() => {}",computed:!1},required:!1},shouldFocusBlock:{defaultValue:{value:"false",computed:!1},required:!1}}};var library=(0,react.forwardRef)(InserterLibrary);const patterns=[{categories:["featured","text"],content:'\x3c!-- wp:heading {"align":"wide","style":{"typography":{"fontSize":"48px","lineHeight":"1.1"}}} --\x3e\n<h2 class="alignwide" id="we-re-a-studio-in-berlin-with-an-international-practice-in-architecture-urban-planning-and-interior-design-we-believe-in-sharing-knowledge-and-promoting-dialogue-to-increase-the-creative-potential-of-collaboration" style="font-size:48px;line-height:1.1">We\'re a studio in Berlin with an international practice in architecture, urban planning and interior design. We believe in sharing knowledge and promoting dialogue to increase the creative potential of collaboration.</h2>\n\x3c!-- /wp:heading --\x3e',description:"Heading text",keywords:["large text","title"],name:"heading",title:"Heading"}],patternCategories=[{name:"featured",label:"Featured"},{name:"text",label:"Text"}],reusableBlocks=[{content:{raw:"\x3c!-- wp:paragraph --\x3e\n<p>This is reusable</p>\n\x3c!-- /wp:paragraph --\x3e",protected:!1,block_version:1},date:"2022-09-12T13:28:06",date_gmt:"2022-09-12T13:28:06",id:70,link:"http://localhost:8888/?p=70",modified:"2022-09-12T13:28:06",modified_gmt:"2022-09-12T13:28:06",password:"",slug:"simple-paragraph",status:"publish",template:"",title:{raw:"Simple paragraph"},type:"wp_block"}];var index_story={title:"BlockEditor/Inserter",parameters:{sourceLink:"packages/block-editor/src/components/inserter"}};const LibraryWithoutPatterns=()=>(0,jsx_runtime.jsx)(provider.jC,{children:(0,jsx_runtime.jsx)("div",{style:{margin:"24px",height:400,border:"1px solid #f3f3f3",display:"inline-block"},children:(0,jsx_runtime.jsx)(library,{showInserterHelpPanel:!0})})});LibraryWithoutPatterns.displayName="LibraryWithoutPatterns";const LibraryWithPatterns=()=>(0,jsx_runtime.jsx)(provider.jC,{settings:{__experimentalBlockPatternCategories:patternCategories,__experimentalBlockPatterns:patterns},children:(0,jsx_runtime.jsx)("div",{style:{margin:"24px",height:400,border:"1px solid #f3f3f3",display:"inline-block"},children:(0,jsx_runtime.jsx)(library,{showInserterHelpPanel:!0})})});LibraryWithPatterns.displayName="LibraryWithPatterns";const LibraryWithPatternsAndReusableBlocks=()=>(0,jsx_runtime.jsx)(provider.jC,{settings:{__experimentalBlockPatternCategories:patternCategories,__experimentalBlockPatterns:patterns,__experimentalReusableBlocks:reusableBlocks},children:(0,jsx_runtime.jsx)("div",{style:{margin:"24px",height:400,border:"1px solid #f3f3f3",display:"inline-block"},children:(0,jsx_runtime.jsx)(library,{showInserterHelpPanel:!0})})});LibraryWithPatternsAndReusableBlocks.displayName="LibraryWithPatternsAndReusableBlocks";const index_story_QuickInserter=()=>(0,jsx_runtime.jsx)(provider.jC,{settings:{__experimentalBlockPatternCategories:patternCategories,__experimentalBlockPatterns:patterns,__experimentalReusableBlocks:reusableBlocks},children:(0,jsx_runtime.jsx)("div",{style:{margin:"24px",height:400,border:"1px solid #f3f3f3",display:"inline-block"},children:(0,jsx_runtime.jsx)(inserter,{__experimentalIsQuick:!0})})});index_story_QuickInserter.displayName="QuickInserter",LibraryWithoutPatterns.parameters={...LibraryWithoutPatterns.parameters,docs:{...LibraryWithoutPatterns.parameters?.docs,source:{originalSource:"() => {\n  const wrapperStyle = {\n    margin: '24px',\n    height: 400,\n    border: '1px solid #f3f3f3',\n    display: 'inline-block'\n  };\n  return <ExperimentalBlockEditorProvider>\n            <div style={wrapperStyle}>\n                <BlockLibrary showInserterHelpPanel />\n            </div>\n        </ExperimentalBlockEditorProvider>;\n}",...LibraryWithoutPatterns.parameters?.docs?.source}}},LibraryWithPatterns.parameters={...LibraryWithPatterns.parameters,docs:{...LibraryWithPatterns.parameters?.docs,source:{originalSource:"() => {\n  const wrapperStyle = {\n    margin: '24px',\n    height: 400,\n    border: '1px solid #f3f3f3',\n    display: 'inline-block'\n  };\n  return <ExperimentalBlockEditorProvider settings={{\n    __experimentalBlockPatternCategories: patternCategories,\n    __experimentalBlockPatterns: patterns\n  }}>\n            <div style={wrapperStyle}>\n                <BlockLibrary showInserterHelpPanel />\n            </div>\n        </ExperimentalBlockEditorProvider>;\n}",...LibraryWithPatterns.parameters?.docs?.source}}},LibraryWithPatternsAndReusableBlocks.parameters={...LibraryWithPatternsAndReusableBlocks.parameters,docs:{...LibraryWithPatternsAndReusableBlocks.parameters?.docs,source:{originalSource:"() => {\n  const wrapperStyle = {\n    margin: '24px',\n    height: 400,\n    border: '1px solid #f3f3f3',\n    display: 'inline-block'\n  };\n  return <ExperimentalBlockEditorProvider settings={{\n    __experimentalBlockPatternCategories: patternCategories,\n    __experimentalBlockPatterns: patterns,\n    __experimentalReusableBlocks: reusableBlocks\n  }}>\n            <div style={wrapperStyle}>\n                <BlockLibrary showInserterHelpPanel />\n            </div>\n        </ExperimentalBlockEditorProvider>;\n}",...LibraryWithPatternsAndReusableBlocks.parameters?.docs?.source}}},index_story_QuickInserter.parameters={...index_story_QuickInserter.parameters,docs:{...index_story_QuickInserter.parameters?.docs,source:{originalSource:"() => {\n  const wrapperStyle = {\n    margin: '24px',\n    height: 400,\n    border: '1px solid #f3f3f3',\n    display: 'inline-block'\n  };\n  return <ExperimentalBlockEditorProvider settings={{\n    __experimentalBlockPatternCategories: patternCategories,\n    __experimentalBlockPatterns: patterns,\n    __experimentalReusableBlocks: reusableBlocks\n  }}>\n            <div style={wrapperStyle}>\n                <Inserter __experimentalIsQuick />\n            </div>\n        </ExperimentalBlockEditorProvider>;\n}",...index_story_QuickInserter.parameters?.docs?.source}}};const __namedExportsOrder=["LibraryWithoutPatterns","LibraryWithPatterns","LibraryWithPatternsAndReusableBlocks","QuickInserter"];LibraryWithoutPatterns.__docgenInfo={description:"",methods:[],displayName:"LibraryWithoutPatterns"},LibraryWithPatterns.__docgenInfo={description:"",methods:[],displayName:"LibraryWithPatterns"},LibraryWithPatternsAndReusableBlocks.__docgenInfo={description:"",methods:[],displayName:"LibraryWithPatternsAndReusableBlocks"},index_story_QuickInserter.__docgenInfo={description:"",methods:[],displayName:"QuickInserter"}}}]);