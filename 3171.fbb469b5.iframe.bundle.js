(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[3171],{"./packages/api-fetch/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return api_fetch_build_module}});var build_module=__webpack_require__("./packages/i18n/build-module/index.js");var nonce=function createNonceMiddleware(nonce){const middleware=(options,next)=>{const{headers:headers={}}=options;for(const headerName in headers)if("x-wp-nonce"===headerName.toLowerCase()&&headers[headerName]===middleware.nonce)return next(options);return next({...options,headers:{...headers,"X-WP-Nonce":middleware.nonce}})};return middleware.nonce=nonce,middleware};var namespace_endpoint=(options,next)=>{let namespaceTrimmed,endpointTrimmed,path=options.path;return"string"==typeof options.namespace&&"string"==typeof options.endpoint&&(namespaceTrimmed=options.namespace.replace(/^\/|\/$/g,""),endpointTrimmed=options.endpoint.replace(/^\//,""),path=endpointTrimmed?namespaceTrimmed+"/"+endpointTrimmed:namespaceTrimmed),delete options.namespace,delete options.endpoint,next({...options,path:path})};var root_url=rootURL=>(options,next)=>namespace_endpoint(options,(optionsWithPath=>{let apiRoot,url=optionsWithPath.url,path=optionsWithPath.path;return"string"==typeof path&&(apiRoot=rootURL,-1!==rootURL.indexOf("?")&&(path=path.replace("?","&")),path=path.replace(/^\//,""),"string"==typeof apiRoot&&-1!==apiRoot.indexOf("?")&&(path=path.replace("?","&")),url=apiRoot+path),next({...optionsWithPath,url:url})}));function normalizePath(path){const splitted=path.split("?"),query=splitted[1],base=splitted[0];return query?base+"?"+query.split("&").map((entry=>entry.split("="))).map((pair=>pair.map(decodeURIComponent))).sort(((a,b)=>a[0].localeCompare(b[0]))).map((pair=>pair.map(encodeURIComponent))).map((pair=>pair.join("="))).join("&"):base}var get_query_args=__webpack_require__("./packages/url/build-module/get-query-args.js"),add_query_args=__webpack_require__("./packages/url/build-module/add-query-args.js");function prepareResponse(responseData,parse){return Promise.resolve(parse?responseData.body:new window.Response(JSON.stringify(responseData.body),{status:200,statusText:"OK",headers:responseData.headers}))}var preloading=function createPreloadingMiddleware(preloadedData){const cache=Object.fromEntries(Object.entries(preloadedData).map((([path,data])=>[normalizePath(path),data])));return(options,next)=>{const{parse:parse=!0}=options;let rawPath=options.path;if(!rawPath&&options.url){const{rest_route:pathFromQuery,...queryArgs}=(0,get_query_args.w)(options.url);"string"==typeof pathFromQuery&&(rawPath=(0,add_query_args.f)(pathFromQuery,queryArgs))}if("string"!=typeof rawPath)return next(options);const method=options.method||"GET",path=normalizePath(rawPath);if("GET"===method&&cache[path]){const cacheData=cache[path];return delete cache[path],prepareResponse(cacheData,!!parse)}if("OPTIONS"===method&&cache[method]&&cache[method][path]){const cacheData=cache[method][path];return delete cache[method][path],prepareResponse(cacheData,!!parse)}return next(options)}};const modifyQuery=({path:path,url:url,...options},queryArgs)=>({...options,url:url&&(0,add_query_args.f)(url,queryArgs),path:path&&(0,add_query_args.f)(path,queryArgs)}),parseResponse=response=>response.json?response.json():Promise.reject(response),getNextPageUrl=response=>{const{next:next}=(linkHeader=>{if(!linkHeader)return{};const match=linkHeader.match(/<([^>]+)>; rel="next"/);return match?{next:match[1]}:{}})(response.headers.get("link"));return next};var fetch_all_middleware=async(options,next)=>{if(!1===options.parse)return next(options);if(!(options=>{const pathIsUnbounded=!!options.path&&-1!==options.path.indexOf("per_page=-1"),urlIsUnbounded=!!options.url&&-1!==options.url.indexOf("per_page=-1");return pathIsUnbounded||urlIsUnbounded})(options))return next(options);const response=await api_fetch_build_module({...modifyQuery(options,{per_page:100}),parse:!1}),results=await parseResponse(response);if(!Array.isArray(results))return results;let nextPage=getNextPageUrl(response);if(!nextPage)return results;let mergedResults=[].concat(results);for(;nextPage;){const nextResponse=await api_fetch_build_module({...options,path:void 0,url:nextPage,parse:!1}),nextResults=await parseResponse(nextResponse);mergedResults=mergedResults.concat(nextResults),nextPage=getNextPageUrl(nextResponse)}return mergedResults};const OVERRIDE_METHODS=new Set(["PATCH","PUT","DELETE"]),DEFAULT_METHOD="GET";function hasQueryArg(url,arg){return void 0!==function getQueryArg(url,arg){return(0,get_query_args.w)(url)[arg]}(url,arg)}const parseResponseAndNormalizeError=(response,shouldParseResponse=!0)=>Promise.resolve(((response,shouldParseResponse=!0)=>shouldParseResponse?204===response.status?null:response.json?response.json():Promise.reject(response):response)(response,shouldParseResponse)).catch((res=>parseAndThrowError(res,shouldParseResponse)));function parseAndThrowError(response,shouldParseResponse=!0){if(!shouldParseResponse)throw response;return(response=>{const invalidJsonError={code:"invalid_json",message:(0,build_module.__)("The response is not a valid JSON response.")};if(!response||!response.json)throw invalidJsonError;return response.json().catch((()=>{throw invalidJsonError}))})(response).then((error=>{const unknownError={code:"unknown_error",message:(0,build_module.__)("An unknown error occurred.")};throw error||unknownError}))}var media_upload=(options,next)=>{if(!function isMediaUploadRequest(options){const isCreateMethod=!!options.method&&"POST"===options.method;return(!!options.path&&-1!==options.path.indexOf("/wp/v2/media")||!!options.url&&-1!==options.url.indexOf("/wp/v2/media"))&&isCreateMethod}(options))return next(options);let retries=0;const postProcess=attachmentId=>(retries++,next({path:`/wp/v2/media/${attachmentId}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>retries<5?postProcess(attachmentId):(next({path:`/wp/v2/media/${attachmentId}?force=true`,method:"DELETE"}),Promise.reject()))));return next({...options,parse:!1}).catch((response=>{const attachmentId=response.headers.get("x-wp-upload-attachment-id");return response.status>=500&&response.status<600&&attachmentId?postProcess(attachmentId).catch((()=>!1!==options.parse?Promise.reject({code:"post_process",message:(0,build_module.__)("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(response))):parseAndThrowError(response,options.parse)})).then((response=>parseResponseAndNormalizeError(response,options.parse)))};var theme_preview=themePath=>(options,next)=>("string"!=typeof options.url||hasQueryArg(options.url,"wp_theme_preview")||(options.url=(0,add_query_args.f)(options.url,{wp_theme_preview:themePath})),"string"!=typeof options.path||hasQueryArg(options.path,"wp_theme_preview")||(options.path=(0,add_query_args.f)(options.path,{wp_theme_preview:themePath})),next(options));const DEFAULT_HEADERS={Accept:"application/json, */*;q=0.1"},DEFAULT_OPTIONS={credentials:"include"},middlewares=[(options,next)=>("string"!=typeof options.url||hasQueryArg(options.url,"_locale")||(options.url=(0,add_query_args.f)(options.url,{_locale:"user"})),"string"!=typeof options.path||hasQueryArg(options.path,"_locale")||(options.path=(0,add_query_args.f)(options.path,{_locale:"user"})),next(options)),namespace_endpoint,(options,next)=>{const{method:method=DEFAULT_METHOD}=options;return OVERRIDE_METHODS.has(method.toUpperCase())&&(options={...options,headers:{...options.headers,"X-HTTP-Method-Override":method,"Content-Type":"application/json"},method:"POST"}),next(options)},fetch_all_middleware];const checkStatus=response=>{if(response.status>=200&&response.status<300)return response;throw response};let fetchHandler=nextOptions=>{const{url:url,path:path,data:data,parse:parse=!0,...remainingOptions}=nextOptions;let{body:body,headers:headers}=nextOptions;headers={...DEFAULT_HEADERS,...headers},data&&(body=JSON.stringify(data),headers["Content-Type"]="application/json");return window.fetch(url||path||window.location.href,{...DEFAULT_OPTIONS,...remainingOptions,body:body,headers:headers}).then((value=>Promise.resolve(value).then(checkStatus).catch((response=>parseAndThrowError(response,parse))).then((response=>parseResponseAndNormalizeError(response,parse)))),(err=>{if(err&&"AbortError"===err.name)throw err;throw{code:"fetch_error",message:(0,build_module.__)("You are probably offline.")}}))};function apiFetch(options){return middlewares.reduceRight(((next,middleware)=>workingOptions=>middleware(workingOptions,next)),fetchHandler)(options).catch((error=>"rest_cookie_invalid_nonce"!==error.code?Promise.reject(error):window.fetch(apiFetch.nonceEndpoint).then(checkStatus).then((data=>data.text())).then((text=>(apiFetch.nonceMiddleware.nonce=text,apiFetch(options))))))}apiFetch.use=function registerMiddleware(middleware){middlewares.unshift(middleware)},apiFetch.setFetchHandler=function setFetchHandler(newFetchHandler){fetchHandler=newFetchHandler},apiFetch.createNonceMiddleware=nonce,apiFetch.createPreloadingMiddleware=preloading,apiFetch.createRootURLMiddleware=root_url,apiFetch.fetchAllMiddleware=fetch_all_middleware,apiFetch.mediaUploadMiddleware=media_upload,apiFetch.createThemePreviewMiddleware=theme_preview;var api_fetch_build_module=apiFetch},"./packages/block-editor/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{aE:function(){return AlignmentControl},RE:function(){return AlignmentToolbar},nu:function(){return BlockAlignmentToolbar},Dc:function(){return block_canvas},Q4:function(){return BlockContextProvider},Zp:function(){return block_controls},B5:function(){return provider},wD:function(){return block_icon},N$:function(){return block_inspector},WD:function(){return BlockList},G3:function(){return block_preview},pB:function(){return block_settings_menu_controls},bi:function(){return BlockTitle},u9:function(){return BlockTools},_l:function(){return BlockVerticalAlignmentControl},nZ:function(){return BlockVerticalAlignmentToolbar},VZ:function(){return components_color_palette},ro:function(){return contrast_checker},ZL:function(){return HeadingLevelDropdown},gv:function(){return inner_blocks},Af:function(){return inspector_controls},om:function(){return media_placeholder},mS:function(){return media_replace_flow},R:function(){return media_upload},VA:function(){return check},f3:function(){return plain_text},iI:function(){return rich_text},Wx:function(){return RichTextShortcut},oe:function(){return RichTextToolbarButton},w0:function(){return SETTINGS_DEFAULTS},wE:function(){return url_input},_$:function(){return url_popover},v3:function(){return warning},At:function(){return block_alignment_matrix_control},pY:function(){return block_full_height_alignment_control},A7:function(){return block_patterns_list},G6:function(){return block_variation_picker},zJ:function(){return ColorGradientSettingsDropdown},xO:function(){return DateFormatPicker},fG:function(){return getBorderClassesAndStyles},Ti:function(){return getColorClassesAndStyles},F6:function(){return __experimentalGetElementClassName},PE:function(){return getGapCSSValue},$R:function(){return __experimentalGetGradientClass},qL:function(){return __experimentalGetMatchingVariation},Ge:function(){return getSpacingClassesAndStyles},C9:function(){return ImageEditor},lf:function(){return ImageSizeControl},n_:function(){return ImageURLInputUI},Ml:function(){return link_control},RK:function(){return publish_date_time_picker},Kl:function(){return RecursionProvider},dH:function(){return SpacingSizesControl},h:function(){return useBlockOverlayActive},fZ:function(){return useBlockPreview},P1:function(){return useBorderProps},Yj:function(){return useColorProps},ok:function(){return __experimentalUseGradient},cL:function(){return useHasRecursion},jC:function(){return useMultipleOriginColorsAndGradients},Ih:function(){return EditorStyles},lP:function(){return iframe},kL:function(){return __unstableRichTextInputEvent},Gd:function(){return getColorClassName},M9:function(){return getColorObjectByAttributeValues},Gr:function(){return getColorObjectByColorValue},Zq:function(){return getCustomValueFromPreset},rS:function(){return getFontSizeClass},m6:function(){return getSpacingPresetCssVar},PD:function(){return getTypographyClassesAndStyles},Sh:function(){return isValueSpacingPreset},YH:function(){return privateApis},t2:function(){return store},Fu:function(){return transform_styles},yc:function(){return useBlockDisplayInformation},Bq:function(){return useBlockEditingMode},Wo:function(){return useBlockProps},ni:function(){return useCachedTruthy},fh:function(){return useInnerBlocksProps},rV:function(){return use_settings_useSettings},$c:function(){return withColors}});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,{__experimentalGetActiveBlockIdByBlockNames:function(){return __experimentalGetActiveBlockIdByBlockNames},__experimentalGetAllowedBlocks:function(){return __experimentalGetAllowedBlocks},__experimentalGetAllowedPatterns:function(){return __experimentalGetAllowedPatterns},__experimentalGetBlockListSettingsForBlocks:function(){return __experimentalGetBlockListSettingsForBlocks},__experimentalGetDirectInsertBlock:function(){return __experimentalGetDirectInsertBlock},__experimentalGetGlobalBlocksByName:function(){return __experimentalGetGlobalBlocksByName},__experimentalGetLastBlockAttributeChanges:function(){return __experimentalGetLastBlockAttributeChanges},__experimentalGetParsedPattern:function(){return __experimentalGetParsedPattern},__experimentalGetPatternTransformItems:function(){return __experimentalGetPatternTransformItems},__experimentalGetPatternsByBlockTypes:function(){return __experimentalGetPatternsByBlockTypes},__experimentalGetReusableBlockTitle:function(){return __experimentalGetReusableBlockTitle},__experimentalUserPatternCategories:function(){return __experimentalUserPatternCategories},__unstableGetBlockWithoutInnerBlocks:function(){return __unstableGetBlockWithoutInnerBlocks},__unstableGetClientIdWithClientIdsTree:function(){return __unstableGetClientIdWithClientIdsTree},__unstableGetClientIdsTree:function(){return __unstableGetClientIdsTree},__unstableGetContentLockingParent:function(){return __unstableGetContentLockingParent},__unstableGetEditorMode:function(){return __unstableGetEditorMode},__unstableGetSelectedBlocksWithPartialSelection:function(){return __unstableGetSelectedBlocksWithPartialSelection},__unstableGetTemporarilyEditingAsBlocks:function(){return __unstableGetTemporarilyEditingAsBlocks},__unstableGetVisibleBlocks:function(){return __unstableGetVisibleBlocks},__unstableHasActiveBlockOverlayActive:function(){return __unstableHasActiveBlockOverlayActive},__unstableIsFullySelected:function(){return __unstableIsFullySelected},__unstableIsLastBlockChangeIgnored:function(){return __unstableIsLastBlockChangeIgnored},__unstableIsSelectionCollapsed:function(){return __unstableIsSelectionCollapsed},__unstableIsSelectionMergeable:function(){return __unstableIsSelectionMergeable},__unstableIsWithinBlockOverlay:function(){return __unstableIsWithinBlockOverlay},__unstableSelectionHasUnmergeableBlock:function(){return __unstableSelectionHasUnmergeableBlock},areInnerBlocksControlled:function(){return areInnerBlocksControlled},canEditBlock:function(){return canEditBlock},canInsertBlockType:function(){return canInsertBlockType},canInsertBlocks:function(){return canInsertBlocks},canLockBlockType:function(){return canLockBlockType},canMoveBlock:function(){return canMoveBlock},canMoveBlocks:function(){return canMoveBlocks},canRemoveBlock:function(){return canRemoveBlock},canRemoveBlocks:function(){return canRemoveBlocks},didAutomaticChange:function(){return didAutomaticChange},getAdjacentBlockClientId:function(){return getAdjacentBlockClientId},getAllowedBlocks:function(){return getAllowedBlocks},getBlock:function(){return getBlock},getBlockAttributes:function(){return getBlockAttributes},getBlockCount:function(){return getBlockCount},getBlockEditingMode:function(){return getBlockEditingMode},getBlockHierarchyRootClientId:function(){return getBlockHierarchyRootClientId},getBlockIndex:function(){return getBlockIndex},getBlockInsertionPoint:function(){return getBlockInsertionPoint},getBlockListSettings:function(){return getBlockListSettings},getBlockMode:function(){return getBlockMode},getBlockName:function(){return getBlockName},getBlockNamesByClientId:function(){return getBlockNamesByClientId},getBlockOrder:function(){return getBlockOrder},getBlockParents:function(){return getBlockParents},getBlockParentsByBlockName:function(){return getBlockParentsByBlockName},getBlockRootClientId:function(){return getBlockRootClientId},getBlockSelectionEnd:function(){return getBlockSelectionEnd},getBlockSelectionStart:function(){return getBlockSelectionStart},getBlockTransformItems:function(){return getBlockTransformItems},getBlocks:function(){return getBlocks},getBlocksByClientId:function(){return getBlocksByClientId},getClientIdsOfDescendants:function(){return getClientIdsOfDescendants},getClientIdsWithDescendants:function(){return getClientIdsWithDescendants},getDirectInsertBlock:function(){return getDirectInsertBlock},getDraggedBlockClientIds:function(){return getDraggedBlockClientIds},getFirstMultiSelectedBlockClientId:function(){return getFirstMultiSelectedBlockClientId},getGlobalBlockCount:function(){return getGlobalBlockCount},getInserterItems:function(){return getInserterItems},getLastFocus:function(){return getLastFocus},getLastMultiSelectedBlockClientId:function(){return getLastMultiSelectedBlockClientId},getLowestCommonAncestorWithSelectedBlock:function(){return getLowestCommonAncestorWithSelectedBlock},getMultiSelectedBlockClientIds:function(){return getMultiSelectedBlockClientIds},getMultiSelectedBlocks:function(){return getMultiSelectedBlocks},getMultiSelectedBlocksEndClientId:function(){return getMultiSelectedBlocksEndClientId},getMultiSelectedBlocksStartClientId:function(){return getMultiSelectedBlocksStartClientId},getNextBlockClientId:function(){return getNextBlockClientId},getPatternsByBlockTypes:function(){return getPatternsByBlockTypes},getPreviousBlockClientId:function(){return getPreviousBlockClientId},getSelectedBlock:function(){return getSelectedBlock},getSelectedBlockClientId:function(){return getSelectedBlockClientId},getSelectedBlockClientIds:function(){return getSelectedBlockClientIds},getSelectedBlockCount:function(){return getSelectedBlockCount},getSelectedBlocksInitialCaretPosition:function(){return getSelectedBlocksInitialCaretPosition},getSelectionEnd:function(){return getSelectionEnd},getSelectionStart:function(){return getSelectionStart},getSettings:function(){return getSettings},getTemplate:function(){return getTemplate},getTemplateLock:function(){return getTemplateLock},hasBlockMovingClientId:function(){return selectors_hasBlockMovingClientId},hasDraggedInnerBlock:function(){return hasDraggedInnerBlock},hasInserterItems:function(){return hasInserterItems},hasMultiSelection:function(){return hasMultiSelection},hasSelectedBlock:function(){return hasSelectedBlock},hasSelectedInnerBlock:function(){return hasSelectedInnerBlock},isAncestorBeingDragged:function(){return isAncestorBeingDragged},isAncestorMultiSelected:function(){return isAncestorMultiSelected},isBlockBeingDragged:function(){return isBlockBeingDragged},isBlockHighlighted:function(){return isBlockHighlighted},isBlockInsertionPointVisible:function(){return isBlockInsertionPointVisible},isBlockMultiSelected:function(){return isBlockMultiSelected},isBlockSelected:function(){return isBlockSelected},isBlockValid:function(){return isBlockValid},isBlockVisible:function(){return isBlockVisible},isBlockWithinSelection:function(){return isBlockWithinSelection},isCaretWithinFormattedText:function(){return isCaretWithinFormattedText},isDraggingBlocks:function(){return isDraggingBlocks},isFirstMultiSelectedBlock:function(){return isFirstMultiSelectedBlock},isGroupable:function(){return isGroupable},isLastBlockChangePersistent:function(){return isLastBlockChangePersistent},isMultiSelecting:function(){return selectors_isMultiSelecting},isNavigationMode:function(){return isNavigationMode},isSelectionEnabled:function(){return selectors_isSelectionEnabled},isTyping:function(){return selectors_isTyping},isUngroupable:function(){return isUngroupable},isValidTemplate:function(){return isValidTemplate},wasBlockJustInserted:function(){return wasBlockJustInserted}});var private_actions_namespaceObject={};__webpack_require__.r(private_actions_namespaceObject),__webpack_require__.d(private_actions_namespaceObject,{__experimentalUpdateSettings:function(){return __experimentalUpdateSettings},clearBlockRemovalPrompt:function(){return clearBlockRemovalPrompt},deleteStyleOverride:function(){return deleteStyleOverride},ensureDefaultBlock:function(){return ensureDefaultBlock},hideBlockInterface:function(){return hideBlockInterface},privateRemoveBlocks:function(){return privateRemoveBlocks},setBlockRemovalRules:function(){return setBlockRemovalRules},setOpenedBlockSettingsMenu:function(){return setOpenedBlockSettingsMenu},setStyleOverride:function(){return setStyleOverride},showBlockInterface:function(){return showBlockInterface},syncDerivedBlockAttributes:function(){return syncDerivedBlockAttributes}});var private_selectors_namespaceObject={};__webpack_require__.r(private_selectors_namespaceObject),__webpack_require__.d(private_selectors_namespaceObject,{getBlockRemovalRules:function(){return getBlockRemovalRules},getEnabledBlockParents:function(){return getEnabledBlockParents},getEnabledClientIdsTree:function(){return getEnabledClientIdsTree},getInserterMediaCategories:function(){return getInserterMediaCategories},getLastInsertedBlocksClientIds:function(){return getLastInsertedBlocksClientIds},getOpenedBlockSettingsMenu:function(){return getOpenedBlockSettingsMenu},getRegisteredInserterMediaCategories:function(){return getRegisteredInserterMediaCategories},getRemovalPromptData:function(){return getRemovalPromptData},getStyleOverrides:function(){return getStyleOverrides},isBlockInterfaceHidden:function(){return private_selectors_isBlockInterfaceHidden},isBlockSubtreeDisabled:function(){return isBlockSubtreeDisabled}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{__unstableDeleteSelection:function(){return __unstableDeleteSelection},__unstableExpandSelection:function(){return __unstableExpandSelection},__unstableMarkAutomaticChange:function(){return __unstableMarkAutomaticChange},__unstableMarkLastChangeAsPersistent:function(){return __unstableMarkLastChangeAsPersistent},__unstableMarkNextChangeAsNotPersistent:function(){return __unstableMarkNextChangeAsNotPersistent},__unstableSaveReusableBlock:function(){return __unstableSaveReusableBlock},__unstableSetEditorMode:function(){return __unstableSetEditorMode},__unstableSetTemporarilyEditingAsBlocks:function(){return __unstableSetTemporarilyEditingAsBlocks},__unstableSplitSelection:function(){return __unstableSplitSelection},clearSelectedBlock:function(){return clearSelectedBlock},duplicateBlocks:function(){return duplicateBlocks},enterFormattedText:function(){return enterFormattedText},exitFormattedText:function(){return exitFormattedText},flashBlock:function(){return flashBlock},hideInsertionPoint:function(){return hideInsertionPoint},insertAfterBlock:function(){return insertAfterBlock},insertBeforeBlock:function(){return insertBeforeBlock},insertBlock:function(){return insertBlock},insertBlocks:function(){return insertBlocks},insertDefaultBlock:function(){return insertDefaultBlock},mergeBlocks:function(){return mergeBlocks},moveBlockToPosition:function(){return moveBlockToPosition},moveBlocksDown:function(){return moveBlocksDown},moveBlocksToPosition:function(){return moveBlocksToPosition},moveBlocksUp:function(){return moveBlocksUp},multiSelect:function(){return multiSelect},receiveBlocks:function(){return receiveBlocks},registerInserterMediaCategory:function(){return registerInserterMediaCategory},removeBlock:function(){return removeBlock},removeBlocks:function(){return removeBlocks},replaceBlock:function(){return replaceBlock},replaceBlocks:function(){return replaceBlocks},replaceInnerBlocks:function(){return replaceInnerBlocks},resetBlocks:function(){return resetBlocks},resetSelection:function(){return resetSelection},selectBlock:function(){return selectBlock},selectNextBlock:function(){return selectNextBlock},selectPreviousBlock:function(){return selectPreviousBlock},selectionChange:function(){return selectionChange},setBlockEditingMode:function(){return setBlockEditingMode},setBlockMovingClientId:function(){return setBlockMovingClientId},setBlockVisibility:function(){return setBlockVisibility},setHasControlledInnerBlocks:function(){return setHasControlledInnerBlocks},setLastFocus:function(){return setLastFocus},setNavigationMode:function(){return setNavigationMode},setTemplateValidity:function(){return setTemplateValidity},showInsertionPoint:function(){return showInsertionPoint},startDraggingBlocks:function(){return startDraggingBlocks},startMultiSelect:function(){return startMultiSelect},startTyping:function(){return startTyping},stopDraggingBlocks:function(){return stopDraggingBlocks},stopMultiSelect:function(){return stopMultiSelect},stopTyping:function(){return stopTyping},synchronizeTemplate:function(){return synchronizeTemplate},toggleBlockHighlight:function(){return toggleBlockHighlight},toggleBlockMode:function(){return toggleBlockMode},toggleSelection:function(){return toggleSelection},unsetBlockEditingMode:function(){return unsetBlockEditingMode},updateBlock:function(){return updateBlock},updateBlockAttributes:function(){return updateBlockAttributes},updateBlockListSettings:function(){return updateBlockListSettings},updateSettings:function(){return updateSettings},validateBlocksToTemplate:function(){return validateBlocksToTemplate}});var global_styles_namespaceObject={};__webpack_require__.r(global_styles_namespaceObject),__webpack_require__.d(global_styles_namespaceObject,{AdvancedPanel:function(){return AdvancedPanel},BorderPanel:function(){return BorderPanel},ColorPanel:function(){return ColorPanel},DimensionsPanel:function(){return DimensionsPanel},EffectsPanel:function(){return EffectsPanel},FiltersPanel:function(){return FiltersPanel},GlobalStylesContext:function(){return GlobalStylesContext},ImageSettingsPanel:function(){return ImageSettingsPanel},TypographyPanel:function(){return TypographyPanel},areGlobalStyleConfigsEqual:function(){return areGlobalStyleConfigsEqual},getBlockCSSSelector:function(){return getBlockCSSSelector},getLayoutStyles:function(){return getLayoutStyles},useGlobalSetting:function(){return useGlobalSetting},useGlobalStyle:function(){return useGlobalStyle},useGlobalStylesOutput:function(){return useGlobalStylesOutput},useGlobalStylesOutputWithConfig:function(){return useGlobalStylesOutputWithConfig},useGlobalStylesReset:function(){return useGlobalStylesReset},useHasBorderPanel:function(){return useHasBorderPanel},useHasColorPanel:function(){return useHasColorPanel},useHasDimensionsPanel:function(){return useHasDimensionsPanel},useHasEffectsPanel:function(){return useHasEffectsPanel},useHasFiltersPanel:function(){return useHasFiltersPanel},useHasImageSettingsPanel:function(){return useHasImageSettingsPanel},useHasTypographyPanel:function(){return useHasTypographyPanel},useSettingsForBlockElement:function(){return useSettingsForBlockElement}});var build_module=__webpack_require__("./packages/blocks/build-module/index.js"),hooks_build_module=__webpack_require__("./packages/hooks/build-module/index.js");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/compat/migrateLightBlockWrapper",(function migrateLightBlockWrapper(settings){const{apiVersion:apiVersion=1}=settings;return apiVersion<2&&(0,build_module.zb)(settings,"lightBlockWrapper",!1)&&(settings.apiVersion=2),settings}));var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),create_higher_order_component=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),toolbar_group=__webpack_require__("./packages/components/build-module/toolbar/toolbar-group/index.js"),style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js"),use_select=__webpack_require__("./packages/data/build-module/components/use-select/index.js"),slot_fill=__webpack_require__("./packages/components/build-module/slot-fill/index.js");var block_controls_groups={default:(0,slot_fill.up)("BlockControls"),block:(0,slot_fill.up)("BlockControlsBlock"),inline:(0,slot_fill.up)("BlockFormatControls"),other:(0,slot_fill.up)("BlockControlsOther"),parent:(0,slot_fill.up)("BlockControlsParent")},redux_store=__webpack_require__("./packages/data/build-module/redux-store/index.js"),data_build_module=__webpack_require__("./packages/data/build-module/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),pipe=__webpack_require__("./packages/compose/build-module/higher-order/pipe.js"),build_module_select=__webpack_require__("./packages/data/build-module/select.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js");const PREFERENCES_DEFAULTS={insertUsage:{}},SETTINGS_DEFAULTS={alignWide:!1,supportsLayout:!0,colors:[{name:(0,i18n_build_module.__)("Black"),slug:"black",color:"#000000"},{name:(0,i18n_build_module.__)("Cyan bluish gray"),slug:"cyan-bluish-gray",color:"#abb8c3"},{name:(0,i18n_build_module.__)("White"),slug:"white",color:"#ffffff"},{name:(0,i18n_build_module.__)("Pale pink"),slug:"pale-pink",color:"#f78da7"},{name:(0,i18n_build_module.__)("Vivid red"),slug:"vivid-red",color:"#cf2e2e"},{name:(0,i18n_build_module.__)("Luminous vivid orange"),slug:"luminous-vivid-orange",color:"#ff6900"},{name:(0,i18n_build_module.__)("Luminous vivid amber"),slug:"luminous-vivid-amber",color:"#fcb900"},{name:(0,i18n_build_module.__)("Light green cyan"),slug:"light-green-cyan",color:"#7bdcb5"},{name:(0,i18n_build_module.__)("Vivid green cyan"),slug:"vivid-green-cyan",color:"#00d084"},{name:(0,i18n_build_module.__)("Pale cyan blue"),slug:"pale-cyan-blue",color:"#8ed1fc"},{name:(0,i18n_build_module.__)("Vivid cyan blue"),slug:"vivid-cyan-blue",color:"#0693e3"},{name:(0,i18n_build_module.__)("Vivid purple"),slug:"vivid-purple",color:"#9b51e0"}],fontSizes:[{name:(0,i18n_build_module._x)("Small","font size name"),size:13,slug:"small"},{name:(0,i18n_build_module._x)("Normal","font size name"),size:16,slug:"normal"},{name:(0,i18n_build_module._x)("Medium","font size name"),size:20,slug:"medium"},{name:(0,i18n_build_module._x)("Large","font size name"),size:36,slug:"large"},{name:(0,i18n_build_module._x)("Huge","font size name"),size:42,slug:"huge"}],imageDefaultSize:"large",imageSizes:[{slug:"thumbnail",name:(0,i18n_build_module.__)("Thumbnail")},{slug:"medium",name:(0,i18n_build_module.__)("Medium")},{slug:"large",name:(0,i18n_build_module.__)("Large")},{slug:"full",name:(0,i18n_build_module.__)("Full Size")}],imageEditing:!0,maxWidth:580,allowedBlockTypes:!0,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:!0,enableOpenverseMediaCategory:!0,clearBlockSelection:!0,__experimentalCanUserUseUnfilteredHTML:!1,__experimentalBlockDirectory:!1,__mobileEnablePageTemplates:!1,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableGalleryWithImageBlocks:!1,__unstableIsPreviewMode:!1,blockInspectorAnimation:{animationParent:"core/navigation","core/navigation":{enterDirection:"leftToRight"},"core/navigation-submenu":{enterDirection:"rightToLeft"},"core/navigation-link":{enterDirection:"rightToLeft"},"core/search":{enterDirection:"rightToLeft"},"core/social-links":{enterDirection:"rightToLeft"},"core/page-list":{enterDirection:"rightToLeft"},"core/spacer":{enterDirection:"rightToLeft"},"core/home-link":{enterDirection:"rightToLeft"},"core/site-title":{enterDirection:"rightToLeft"},"core/site-logo":{enterDirection:"rightToLeft"}},generateAnchors:!1,gradients:[{name:(0,i18n_build_module.__)("Vivid cyan blue to vivid purple"),gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:(0,i18n_build_module.__)("Light green cyan to vivid green cyan"),gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:(0,i18n_build_module.__)("Luminous vivid amber to luminous vivid orange"),gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"},{name:(0,i18n_build_module.__)("Luminous vivid orange to vivid red"),gradient:"linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)",slug:"luminous-vivid-orange-to-vivid-red"},{name:(0,i18n_build_module.__)("Very light gray to cyan bluish gray"),gradient:"linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)",slug:"very-light-gray-to-cyan-bluish-gray"},{name:(0,i18n_build_module.__)("Cool to warm spectrum"),gradient:"linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)",slug:"cool-to-warm-spectrum"},{name:(0,i18n_build_module.__)("Blush light purple"),gradient:"linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)",slug:"blush-light-purple"},{name:(0,i18n_build_module.__)("Blush bordeaux"),gradient:"linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)",slug:"blush-bordeaux"},{name:(0,i18n_build_module.__)("Luminous dusk"),gradient:"linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)",slug:"luminous-dusk"},{name:(0,i18n_build_module.__)("Pale ocean"),gradient:"linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)",slug:"pale-ocean"},{name:(0,i18n_build_module.__)("Electric grass"),gradient:"linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)",slug:"electric-grass"},{name:(0,i18n_build_module.__)("Midnight"),gradient:"linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)",slug:"midnight"}],__unstableResolvedAssets:{styles:[],scripts:[]}};function insertAt(array,elements,index){return[...array.slice(0,index),...Array.isArray(elements)?elements:[elements],...array.slice(index)]}function moveTo(array,from,to,count=1){const withoutMovedElements=[...array];return withoutMovedElements.splice(from,count),insertAt(withoutMovedElements,array.slice(from,from+count),to)}const identity=x=>x;function mapBlockOrder(blocks,rootClientId=""){const result=new Map,current=[];return result.set(rootClientId,current),blocks.forEach((block=>{const{clientId:clientId,innerBlocks:innerBlocks}=block;current.push(clientId),mapBlockOrder(innerBlocks,clientId).forEach(((order,subClientId)=>{result.set(subClientId,order)}))})),result}function mapBlockParents(blocks,rootClientId=""){const result=[],stack=[[rootClientId,blocks]];for(;stack.length;){const[parent,currentBlocks]=stack.shift();currentBlocks.forEach((({innerBlocks:innerBlocks,...block})=>{result.push([block.clientId,parent]),innerBlocks?.length&&stack.push([block.clientId,innerBlocks])}))}return result}function flattenBlocks(blocks,transform=identity){const result=[],stack=[...blocks];for(;stack.length;){const{innerBlocks:innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),result.push([block.clientId,transform(block)])}return result}function getFlattenedBlocksWithoutAttributes(blocks){return flattenBlocks(blocks,(block=>{const{attributes:attributes,...restBlock}=block;return restBlock}))}function getFlattenedBlockAttributes(blocks){return flattenBlocks(blocks,(block=>block.attributes))}function isUpdatingSameBlockAttribute(action,lastAction){return"UPDATE_BLOCK_ATTRIBUTES"===action.type&&void 0!==lastAction&&"UPDATE_BLOCK_ATTRIBUTES"===lastAction.type&&es6_default()(action.clientIds,lastAction.clientIds)&&function hasSameKeys(a,b){return es6_default()(Object.keys(a),Object.keys(b))}(action.attributes,lastAction.attributes)}function updateBlockTreeForBlocks(state,blocks){const treeToUpdate=state.tree,stack=[...blocks],flattenedBlocks=[...blocks];for(;stack.length;){const block=stack.shift();stack.push(...block.innerBlocks),flattenedBlocks.push(...block.innerBlocks)}for(const block of flattenedBlocks)treeToUpdate.set(block.clientId,{});for(const block of flattenedBlocks)treeToUpdate.set(block.clientId,Object.assign(treeToUpdate.get(block.clientId),{...state.byClientId.get(block.clientId),attributes:state.attributes.get(block.clientId),innerBlocks:block.innerBlocks.map((subBlock=>treeToUpdate.get(subBlock.clientId)))}))}function updateParentInnerBlocksInTree(state,updatedClientIds,updateChildrenOfUpdatedClientIds=!1){const treeToUpdate=state.tree,uncontrolledParents=new Set([]),controlledParents=new Set;for(const clientId of updatedClientIds){let current=updateChildrenOfUpdatedClientIds?clientId:state.parents.get(clientId);do{if(state.controlledInnerBlocks[current]){controlledParents.add(current);break}uncontrolledParents.add(current),current=state.parents.get(current)}while(void 0!==current)}for(const clientId of uncontrolledParents)treeToUpdate.set(clientId,{...treeToUpdate.get(clientId)});for(const clientId of uncontrolledParents)treeToUpdate.get(clientId).innerBlocks=(state.order.get(clientId)||[]).map((subClientId=>treeToUpdate.get(subClientId)));for(const clientId of controlledParents)treeToUpdate.set("controlled||"+clientId,{innerBlocks:(state.order.get(clientId)||[]).map((subClientId=>treeToUpdate.get(subClientId)))})}const blocks=(0,pipe.Z)(data_build_module.UY,(reducer=>(state,action)=>{if(state&&"SAVE_REUSABLE_BLOCK_SUCCESS"===action.type){const{id:id,updatedId:updatedId}=action;if(id===updatedId)return state;(state={...state}).attributes=new Map(state.attributes),state.attributes.forEach(((attributes,clientId)=>{const{name:name}=state.byClientId.get(clientId);"core/block"===name&&attributes.ref===id&&state.attributes.set(clientId,{...attributes,ref:updatedId})}))}return reducer(state,action)}),(reducer=>(state={},action)=>{const newState=reducer(state,action);if(newState===state)return state;switch(newState.tree=state.tree?state.tree:new Map,action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":newState.tree=new Map(newState.tree),updateBlockTreeForBlocks(newState,action.blocks),updateParentInnerBlocksInTree(newState,action.rootClientId?[action.rootClientId]:[""],!0);break;case"UPDATE_BLOCK":newState.tree=new Map(newState.tree),newState.tree.set(action.clientId,{...newState.tree.get(action.clientId),...newState.byClientId.get(action.clientId),attributes:newState.attributes.get(action.clientId)}),updateParentInnerBlocksInTree(newState,[action.clientId],!1);break;case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":newState.tree=new Map(newState.tree),action.clientIds.forEach((clientId=>{newState.tree.set(clientId,{...newState.tree.get(clientId),attributes:newState.attributes.get(clientId)})})),updateParentInnerBlocksInTree(newState,action.clientIds,!1);break;case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const inserterClientIds=function getFlattenedClientIds(blocks){const result={},stack=[...blocks];for(;stack.length;){const{innerBlocks:innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),result[block.clientId]=!0}return result}(action.blocks);newState.tree=new Map(newState.tree),action.replacedClientIds.concat(action.replacedClientIds.filter((clientId=>!inserterClientIds[clientId])).map((clientId=>"controlled||"+clientId))).forEach((key=>{newState.tree.delete(key)})),updateBlockTreeForBlocks(newState,action.blocks),updateParentInnerBlocksInTree(newState,action.blocks.map((b=>b.clientId)),!1);const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds)void 0===state.parents.get(clientId)||""!==state.parents.get(clientId)&&!newState.byClientId.get(state.parents.get(clientId))||parentsOfRemovedBlocks.push(state.parents.get(clientId));updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,!0);break}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds)void 0===state.parents.get(clientId)||""!==state.parents.get(clientId)&&!newState.byClientId.get(state.parents.get(clientId))||parentsOfRemovedBlocks.push(state.parents.get(clientId));newState.tree=new Map(newState.tree),action.removedClientIds.concat(action.removedClientIds.map((clientId=>"controlled||"+clientId))).forEach((key=>{newState.tree.delete(key)})),updateParentInnerBlocksInTree(newState,parentsOfRemovedBlocks,!0);break;case"MOVE_BLOCKS_TO_POSITION":{const updatedBlockUids=[];action.fromRootClientId?updatedBlockUids.push(action.fromRootClientId):updatedBlockUids.push(""),action.toRootClientId&&updatedBlockUids.push(action.toRootClientId),newState.tree=new Map(newState.tree),updateParentInnerBlocksInTree(newState,updatedBlockUids,!0);break}case"MOVE_BLOCKS_UP":case"MOVE_BLOCKS_DOWN":{const updatedBlockUids=[action.rootClientId?action.rootClientId:""];newState.tree=new Map(newState.tree),updateParentInnerBlocksInTree(newState,updatedBlockUids,!0);break}case"SAVE_REUSABLE_BLOCK_SUCCESS":{const updatedBlockUids=[];newState.attributes.forEach(((attributes,clientId)=>{"core/block"===newState.byClientId.get(clientId).name&&attributes.ref===action.updatedId&&updatedBlockUids.push(clientId)})),newState.tree=new Map(newState.tree),updatedBlockUids.forEach((clientId=>{newState.tree.set(clientId,{...newState.byClientId.get(clientId),attributes:newState.attributes.get(clientId),innerBlocks:newState.tree.get(clientId).innerBlocks})})),updateParentInnerBlocksInTree(newState,updatedBlockUids,!1)}}return newState}),(reducer=>(state,action)=>{const getAllChildren=clientIds=>{let result=clientIds;for(let i=0;i<result.length;i++)!state.order.get(result[i])||action.keepControlledInnerBlocks&&action.keepControlledInnerBlocks[result[i]]||(result===clientIds&&(result=[...result]),result.push(...state.order.get(result[i])));return result};if(state)switch(action.type){case"REMOVE_BLOCKS":action={...action,type:"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN",removedClientIds:getAllChildren(action.clientIds)};break;case"REPLACE_BLOCKS":action={...action,type:"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN",replacedClientIds:getAllChildren(action.clientIds)}}return reducer(state,action)}),(reducer=>(state,action)=>{if("REPLACE_INNER_BLOCKS"!==action.type)return reducer(state,action);const nestedControllers={};if(Object.keys(state.controlledInnerBlocks).length){const stack=[...action.blocks];for(;stack.length;){const{innerBlocks:innerBlocks,...block}=stack.shift();stack.push(...innerBlocks),state.controlledInnerBlocks[block.clientId]&&(nestedControllers[block.clientId]=!0)}}let stateAfterBlocksRemoval=state;state.order.get(action.rootClientId)&&(stateAfterBlocksRemoval=reducer(stateAfterBlocksRemoval,{type:"REMOVE_BLOCKS",keepControlledInnerBlocks:nestedControllers,clientIds:state.order.get(action.rootClientId)}));let stateAfterInsert=stateAfterBlocksRemoval;if(action.blocks.length){stateAfterInsert=reducer(stateAfterInsert,{...action,type:"INSERT_BLOCKS",index:0});const stateAfterInsertOrder=new Map(stateAfterInsert.order);Object.keys(nestedControllers).forEach((key=>{state.order.get(key)&&stateAfterInsertOrder.set(key,state.order.get(key))})),stateAfterInsert.order=stateAfterInsertOrder,stateAfterInsert.tree=new Map(stateAfterInsert.tree),Object.keys(nestedControllers).forEach((_key=>{const key=`controlled||${_key}`;state.tree.has(key)&&stateAfterInsert.tree.set(key,state.tree.get(key))}))}return stateAfterInsert}),(reducer=>(state,action)=>{if("RESET_BLOCKS"===action.type){const newState={...state,byClientId:new Map(getFlattenedBlocksWithoutAttributes(action.blocks)),attributes:new Map(getFlattenedBlockAttributes(action.blocks)),order:mapBlockOrder(action.blocks),parents:new Map(mapBlockParents(action.blocks)),controlledInnerBlocks:{}};return newState.tree=new Map(state?.tree),updateBlockTreeForBlocks(newState,action.blocks),newState.tree.set("",{innerBlocks:action.blocks.map((subBlock=>newState.tree.get(subBlock.clientId)))}),newState}return reducer(state,action)}),(function withPersistentBlockChange(reducer){let lastAction,markNextChangeAsNotPersistent=!1;return(state,action)=>{let nextState=reducer(state,action);if("SYNC_DERIVED_BLOCK_ATTRIBUTES"===action.type)return nextState.isPersistentChange?{...nextState,isPersistentChange:!1}:nextState;const isExplicitPersistentChange="MARK_LAST_CHANGE_AS_PERSISTENT"===action.type||markNextChangeAsNotPersistent;if(state===nextState&&!isExplicitPersistentChange){var _state$isPersistentCh;markNextChangeAsNotPersistent="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===action.type;const nextIsPersistentChange=null===(_state$isPersistentCh=state?.isPersistentChange)||void 0===_state$isPersistentCh||_state$isPersistentCh;return state.isPersistentChange===nextIsPersistentChange?state:{...nextState,isPersistentChange:nextIsPersistentChange}}return nextState={...nextState,isPersistentChange:isExplicitPersistentChange?!markNextChangeAsNotPersistent:!isUpdatingSameBlockAttribute(action,lastAction)},lastAction=action,markNextChangeAsNotPersistent="MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"===action.type,nextState}}),(function withIgnoredBlockChange(reducer){const IGNORED_ACTION_TYPES=new Set(["RECEIVE_BLOCKS"]);return(state,action)=>{const nextState=reducer(state,action);return nextState!==state&&(nextState.isIgnoredChange=IGNORED_ACTION_TYPES.has(action.type)),nextState}}),(reducer=>(state,action)=>{if("SET_HAS_CONTROLLED_INNER_BLOCKS"===action.type){const tempState=reducer(state,{type:"REPLACE_INNER_BLOCKS",rootClientId:action.clientId,blocks:[]});return reducer(tempState,action)}return reducer(state,action)}))({byClientId(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const newState=new Map(state);return getFlattenedBlocksWithoutAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"UPDATE_BLOCK":{if(!state.has(action.clientId))return state;const{attributes:attributes,...changes}=action.updates;if(0===Object.values(changes).length)return state;const newState=new Map(state);return newState.set(action.clientId,{...state.get(action.clientId),...changes}),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!action.blocks)return state;const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),getFlattenedBlocksWithoutAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},attributes(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":case"INSERT_BLOCKS":{const newState=new Map(state);return getFlattenedBlockAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"UPDATE_BLOCK":{if(!state.get(action.clientId)||!action.updates.attributes)return state;const newState=new Map(state);return newState.set(action.clientId,{...state.get(action.clientId),...action.updates.attributes}),newState}case"SYNC_DERIVED_BLOCK_ATTRIBUTES":case"UPDATE_BLOCK_ATTRIBUTES":{if(action.clientIds.every((id=>!state.get(id))))return state;let hasChange=!1;const newState=new Map(state);for(const clientId of action.clientIds){var _action$attributes;const updatedAttributeEntries=Object.entries(action.uniqueByBlock?action.attributes[clientId]:null!==(_action$attributes=action.attributes)&&void 0!==_action$attributes?_action$attributes:{});if(0===updatedAttributeEntries.length)continue;let hasUpdatedAttributes=!1;const existingAttributes=state.get(clientId),newAttributes={};updatedAttributeEntries.forEach((([key,value])=>{existingAttributes[key]!==value&&(hasUpdatedAttributes=!0,newAttributes[key]=value)})),hasChange=hasChange||hasUpdatedAttributes,hasUpdatedAttributes&&newState.set(clientId,{...existingAttributes,...newAttributes})}return hasChange?newState:state}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{if(!action.blocks)return state;const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),getFlattenedBlockAttributes(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},order(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":{var _state$get;const blockOrder=mapBlockOrder(action.blocks),newState=new Map(state);return blockOrder.forEach(((order,clientId)=>{""!==clientId&&newState.set(clientId,order)})),newState.set("",(null!==(_state$get=state.get(""))&&void 0!==_state$get?_state$get:[]).concat(blockOrder[""])),newState}case"INSERT_BLOCKS":{const{rootClientId:rootClientId=""}=action,subState=state.get(rootClientId)||[],mappedBlocks=mapBlockOrder(action.blocks,rootClientId),{index:index=subState.length}=action,newState=new Map(state);return mappedBlocks.forEach(((order,clientId)=>{newState.set(clientId,order)})),newState.set(rootClientId,insertAt(subState,mappedBlocks.get(rootClientId),index)),newState}case"MOVE_BLOCKS_TO_POSITION":{var _state$get$filter;const{fromRootClientId:fromRootClientId="",toRootClientId:toRootClientId="",clientIds:clientIds}=action,{index:index=state.get(toRootClientId).length}=action;if(fromRootClientId===toRootClientId){const fromIndex=state.get(toRootClientId).indexOf(clientIds[0]),newState=new Map(state);return newState.set(toRootClientId,moveTo(state.get(toRootClientId),fromIndex,index,clientIds.length)),newState}const newState=new Map(state);return newState.set(fromRootClientId,null!==(_state$get$filter=state.get(fromRootClientId)?.filter((id=>!clientIds.includes(id))))&&void 0!==_state$get$filter?_state$get$filter:[]),newState.set(toRootClientId,insertAt(state.get(toRootClientId),clientIds,index)),newState}case"MOVE_BLOCKS_UP":{const{clientIds:clientIds,rootClientId:rootClientId=""}=action,firstClientId=clientIds[0],subState=state.get(rootClientId);if(!subState.length||firstClientId===subState[0])return state;const firstIndex=subState.indexOf(firstClientId),newState=new Map(state);return newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex-1,clientIds.length)),newState}case"MOVE_BLOCKS_DOWN":{const{clientIds:clientIds,rootClientId:rootClientId=""}=action,firstClientId=clientIds[0],lastClientId=clientIds[clientIds.length-1],subState=state.get(rootClientId);if(!subState.length||lastClientId===subState[subState.length-1])return state;const firstIndex=subState.indexOf(firstClientId),newState=new Map(state);return newState.set(rootClientId,moveTo(subState,firstIndex,firstIndex+1,clientIds.length)),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const{clientIds:clientIds}=action;if(!action.blocks)return state;const mappedBlocks=mapBlockOrder(action.blocks),newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),mappedBlocks.forEach(((order,clientId)=>{""!==clientId&&newState.set(clientId,order)})),newState.forEach(((order,clientId)=>{const newSubOrder=Object.values(order).reduce(((result,subClientId)=>subClientId===clientIds[0]?[...result,...mappedBlocks.get("")]:(-1===clientIds.indexOf(subClientId)&&result.push(subClientId),result)),[]);newState.set(clientId,newSubOrder)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState.forEach(((order,clientId)=>{var _order$filter;const newSubOrder=null!==(_order$filter=order?.filter((id=>!action.removedClientIds.includes(id))))&&void 0!==_order$filter?_order$filter:[];newSubOrder.length!==order.length&&newState.set(clientId,newSubOrder)})),newState}}return state},parents(state=new Map,action){switch(action.type){case"RECEIVE_BLOCKS":{const newState=new Map(state);return mapBlockParents(action.blocks).forEach((([key,value])=>{newState.set(key,value)})),newState}case"INSERT_BLOCKS":{const newState=new Map(state);return mapBlockParents(action.blocks,action.rootClientId||"").forEach((([key,value])=>{newState.set(key,value)})),newState}case"MOVE_BLOCKS_TO_POSITION":{const newState=new Map(state);return action.clientIds.forEach((id=>{newState.set(id,action.toRootClientId||"")})),newState}case"REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.replacedClientIds.forEach((clientId=>{newState.delete(clientId)})),mapBlockParents(action.blocks,state.get(action.clientIds[0])).forEach((([key,value])=>{newState.set(key,value)})),newState}case"REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN":{const newState=new Map(state);return action.removedClientIds.forEach((clientId=>{newState.delete(clientId)})),newState}}return state},controlledInnerBlocks(state={},{type:type,clientId:clientId,hasControlledInnerBlocks:hasControlledInnerBlocks}){return"SET_HAS_CONTROLLED_INNER_BLOCKS"===type?{...state,[clientId]:hasControlledInnerBlocks}:state}});function selectionHelper(state={},action){switch(action.type){case"CLEAR_SELECTED_BLOCK":return state.clientId?{}:state;case"SELECT_BLOCK":return action.clientId===state.clientId?state:{clientId:action.clientId};case"REPLACE_INNER_BLOCKS":case"INSERT_BLOCKS":return action.updateSelection&&action.blocks.length?{clientId:action.blocks[0].clientId}:state;case"REMOVE_BLOCKS":return action.clientIds&&action.clientIds.length&&-1!==action.clientIds.indexOf(state.clientId)?{}:state;case"REPLACE_BLOCKS":{if(-1===action.clientIds.indexOf(state.clientId))return state;const blockToSelect=action.blocks[action.indexToSelect]||action.blocks[action.blocks.length-1];return blockToSelect?blockToSelect.clientId===state.clientId?state:{clientId:blockToSelect.clientId}:{}}}return state}const combinedReducers=(0,data_build_module.UY)({blocks:blocks,isTyping:function isTyping(state=!1,action){switch(action.type){case"START_TYPING":return!0;case"STOP_TYPING":return!1}return state},isBlockInterfaceHidden:function isBlockInterfaceHidden(state=!1,action){switch(action.type){case"HIDE_BLOCK_INTERFACE":return!0;case"SHOW_BLOCK_INTERFACE":return!1}return state},draggedBlocks:function draggedBlocks(state=[],action){switch(action.type){case"START_DRAGGING_BLOCKS":return action.clientIds;case"STOP_DRAGGING_BLOCKS":return[]}return state},selection:function selection(state={},action){switch(action.type){case"SELECTION_CHANGE":return action.clientId?{selectionStart:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.startOffset},selectionEnd:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.endOffset}}:{selectionStart:action.start||state.selectionStart,selectionEnd:action.end||state.selectionEnd};case"RESET_SELECTION":const{selectionStart:selectionStart,selectionEnd:selectionEnd}=action;return{selectionStart:selectionStart,selectionEnd:selectionEnd};case"MULTI_SELECT":const{start:start,end:end}=action;return start===state.selectionStart?.clientId&&end===state.selectionEnd?.clientId?state:{selectionStart:{clientId:start},selectionEnd:{clientId:end}};case"RESET_BLOCKS":const startClientId=state?.selectionStart?.clientId,endClientId=state?.selectionEnd?.clientId;if(!startClientId&&!endClientId)return state;if(!action.blocks.some((block=>block.clientId===startClientId)))return{selectionStart:{},selectionEnd:{}};if(!action.blocks.some((block=>block.clientId===endClientId)))return{...state,selectionEnd:state.selectionStart}}const selectionStart=selectionHelper(state.selectionStart,action),selectionEnd=selectionHelper(state.selectionEnd,action);return selectionStart===state.selectionStart&&selectionEnd===state.selectionEnd?state:{selectionStart:selectionStart,selectionEnd:selectionEnd}},isMultiSelecting:function isMultiSelecting(state=!1,action){switch(action.type){case"START_MULTI_SELECT":return!0;case"STOP_MULTI_SELECT":return!1}return state},isSelectionEnabled:function isSelectionEnabled(state=!0,action){return"TOGGLE_SELECTION"===action.type?action.isSelectionEnabled:state},initialPosition:function initialPosition(state=null,action){return"REPLACE_BLOCKS"===action.type&&void 0!==action.initialPosition||["MULTI_SELECT","SELECT_BLOCK","RESET_SELECTION","INSERT_BLOCKS","REPLACE_INNER_BLOCKS"].includes(action.type)?action.initialPosition:state},blocksMode:function blocksMode(state={},action){if("TOGGLE_BLOCK_MODE"===action.type){const{clientId:clientId}=action;return{...state,[clientId]:state[clientId]&&"html"===state[clientId]?"visual":"html"}}return state},blockListSettings:(state={},action)=>{switch(action.type){case"REPLACE_BLOCKS":case"REMOVE_BLOCKS":return Object.fromEntries(Object.entries(state).filter((([id])=>!action.clientIds.includes(id))));case"UPDATE_BLOCK_LIST_SETTINGS":{const{clientId:clientId}=action;if(!action.settings){if(state.hasOwnProperty(clientId)){const{[clientId]:removedBlock,...restBlocks}=state;return restBlocks}return state}return es6_default()(state[clientId],action.settings)?state:{...state,[clientId]:action.settings}}}return state},insertionPoint:function insertionPoint(state=null,action){switch(action.type){case"SHOW_INSERTION_POINT":{const{rootClientId:rootClientId,index:index,__unstableWithInserter:__unstableWithInserter,operation:operation}=action,nextState={rootClientId:rootClientId,index:index,__unstableWithInserter:__unstableWithInserter,operation:operation};return es6_default()(state,nextState)?state:nextState}case"HIDE_INSERTION_POINT":return null}return state},template:function template(state={isValid:!0},action){return"SET_TEMPLATE_VALIDITY"===action.type?{...state,isValid:action.isValid}:state},settings:function settings(state=SETTINGS_DEFAULTS,action){return"UPDATE_SETTINGS"===action.type?action.reset?{...SETTINGS_DEFAULTS,...action.settings}:{...state,...action.settings}:state},preferences:function preferences(state=PREFERENCES_DEFAULTS,action){switch(action.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":return action.blocks.reduce(((prevState,block)=>{const{attributes:attributes,name:blockName}=block;let id=blockName;const match=(0,build_module_select.Y)(build_module.h).getActiveBlockVariation(blockName,attributes);return match?.name&&(id+="/"+match.name),"core/block"===blockName&&(id+="/"+attributes.ref),{...prevState,insertUsage:{...prevState.insertUsage,[id]:{time:action.time,count:prevState.insertUsage[id]?prevState.insertUsage[id].count+1:1}}}}),state)}return state},lastBlockAttributesChange:function lastBlockAttributesChange(state=null,action){switch(action.type){case"UPDATE_BLOCK":if(!action.updates.attributes)break;return{[action.clientId]:action.updates.attributes};case"UPDATE_BLOCK_ATTRIBUTES":return action.clientIds.reduce(((accumulator,id)=>({...accumulator,[id]:action.uniqueByBlock?action.attributes[id]:action.attributes})),{})}return state},lastFocus:function lastFocus(state=!1,action){return"LAST_FOCUS"===action.type?action.lastFocus:state},editorMode:function editorMode(state="edit",action){return"INSERT_BLOCKS"===action.type&&"navigation"===state?"edit":"SET_EDITOR_MODE"===action.type?action.mode:state},hasBlockMovingClientId:function hasBlockMovingClientId(state=null,action){return"SET_BLOCK_MOVING_MODE"===action.type?action.hasBlockMovingClientId:"SET_EDITOR_MODE"===action.type?null:state},highlightedBlock:function highlightedBlock(state,action){switch(action.type){case"TOGGLE_BLOCK_HIGHLIGHT":const{clientId:clientId,isHighlighted:isHighlighted}=action;return isHighlighted?clientId:state===clientId?null:state;case"SELECT_BLOCK":if(action.clientId!==state)return null}return state},lastBlockInserted:function lastBlockInserted(state={},action){switch(action.type){case"INSERT_BLOCKS":case"REPLACE_BLOCKS":if(!action.blocks.length)return state;const clientIds=action.blocks.map((block=>block.clientId)),source=action.meta?.source;return{clientIds:clientIds,source:source};case"RESET_BLOCKS":return{}}return state},temporarilyEditingAsBlocks:function temporarilyEditingAsBlocks(state="",action){return"SET_TEMPORARILY_EDITING_AS_BLOCKS"===action.type?action.temporarilyEditingAsBlocks:state},blockVisibility:function blockVisibility(state={},action){return"SET_BLOCK_VISIBILITY"===action.type?{...state,...action.updates}:state},blockEditingModes:function blockEditingModes(state=new Map,action){switch(action.type){case"SET_BLOCK_EDITING_MODE":return new Map(state).set(action.clientId,action.mode);case"UNSET_BLOCK_EDITING_MODE":{const newState=new Map(state);return newState.delete(action.clientId),newState}case"RESET_BLOCKS":return state.has("")?(new Map).set("",state.get("")):state}return state},styleOverrides:function styleOverrides(state=new Map,action){switch(action.type){case"SET_STYLE_OVERRIDE":return new Map(state).set(action.id,action.style);case"DELETE_STYLE_OVERRIDE":{const newState=new Map(state);return newState.delete(action.id),newState}}return state},removalPromptData:function removalPromptData(state=!1,action){switch(action.type){case"DISPLAY_BLOCK_REMOVAL_PROMPT":const{clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt}=action;return{clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt};case"CLEAR_BLOCK_REMOVAL_PROMPT":return!1}return state},blockRemovalRules:function blockRemovalRules(state=!1,action){return"SET_BLOCK_REMOVAL_RULES"===action.type?action.rules:state},openedBlockSettingsMenu:function openedBlockSettingsMenu(state=null,action){var _action$clientId;return"SET_OPENED_BLOCK_SETTINGS_MENU"===action.type?null!==(_action$clientId=action?.clientId)&&void 0!==_action$clientId?_action$clientId:null:state},registeredInserterMediaCategories:function registeredInserterMediaCategories(state=[],action){return"REGISTER_INSERTER_MEDIA_CATEGORY"===action.type?[...state,action.category]:state}});var reducer=function withAutomaticChangeReset(reducer){return(state,action)=>{const nextState=reducer(state,action);return state?(nextState.automaticChangeStatus=state.automaticChangeStatus,"MARK_AUTOMATIC_CHANGE"===action.type?{...nextState,automaticChangeStatus:"pending"}:"MARK_AUTOMATIC_CHANGE_FINAL"===action.type&&"pending"===state.automaticChangeStatus?{...nextState,automaticChangeStatus:"final"}:nextState.blocks===state.blocks&&nextState.selection===state.selection||"final"!==nextState.automaticChangeStatus&&nextState.selection!==state.selection?nextState:{...nextState,automaticChangeStatus:void 0}):nextState}}(combinedReducers),rememo=__webpack_require__("./node_modules/rememo/rememo.js"),platform=__webpack_require__("./packages/element/build-module/platform.js"),symbol=__webpack_require__("./packages/icons/build-module/library/symbol.js"),rich_text_build_module=__webpack_require__("./packages/rich-text/build-module/index.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),factory=__webpack_require__("./packages/data/build-module/factory.js");const comparator=(field,items,order)=>(a,b)=>{let cmpA,cmpB;if("function"==typeof field?(cmpA=field(a),cmpB=field(b)):(cmpA=a[field],cmpB=b[field]),cmpA>cmpB)return"asc"===order?1:-1;if(cmpB>cmpA)return"asc"===order?-1:1;const orderA=items.findIndex((item=>item===a)),orderB=items.findIndex((item=>item===b));return orderA>orderB?1:orderB>orderA?-1:0};function orderBy(items,field,order="asc"){return items.concat().sort(comparator(field,items,order))}const PATTERN_TYPES={all:"all",synced:"synced",unsynced:"unsynced",user:"user",theme:"theme",directory:"directory"},SYNC_TYPES={all:"all",full:"fully",unsynced:"unsynced"},allPatternsCategory={name:"allPatterns",label:(0,i18n_build_module.__)("All")},myPatternsCategory={name:"myPatterns",label:(0,i18n_build_module.__)("My patterns")};function isPatternFiltered(pattern,sourceFilter,syncFilter){const isUserPattern=pattern.name.startsWith("core/block"),isDirectoryPattern="core"===pattern.source||pattern.source?.startsWith("pattern-directory");return!(sourceFilter!==PATTERN_TYPES.theme||!isUserPattern&&!isDirectoryPattern)||(!(sourceFilter!==PATTERN_TYPES.directory||!isUserPattern&&isDirectoryPattern)||(sourceFilter===PATTERN_TYPES.user&&pattern.type!==PATTERN_TYPES.user||(syncFilter===SYNC_TYPES.full&&""!==pattern.syncStatus||!(syncFilter!==SYNC_TYPES.unsynced||"unsynced"===pattern.syncStatus||!isUserPattern))))}const EMPTY_ARRAY=[],EMPTY_SET=new Set;function getBlockName(state,clientId){const block=state.blocks.byClientId.get(clientId);if("web"!==platform.Z.OS&&"core/social-link"===block?.name){const attributes=state.blocks.attributes.get(clientId),{service:service}=null!=attributes?attributes:{};return service?`core/social-link-${service}`:"core/social-link"}return block?block.name:null}function isBlockValid(state,clientId){const block=state.blocks.byClientId.get(clientId);return!!block&&block.isValid}function getBlockAttributes(state,clientId){return state.blocks.byClientId.get(clientId)?state.blocks.attributes.get(clientId):null}function getBlock(state,clientId){return state.blocks.byClientId.has(clientId)?state.blocks.tree.get(clientId):null}const __unstableGetBlockWithoutInnerBlocks=(0,rememo.Z)(((state,clientId)=>state.blocks.byClientId.has(clientId)?{...state.blocks.byClientId.get(clientId),attributes:getBlockAttributes(state,clientId)}:null),((state,clientId)=>[state.blocks.byClientId.get(clientId),state.blocks.attributes.get(clientId)]));function getBlocks(state,rootClientId){const treeKey=rootClientId&&areInnerBlocksControlled(state,rootClientId)?"controlled||"+rootClientId:rootClientId||"";return state.blocks.tree.get(treeKey)?.innerBlocks||EMPTY_ARRAY}const __unstableGetClientIdWithClientIdsTree=(0,rememo.Z)(((state,clientId)=>((0,deprecated_build_module.Z)("wp.data.select( 'core/block-editor' ).__unstableGetClientIdWithClientIdsTree",{since:"6.3",version:"6.5"}),{clientId:clientId,innerBlocks:__unstableGetClientIdsTree(state,clientId)})),(state=>[state.blocks.order])),__unstableGetClientIdsTree=(0,rememo.Z)(((state,rootClientId="")=>((0,deprecated_build_module.Z)("wp.data.select( 'core/block-editor' ).__unstableGetClientIdsTree",{since:"6.3",version:"6.5"}),getBlockOrder(state,rootClientId).map((clientId=>__unstableGetClientIdWithClientIdsTree(state,clientId))))),(state=>[state.blocks.order])),getClientIdsOfDescendants=(0,rememo.Z)(((state,clientIds)=>{const givenIds=Array.isArray(clientIds)?clientIds:[clientIds],collectedIds=[];for(const givenId of givenIds)for(const descendantId of getBlockOrder(state,givenId))collectedIds.push(descendantId,...getClientIdsOfDescendants(state,descendantId));return collectedIds}),(state=>[state.blocks.order])),getClientIdsWithDescendants=(0,rememo.Z)((state=>{const collectedIds=[];for(const topLevelId of getBlockOrder(state))collectedIds.push(topLevelId,...getClientIdsOfDescendants(state,topLevelId));return collectedIds}),(state=>[state.blocks.order])),getGlobalBlockCount=(0,rememo.Z)(((state,blockName)=>{const clientIds=getClientIdsWithDescendants(state);return blockName?clientIds.reduce(((accumulator,clientId)=>state.blocks.byClientId.get(clientId).name===blockName?accumulator+1:accumulator),0):clientIds.length}),(state=>[state.blocks.order,state.blocks.byClientId])),__experimentalGetGlobalBlocksByName=(0,rememo.Z)(((state,blockName)=>{if(!blockName)return EMPTY_ARRAY;const blockNames=Array.isArray(blockName)?blockName:[blockName],foundBlocks=getClientIdsWithDescendants(state).filter((clientId=>{const block=state.blocks.byClientId.get(clientId);return blockNames.includes(block.name)}));return foundBlocks.length>0?foundBlocks:EMPTY_ARRAY}),(state=>[state.blocks.order,state.blocks.byClientId])),getBlocksByClientId=(0,rememo.Z)(((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map((clientId=>getBlock(state,clientId)))),((state,clientIds)=>(Array.isArray(clientIds)?clientIds:[clientIds]).map((clientId=>state.blocks.tree.get(clientId))))),getBlockNamesByClientId=(0,rememo.Z)(((state,clientIds)=>getBlocksByClientId(state,clientIds).filter(Boolean).map((block=>block.name))),((state,clientIds)=>getBlocksByClientId(state,clientIds)));function getBlockCount(state,rootClientId){return getBlockOrder(state,rootClientId).length}function getSelectionStart(state){return state.selection.selectionStart}function getSelectionEnd(state){return state.selection.selectionEnd}function getBlockSelectionStart(state){return state.selection.selectionStart.clientId}function getBlockSelectionEnd(state){return state.selection.selectionEnd.clientId}function getSelectedBlockCount(state){const multiSelectedBlockCount=getMultiSelectedBlockClientIds(state).length;return multiSelectedBlockCount||(state.selection.selectionStart.clientId?1:0)}function hasSelectedBlock(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return!!selectionStart.clientId&&selectionStart.clientId===selectionEnd.clientId}function getSelectedBlockClientId(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection,{clientId:clientId}=selectionStart;return clientId&&clientId===selectionEnd.clientId?clientId:null}function getSelectedBlock(state){const clientId=getSelectedBlockClientId(state);return clientId?getBlock(state,clientId):null}function getBlockRootClientId(state,clientId){return state.blocks.parents.has(clientId)?state.blocks.parents.get(clientId):null}const getBlockParents=(0,rememo.Z)(((state,clientId,ascending=!1)=>{const parents=[];let current=clientId;for(;state.blocks.parents.get(current);)current=state.blocks.parents.get(current),parents.push(current);return parents.length?ascending?parents:parents.reverse():EMPTY_ARRAY}),(state=>[state.blocks.parents])),getBlockParentsByBlockName=(0,rememo.Z)(((state,clientId,blockName,ascending=!1)=>{const parents=getBlockParents(state,clientId,ascending),hasName=Array.isArray(blockName)?name=>blockName.includes(name):name=>blockName===name;return parents.filter((id=>hasName(getBlockName(state,id))))}),(state=>[state.blocks.parents]));function getBlockHierarchyRootClientId(state,clientId){let parent,current=clientId;do{parent=current,current=state.blocks.parents.get(current)}while(current);return parent}function getLowestCommonAncestorWithSelectedBlock(state,clientId){const selectedId=getSelectedBlockClientId(state),clientParents=[...getBlockParents(state,clientId),clientId],selectedParents=[...getBlockParents(state,selectedId),selectedId];let lowestCommonAncestor;const maxDepth=Math.min(clientParents.length,selectedParents.length);for(let index=0;index<maxDepth&&clientParents[index]===selectedParents[index];index++)lowestCommonAncestor=clientParents[index];return lowestCommonAncestor}function getAdjacentBlockClientId(state,startClientId,modifier=1){if(void 0===startClientId&&(startClientId=getSelectedBlockClientId(state)),void 0===startClientId&&(startClientId=modifier<0?getFirstMultiSelectedBlockClientId(state):getLastMultiSelectedBlockClientId(state)),!startClientId)return null;const rootClientId=getBlockRootClientId(state,startClientId);if(null===rootClientId)return null;const{order:order}=state.blocks,orderSet=order.get(rootClientId),nextIndex=orderSet.indexOf(startClientId)+1*modifier;return nextIndex<0||nextIndex===orderSet.length?null:orderSet[nextIndex]}function getPreviousBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,-1)}function getNextBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,1)}function getSelectedBlocksInitialCaretPosition(state){return state.initialPosition}const getSelectedBlockClientIds=(0,rememo.Z)((state=>{const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;if(!selectionStart.clientId||!selectionEnd.clientId)return EMPTY_ARRAY;if(selectionStart.clientId===selectionEnd.clientId)return[selectionStart.clientId];const rootClientId=getBlockRootClientId(state,selectionStart.clientId);if(null===rootClientId)return EMPTY_ARRAY;const blockOrder=getBlockOrder(state,rootClientId),startIndex=blockOrder.indexOf(selectionStart.clientId),endIndex=blockOrder.indexOf(selectionEnd.clientId);return startIndex>endIndex?blockOrder.slice(endIndex,startIndex+1):blockOrder.slice(startIndex,endIndex+1)}),(state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]));function getMultiSelectedBlockClientIds(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?EMPTY_ARRAY:getSelectedBlockClientIds(state)}const getMultiSelectedBlocks=(0,rememo.Z)((state=>{const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);return multiSelectedBlockClientIds.length?multiSelectedBlockClientIds.map((clientId=>getBlock(state,clientId))):EMPTY_ARRAY}),(state=>[...getSelectedBlockClientIds.getDependants(state),state.blocks.byClientId,state.blocks.order,state.blocks.attributes]));function getFirstMultiSelectedBlockClientId(state){return getMultiSelectedBlockClientIds(state)[0]||null}function getLastMultiSelectedBlockClientId(state){const selectedClientIds=getMultiSelectedBlockClientIds(state);return selectedClientIds[selectedClientIds.length-1]||null}function isFirstMultiSelectedBlock(state,clientId){return getFirstMultiSelectedBlockClientId(state)===clientId}function isBlockMultiSelected(state,clientId){return-1!==getMultiSelectedBlockClientIds(state).indexOf(clientId)}const isAncestorMultiSelected=(0,rememo.Z)(((state,clientId)=>{let ancestorClientId=clientId,isMultiSelected=!1;for(;ancestorClientId&&!isMultiSelected;)ancestorClientId=getBlockRootClientId(state,ancestorClientId),isMultiSelected=isBlockMultiSelected(state,ancestorClientId);return isMultiSelected}),(state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]));function getMultiSelectedBlocksStartClientId(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?null:selectionStart.clientId||null}function getMultiSelectedBlocksEndClientId(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId?null:selectionEnd.clientId||null}function __unstableIsFullySelected(state){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);return!selectionAnchor.attributeKey&&!selectionFocus.attributeKey&&void 0===selectionAnchor.offset&&void 0===selectionFocus.offset}function __unstableIsSelectionCollapsed(state){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);return!!selectionAnchor&&!!selectionFocus&&selectionAnchor.clientId===selectionFocus.clientId&&selectionAnchor.attributeKey===selectionFocus.attributeKey&&selectionAnchor.offset===selectionFocus.offset}function __unstableSelectionHasUnmergeableBlock(state){return getSelectedBlockClientIds(state).some((clientId=>{const blockName=getBlockName(state,clientId);return!(0,build_module.ck)(blockName).merge}))}function __unstableIsSelectionMergeable(state,isForward){const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return!1;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return!1;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);if(anchorRootClientId!==getBlockRootClientId(state,selectionFocus.clientId))return!1;const blockOrder=getBlockOrder(state,anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const targetBlockClientId=isForward?selectionEnd.clientId:selectionStart.clientId,blockToMergeClientId=isForward?selectionStart.clientId:selectionEnd.clientId,targetBlockName=getBlockName(state,targetBlockClientId);if(!(0,build_module.ck)(targetBlockName).merge)return!1;const blockToMerge=getBlock(state,blockToMergeClientId);if(blockToMerge.name===targetBlockName)return!0;const blocksToMerge=(0,build_module.m4)(blockToMerge,targetBlockName);return blocksToMerge&&blocksToMerge.length}const __unstableGetSelectedBlocksWithPartialSelection=state=>{const selectionAnchor=getSelectionStart(state),selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return EMPTY_ARRAY;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return EMPTY_ARRAY;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);if(anchorRootClientId!==getBlockRootClientId(state,selectionFocus.clientId))return EMPTY_ARRAY;const blockOrder=getBlockOrder(state,anchorRootClientId),anchorIndex=blockOrder.indexOf(selectionAnchor.clientId),focusIndex=blockOrder.indexOf(selectionFocus.clientId),[selectionStart,selectionEnd]=anchorIndex>focusIndex?[selectionFocus,selectionAnchor]:[selectionAnchor,selectionFocus],blockA=getBlock(state,selectionStart.clientId),blockB=getBlock(state,selectionEnd.clientId),htmlA=blockA.attributes[selectionStart.attributeKey],htmlB=blockB.attributes[selectionEnd.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA}),valueB=(0,rich_text_build_module.Ue)({html:htmlB});return valueA=(0,rich_text_build_module.Od)(valueA,0,selectionStart.offset),valueB=(0,rich_text_build_module.Od)(valueB,selectionEnd.offset,valueB.text.length),[{...blockA,attributes:{...blockA.attributes,[selectionStart.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA})}},{...blockB,attributes:{...blockB.attributes,[selectionEnd.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB})}}]};function getBlockOrder(state,rootClientId){return state.blocks.order.get(rootClientId||"")||EMPTY_ARRAY}function getBlockIndex(state,clientId){return getBlockOrder(state,getBlockRootClientId(state,clientId)).indexOf(clientId)}function isBlockSelected(state,clientId){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId===selectionEnd.clientId&&selectionStart.clientId===clientId}function hasSelectedInnerBlock(state,clientId,deep=!1){return getBlockOrder(state,clientId).some((innerClientId=>isBlockSelected(state,innerClientId)||isBlockMultiSelected(state,innerClientId)||deep&&hasSelectedInnerBlock(state,innerClientId,deep)))}function hasDraggedInnerBlock(state,clientId,deep=!1){return getBlockOrder(state,clientId).some((innerClientId=>isBlockBeingDragged(state,innerClientId)||deep&&hasDraggedInnerBlock(state,innerClientId,deep)))}function isBlockWithinSelection(state,clientId){if(!clientId)return!1;const clientIds=getMultiSelectedBlockClientIds(state),index=clientIds.indexOf(clientId);return index>-1&&index<clientIds.length-1}function hasMultiSelection(state){const{selectionStart:selectionStart,selectionEnd:selectionEnd}=state.selection;return selectionStart.clientId!==selectionEnd.clientId}function selectors_isMultiSelecting(state){return state.isMultiSelecting}function selectors_isSelectionEnabled(state){return state.isSelectionEnabled}function getBlockMode(state,clientId){return state.blocksMode[clientId]||"visual"}function selectors_isTyping(state){return state.isTyping}function isDraggingBlocks(state){return!!state.draggedBlocks.length}function getDraggedBlockClientIds(state){return state.draggedBlocks}function isBlockBeingDragged(state,clientId){return state.draggedBlocks.includes(clientId)}function isAncestorBeingDragged(state,clientId){if(!isDraggingBlocks(state))return!1;return getBlockParents(state,clientId).some((parentClientId=>isBlockBeingDragged(state,parentClientId)))}function isCaretWithinFormattedText(){return(0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:"6.1",version:"6.3"}),!1}const getBlockInsertionPoint=(0,rememo.Z)((state=>{let rootClientId,index;const{insertionPoint:insertionPoint,selection:{selectionEnd:selectionEnd}}=state;if(null!==insertionPoint)return insertionPoint;const{clientId:clientId}=selectionEnd;return clientId?(rootClientId=getBlockRootClientId(state,clientId)||void 0,index=getBlockIndex(state,selectionEnd.clientId)+1):index=getBlockOrder(state).length,{rootClientId:rootClientId,index:index}}),(state=>[state.insertionPoint,state.selection.selectionEnd.clientId,state.blocks.parents,state.blocks.order]));function isBlockInsertionPointVisible(state){return null!==state.insertionPoint}function isValidTemplate(state){return state.template.isValid}function getTemplate(state){return state.settings.template}function getTemplateLock(state,rootClientId){var _getBlockListSettings,_state$settings$templ;return rootClientId?null!==(_getBlockListSettings=getBlockListSettings(state,rootClientId)?.templateLock)&&void 0!==_getBlockListSettings&&_getBlockListSettings:null!==(_state$settings$templ=state.settings.templateLock)&&void 0!==_state$settings$templ&&_state$settings$templ}const checkAllowList=(list,item,defaultResult=null)=>"boolean"==typeof list?list:Array.isArray(list)?!(!list.includes("core/post-content")||null!==item)||list.includes(item):defaultResult,canInsertBlockTypeUnmemoized=(state,blockName,rootClientId=null)=>{let blockType;if(blockName&&"object"==typeof blockName?(blockType=blockName,blockName=blockType.name):blockType=(0,build_module.ck)(blockName),!blockType)return!1;const{allowedBlockTypes:allowedBlockTypes}=getSettings(state);if(!checkAllowList(allowedBlockTypes,blockName,!0))return!1;if(!!getTemplateLock(state,rootClientId))return!1;if("disabled"===getBlockEditingMode(state,null!=rootClientId?rootClientId:""))return!1;const parentBlockListSettings=getBlockListSettings(state,rootClientId);if(rootClientId&&void 0===parentBlockListSettings)return!1;const parentAllowedBlocks=parentBlockListSettings?.allowedBlocks,hasParentAllowedBlock=checkAllowList(parentAllowedBlocks,blockName),blockAllowedParentBlocks=blockType.parent,parentName=getBlockName(state,rootClientId),hasBlockAllowedParent=checkAllowList(blockAllowedParentBlocks,parentName);let hasBlockAllowedAncestor=!0;const blockAllowedAncestorBlocks=blockType.ancestor;if(blockAllowedAncestorBlocks){hasBlockAllowedAncestor=[rootClientId,...getBlockParents(state,rootClientId)].some((ancestorClientId=>checkAllowList(blockAllowedAncestorBlocks,getBlockName(state,ancestorClientId))))}const canInsert=hasBlockAllowedAncestor&&(null===hasParentAllowedBlock&&null===hasBlockAllowedParent||!0===hasParentAllowedBlock||!0===hasBlockAllowedParent);return canInsert?(0,hooks_build_module.O)("blockEditor.__unstableCanInsertBlockType",canInsert,blockType,rootClientId,{getBlock:getBlock.bind(null,state),getBlockParentsByBlockName:getBlockParentsByBlockName.bind(null,state)}):canInsert},canInsertBlockType=(0,rememo.Z)(canInsertBlockTypeUnmemoized,((state,blockName,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId),state.settings.allowedBlockTypes,state.settings.templateLock,state.blockEditingModes]));function canInsertBlocks(state,clientIds,rootClientId=null){return clientIds.every((id=>canInsertBlockType(state,getBlockName(state,id),rootClientId)))}function canRemoveBlock(state,clientId,rootClientId=null){const attributes=getBlockAttributes(state,clientId);return null===attributes||(void 0!==attributes.lock?.remove?!attributes.lock.remove:!getTemplateLock(state,rootClientId)&&"disabled"!==getBlockEditingMode(state,rootClientId))}function canRemoveBlocks(state,clientIds,rootClientId=null){return clientIds.every((clientId=>canRemoveBlock(state,clientId,rootClientId)))}function canMoveBlock(state,clientId,rootClientId=null){const attributes=getBlockAttributes(state,clientId);return null===attributes||(void 0!==attributes.lock?.move?!attributes.lock.move:"all"!==getTemplateLock(state,rootClientId)&&"disabled"!==getBlockEditingMode(state,rootClientId))}function canMoveBlocks(state,clientIds,rootClientId=null){return clientIds.every((clientId=>canMoveBlock(state,clientId,rootClientId)))}function canEditBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(null===attributes)return!0;const{lock:lock}=attributes;return!lock?.edit}function canLockBlockType(state,nameOrType){return!!(0,build_module.zb)(nameOrType,"lock",!0)&&!!state.settings?.canLockBlocks}function getInsertUsage(state,id){var _state$preferences$in;return null!==(_state$preferences$in=state.preferences.insertUsage?.[id])&&void 0!==_state$preferences$in?_state$preferences$in:null}const canIncludeBlockTypeInInserter=(state,blockType,rootClientId)=>!!(0,build_module.zb)(blockType,"inserter",!0)&&canInsertBlockTypeUnmemoized(state,blockType.name,rootClientId),calculateFrecency=(time,count)=>{if(!time)return count;const duration=Date.now()-time;switch(!0){case duration<36e5:return 4*count;case duration<864e5:return 2*count;case duration<6048e5:return count/2;default:return count/4}},buildBlockTypeItem=(state,{buildScope:buildScope="inserter"})=>blockType=>{const id=blockType.name;let isDisabled=!1;(0,build_module.zb)(blockType.name,"multiple",!0)||(isDisabled=getBlocksByClientId(state,getClientIdsWithDescendants(state)).some((({name:name})=>name===blockType.name)));const{time:time,count:count=0}=getInsertUsage(state,id)||{},blockItemBase={id:id,name:blockType.name,title:blockType.title,icon:blockType.icon,isDisabled:isDisabled,frecency:calculateFrecency(time,count)};if("transform"===buildScope)return blockItemBase;const inserterVariations=(0,build_module.Nr)(blockType.name,"inserter");return{...blockItemBase,initialAttributes:{},description:blockType.description,category:blockType.category,keywords:blockType.keywords,variations:inserterVariations,example:blockType.example,utility:1}},getInserterItems=(0,rememo.Z)(((state,rootClientId=null)=>{const syncedPatternInserterItems=canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)?getReusableBlocks(state).map((reusableBlock=>{const icon=reusableBlock.wp_pattern_sync_status?symbol.Z:{src:symbol.Z,foreground:"var(--wp-block-synced-color)"},id=`core/block/${reusableBlock.id}`,{time:time,count:count=0}=getInsertUsage(state,id)||{},frecency=calculateFrecency(time,count);return{id:id,name:"core/block",initialAttributes:{ref:reusableBlock.id},title:reusableBlock.title?.raw,icon:icon,category:"reusable",keywords:["reusable"],isDisabled:!1,utility:1,frecency:frecency,content:reusableBlock.content?.raw,syncStatus:reusableBlock.wp_pattern_sync_status}})):[],buildBlockTypeInserterItem=buildBlockTypeItem(state,{buildScope:"inserter"}),items=(0,build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))).map(buildBlockTypeInserterItem).reduce(((accumulator,item)=>{const{variations:variations=[]}=item;if(variations.some((({isDefault:isDefault})=>isDefault))||accumulator.push(item),variations.length){const variationMapper=((state,item)=>variation=>{const variationId=`${item.id}/${variation.name}`,{time:time,count:count=0}=getInsertUsage(state,variationId)||{};return{...item,id:variationId,icon:variation.icon||item.icon,title:variation.title||item.title,description:variation.description||item.description,category:variation.category||item.category,example:variation.hasOwnProperty("example")?variation.example:item.example,initialAttributes:{...item.initialAttributes,...variation.attributes},innerBlocks:variation.innerBlocks,keywords:variation.keywords||item.keywords,frecency:calculateFrecency(time,count)}})(state,item);accumulator.push(...variations.map(variationMapper))}return accumulator}),[]),{core:coreItems,noncore:nonCoreItems}=items.reduce(((blocks,block)=>{const{core:core,noncore:noncore}=blocks;return(block.name.startsWith("core/")?core:noncore).push(block),blocks}),{core:[],noncore:[]});return[...[...coreItems,...nonCoreItems],...syncedPatternInserterItems]}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.blocks.order,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,build_module.U8)()])),getBlockTransformItems=(0,rememo.Z)(((state,blocks,rootClientId=null)=>{const normalizedBlocks=Array.isArray(blocks)?blocks:[blocks],buildBlockTypeTransformItem=buildBlockTypeItem(state,{buildScope:"transform"}),blockTypeTransformItems=(0,build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))).map(buildBlockTypeTransformItem),itemsByName=Object.fromEntries(Object.entries(blockTypeTransformItems).map((([,value])=>[value.name,value]))),possibleTransforms=(0,build_module.ff)(normalizedBlocks).reduce(((accumulator,block)=>(itemsByName[block?.name]&&accumulator.push(itemsByName[block.name]),accumulator)),[]);return orderBy(possibleTransforms,(block=>itemsByName[block.name].frecency),"desc")}),((state,blocks,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,(0,build_module.U8)()])),hasInserterItems=(0,rememo.Z)(((state,rootClientId=null)=>{if((0,build_module.U8)().some((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))))return!0;return canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)&&getReusableBlocks(state).length>0}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,build_module.U8)()])),getAllowedBlocks=(0,rememo.Z)(((state,rootClientId=null)=>{if(!rootClientId)return;return[...(0,build_module.U8)().filter((blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId))),...canInsertBlockTypeUnmemoized(state,"core/block",rootClientId)&&getReusableBlocks(state).length>0?["core/block"]:[]]}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,build_module.U8)()])),__experimentalGetAllowedBlocks=(0,rememo.Z)(((state,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetAllowedBlocks',{alternative:'wp.data.select( "core/block-editor" ).getAllowedBlocks',since:"6.2",version:"6.4"}),getAllowedBlocks(state,rootClientId))),((state,rootClientId)=>[...getAllowedBlocks.getDependants(state,rootClientId)])),getDirectInsertBlock=(0,rememo.Z)(((state,rootClientId=null)=>{if(!rootClientId)return;const defaultBlock=state.blockListSettings[rootClientId]?.defaultBlock,directInsert=state.blockListSettings[rootClientId]?.directInsert;return defaultBlock&&directInsert?"function"==typeof directInsert?directInsert(getBlock(state,rootClientId))?defaultBlock:null:defaultBlock:void 0}),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.tree.get(rootClientId)])),__experimentalGetDirectInsertBlock=(0,rememo.Z)(((state,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetDirectInsertBlock',{alternative:'wp.data.select( "core/block-editor" ).getDirectInsertBlock',since:"6.3",version:"6.4"}),getDirectInsertBlock(state,rootClientId))),((state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.tree.get(rootClientId)]));function getUserPatterns(state){var _state$settings$__exp,_state$settings$__exp2;const userPatterns=null!==(_state$settings$__exp=state?.settings?.__experimentalReusableBlocks)&&void 0!==_state$settings$__exp?_state$settings$__exp:EMPTY_ARRAY,userPatternCategories=null!==(_state$settings$__exp2=state?.settings?.__experimentalUserPatternCategories)&&void 0!==_state$settings$__exp2?_state$settings$__exp2:[],categories=new Map;return userPatternCategories.forEach((userCategory=>categories.set(userCategory.id,userCategory))),userPatterns.map((userPattern=>({name:`core/block/${userPattern.id}`,id:userPattern.id,type:PATTERN_TYPES.user,title:userPattern.title.raw,categories:userPattern.wp_pattern_category.map((catId=>categories&&categories.get(catId)?categories.get(catId).slug:catId)),content:userPattern.content.raw,syncStatus:userPattern.wp_pattern_sync_status})))}const __experimentalUserPatternCategories=(0,rememo.Z)((state=>state?.settings?.__experimentalUserPatternCategories),(state=>[state.settings.__experimentalUserPatternCategories])),__experimentalGetParsedPattern=(0,rememo.Z)(((state,patternName)=>{const pattern=[...state.settings.__experimentalBlockPatterns,...getUserPatterns(state)].find((({name:name})=>name===patternName));return pattern?{...pattern,blocks:(0,build_module.Qc)(pattern.content,{__unstableSkipMigrationLogs:!0})}:null}),(state=>[state.settings.__experimentalBlockPatterns,state.settings.__experimentalReusableBlocks,state?.settings?.__experimentalUserPatternCategories])),getAllAllowedPatterns=(0,rememo.Z)((state=>{const patterns=state.settings.__experimentalBlockPatterns,userPatterns=getUserPatterns(state),{allowedBlockTypes:allowedBlockTypes}=getSettings(state),parsedPatterns=[...userPatterns,...patterns].filter((({inserter:inserter=!0})=>!!inserter)).map((({name:name})=>__experimentalGetParsedPattern(state,name))),allowedPatterns=parsedPatterns.filter((({blocks:blocks})=>((blocks,allowedBlockTypes)=>{if("boolean"==typeof allowedBlockTypes)return allowedBlockTypes;const blocksQueue=[...blocks];for(;blocksQueue.length>0;){const block=blocksQueue.shift();if(!checkAllowList(allowedBlockTypes,block.name||block.blockName,!0))return!1;block.innerBlocks?.forEach((innerBlock=>{blocksQueue.push(innerBlock)}))}return!0})(blocks,allowedBlockTypes)));return allowedPatterns}),(state=>[state.settings.__experimentalBlockPatterns,state.settings.__experimentalReusableBlocks,state.settings.allowedBlockTypes,state?.settings?.__experimentalUserPatternCategories])),__experimentalGetAllowedPatterns=(0,rememo.Z)(((state,rootClientId=null)=>{const patternsAllowed=getAllAllowedPatterns(state).filter((({blocks:blocks})=>blocks.every((({name:name})=>canInsertBlockType(state,name,rootClientId)))));return patternsAllowed}),((state,rootClientId)=>[state.settings.__experimentalBlockPatterns,state.settings.__experimentalReusableBlocks,state.settings.allowedBlockTypes,state.settings.templateLock,state.blockListSettings[rootClientId],state.blocks.byClientId.get(rootClientId)])),getPatternsByBlockTypes=(0,rememo.Z)(((state,blockNames,rootClientId=null)=>{if(!blockNames)return EMPTY_ARRAY;const patterns=__experimentalGetAllowedPatterns(state,rootClientId),normalizedBlockNames=Array.isArray(blockNames)?blockNames:[blockNames],filteredPatterns=patterns.filter((pattern=>pattern?.blockTypes?.some?.((blockName=>normalizedBlockNames.includes(blockName)))));return 0===filteredPatterns.length?EMPTY_ARRAY:filteredPatterns}),((state,blockNames,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)])),__experimentalGetPatternsByBlockTypes=(0,rememo.Z)(((state,blockNames,rootClientId=null)=>((0,deprecated_build_module.Z)('wp.data.select( "core/block-editor" ).__experimentalGetPatternsByBlockTypes',{alternative:'wp.data.select( "core/block-editor" ).getPatternsByBlockTypes',since:"6.2",version:"6.4"}),getPatternsByBlockTypes(state,blockNames,rootClientId))),((state,blockNames,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)])),__experimentalGetPatternTransformItems=(0,rememo.Z)(((state,blocks,rootClientId=null)=>{if(!blocks)return EMPTY_ARRAY;if(blocks.some((({clientId:clientId,innerBlocks:innerBlocks})=>innerBlocks.length||areInnerBlocksControlled(state,clientId))))return EMPTY_ARRAY;const selectedBlockNames=Array.from(new Set(blocks.map((({name:name})=>name))));return getPatternsByBlockTypes(state,selectedBlockNames,rootClientId)}),((state,blocks,rootClientId)=>[...getPatternsByBlockTypes.getDependants(state,rootClientId)]));function getBlockListSettings(state,clientId){return state.blockListSettings[clientId]}function getSettings(state){return state.settings}function isLastBlockChangePersistent(state){return state.blocks.isPersistentChange}const __experimentalGetBlockListSettingsForBlocks=(0,rememo.Z)(((state,clientIds=[])=>clientIds.reduce(((blockListSettingsForBlocks,clientId)=>state.blockListSettings[clientId]?{...blockListSettingsForBlocks,[clientId]:state.blockListSettings[clientId]}:blockListSettingsForBlocks),{})),(state=>[state.blockListSettings])),__experimentalGetReusableBlockTitle=(0,rememo.Z)(((state,ref)=>{const reusableBlock=getReusableBlocks(state).find((block=>block.id===ref));return reusableBlock?reusableBlock.title?.raw:null}),(state=>[getReusableBlocks(state)]));function __unstableIsLastBlockChangeIgnored(state){return state.blocks.isIgnoredChange}function __experimentalGetLastBlockAttributeChanges(state){return state.lastBlockAttributesChange}function getReusableBlocks(state){var _state$settings$__exp3;return null!==(_state$settings$__exp3=state?.settings?.__experimentalReusableBlocks)&&void 0!==_state$settings$__exp3?_state$settings$__exp3:EMPTY_ARRAY}function isNavigationMode(state){return"navigation"===state.editorMode}function __unstableGetEditorMode(state){return state.editorMode}function selectors_hasBlockMovingClientId(state){return state.hasBlockMovingClientId}function didAutomaticChange(state){return!!state.automaticChangeStatus}function isBlockHighlighted(state,clientId){return state.highlightedBlock===clientId}function areInnerBlocksControlled(state,clientId){return!!state.blocks.controlledInnerBlocks[clientId]}const __experimentalGetActiveBlockIdByBlockNames=(0,rememo.Z)(((state,validBlockNames)=>{if(!validBlockNames.length)return null;const selectedBlockClientId=getSelectedBlockClientId(state);if(validBlockNames.includes(getBlockName(state,selectedBlockClientId)))return selectedBlockClientId;const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state),entityAreaParents=getBlockParentsByBlockName(state,selectedBlockClientId||multiSelectedBlockClientIds[0],validBlockNames);return entityAreaParents?entityAreaParents[entityAreaParents.length-1]:null}),((state,validBlockNames)=>[state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId,validBlockNames]));function wasBlockJustInserted(state,clientId,source){const{lastBlockInserted:lastBlockInserted}=state;return lastBlockInserted.clientIds?.includes(clientId)&&lastBlockInserted.source===source}function isBlockVisible(state,clientId){var _state$blockVisibilit;return null===(_state$blockVisibilit=state.blockVisibility?.[clientId])||void 0===_state$blockVisibilit||_state$blockVisibilit}const __unstableGetVisibleBlocks=(0,rememo.Z)((state=>{const visibleBlocks=new Set(Object.keys(state.blockVisibility).filter((key=>state.blockVisibility[key])));return 0===visibleBlocks.size?EMPTY_SET:visibleBlocks}),(state=>[state.blockVisibility])),__unstableGetContentLockingParent=(0,rememo.Z)(((state,clientId)=>{let result,current=clientId;for(;state.blocks.parents.has(current);)current=state.blocks.parents.get(current),current&&"contentOnly"===getTemplateLock(state,current)&&(result=current);return result}),(state=>[state.blocks.parents,state.blockListSettings]));function __unstableGetTemporarilyEditingAsBlocks(state){return state.temporarilyEditingAsBlocks}function __unstableHasActiveBlockOverlayActive(state,clientId){if("default"!==getBlockEditingMode(state,clientId))return!1;if(!canEditBlock(state,clientId))return!0;const editorMode=__unstableGetEditorMode(state);if("zoom-out"===editorMode&&clientId&&!getBlockRootClientId(state,clientId))return!0;const blockSupportDisable=(0,build_module.zb)(getBlockName(state,clientId),"__experimentalDisableBlockOverlay",!1);return("navigation"===editorMode||!blockSupportDisable&&areInnerBlocksControlled(state,clientId))&&!isBlockSelected(state,clientId)&&!hasSelectedInnerBlock(state,clientId,!0)}function __unstableIsWithinBlockOverlay(state,clientId){let parent=state.blocks.parents.get(clientId);for(;parent;){if(__unstableHasActiveBlockOverlayActive(state,parent))return!0;parent=state.blocks.parents.get(parent)}return!1}const getBlockEditingMode=(0,factory.M)((select=>(state,clientId="")=>{if(state.blockEditingModes.has(clientId))return state.blockEditingModes.get(clientId);if(!clientId)return"default";const rootClientId=getBlockRootClientId(state,clientId);if("contentOnly"===getTemplateLock(state,rootClientId)){const name=getBlockName(state,clientId);return select(build_module.h).__experimentalHasContentRoleAttribute(name)?"contentOnly":"disabled"}const parentMode=getBlockEditingMode(state,rootClientId);return"contentOnly"===parentMode?"default":parentMode})),isUngroupable=(0,factory.M)((select=>(state,clientId="")=>{const _clientId=clientId||getSelectedBlockClientId(state);if(!_clientId)return!1;const{getGroupingBlockName:getGroupingBlockName}=select(build_module.h),block=getBlock(state,_clientId),groupingBlockName=getGroupingBlockName();return block&&(block.name===groupingBlockName||(0,build_module.ck)(block.name)?.transforms?.ungroup)&&!!block.innerBlocks.length&&canRemoveBlock(state,_clientId)})),isGroupable=(0,factory.M)((select=>(state,clientIds=EMPTY_ARRAY)=>{const{getGroupingBlockName:getGroupingBlockName}=select(build_module.h),groupingBlockName=getGroupingBlockName(),_clientIds=clientIds?.length?clientIds:getSelectedBlockClientIds(state),rootClientId=_clientIds?.length?getBlockRootClientId(state,_clientIds[0]):void 0;return canInsertBlockType(state,groupingBlockName,rootClientId)&&_clientIds.length&&canRemoveBlocks(state,_clientIds,rootClientId)}));function getLastFocus(state){return state.lastFocus}const privateSettings=["inserterMediaCategories","blockInspectorAnimation"];function __experimentalUpdateSettings(settings,{stripExperimentalSettings:stripExperimentalSettings=!1,reset:reset=!1}={}){let cleanSettings=settings;if(stripExperimentalSettings&&"web"===platform.Z.OS){cleanSettings={};for(const key in settings)privateSettings.includes(key)||(cleanSettings[key]=settings[key])}return{type:"UPDATE_SETTINGS",settings:cleanSettings,reset:reset}}function hideBlockInterface(){return{type:"HIDE_BLOCK_INTERFACE"}}function showBlockInterface(){return{type:"SHOW_BLOCK_INTERFACE"}}const privateRemoveBlocks=(clientIds,selectPrevious=!0,forceRemove=!1)=>({select:select,dispatch:dispatch,registry:registry})=>{if(!clientIds||!clientIds.length)return;var maybeArray;maybeArray=clientIds,clientIds=Array.isArray(maybeArray)?maybeArray:[maybeArray];const rootClientId=select.getBlockRootClientId(clientIds[0]);if(!select.canRemoveBlocks(clientIds,rootClientId))return;const rules=!forceRemove&&select.getBlockRemovalRules();if(rules){const blockNamesForPrompt=new Set,queue=[...clientIds];for(;queue.length;){const clientId=queue.shift(),blockName=select.getBlockName(clientId);rules[blockName]&&blockNamesForPrompt.add(blockName);const innerBlocks=select.getBlockOrder(clientId);queue.push(...innerBlocks)}if(blockNamesForPrompt.size)return void dispatch(function displayBlockRemovalPrompt(clientIds,selectPrevious,blockNamesForPrompt){return{type:"DISPLAY_BLOCK_REMOVAL_PROMPT",clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt}}(clientIds,selectPrevious,Array.from(blockNamesForPrompt)))}selectPrevious&&dispatch.selectPreviousBlock(clientIds[0],selectPrevious),registry.batch((()=>{dispatch({type:"REMOVE_BLOCKS",clientIds:clientIds}),dispatch(ensureDefaultBlock())}))},ensureDefaultBlock=()=>({select:select,dispatch:dispatch})=>{if(select.getBlockCount()>0)return;const{__unstableHasCustomAppender:__unstableHasCustomAppender}=select.getSettings();__unstableHasCustomAppender||dispatch.insertDefaultBlock()};function clearBlockRemovalPrompt(){return{type:"CLEAR_BLOCK_REMOVAL_PROMPT"}}function setBlockRemovalRules(rules=!1){return{type:"SET_BLOCK_REMOVAL_RULES",rules:rules}}function setOpenedBlockSettingsMenu(clientId){return{type:"SET_OPENED_BLOCK_SETTINGS_MENU",clientId:clientId}}function setStyleOverride(id,style){return{type:"SET_STYLE_OVERRIDE",id:id,style:style}}function deleteStyleOverride(id){return{type:"DELETE_STYLE_OVERRIDE",id:id}}function syncDerivedBlockAttributes(clientId,attributes){return{type:"SYNC_DERIVED_BLOCK_ATTRIBUTES",clientIds:[clientId],attributes:attributes}}function private_selectors_isBlockInterfaceHidden(state){return state.isBlockInterfaceHidden}function getLastInsertedBlocksClientIds(state){return state?.lastBlockInserted?.clientIds}const isBlockSubtreeDisabled=(0,rememo.Z)(((state,clientId)=>{const isChildSubtreeDisabled=childClientId=>"disabled"===getBlockEditingMode(state,childClientId)&&getBlockOrder(state,childClientId).every(isChildSubtreeDisabled);return"disabled"===getBlockEditingMode(state,clientId)&&getBlockOrder(state,clientId).every(isChildSubtreeDisabled)}),(state=>[state.blocks.parents,state.blocks.order,state.blockEditingModes,state.blockListSettings])),getEnabledClientIdsTree=(0,rememo.Z)(((state,rootClientId="")=>getBlockOrder(state,rootClientId).flatMap((clientId=>"disabled"!==getBlockEditingMode(state,clientId)?[{clientId:clientId,innerBlocks:getEnabledClientIdsTree(state,clientId)}]:getEnabledClientIdsTree(state,clientId)))),(state=>[state.blocks.order,state.blockEditingModes,state.settings.templateLock,state.blockListSettings])),getEnabledBlockParents=(0,rememo.Z)(((state,clientId,ascending=!1)=>getBlockParents(state,clientId,ascending).filter((parent=>"disabled"!==getBlockEditingMode(state,parent)))),(state=>[state.blocks.parents,state.blockEditingModes,state.settings.templateLock,state.blockListSettings]));function getRemovalPromptData(state){return state.removalPromptData}function getBlockRemovalRules(state){return state.blockRemovalRules}function getOpenedBlockSettingsMenu(state){return state.openedBlockSettingsMenu}function getStyleOverrides(state){return state.styleOverrides}function getRegisteredInserterMediaCategories(state){return state.registeredInserterMediaCategories}const getInserterMediaCategories=(0,rememo.Z)((state=>{const{settings:{inserterMediaCategories:inserterMediaCategories,allowedMimeTypes:allowedMimeTypes,enableOpenverseMediaCategory:enableOpenverseMediaCategory},registeredInserterMediaCategories:registeredInserterMediaCategories}=state;if(!inserterMediaCategories&&!registeredInserterMediaCategories.length||!allowedMimeTypes)return;const coreInserterMediaCategoriesNames=inserterMediaCategories?.map((({name:name})=>name))||[];return[...inserterMediaCategories||[],...(registeredInserterMediaCategories||[]).filter((({name:name})=>!coreInserterMediaCategoriesNames.includes(name)))].filter((category=>!(!enableOpenverseMediaCategory&&"openverse"===category.name)&&Object.values(allowedMimeTypes).some((mimeType=>mimeType.startsWith(`${category.mediaType}/`)))))}),(state=>[state.settings.inserterMediaCategories,state.settings.allowedMimeTypes,state.settings.enableOpenverseMediaCategory,state.registeredInserterMediaCategories]));var a11y_build_module=__webpack_require__("./packages/a11y/build-module/index.js");const START_OF_SELECTED_AREA="";function retrieveSelectedAttribute(blockAttributes){if(blockAttributes)return Object.keys(blockAttributes).find((name=>{const value=blockAttributes[name];return"string"==typeof value&&-1!==value.indexOf(START_OF_SELECTED_AREA)}))}const actions_castArray=maybeArray=>Array.isArray(maybeArray)?maybeArray:[maybeArray],resetBlocks=blocks=>({dispatch:dispatch})=>{dispatch({type:"RESET_BLOCKS",blocks:blocks}),dispatch(validateBlocksToTemplate(blocks))},validateBlocksToTemplate=blocks=>({select:select,dispatch:dispatch})=>{const template=select.getTemplate(),templateLock=select.getTemplateLock(),isBlocksValidToTemplate=!template||"all"!==templateLock||(0,build_module.aW)(blocks,template);if(isBlocksValidToTemplate!==select.isValidTemplate())return dispatch.setTemplateValidity(isBlocksValidToTemplate),isBlocksValidToTemplate};function resetSelection(selectionStart,selectionEnd,initialPosition){return{type:"RESET_SELECTION",selectionStart:selectionStart,selectionEnd:selectionEnd,initialPosition:initialPosition}}function receiveBlocks(blocks){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:"5.9",alternative:"resetBlocks or insertBlocks"}),{type:"RECEIVE_BLOCKS",blocks:blocks}}function updateBlockAttributes(clientIds,attributes,uniqueByBlock=!1){return{type:"UPDATE_BLOCK_ATTRIBUTES",clientIds:actions_castArray(clientIds),attributes:attributes,uniqueByBlock:uniqueByBlock}}function updateBlock(clientId,updates){return{type:"UPDATE_BLOCK",clientId:clientId,updates:updates}}function selectBlock(clientId,initialPosition=0){return{type:"SELECT_BLOCK",initialPosition:initialPosition,clientId:clientId}}const selectPreviousBlock=(clientId,fallbackToParent=!1)=>({select:select,dispatch:dispatch})=>{const previousBlockClientId=select.getPreviousBlockClientId(clientId);if(previousBlockClientId)dispatch.selectBlock(previousBlockClientId,-1);else if(fallbackToParent){const firstParentClientId=select.getBlockRootClientId(clientId);firstParentClientId&&dispatch.selectBlock(firstParentClientId,-1)}},selectNextBlock=clientId=>({select:select,dispatch:dispatch})=>{const nextBlockClientId=select.getNextBlockClientId(clientId);nextBlockClientId&&dispatch.selectBlock(nextBlockClientId)};function startMultiSelect(){return{type:"START_MULTI_SELECT"}}function stopMultiSelect(){return{type:"STOP_MULTI_SELECT"}}const multiSelect=(start,end,__experimentalInitialPosition=0)=>({select:select,dispatch:dispatch})=>{if(select.getBlockRootClientId(start)!==select.getBlockRootClientId(end))return;dispatch({type:"MULTI_SELECT",start:start,end:end,initialPosition:__experimentalInitialPosition});const blockCount=select.getSelectedBlockCount();(0,a11y_build_module.D)((0,i18n_build_module.gB)((0,i18n_build_module._n)("%s block selected.","%s blocks selected.",blockCount),blockCount),"assertive")};function clearSelectedBlock(){return{type:"CLEAR_SELECTED_BLOCK"}}function toggleSelection(isSelectionEnabled=!0){return{type:"TOGGLE_SELECTION",isSelectionEnabled:isSelectionEnabled}}function getBlocksWithDefaultStylesApplied(blocks,blockEditorSettings){var _blockEditorSettings$;const preferredStyleVariations=null!==(_blockEditorSettings$=blockEditorSettings?.__experimentalPreferredStyleVariations?.value)&&void 0!==_blockEditorSettings$?_blockEditorSettings$:{};return blocks.map((block=>{const blockName=block.name;if(!(0,build_module.zb)(blockName,"defaultStylePicker",!0))return block;if(!preferredStyleVariations[blockName])return block;const className=block.attributes?.className;if(className?.includes("is-style-"))return block;const{attributes:attributes={}}=block,blockStyle=preferredStyleVariations[blockName];return{...block,attributes:{...attributes,className:`${className||""} is-style-${blockStyle}`.trim()}}}))}const replaceBlocks=(clientIds,blocks,indexToSelect,initialPosition=0,meta)=>({select:select,dispatch:dispatch,registry:registry})=>{clientIds=actions_castArray(clientIds),blocks=getBlocksWithDefaultStylesApplied(actions_castArray(blocks),select.getSettings());const rootClientId=select.getBlockRootClientId(clientIds[0]);for(let index=0;index<blocks.length;index++){const block=blocks[index];if(!select.canInsertBlockType(block.name,rootClientId))return}registry.batch((()=>{dispatch({type:"REPLACE_BLOCKS",clientIds:clientIds,blocks:blocks,time:Date.now(),indexToSelect:indexToSelect,initialPosition:initialPosition,meta:meta}),dispatch.ensureDefaultBlock()}))};function replaceBlock(clientId,block){return replaceBlocks(clientId,block)}const createOnMove=type=>(clientIds,rootClientId)=>({select:select,dispatch:dispatch})=>{select.canMoveBlocks(clientIds,rootClientId)&&dispatch({type:type,clientIds:actions_castArray(clientIds),rootClientId:rootClientId})},moveBlocksDown=createOnMove("MOVE_BLOCKS_DOWN"),moveBlocksUp=createOnMove("MOVE_BLOCKS_UP"),moveBlocksToPosition=(clientIds,fromRootClientId="",toRootClientId="",index)=>({select:select,dispatch:dispatch})=>{if(select.canMoveBlocks(clientIds,fromRootClientId)){if(fromRootClientId!==toRootClientId){if(!select.canRemoveBlocks(clientIds,fromRootClientId))return;if(!select.canInsertBlocks(clientIds,toRootClientId))return}dispatch({type:"MOVE_BLOCKS_TO_POSITION",fromRootClientId:fromRootClientId,toRootClientId:toRootClientId,clientIds:clientIds,index:index})}};function moveBlockToPosition(clientId,fromRootClientId="",toRootClientId="",index){return moveBlocksToPosition([clientId],fromRootClientId,toRootClientId,index)}function insertBlock(block,index,rootClientId,updateSelection,meta){return insertBlocks([block],index,rootClientId,updateSelection,0,meta)}const insertBlocks=(blocks,index,rootClientId,updateSelection=!0,initialPosition=0,meta)=>({select:select,dispatch:dispatch})=>{null!==initialPosition&&"object"==typeof initialPosition&&(meta=initialPosition,initialPosition=0,(0,deprecated_build_module.Z)("meta argument in wp.data.dispatch('core/block-editor')",{since:"5.8",hint:"The meta argument is now the 6th argument of the function"})),blocks=getBlocksWithDefaultStylesApplied(actions_castArray(blocks),select.getSettings());const allowedBlocks=[];for(const block of blocks){select.canInsertBlockType(block.name,rootClientId)&&allowedBlocks.push(block)}allowedBlocks.length&&dispatch({type:"INSERT_BLOCKS",blocks:allowedBlocks,index:index,rootClientId:rootClientId,time:Date.now(),updateSelection:updateSelection,initialPosition:updateSelection?initialPosition:null,meta:meta})};function showInsertionPoint(rootClientId,index,__unstableOptions={}){const{__unstableWithInserter:__unstableWithInserter,operation:operation}=__unstableOptions;return{type:"SHOW_INSERTION_POINT",rootClientId:rootClientId,index:index,__unstableWithInserter:__unstableWithInserter,operation:operation}}const hideInsertionPoint=()=>({select:select,dispatch:dispatch})=>{select.isBlockInsertionPointVisible()&&dispatch({type:"HIDE_INSERTION_POINT"})};function setTemplateValidity(isValid){return{type:"SET_TEMPLATE_VALIDITY",isValid:isValid}}const synchronizeTemplate=()=>({select:select,dispatch:dispatch})=>{dispatch({type:"SYNCHRONIZE_TEMPLATE"});const blocks=select.getBlocks(),template=select.getTemplate(),updatedBlockList=(0,build_module.fw)(blocks,template);dispatch.resetBlocks(updatedBlockList)},__unstableDeleteSelection=isForward=>({registry:registry,select:select,dispatch:dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return!1;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);if(anchorRootClientId!==select.getBlockRootClientId(selectionFocus.clientId))return;const blockOrder=select.getBlockOrder(anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const targetSelection=isForward?selectionEnd:selectionStart,targetBlock=select.getBlock(targetSelection.clientId),targetBlockType=(0,build_module.ck)(targetBlock.name);if(!targetBlockType.merge)return;const selectionA=selectionStart,selectionB=selectionEnd,blockA=select.getBlock(selectionA.clientId),blockB=select.getBlock(selectionB.clientId),htmlA=blockA.attributes[selectionA.attributeKey],htmlB=blockB.attributes[selectionB.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA}),valueB=(0,rich_text_build_module.Ue)({html:htmlB});valueA=(0,rich_text_build_module.Od)(valueA,selectionA.offset,valueA.text.length),valueB=(0,rich_text_build_module.$T)(valueB,START_OF_SELECTED_AREA,0,selectionB.offset);const cloneA=(0,build_module.Wm)(blockA,{[selectionA.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA})}),cloneB=(0,build_module.Wm)(blockB,{[selectionB.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB})}),followingBlock=isForward?cloneA:cloneB,blocksWithTheSameType=blockA.name===blockB.name?[followingBlock]:(0,build_module.m4)(followingBlock,targetBlockType.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length)return;let updatedAttributes;if(isForward){const blockToMerge=blocksWithTheSameType.pop();updatedAttributes=targetBlockType.merge(blockToMerge.attributes,cloneB.attributes)}else{const blockToMerge=blocksWithTheSameType.shift();updatedAttributes=targetBlockType.merge(cloneA.attributes,blockToMerge.attributes)}const newAttributeKey=retrieveSelectedAttribute(updatedAttributes),convertedHtml=updatedAttributes[newAttributeKey],convertedValue=(0,rich_text_build_module.Ue)({html:convertedHtml}),newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA),newValue=(0,rich_text_build_module.Od)(convertedValue,newOffset,newOffset+1),newHtml=(0,rich_text_build_module.Jz)({value:newValue});updatedAttributes[newAttributeKey]=newHtml;const selectedBlockClientIds=select.getSelectedBlockClientIds(),replacement=[...isForward?blocksWithTheSameType:[],{...targetBlock,attributes:{...targetBlock.attributes,...updatedAttributes}},...isForward?[]:blocksWithTheSameType];registry.batch((()=>{dispatch.selectionChange(targetBlock.clientId,newAttributeKey,newOffset,newOffset),dispatch.replaceBlocks(selectedBlockClientIds,replacement,0,select.getSelectedBlocksInitialCaretPosition())}))},__unstableSplitSelection=()=>({select:select,dispatch:dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||void 0===selectionAnchor.offset||void 0===selectionFocus.offset)return;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);if(anchorRootClientId!==select.getBlockRootClientId(selectionFocus.clientId))return;const blockOrder=select.getBlockOrder(anchorRootClientId);let selectionStart,selectionEnd;blockOrder.indexOf(selectionAnchor.clientId)>blockOrder.indexOf(selectionFocus.clientId)?(selectionStart=selectionFocus,selectionEnd=selectionAnchor):(selectionStart=selectionAnchor,selectionEnd=selectionFocus);const selectionA=selectionStart,selectionB=selectionEnd,blockA=select.getBlock(selectionA.clientId),blockB=select.getBlock(selectionB.clientId),htmlA=blockA.attributes[selectionA.attributeKey],htmlB=blockB.attributes[selectionB.attributeKey];let valueA=(0,rich_text_build_module.Ue)({html:htmlA}),valueB=(0,rich_text_build_module.Ue)({html:htmlB});valueA=(0,rich_text_build_module.Od)(valueA,selectionA.offset,valueA.text.length),valueB=(0,rich_text_build_module.Od)(valueB,0,selectionB.offset),dispatch.replaceBlocks(select.getSelectedBlockClientIds(),[{...blockA,attributes:{...blockA.attributes,[selectionA.attributeKey]:(0,rich_text_build_module.Jz)({value:valueA})}},{...blockB,attributes:{...blockB.attributes,[selectionB.attributeKey]:(0,rich_text_build_module.Jz)({value:valueB})}}])},__unstableExpandSelection=()=>({select:select,dispatch:dispatch})=>{const selectionAnchor=select.getSelectionStart(),selectionFocus=select.getSelectionEnd();dispatch.selectionChange({start:{clientId:selectionAnchor.clientId},end:{clientId:selectionFocus.clientId}})},mergeBlocks=(firstBlockClientId,secondBlockClientId)=>({registry:registry,select:select,dispatch:dispatch})=>{const blocks=[firstBlockClientId,secondBlockClientId];dispatch({type:"MERGE_BLOCKS",blocks:blocks});const[clientIdA,clientIdB]=blocks,blockA=select.getBlock(clientIdA),blockAType=(0,build_module.ck)(blockA.name);if(!blockAType)return;const blockB=select.getBlock(clientIdB);if(!blockAType.merge&&(0,build_module.Dx)(blockA.name,"__experimentalOnMerge")){const blocksWithTheSameType=(0,build_module.m4)(blockB,blockAType.name);if(1!==blocksWithTheSameType?.length)return void dispatch.selectBlock(blockA.clientId);const[blockWithSameType]=blocksWithTheSameType;return blockWithSameType.innerBlocks.length<1?void dispatch.selectBlock(blockA.clientId):void registry.batch((()=>{dispatch.insertBlocks(blockWithSameType.innerBlocks,void 0,clientIdA),dispatch.removeBlock(clientIdB),dispatch.selectBlock(blockWithSameType.innerBlocks[0].clientId);const nextBlockClientId=select.getNextBlockClientId(clientIdA);if(nextBlockClientId&&select.getBlockName(clientIdA)===select.getBlockName(nextBlockClientId)){const rootAttributes=select.getBlockAttributes(clientIdA),previousRootAttributes=select.getBlockAttributes(nextBlockClientId);Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key]))&&(dispatch.moveBlocksToPosition(select.getBlockOrder(nextBlockClientId),nextBlockClientId,clientIdA),dispatch.removeBlock(nextBlockClientId,!1))}}))}if((0,build_module.ZP)(blockA))return void dispatch.removeBlock(clientIdA,select.isBlockSelected(clientIdA));if((0,build_module.ZP)(blockB))return void dispatch.removeBlock(clientIdB,select.isBlockSelected(clientIdB));if(!blockAType.merge)return void dispatch.selectBlock(blockA.clientId);const blockBType=(0,build_module.ck)(blockB.name),{clientId:clientId,attributeKey:attributeKey,offset:offset}=select.getSelectionStart(),attributeDefinition=(clientId===clientIdA?blockAType:blockBType).attributes[attributeKey],canRestoreTextSelection=(clientId===clientIdA||clientId===clientIdB)&&void 0!==attributeKey&&void 0!==offset&&!!attributeDefinition;attributeDefinition||("number"==typeof attributeKey?window.console.error("RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was "+typeof attributeKey):window.console.error("The RichText identifier prop does not match any attributes defined by the block."));const cloneA=(0,build_module.Wm)(blockA),cloneB=(0,build_module.Wm)(blockB);if(canRestoreTextSelection){const selectedBlock=clientId===clientIdA?cloneA:cloneB,html=selectedBlock.attributes[attributeKey],value=(0,rich_text_build_module.$T)((0,rich_text_build_module.Ue)({html:html}),START_OF_SELECTED_AREA,offset,offset);selectedBlock.attributes[attributeKey]=(0,rich_text_build_module.Jz)({value:value})}const blocksWithTheSameType=blockA.name===blockB.name?[cloneB]:(0,build_module.m4)(cloneB,blockA.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length)return;const updatedAttributes=blockAType.merge(cloneA.attributes,blocksWithTheSameType[0].attributes);if(canRestoreTextSelection){const newAttributeKey=retrieveSelectedAttribute(updatedAttributes),convertedHtml=updatedAttributes[newAttributeKey],convertedValue=(0,rich_text_build_module.Ue)({html:convertedHtml}),newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA),newValue=(0,rich_text_build_module.Od)(convertedValue,newOffset,newOffset+1),newHtml=(0,rich_text_build_module.Jz)({value:newValue});updatedAttributes[newAttributeKey]=newHtml,dispatch.selectionChange(blockA.clientId,newAttributeKey,newOffset,newOffset)}dispatch.replaceBlocks([blockA.clientId,blockB.clientId],[{...blockA,attributes:{...blockA.attributes,...updatedAttributes}},...blocksWithTheSameType.slice(1)],0)},removeBlocks=(clientIds,selectPrevious=!0)=>privateRemoveBlocks(clientIds,selectPrevious);function removeBlock(clientId,selectPrevious){return removeBlocks([clientId],selectPrevious)}function replaceInnerBlocks(rootClientId,blocks,updateSelection=!1,initialPosition=0){return{type:"REPLACE_INNER_BLOCKS",rootClientId:rootClientId,blocks:blocks,updateSelection:updateSelection,initialPosition:updateSelection?initialPosition:null,time:Date.now()}}function toggleBlockMode(clientId){return{type:"TOGGLE_BLOCK_MODE",clientId:clientId}}function startTyping(){return{type:"START_TYPING"}}function stopTyping(){return{type:"STOP_TYPING"}}function startDraggingBlocks(clientIds=[]){return{type:"START_DRAGGING_BLOCKS",clientIds:clientIds}}function stopDraggingBlocks(){return{type:"STOP_DRAGGING_BLOCKS"}}function enterFormattedText(){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}}function exitFormattedText(){return(0,deprecated_build_module.Z)('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:"6.1",version:"6.3"}),{type:"DO_NOTHING"}}function selectionChange(clientId,attributeKey,startOffset,endOffset){return"string"==typeof clientId?{type:"SELECTION_CHANGE",clientId:clientId,attributeKey:attributeKey,startOffset:startOffset,endOffset:endOffset}:{type:"SELECTION_CHANGE",...clientId}}const insertDefaultBlock=(attributes,rootClientId,index)=>({dispatch:dispatch})=>{const defaultBlockName=(0,build_module.UT)();if(!defaultBlockName)return;const block=(0,build_module.j4)(defaultBlockName,attributes);return dispatch.insertBlock(block,index,rootClientId)};function updateBlockListSettings(clientId,settings){return{type:"UPDATE_BLOCK_LIST_SETTINGS",clientId:clientId,settings:settings}}function updateSettings(settings){return __experimentalUpdateSettings(settings,{stripExperimentalSettings:!0})}function __unstableSaveReusableBlock(id,updatedId){return{type:"SAVE_REUSABLE_BLOCK_SUCCESS",id:id,updatedId:updatedId}}function __unstableMarkLastChangeAsPersistent(){return{type:"MARK_LAST_CHANGE_AS_PERSISTENT"}}function __unstableMarkNextChangeAsNotPersistent(){return{type:"MARK_NEXT_CHANGE_AS_NOT_PERSISTENT"}}const __unstableMarkAutomaticChange=()=>({dispatch:dispatch})=>{dispatch({type:"MARK_AUTOMATIC_CHANGE"});const{requestIdleCallback:requestIdleCallback=(cb=>setTimeout(cb,100))}=window;requestIdleCallback((()=>{dispatch({type:"MARK_AUTOMATIC_CHANGE_FINAL"})}))},setNavigationMode=(isNavigationMode=!0)=>({dispatch:dispatch})=>{dispatch.__unstableSetEditorMode(isNavigationMode?"navigation":"edit")},__unstableSetEditorMode=mode=>({dispatch:dispatch,select:select})=>{if("zoom-out"===mode){const firstSelectedClientId=select.getBlockSelectionStart();firstSelectedClientId&&dispatch.selectBlock(select.getBlockHierarchyRootClientId(firstSelectedClientId))}dispatch({type:"SET_EDITOR_MODE",mode:mode}),"navigation"===mode?(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.")):"edit"===mode?(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in edit mode. To return to the navigation mode, press Escape.")):"zoom-out"===mode&&(0,a11y_build_module.D)((0,i18n_build_module.__)("You are currently in zoom-out mode."))},setBlockMovingClientId=(hasBlockMovingClientId=null)=>({dispatch:dispatch})=>{dispatch({type:"SET_BLOCK_MOVING_MODE",hasBlockMovingClientId:hasBlockMovingClientId}),hasBlockMovingClientId&&(0,a11y_build_module.D)((0,i18n_build_module.__)("Use the Tab key and Arrow keys to choose new block location. Use Left and Right Arrow keys to move between nesting levels. Once location is selected press Enter or Space to move the block."))},duplicateBlocks=(clientIds,updateSelection=!0)=>({select:select,dispatch:dispatch})=>{if(!clientIds||!clientIds.length)return;const blocks=select.getBlocksByClientId(clientIds);if(blocks.some((block=>!block)))return;const blockNames=blocks.map((block=>block.name));if(blockNames.some((blockName=>!(0,build_module.zb)(blockName,"multiple",!0))))return;const rootClientId=select.getBlockRootClientId(clientIds[0]),clientIdsArray=actions_castArray(clientIds),lastSelectedIndex=select.getBlockIndex(clientIdsArray[clientIdsArray.length-1]),clonedBlocks=blocks.map((block=>(0,build_module.mR)(block)));return dispatch.insertBlocks(clonedBlocks,lastSelectedIndex+1,rootClientId,updateSelection),clonedBlocks.length>1&&updateSelection&&dispatch.multiSelect(clonedBlocks[0].clientId,clonedBlocks[clonedBlocks.length-1].clientId),clonedBlocks.map((block=>block.clientId))},insertBeforeBlock=clientId=>({select:select,dispatch:dispatch})=>{if(!clientId)return;const rootClientId=select.getBlockRootClientId(clientId);if(select.getTemplateLock(rootClientId))return;const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex)},insertAfterBlock=clientId=>({select:select,dispatch:dispatch})=>{if(!clientId)return;const rootClientId=select.getBlockRootClientId(clientId);if(select.getTemplateLock(rootClientId))return;const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex+1)};function toggleBlockHighlight(clientId,isHighlighted){return{type:"TOGGLE_BLOCK_HIGHLIGHT",clientId:clientId,isHighlighted:isHighlighted}}const flashBlock=clientId=>async({dispatch:dispatch})=>{dispatch(toggleBlockHighlight(clientId,!0)),await new Promise((resolve=>setTimeout(resolve,150))),dispatch(toggleBlockHighlight(clientId,!1))};function setHasControlledInnerBlocks(clientId,hasControlledInnerBlocks){return{type:"SET_HAS_CONTROLLED_INNER_BLOCKS",hasControlledInnerBlocks:hasControlledInnerBlocks,clientId:clientId}}function setBlockVisibility(updates){return{type:"SET_BLOCK_VISIBILITY",updates:updates}}function __unstableSetTemporarilyEditingAsBlocks(temporarilyEditingAsBlocks){return{type:"SET_TEMPORARILY_EDITING_AS_BLOCKS",temporarilyEditingAsBlocks:temporarilyEditingAsBlocks}}const registerInserterMediaCategory=category=>({select:select,dispatch:dispatch})=>{if(!category||"object"!=typeof category)return void console.error("Category should be an `InserterMediaCategory` object.");if(!category.name)return void console.error("Category should have a `name` that should be unique among all media categories.");if(!category.labels?.name)return void console.error("Category should have a `labels.name`.");if(!["image","audio","video"].includes(category.mediaType))return void console.error("Category should have `mediaType` property that is one of `image|audio|video`.");if(!category.fetch||"function"!=typeof category.fetch)return void console.error("Category should have a `fetch` function defined with the following signature `(InserterMediaRequest) => Promise<InserterMediaItem[]>`.");const registeredInserterMediaCategories=select.getRegisteredInserterMediaCategories();registeredInserterMediaCategories.some((({name:name})=>name===category.name))?console.error(`A category is already registered with the same name: "${category.name}".`):registeredInserterMediaCategories.some((({labels:{name:name}={}})=>name===category.labels?.name))?console.error(`A category is already registered with the same labels.name: "${category.labels.name}".`):dispatch({type:"REGISTER_INSERTER_MEDIA_CATEGORY",category:{...category,isExternalResource:!0}})};function setBlockEditingMode(clientId="",mode){return{type:"SET_BLOCK_EDITING_MODE",clientId:clientId,mode:mode}}function unsetBlockEditingMode(clientId=""){return{type:"UNSET_BLOCK_EDITING_MODE",clientId:clientId}}function setLastFocus(lastFocus=null){return{type:"LAST_FOCUS",lastFocus:lastFocus}}var implementation=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock:lock,unlock:unlock}=(0,implementation.es)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/block-editor"),storeConfig={reducer:reducer,selectors:selectors_namespaceObject,actions:actions_namespaceObject},store=(0,redux_store.Z)("core/block-editor",{...storeConfig,persist:["preferences"]}),registeredStore=(0,data_build_module.R9)("core/block-editor",{...storeConfig,persist:["preferences"]});unlock(registeredStore).registerPrivateActions(private_actions_namespaceObject),unlock(registeredStore).registerPrivateSelectors(private_selectors_namespaceObject),unlock(store).registerPrivateActions(private_actions_namespaceObject),unlock(store).registerPrivateSelectors(private_selectors_namespaceObject);const DEFAULT_BLOCK_EDIT_CONTEXT={name:"",isSelected:!1},Context=(0,react.createContext)(DEFAULT_BLOCK_EDIT_CONTEXT),{Provider:Provider}=Context;function useBlockEditContext(){return(0,react.useContext)(Context)}function useDisplayBlockControls(){const{isSelected:isSelected,clientId:clientId,name:name}=useBlockEditContext();return(0,use_select.Z)((select=>{if(isSelected)return!0;const{getBlockName:getBlockName,isFirstMultiSelectedBlock:isFirstMultiSelectedBlock,getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds}=select(store);return!!isFirstMultiSelectedBlock(clientId)&&getMultiSelectedBlockClientIds().every((id=>getBlockName(id)===name))}),[clientId,isSelected,name])}function BlockControlsFill({group:group="default",controls:controls,children:children,__experimentalShareWithChildBlocks:__experimentalShareWithChildBlocks=!1}){const Fill=function useBlockControlsFill(group,shareWithChildBlocks){const isDisplayed=useDisplayBlockControls(),{clientId:clientId}=useBlockEditContext(),isParentDisplayed=(0,use_select.Z)((select=>{if(!shareWithChildBlocks)return!1;const{getBlockName:getBlockName,hasSelectedInnerBlock:hasSelectedInnerBlock}=select(store),{hasBlockSupport:hasBlockSupport}=select(build_module.h);return hasBlockSupport(getBlockName(clientId),"__experimentalExposeControlsToChildren",!1)&&hasSelectedInnerBlock(clientId)}),[shareWithChildBlocks,clientId]);return isDisplayed?block_controls_groups[group]?.Fill:isParentDisplayed?block_controls_groups.parent.Fill:null}(group,__experimentalShareWithChildBlocks);if(!Fill)return null;const innerMarkup=(0,react.createElement)(react.Fragment,null,"default"===group&&(0,react.createElement)(toolbar_group.Z,{controls:controls}),children);return(0,react.createElement)(style_provider.Z,{document:document},(0,react.createElement)(Fill,null,(fillProps=>{const{forwardedContext:forwardedContext=[]}=fillProps;return forwardedContext.reduce(((inner,[Provider,props])=>(0,react.createElement)(Provider,{...props},inner)),innerMarkup)})))}BlockControlsFill.__docgenInfo={description:"",methods:[],displayName:"BlockControlsFill",props:{group:{defaultValue:{value:"'default'",computed:!1},required:!1},__experimentalShareWithChildBlocks:{defaultValue:{value:"false",computed:!1},required:!1}}};var private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),use_slot_fills=__webpack_require__("./packages/components/build-module/slot-fill/bubbles-virtually/use-slot-fills.js"),warning_build_module=__webpack_require__("./packages/warning/build-module/index.js");const{ComponentsContext:ComponentsContext}=unlock(private_apis.YH);function BlockControlsSlot({group:group="default",...props}){const toolbarState=(0,react.useContext)(toolbar_context.Z),contextState=(0,react.useContext)(ComponentsContext),fillProps=(0,react.useMemo)((()=>({forwardedContext:[[toolbar_context.Z.Provider,{value:toolbarState}],[ComponentsContext.Provider,{value:contextState}]]})),[toolbarState,contextState]),Slot=block_controls_groups[group]?.Slot,fills=(0,use_slot_fills.Z)(Slot?.__unstableName);if(!Slot)return"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Unknown BlockControls group "${group}" provided.`),null;if(!fills?.length)return null;const slot=(0,react.createElement)(Slot,{...props,bubblesVirtually:!0,fillProps:fillProps});return"default"===group?slot:(0,react.createElement)(toolbar_group.Z,null,slot)}BlockControlsSlot.__docgenInfo={description:"",methods:[],displayName:"BlockControlsSlot",props:{group:{defaultValue:{value:"'default'",computed:!1},required:!1}}};const BlockControls=BlockControlsFill;BlockControls.Slot=BlockControlsSlot;const BlockFormatControls=props=>(0,react.createElement)(BlockControlsFill,{group:"inline",...props});BlockFormatControls.Slot=props=>(0,react.createElement)(BlockControlsSlot,{group:"inline",...props});var block_controls=BlockControls;BlockFormatControls.__docgenInfo={description:"",methods:[{name:"Slot",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null}],displayName:"BlockFormatControls"};var toolbar_dropdown_menu=__webpack_require__("./packages/components/build-module/toolbar/toolbar-dropdown-menu/index.js"),menu_group=__webpack_require__("./packages/components/build-module/menu-group/index.js"),menu_item=__webpack_require__("./packages/components/build-module/menu-item/index.js"),justify_left=__webpack_require__("./packages/icons/build-module/library/justify-left.js"),justify_center=__webpack_require__("./packages/icons/build-module/library/justify-center.js"),justify_right=__webpack_require__("./packages/icons/build-module/library/justify-right.js"),justify_space_between=__webpack_require__("./packages/icons/build-module/library/justify-space-between.js"),justify_stretch=__webpack_require__("./packages/icons/build-module/library/justify-stretch.js"),arrow_right=__webpack_require__("./packages/icons/build-module/library/arrow-right.js"),arrow_down=__webpack_require__("./packages/icons/build-module/library/arrow-down.js"),component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toggle_group_control_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control/component.js"),toggle_group_control_option_icon_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-icon/component.js"),toggle_control=__webpack_require__("./packages/components/build-module/toggle-control/index.js");const LAYOUT_DEFINITIONS={default:{name:"default",slug:"flow",className:"is-layout-flow",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}}],spacingStyles:[{selector:" > :first-child:first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child:last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},constrained:{name:"constrained",slug:"constrained",className:"is-layout-constrained",baseStyles:[{selector:" > .alignleft",rules:{float:"left","margin-inline-start":"0","margin-inline-end":"2em"}},{selector:" > .alignright",rules:{float:"right","margin-inline-start":"2em","margin-inline-end":"0"}},{selector:" > .aligncenter",rules:{"margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > :where(:not(.alignleft):not(.alignright):not(.alignfull))",rules:{"max-width":"var(--wp--style--global--content-size)","margin-left":"auto !important","margin-right":"auto !important"}},{selector:" > .alignwide",rules:{"max-width":"var(--wp--style--global--wide-size)"}}],spacingStyles:[{selector:" > :first-child:first-child",rules:{"margin-block-start":"0"}},{selector:" > :last-child:last-child",rules:{"margin-block-end":"0"}},{selector:" > *",rules:{"margin-block-start":null,"margin-block-end":"0"}}]},flex:{name:"flex",slug:"flex",className:"is-layout-flex",displayMode:"flex",baseStyles:[{selector:"",rules:{"flex-wrap":"wrap","align-items":"center"}},{selector:" > *",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]},grid:{name:"grid",slug:"grid",className:"is-layout-grid",displayMode:"grid",baseStyles:[{selector:" > *",rules:{margin:"0"}}],spacingStyles:[{selector:"",rules:{gap:null}}]}};function appendSelectors(selectors,append=""){return selectors.split(",").map((subselector=>`.editor-styles-wrapper ${subselector}${append?` ${append}`:""}`)).join(",")}function getBlockGapCSS(selector,layoutDefinitions=LAYOUT_DEFINITIONS,layoutType,blockGapValue){let output="";return layoutDefinitions?.[layoutType]?.spacingStyles?.length&&blockGapValue&&layoutDefinitions[layoutType].spacingStyles.forEach((gapStyle=>{output+=`${appendSelectors(selector,gapStyle.selector.trim())} { `,output+=Object.entries(gapStyle.rules).map((([cssProperty,value])=>`${cssProperty}: ${value||blockGapValue}`)).join("; "),output+="; }"})),output}function getAlignmentsInfo(layout){const{contentSize:contentSize,wideSize:wideSize,type:type="default"}=layout,alignmentInfo={},sizeRegex=/^(?!0)\d+(px|em|rem|vw|vh|%|svw|lvw|dvw|svh|lvh|dvh|vi|svi|lvi|dvi|vb|svb|lvb|dvb|vmin|svmin|lvmin|dvmin|vmax|svmax|lvmax|dvmax)?$/i;return sizeRegex.test(contentSize)&&"constrained"===type&&(alignmentInfo.none=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Max %s wide"),contentSize)),sizeRegex.test(wideSize)&&(alignmentInfo.wide=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Max %s wide"),wideSize)),alignmentInfo}var sides_all=__webpack_require__("./packages/icons/build-module/library/sides-all.js"),sides_horizontal=__webpack_require__("./packages/icons/build-module/library/sides-horizontal.js"),sides_vertical=__webpack_require__("./packages/icons/build-module/library/sides-vertical.js"),sides_top=__webpack_require__("./packages/icons/build-module/library/sides-top.js"),sides_right=__webpack_require__("./packages/icons/build-module/library/sides-right.js"),sides_bottom=__webpack_require__("./packages/icons/build-module/library/sides-bottom.js"),sides_left=__webpack_require__("./packages/icons/build-module/library/sides-left.js");const ALL_SIDES=["top","right","bottom","left"],DEFAULT_VALUES={top:void 0,right:void 0,bottom:void 0,left:void 0},ICONS={custom:sides_all.Z,axial:sides_all.Z,horizontal:sides_horizontal.Z,vertical:sides_vertical.Z,top:sides_top.Z,right:sides_right.Z,bottom:sides_bottom.Z,left:sides_left.Z},LABELS={default:(0,i18n_build_module.__)("Spacing control"),top:(0,i18n_build_module.__)("Top"),bottom:(0,i18n_build_module.__)("Bottom"),left:(0,i18n_build_module.__)("Left"),right:(0,i18n_build_module.__)("Right"),mixed:(0,i18n_build_module.__)("Mixed"),vertical:(0,i18n_build_module.__)("Vertical"),horizontal:(0,i18n_build_module.__)("Horizontal"),axial:(0,i18n_build_module.__)("Horizontal & vertical"),custom:(0,i18n_build_module.__)("Custom")},VIEWS={axial:"axial",top:"top",right:"right",bottom:"bottom",left:"left",custom:"custom"};function isValueSpacingPreset(value){return!!value?.includes&&("0"===value||value.includes("var:preset|spacing|"))}function getCustomValueFromPreset(value,spacingSizes){if(!isValueSpacingPreset(value))return value;const slug=getSpacingPresetSlug(value),spacingSize=spacingSizes.find((size=>String(size.slug)===slug));return spacingSize?.size}function getPresetValueFromCustomValue(value,spacingSizes){if(!value||isValueSpacingPreset(value)||"0"===value)return value;const spacingMatch=spacingSizes.find((size=>String(size.size)===String(value)));return spacingMatch?.slug?`var:preset|spacing|${spacingMatch.slug}`:value}function getSpacingPresetCssVar(value){if(!value)return;const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?`var(--wp--preset--spacing--${slug[1]})`:value}function getSpacingPresetSlug(value){if(!value)return;if("0"===value||"default"===value)return value;const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?slug[1]:void 0}function hasAxisSupport(sides,axis){if(!sides||!sides.length)return!1;const hasHorizontalSupport=sides.includes("horizontal")||sides.includes("left")&&sides.includes("right"),hasVerticalSupport=sides.includes("vertical")||sides.includes("top")&&sides.includes("bottom");return"horizontal"===axis?hasHorizontalSupport:"vertical"===axis?hasVerticalSupport:hasHorizontalSupport||hasVerticalSupport}function getGapCSSValue(blockGapValue,defaultValue="0"){const blockGapBoxControlValue=function getGapBoxControlValueFromStyle(blockGapValue){if(!blockGapValue)return null;const isValueString="string"==typeof blockGapValue;return{top:isValueString?blockGapValue:blockGapValue?.top,left:isValueString?blockGapValue:blockGapValue?.left}}(blockGapValue);if(!blockGapBoxControlValue)return null;const row=getSpacingPresetCssVar(blockGapBoxControlValue?.top)||defaultValue,column=getSpacingPresetCssVar(blockGapBoxControlValue?.left)||defaultValue;return row===column?row:`${row} ${column}`}var svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");const alignBottom=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})),alignCenter=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})),alignTop=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})),alignStretch=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M4 4L20 4L20 5.5L4 5.5L4 4ZM10 7L14 7L14 17L10 17L10 7ZM20 18.5L4 18.5L4 20L20 20L20 18.5Z"})),spaceBetween=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M7 4H17V8L7 8V4ZM7 16L17 16V20L7 20V16ZM20 11.25H4V12.75H20V11.25Z"})),BLOCK_ALIGNMENTS_CONTROLS={top:{icon:alignTop,title:(0,i18n_build_module._x)("Align top","Block vertical alignment setting")},center:{icon:alignCenter,title:(0,i18n_build_module._x)("Align middle","Block vertical alignment setting")},bottom:{icon:alignBottom,title:(0,i18n_build_module._x)("Align bottom","Block vertical alignment setting")},stretch:{icon:alignStretch,title:(0,i18n_build_module._x)("Stretch to fill","Block vertical alignment setting")},"space-between":{icon:spaceBetween,title:(0,i18n_build_module._x)("Space between","Block vertical alignment setting")}},DEFAULT_CONTROLS=["top","center","bottom"];function BlockVerticalAlignmentUI({value:value,onChange:onChange,controls:controls=DEFAULT_CONTROLS,isCollapsed:isCollapsed=!0,isToolbar:isToolbar}){const activeAlignment=BLOCK_ALIGNMENTS_CONTROLS[value],defaultAlignmentControl=BLOCK_ALIGNMENTS_CONTROLS.top,UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed:isCollapsed}:{};return(0,react.createElement)(UIComponent,{icon:activeAlignment?activeAlignment.icon:defaultAlignmentControl.icon,label:(0,i18n_build_module._x)("Change vertical alignment","Block vertical alignment setting label"),controls:controls.map((control=>{return{...BLOCK_ALIGNMENTS_CONTROLS[control],isActive:value===control,role:isCollapsed?"menuitemradio":void 0,onClick:(align=control,()=>onChange(value===align?void 0:align))};var align})),...extraProps})}BlockVerticalAlignmentUI.__docgenInfo={description:"",methods:[],displayName:"BlockVerticalAlignmentUI",props:{controls:{defaultValue:{value:"['top', 'center', 'bottom']",computed:!1},required:!1},isCollapsed:{defaultValue:{value:"true",computed:!1},required:!1}}};var ui=BlockVerticalAlignmentUI;const BlockVerticalAlignmentControl=props=>(0,react.createElement)(ui,{...props,isToolbar:!1}),BlockVerticalAlignmentToolbar=props=>(0,react.createElement)(ui,{...props,isToolbar:!0});BlockVerticalAlignmentControl.__docgenInfo={description:"",methods:[],displayName:"BlockVerticalAlignmentControl"},BlockVerticalAlignmentToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockVerticalAlignmentToolbar"};const icons={left:justify_left.Z,center:justify_center.Z,right:justify_right.Z,"space-between":justify_space_between.Z,stretch:justify_stretch.Z};function JustifyContentUI({allowedControls:allowedControls=["left","center","right","space-between"],isCollapsed:isCollapsed=!0,onChange:onChange,value:value,popoverProps:popoverProps,isToolbar:isToolbar}){const handleClick=next=>{onChange(next===value?void 0:next)},icon=value?icons[value]:icons.left,allControls=[{name:"left",icon:justify_left.Z,title:(0,i18n_build_module.__)("Justify items left"),isActive:"left"===value,onClick:()=>handleClick("left")},{name:"center",icon:justify_center.Z,title:(0,i18n_build_module.__)("Justify items center"),isActive:"center"===value,onClick:()=>handleClick("center")},{name:"right",icon:justify_right.Z,title:(0,i18n_build_module.__)("Justify items right"),isActive:"right"===value,onClick:()=>handleClick("right")},{name:"space-between",icon:justify_space_between.Z,title:(0,i18n_build_module.__)("Space between items"),isActive:"space-between"===value,onClick:()=>handleClick("space-between")},{name:"stretch",icon:justify_stretch.Z,title:(0,i18n_build_module.__)("Stretch items"),isActive:"stretch"===value,onClick:()=>handleClick("stretch")}],UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed:isCollapsed}:{};return(0,react.createElement)(UIComponent,{icon:icon,popoverProps:popoverProps,label:(0,i18n_build_module.__)("Change items justification"),controls:allControls.filter((elem=>allowedControls.includes(elem.name))),...extraProps})}JustifyContentUI.__docgenInfo={description:"",methods:[],displayName:"JustifyContentUI",props:{allowedControls:{defaultValue:{value:"['left', 'center', 'right', 'space-between']",computed:!1},required:!1},isCollapsed:{defaultValue:{value:"true",computed:!1},required:!1}}};var justify_content_control_ui=JustifyContentUI;const JustifyContentControl=props=>(0,react.createElement)(justify_content_control_ui,{...props,isToolbar:!1});JustifyContentControl.__docgenInfo={description:"",methods:[],displayName:"JustifyContentControl"};var use_dispatch=__webpack_require__("./packages/data/build-module/components/use-dispatch/use-dispatch.js"),dist_es2015=__webpack_require__("./node_modules/param-case/dist.es2015/index.js");function kebabCase(str){let input=str;var _str$toString;"string"!=typeof str&&(input=null!==(_str$toString=str?.toString?.())&&void 0!==_str$toString?_str$toString:"");return input=input.replace(/['\u2019]/,""),(0,dist_es2015.o)(input,{splitRegexp:[/(?!(?:1ST|2ND|3RD|[4-9]TH)(?![a-z]))([a-z0-9])([A-Z])/g,/(?!(?:1st|2nd|3rd|[4-9]th)(?![a-z]))([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})}function setImmutably(object,path,value){path=Array.isArray(path)?[...path]:[path],object=Array.isArray(object)?[...object]:{...object};const leaf=path.pop();let prev=object;for(const key of path){const lvl=prev[key];prev=prev[key]=Array.isArray(lvl)?[...lvl]:{...lvl}}return prev[leaf]=value,object}const getValueFromObjectPath=(object,path,defaultValue)=>{var _value;const arrayPath=Array.isArray(path)?path:path.split(".");let value=object;return arrayPath.forEach((fieldName=>{value=value?.[fieldName]})),null!==(_value=value)&&void 0!==_value?_value:defaultValue},blockedPaths=["color","border","dimensions","typography","spacing"],deprecatedFlags={"color.palette":settings=>settings.colors,"color.gradients":settings=>settings.gradients,"color.custom":settings=>void 0===settings.disableCustomColors?void 0:!settings.disableCustomColors,"color.customGradient":settings=>void 0===settings.disableCustomGradients?void 0:!settings.disableCustomGradients,"typography.fontSizes":settings=>settings.fontSizes,"typography.customFontSize":settings=>void 0===settings.disableCustomFontSizes?void 0:!settings.disableCustomFontSizes,"typography.lineHeight":settings=>settings.enableCustomLineHeight,"spacing.units":settings=>{if(void 0!==settings.enableCustomUnits)return!0===settings.enableCustomUnits?["px","em","rem","vh","vw","%"]:settings.enableCustomUnits},"spacing.padding":settings=>settings.enableCustomSpacing},prefixedFlags={"border.customColor":"border.color","border.customStyle":"border.style","border.customWidth":"border.width","typography.customFontStyle":"typography.fontStyle","typography.customFontWeight":"typography.fontWeight","typography.customLetterSpacing":"typography.letterSpacing","typography.customTextDecorations":"typography.textDecoration","typography.customTextTransforms":"typography.textTransform","border.customRadius":"border.radius","spacing.customMargin":"spacing.margin","spacing.customPadding":"spacing.padding","typography.customLineHeight":"typography.lineHeight"},removeCustomPrefixes=path=>prefixedFlags[path]||path;function mergeOrigins(value){let result=mergeCache.get(value);return result||(result=["default","theme","custom"].flatMap((key=>{var _value$key;return null!==(_value$key=value[key])&&void 0!==_value$key?_value$key:[]})),mergeCache.set(value,result)),result}const mergeCache=new WeakMap;function hasMergedOrigins(value){return["default","theme","custom"].some((key=>value?.[key]?.length))}function use_settings_useSettings(...paths){const{name:blockName,clientId:clientId=null}=useBlockEditContext();return paths=(0,react.useMemo)((()=>paths),paths),(0,use_select.Z)((select=>{const candidates=clientId?[clientId,...select(store).getBlockParents(clientId,!0)].filter((candidateClientId=>{const candidateBlockName=select(store).getBlockName(candidateClientId);return(0,build_module.zb)(candidateBlockName,"__experimentalSettings",!1)})):[];return paths.map((path=>{if(blockedPaths.includes(path))return void console.warn("Top level useSetting paths are disabled. Please use a subpath to query the information needed.");let result=(0,hooks_build_module.O)("blockEditor.useSetting.before",void 0,path,clientId,blockName);if(void 0!==result)return result;const normalizedPath=removeCustomPrefixes(path);for(const candidateClientId of candidates){var _getValueFromObjectPa;const candidateAtts=select(store).getBlockAttributes(candidateClientId);if(result=null!==(_getValueFromObjectPa=getValueFromObjectPath(candidateAtts.settings?.blocks?.[blockName],normalizedPath))&&void 0!==_getValueFromObjectPa?_getValueFromObjectPa:getValueFromObjectPath(candidateAtts.settings,normalizedPath),void 0!==result)break}const settings=select(store).getSettings();if(void 0===result&&blockName&&(result=getValueFromObjectPath(settings.__experimentalFeatures?.blocks?.[blockName],normalizedPath)),void 0===result&&(result=getValueFromObjectPath(settings.__experimentalFeatures,normalizedPath)),void 0!==result)return build_module.yg[normalizedPath]?mergeOrigins(result):result;const deprecatedSettingsValue=deprecatedFlags[normalizedPath]?.(settings);return void 0!==deprecatedSettingsValue?deprecatedSettingsValue:"typography.dropCap"===normalizedPath||void 0}))}),[blockName,clientId,paths])}const DEFAULT_MAXIMUM_VIEWPORT_WIDTH="1600px",DEFAULT_MINIMUM_VIEWPORT_WIDTH="320px",DEFAULT_SCALE_FACTOR=1,DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN=.25,DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX=.75,DEFAULT_MINIMUM_FONT_SIZE_LIMIT="14px";function getTypographyValueAndUnit(rawValue,options={}){if("string"!=typeof rawValue&&"number"!=typeof rawValue)return null;isFinite(rawValue)&&(rawValue=`${rawValue}px`);const{coerceTo:coerceTo,rootSizeValue:rootSizeValue,acceptableUnits:acceptableUnits}={coerceTo:"",rootSizeValue:16,acceptableUnits:["rem","px","em"],...options},acceptableUnitsGroup=acceptableUnits?.join("|"),regexUnits=new RegExp(`^(\\d*\\.?\\d+)(${acceptableUnitsGroup}){1,1}$`),matches=rawValue.match(regexUnits);if(!matches||matches.length<3)return null;let[,value,unit]=matches,returnValue=parseFloat(value);return"px"!==coerceTo||"em"!==unit&&"rem"!==unit||(returnValue*=rootSizeValue,unit=coerceTo),"px"!==unit||"em"!==coerceTo&&"rem"!==coerceTo||(returnValue/=rootSizeValue,unit=coerceTo),"em"!==coerceTo&&"rem"!==coerceTo||"em"!==unit&&"rem"!==unit||(unit=coerceTo),{value:roundToPrecision(returnValue,3),unit:unit}}function roundToPrecision(value,digits=3){const base=Math.pow(10,digits);return Number.isFinite(value)?parseFloat(Math.round(value*base)/base):void 0}function getTypographyFontSizeValue(preset,typographyOptions){const{size:defaultSize}=preset;if(!isFluidTypographyEnabled(typographyOptions))return defaultSize;if(!defaultSize||"0"===defaultSize||!1===preset?.fluid)return defaultSize;const fluidTypographySettings="object"==typeof typographyOptions?.fluid?typographyOptions?.fluid:{},fluidFontSizeValue=function getComputedFluidTypographyValue({minimumFontSize:minimumFontSize,maximumFontSize:maximumFontSize,fontSize:fontSize,minimumViewportWidth:minimumViewportWidth=DEFAULT_MINIMUM_VIEWPORT_WIDTH,maximumViewportWidth:maximumViewportWidth=DEFAULT_MAXIMUM_VIEWPORT_WIDTH,scaleFactor:scaleFactor=DEFAULT_SCALE_FACTOR,minimumFontSizeLimit:minimumFontSizeLimit}){if(minimumFontSizeLimit=getTypographyValueAndUnit(minimumFontSizeLimit)?minimumFontSizeLimit:DEFAULT_MINIMUM_FONT_SIZE_LIMIT,fontSize){const fontSizeParsed=getTypographyValueAndUnit(fontSize);if(!fontSizeParsed?.unit)return null;const minimumFontSizeLimitParsed=getTypographyValueAndUnit(minimumFontSizeLimit,{coerceTo:fontSizeParsed.unit});if(minimumFontSizeLimitParsed?.value&&!minimumFontSize&&!maximumFontSize&&fontSizeParsed?.value<=minimumFontSizeLimitParsed?.value)return null;if(maximumFontSize||(maximumFontSize=`${fontSizeParsed.value}${fontSizeParsed.unit}`),!minimumFontSize){const fontSizeValueInPx="px"===fontSizeParsed.unit?fontSizeParsed.value:16*fontSizeParsed.value,minimumFontSizeFactor=Math.min(Math.max(1-.075*Math.log2(fontSizeValueInPx),DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MIN),DEFAULT_MINIMUM_FONT_SIZE_FACTOR_MAX),calculatedMinimumFontSize=roundToPrecision(fontSizeParsed.value*minimumFontSizeFactor,3);minimumFontSize=minimumFontSizeLimitParsed?.value&&calculatedMinimumFontSize<minimumFontSizeLimitParsed?.value?`${minimumFontSizeLimitParsed.value}${minimumFontSizeLimitParsed.unit}`:`${calculatedMinimumFontSize}${fontSizeParsed.unit}`}}const minimumFontSizeParsed=getTypographyValueAndUnit(minimumFontSize),fontSizeUnit=minimumFontSizeParsed?.unit||"rem",maximumFontSizeParsed=getTypographyValueAndUnit(maximumFontSize,{coerceTo:fontSizeUnit});if(!minimumFontSizeParsed||!maximumFontSizeParsed)return null;const minimumFontSizeRem=getTypographyValueAndUnit(minimumFontSize,{coerceTo:"rem"}),maximumViewportWidthParsed=getTypographyValueAndUnit(maximumViewportWidth,{coerceTo:fontSizeUnit}),minimumViewportWidthParsed=getTypographyValueAndUnit(minimumViewportWidth,{coerceTo:fontSizeUnit});if(!maximumViewportWidthParsed||!minimumViewportWidthParsed||!minimumFontSizeRem)return null;const minViewportWidthOffsetValue=roundToPrecision(minimumViewportWidthParsed.value/100,3),viewportWidthOffset=roundToPrecision(minViewportWidthOffsetValue,3)+fontSizeUnit,linearFactorScaled=roundToPrecision(((maximumFontSizeParsed.value-minimumFontSizeParsed.value)/(maximumViewportWidthParsed.value-minimumViewportWidthParsed.value)*100||1)*scaleFactor,3);return`clamp(${minimumFontSize}, ${minimumFontSizeRem.value}${minimumFontSizeRem.unit} + ((1vw - ${viewportWidthOffset}) * ${linearFactorScaled}), ${maximumFontSize})`}({minimumFontSize:preset?.fluid?.min,maximumFontSize:preset?.fluid?.max,fontSize:defaultSize,minimumFontSizeLimit:fluidTypographySettings?.minFontSize,maximumViewportWidth:fluidTypographySettings?.maxViewportWidth,minimumViewportWidth:fluidTypographySettings?.minViewportWidth});return fluidFontSizeValue||defaultSize}function isFluidTypographyEnabled(typographySettings){const fluidSettings=typographySettings?.fluid;return!0===fluidSettings||fluidSettings&&"object"==typeof fluidSettings&&Object.keys(fluidSettings).length>0}function getFluidTypographyOptionsFromSettings(settings){const typographySettings=settings?.typography,layoutSettings=settings?.layout,defaultMaxViewportWidth=getTypographyValueAndUnit(layoutSettings?.wideSize)?layoutSettings?.wideSize:null;return isFluidTypographyEnabled(typographySettings)&&defaultMaxViewportWidth?{fluid:{maxViewportWidth:defaultMaxViewportWidth,...typographySettings.fluid}}:{fluid:typographySettings?.fluid}}const ROOT_BLOCK_SELECTOR="body",PRESET_METADATA=[{path:["color","palette"],valueKey:"color",cssVarInfix:"color",classes:[{classSuffix:"color",propertyName:"color"},{classSuffix:"background-color",propertyName:"background-color"},{classSuffix:"border-color",propertyName:"border-color"}]},{path:["color","gradients"],valueKey:"gradient",cssVarInfix:"gradient",classes:[{classSuffix:"gradient-background",propertyName:"background"}]},{path:["color","duotone"],valueKey:"colors",cssVarInfix:"duotone",valueFunc:({slug:slug})=>`url( '#wp-duotone-${slug}' )`,classes:[]},{path:["shadow","presets"],valueKey:"shadow",cssVarInfix:"shadow",classes:[]},{path:["typography","fontSizes"],valueFunc:(preset,settings)=>getTypographyFontSizeValue(preset,getFluidTypographyOptionsFromSettings(settings)),valueKey:"size",cssVarInfix:"font-size",classes:[{classSuffix:"font-size",propertyName:"font-size"}]},{path:["typography","fontFamilies"],valueKey:"fontFamily",cssVarInfix:"font-family",classes:[{classSuffix:"font-family",propertyName:"font-family"}]},{path:["spacing","spacingSizes"],valueKey:"size",cssVarInfix:"spacing",valueFunc:({size:size})=>size,classes:[]}],STYLE_PATH_TO_CSS_VAR_INFIX={"color.background":"color","color.text":"color","filter.duotone":"duotone","elements.link.color.text":"color","elements.link.:hover.color.text":"color","elements.link.typography.fontFamily":"font-family","elements.link.typography.fontSize":"font-size","elements.button.color.text":"color","elements.button.color.background":"color","elements.caption.color.text":"color","elements.button.typography.fontFamily":"font-family","elements.button.typography.fontSize":"font-size","elements.heading.color":"color","elements.heading.color.background":"color","elements.heading.typography.fontFamily":"font-family","elements.heading.gradient":"gradient","elements.heading.color.gradient":"gradient","elements.h1.color":"color","elements.h1.color.background":"color","elements.h1.typography.fontFamily":"font-family","elements.h1.color.gradient":"gradient","elements.h2.color":"color","elements.h2.color.background":"color","elements.h2.typography.fontFamily":"font-family","elements.h2.color.gradient":"gradient","elements.h3.color":"color","elements.h3.color.background":"color","elements.h3.typography.fontFamily":"font-family","elements.h3.color.gradient":"gradient","elements.h4.color":"color","elements.h4.color.background":"color","elements.h4.typography.fontFamily":"font-family","elements.h4.color.gradient":"gradient","elements.h5.color":"color","elements.h5.color.background":"color","elements.h5.typography.fontFamily":"font-family","elements.h5.color.gradient":"gradient","elements.h6.color":"color","elements.h6.color.background":"color","elements.h6.typography.fontFamily":"font-family","elements.h6.color.gradient":"gradient","color.gradient":"gradient",shadow:"shadow","typography.fontSize":"font-size","typography.fontFamily":"font-family"};function findInPresetsBy(features,blockName,presetPath,presetProperty,presetValueValue){const orderedPresetsByOrigin=[getValueFromObjectPath(features,["blocks",blockName,...presetPath]),getValueFromObjectPath(features,presetPath)];for(const presetByOrigin of orderedPresetsByOrigin)if(presetByOrigin){const origins=["custom","theme","default"];for(const origin of origins){const presets=presetByOrigin[origin];if(presets){const presetObject=presets.find((preset=>preset[presetProperty]===presetValueValue));if(presetObject){if("slug"===presetProperty)return presetObject;return findInPresetsBy(features,blockName,presetPath,"slug",presetObject.slug)[presetProperty]===presetObject[presetProperty]?presetObject:void 0}}}}}function getValueFromVariable(features,blockName,variable){if(!variable||"string"!=typeof variable){if(!variable?.ref||"string"!=typeof variable?.ref)return variable;{const refPath=variable.ref.split(".");if(!(variable=getValueFromObjectPath(features,refPath))||variable?.ref)return variable}}let parsedVar;if(variable.startsWith("var:"))parsedVar=variable.slice(4).split("|");else{if(!variable.startsWith("var(--wp--")||!variable.endsWith(")"))return variable;parsedVar=variable.slice(10,-1).split("--")}const[type,...path]=parsedVar;return"preset"===type?function getValueFromPresetVariable(features,blockName,variable,[presetType,slug]){const metadata=PRESET_METADATA.find((data=>data.cssVarInfix===presetType));if(!metadata)return variable;const presetObject=findInPresetsBy(features.settings,blockName,metadata.path,"slug",slug);if(presetObject){const{valueKey:valueKey}=metadata;return getValueFromVariable(features,blockName,presetObject[valueKey])}return variable}(features,blockName,variable,path):"custom"===type?function getValueFromCustomVariable(features,blockName,variable,path){var _getValueFromObjectPa;const result=null!==(_getValueFromObjectPa=getValueFromObjectPath(features.settings,["blocks",blockName,"custom",...path]))&&void 0!==_getValueFromObjectPa?_getValueFromObjectPa:getValueFromObjectPath(features.settings,["custom",...path]);return result?getValueFromVariable(features,blockName,result):variable}(features,blockName,variable,path):variable}function scopeSelector(scope,selector){const scopes=scope.split(","),selectors=selector.split(","),selectorsScoped=[];return scopes.forEach((outer=>{selectors.forEach((inner=>{selectorsScoped.push(`${outer.trim()} ${inner.trim()}`)}))})),selectorsScoped.join(", ")}function areGlobalStyleConfigsEqual(original,variation){return"object"!=typeof original||"object"!=typeof variation?original===variation:es6_default()(original?.styles,variation?.styles)&&es6_default()(original?.settings,variation?.settings)}const GlobalStylesContext=(0,react.createContext)({user:{},base:{},merged:{},setUserConfig:()=>{}}),EMPTY_CONFIG={settings:{},styles:{}},VALID_SETTINGS=["appearanceTools","useRootPaddingAwareAlignments","border.color","border.radius","border.style","border.width","shadow.presets","shadow.defaultPresets","color.background","color.button","color.caption","color.custom","color.customDuotone","color.customGradient","color.defaultDuotone","color.defaultGradients","color.defaultPalette","color.duotone","color.gradients","color.heading","color.link","color.palette","color.text","custom","dimensions.minHeight","layout.contentSize","layout.definitions","layout.wideSize","lightbox.enabled","lightbox.allowEditing","position.fixed","position.sticky","spacing.customSpacingSize","spacing.spacingSizes","spacing.spacingScale","spacing.blockGap","spacing.margin","spacing.padding","spacing.units","typography.fluid","typography.customFontSize","typography.dropCap","typography.fontFamilies","typography.fontSizes","typography.fontStyle","typography.fontWeight","typography.letterSpacing","typography.lineHeight","typography.textColumns","typography.textDecoration","typography.textTransform","typography.writingMode"],useGlobalStylesReset=()=>{const{user:config,setUserConfig:setUserConfig}=(0,react.useContext)(GlobalStylesContext);return[!!config&&!es6_default()(config,EMPTY_CONFIG),(0,react.useCallback)((()=>setUserConfig((()=>EMPTY_CONFIG))),[setUserConfig])]};function useGlobalSetting(propertyPath,blockName,source="all"){const{setUserConfig:setUserConfig,...configs}=(0,react.useContext)(GlobalStylesContext),appendedBlockPath=blockName?".blocks."+blockName:"",appendedPropertyPath=propertyPath?"."+propertyPath:"",contextualPath=`settings${appendedBlockPath}${appendedPropertyPath}`,globalPath=`settings${appendedPropertyPath}`,sourceKey="all"===source?"merged":source;return[(0,react.useMemo)((()=>{const configToUse=configs[sourceKey];if(!configToUse)throw"Unsupported source";var _getValueFromObjectPa;if(propertyPath)return null!==(_getValueFromObjectPa=getValueFromObjectPath(configToUse,contextualPath))&&void 0!==_getValueFromObjectPa?_getValueFromObjectPa:getValueFromObjectPath(configToUse,globalPath);let result={};return VALID_SETTINGS.forEach((setting=>{var _getValueFromObjectPa2;const value=null!==(_getValueFromObjectPa2=getValueFromObjectPath(configToUse,`settings${appendedBlockPath}.${setting}`))&&void 0!==_getValueFromObjectPa2?_getValueFromObjectPa2:getValueFromObjectPath(configToUse,`settings.${setting}`);void 0!==value&&(result=setImmutably(result,setting.split("."),value))})),result}),[configs,sourceKey,propertyPath,contextualPath,globalPath,appendedBlockPath]),newValue=>{setUserConfig((currentConfig=>setImmutably(currentConfig,contextualPath.split("."),newValue)))}]}function useGlobalStyle(path,blockName,source="all",{shouldDecodeEncode:shouldDecodeEncode=!0}={}){const{merged:mergedConfig,base:baseConfig,user:userConfig,setUserConfig:setUserConfig}=(0,react.useContext)(GlobalStylesContext),appendedPath=path?"."+path:"",finalPath=blockName?`styles.blocks.${blockName}${appendedPath}`:`styles${appendedPath}`;let rawResult,result;switch(source){case"all":rawResult=getValueFromObjectPath(mergedConfig,finalPath),result=shouldDecodeEncode?getValueFromVariable(mergedConfig,blockName,rawResult):rawResult;break;case"user":rawResult=getValueFromObjectPath(userConfig,finalPath),result=shouldDecodeEncode?getValueFromVariable(mergedConfig,blockName,rawResult):rawResult;break;case"base":rawResult=getValueFromObjectPath(baseConfig,finalPath),result=shouldDecodeEncode?getValueFromVariable(baseConfig,blockName,rawResult):rawResult;break;default:throw"Unsupported source"}return[result,newValue=>{setUserConfig((currentConfig=>setImmutably(currentConfig,finalPath.split("."),shouldDecodeEncode?function getPresetVariableFromValue(features,blockName,variableStylePath,presetPropertyValue){if(!presetPropertyValue)return presetPropertyValue;const cssVarInfix=STYLE_PATH_TO_CSS_VAR_INFIX[variableStylePath],metadata=PRESET_METADATA.find((data=>data.cssVarInfix===cssVarInfix));if(!metadata)return presetPropertyValue;const{valueKey:valueKey,path:path}=metadata,presetObject=findInPresetsBy(features,blockName,path,valueKey,presetPropertyValue);return presetObject?`var:preset|${cssVarInfix}|${presetObject.slug}`:presetPropertyValue}(mergedConfig.settings,blockName,path,newValue):newValue)))}]}function useSettingsForBlockElement(parentSettings,blockName,element){const{supportedStyles:supportedStyles,supports:supports}=(0,use_select.Z)((select=>({supportedStyles:unlock(select(build_module.h)).getSupportedStyles(blockName,element),supports:select(build_module.h).getBlockType(blockName)?.supports})),[blockName,element]);return(0,react.useMemo)((()=>{const updatedSettings={...parentSettings};return supportedStyles.includes("fontSize")||(updatedSettings.typography={...updatedSettings.typography,fontSizes:{},customFontSize:!1}),supportedStyles.includes("fontFamily")||(updatedSettings.typography={...updatedSettings.typography,fontFamilies:{}}),updatedSettings.color={...updatedSettings.color,text:updatedSettings.color?.text&&supportedStyles.includes("color"),background:updatedSettings.color?.background&&(supportedStyles.includes("background")||supportedStyles.includes("backgroundColor")),button:updatedSettings.color?.button&&supportedStyles.includes("buttonColor"),heading:updatedSettings.color?.heading&&supportedStyles.includes("headingColor"),link:updatedSettings.color?.link&&supportedStyles.includes("linkColor"),caption:updatedSettings.color?.caption&&supportedStyles.includes("captionColor")},supportedStyles.includes("background")||(updatedSettings.color.gradients=[],updatedSettings.color.customGradient=!1),supportedStyles.includes("filter")||(updatedSettings.color.defaultDuotone=!1,updatedSettings.color.customDuotone=!1),["lineHeight","fontStyle","fontWeight","letterSpacing","textTransform","textDecoration","writingMode"].forEach((key=>{supportedStyles.includes(key)||(updatedSettings.typography={...updatedSettings.typography,[key]:!1})})),supportedStyles.includes("columnCount")||(updatedSettings.typography={...updatedSettings.typography,textColumns:!1}),["contentSize","wideSize"].forEach((key=>{supportedStyles.includes(key)||(updatedSettings.layout={...updatedSettings.layout,[key]:!1})})),["padding","margin","blockGap"].forEach((key=>{supportedStyles.includes(key)||(updatedSettings.spacing={...updatedSettings.spacing,[key]:!1});const sides=Array.isArray(supports?.spacing?.[key])?supports?.spacing?.[key]:supports?.spacing?.[key]?.sides;sides?.length&&updatedSettings.spacing?.[key]&&(updatedSettings.spacing={...updatedSettings.spacing,[key]:{...updatedSettings.spacing?.[key],sides:sides}})})),supportedStyles.includes("minHeight")||(updatedSettings.dimensions={...updatedSettings.dimensions,minHeight:!1}),["radius","color","style","width"].forEach((key=>{supportedStyles.includes("border"+key.charAt(0).toUpperCase()+key.slice(1))||(updatedSettings.border={...updatedSettings.border,[key]:!1})})),updatedSettings.shadow=!!supportedStyles.includes("shadow")&&updatedSettings.shadow,updatedSettings}),[parentSettings,supportedStyles,supports])}function useColorsPerOrigin(settings){const customColors=settings?.color?.palette?.custom,themeColors=settings?.color?.palette?.theme,defaultColors=settings?.color?.palette?.default,shouldDisplayDefaultColors=settings?.color?.defaultPalette;return(0,react.useMemo)((()=>{const result=[];return themeColors&&themeColors.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),colors:themeColors}),shouldDisplayDefaultColors&&defaultColors&&defaultColors.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),colors:defaultColors}),customColors&&customColors.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette is created by the user."),colors:customColors}),result}),[customColors,themeColors,defaultColors,shouldDisplayDefaultColors])}function useGradientsPerOrigin(settings){const customGradients=settings?.color?.gradients?.custom,themeGradients=settings?.color?.gradients?.theme,defaultGradients=settings?.color?.gradients?.default,shouldDisplayDefaultGradients=settings?.color?.defaultGradients;return(0,react.useMemo)((()=>{const result=[];return themeGradients&&themeGradients.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),gradients:themeGradients}),shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),gradients:defaultGradients}),customGradients&&customGradients.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette is created by the user."),gradients:customGradients}),result}),[customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients])}const utils_cleanEmptyObject=object=>{if(null===object||"object"!=typeof object||Array.isArray(object))return object;const cleanedNestedObjects=Object.entries(object).map((([key,value])=>[key,utils_cleanEmptyObject(value)])).filter((([,value])=>void 0!==value));return cleanedNestedObjects.length?Object.fromEntries(cleanedNestedObjects):void 0};function transformStyles(activeSupports,migrationPaths,result,source,index,results){if(Object.values(null!=activeSupports?activeSupports:{}).every((isActive=>!isActive)))return result;if(1===results.length&&result.innerBlocks.length===source.length)return result;let referenceBlockAttributes=source[0]?.attributes;if(results.length>1&&source.length>1){if(!source[index])return result;referenceBlockAttributes=source[index]?.attributes}let returnBlock=result;return Object.entries(activeSupports).forEach((([support,isActive])=>{isActive&&migrationPaths[support].forEach((path=>{const styleValue=getValueFromObjectPath(referenceBlockAttributes,path);styleValue&&(returnBlock={...returnBlock,attributes:setImmutably(returnBlock.attributes,path,styleValue)})}))})),returnBlock}function shouldSkipSerialization(blockType,featureSet,feature){const support=(0,build_module.Dx)(blockType,featureSet),skipSerialization=support?.__experimentalSkipSerialization;return Array.isArray(skipSerialization)?skipSerialization.includes(feature):skipSerialization}function useStyleOverride({id:id,css:css,assets:assets,__unstableType:__unstableType}={}){const{setStyleOverride:setStyleOverride,deleteStyleOverride:deleteStyleOverride}=unlock((0,use_dispatch.Z)(store)),fallbackId=(0,react.useId)();(0,react.useEffect)((()=>{if(!css&&!assets)return;const _id=id||fallbackId;return setStyleOverride(_id,{id:id,css:css,assets:assets,__unstableType:__unstableType}),()=>{deleteStyleOverride(_id)}}),[id,css,assets,__unstableType,fallbackId,setStyleOverride,deleteStyleOverride])}function useBlockSettings(name,parentLayout){const[fontFamilies,fontSizes,customFontSize,fontStyle,fontWeight,lineHeight,textColumns,textDecoration,writingMode,textTransform,letterSpacing,padding,margin,blockGap,spacingSizes,units,minHeight,layout,borderColor,borderRadius,borderStyle,borderWidth,customColorsEnabled,customColors,customDuotone,themeColors,defaultColors,defaultPalette,defaultDuotone,userDuotonePalette,themeDuotonePalette,defaultDuotonePalette,userGradientPalette,themeGradientPalette,defaultGradientPalette,defaultGradients,areCustomGradientsEnabled,isBackgroundEnabled,isLinkEnabled,isTextEnabled,isHeadingEnabled,isButtonEnabled]=use_settings_useSettings("typography.fontFamilies","typography.fontSizes","typography.customFontSize","typography.fontStyle","typography.fontWeight","typography.lineHeight","typography.textColumns","typography.textDecoration","typography.writingMode","typography.textTransform","typography.letterSpacing","spacing.padding","spacing.margin","spacing.blockGap","spacing.spacingSizes","spacing.units","dimensions.minHeight","layout","border.color","border.radius","border.style","border.width","color.custom","color.palette.custom","color.customDuotone","color.palette.theme","color.palette.default","color.defaultPalette","color.defaultDuotone","color.duotone.custom","color.duotone.theme","color.duotone.default","color.gradients.custom","color.gradients.theme","color.gradients.default","color.defaultGradients","color.customGradient","color.background","color.link","color.text","color.heading","color.button");return useSettingsForBlockElement((0,react.useMemo)((()=>({color:{palette:{custom:customColors,theme:themeColors,default:defaultColors},gradients:{custom:userGradientPalette,theme:themeGradientPalette,default:defaultGradientPalette},duotone:{custom:userDuotonePalette,theme:themeDuotonePalette,default:defaultDuotonePalette},defaultGradients:defaultGradients,defaultPalette:defaultPalette,defaultDuotone:defaultDuotone,custom:customColorsEnabled,customGradient:areCustomGradientsEnabled,customDuotone:customDuotone,background:isBackgroundEnabled,link:isLinkEnabled,heading:isHeadingEnabled,button:isButtonEnabled,text:isTextEnabled},typography:{fontFamilies:{custom:fontFamilies},fontSizes:{custom:fontSizes},customFontSize:customFontSize,fontStyle:fontStyle,fontWeight:fontWeight,lineHeight:lineHeight,textColumns:textColumns,textDecoration:textDecoration,textTransform:textTransform,letterSpacing:letterSpacing,writingMode:writingMode},spacing:{spacingSizes:{custom:spacingSizes},padding:padding,margin:margin,blockGap:blockGap,units:units},border:{color:borderColor,radius:borderRadius,style:borderStyle,width:borderWidth},dimensions:{minHeight:minHeight},layout:layout,parentLayout:parentLayout})),[fontFamilies,fontSizes,customFontSize,fontStyle,fontWeight,lineHeight,textColumns,textDecoration,textTransform,letterSpacing,writingMode,padding,margin,blockGap,spacingSizes,units,minHeight,layout,parentLayout,borderColor,borderRadius,borderStyle,borderWidth,customColorsEnabled,customColors,customDuotone,themeColors,defaultColors,defaultPalette,defaultDuotone,userDuotonePalette,themeDuotonePalette,defaultDuotonePalette,userGradientPalette,themeGradientPalette,defaultGradientPalette,defaultGradients,areCustomGradientsEnabled,isBackgroundEnabled,isLinkEnabled,isTextEnabled,isHeadingEnabled,isButtonEnabled]),name)}const justifyContentMap={left:"flex-start",right:"flex-end",center:"center","space-between":"space-between"},alignItemsMap={left:"flex-start",right:"flex-end",center:"center",stretch:"stretch"},verticalAlignmentMap={top:"flex-start",center:"center",bottom:"flex-end",stretch:"stretch","space-between":"space-between"},flexWrapOptions=["wrap","nowrap"];var flex={name:"flex",label:(0,i18n_build_module.__)("Flex"),inspectorControls:function FlexLayoutInspectorControls({layout:layout={},onChange:onChange,layoutBlockSupport:layoutBlockSupport={}}){const{allowOrientation:allowOrientation=!0}=layoutBlockSupport;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(component.Z,null,(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange})),(0,react.createElement)(flex_item_component.Z,null,allowOrientation&&(0,react.createElement)(OrientationControl,{layout:layout,onChange:onChange}))),(0,react.createElement)(FlexWrapControl,{layout:layout,onChange:onChange}))},toolBarControls:function FlexLayoutToolbarControls({layout:layout={},onChange:onChange,layoutBlockSupport:layoutBlockSupport}){if(layoutBlockSupport?.allowSwitching)return null;const{allowVerticalAlignment:allowVerticalAlignment=!0}=layoutBlockSupport;return(0,react.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0},(0,react.createElement)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange,isToolbar:!0}),allowVerticalAlignment&&(0,react.createElement)(FlexLayoutVerticalAlignmentControl,{layout:layout,onChange:onChange,isToolbar:!0}))},getLayoutStyle:function getLayoutStyle({selector:selector,layout:layout,style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const{orientation:orientation="horizontal"}=layout,blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,"spacing","blockGap")?getGapCSSValue(style?.spacing?.blockGap,"0.5em"):void 0,justifyContent=justifyContentMap[layout.justifyContent],flexWrap=flexWrapOptions.includes(layout.flexWrap)?layout.flexWrap:"wrap",verticalAlignment=verticalAlignmentMap[layout.verticalAlignment],alignItems=alignItemsMap[layout.justifyContent]||alignItemsMap.left;let output="";const rules=[];return flexWrap&&"wrap"!==flexWrap&&rules.push(`flex-wrap: ${flexWrap}`),"horizontal"===orientation?(verticalAlignment&&rules.push(`align-items: ${verticalAlignment}`),justifyContent&&rules.push(`justify-content: ${justifyContent}`)):(verticalAlignment&&rules.push(`justify-content: ${verticalAlignment}`),rules.push("flex-direction: column"),rules.push(`align-items: ${alignItems}`)),rules.length&&(output=`${appendSelectors(selector)} {\n\t\t\t\t${rules.join("; ")};\n\t\t\t}`),hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"flex",blockGapValue)),output},getOrientation(layout){const{orientation:orientation="horizontal"}=layout;return orientation},getAlignments(){return[]}};function FlexLayoutVerticalAlignmentControl({layout:layout,onChange:onChange,isToolbar:isToolbar=!1}){const{orientation:orientation="horizontal"}=layout,defaultVerticalAlignment="horizontal"===orientation?verticalAlignmentMap.center:verticalAlignmentMap.top,{verticalAlignment:verticalAlignment=defaultVerticalAlignment}=layout,onVerticalAlignmentChange=value=>{onChange({...layout,verticalAlignment:value})};if(isToolbar)return(0,react.createElement)(BlockVerticalAlignmentControl,{onChange:onVerticalAlignmentChange,value:verticalAlignment,controls:"horizontal"===orientation?["top","center","bottom","stretch"]:["top","center","bottom","space-between"]});const verticalAlignmentOptions=[{value:"flex-start",label:(0,i18n_build_module.__)("Align items top")},{value:"center",label:(0,i18n_build_module.__)("Align items center")},{value:"flex-end",label:(0,i18n_build_module.__)("Align items bottom")}];return(0,react.createElement)("fieldset",{className:"block-editor-hooks__flex-layout-vertical-alignment-control"},(0,react.createElement)("legend",null,(0,i18n_build_module.__)("Vertical alignment")),(0,react.createElement)("div",null,verticalAlignmentOptions.map(((value,icon,label)=>(0,react.createElement)(build_module_button.ZP,{key:value,label:label,icon:icon,isPressed:verticalAlignment===value,onClick:()=>onVerticalAlignmentChange(value)})))))}const POPOVER_PROPS={placement:"bottom-start"};function FlexLayoutJustifyContentControl({layout:layout,onChange:onChange,isToolbar:isToolbar=!1}){const{justifyContent:justifyContent="left",orientation:orientation="horizontal"}=layout,onJustificationChange=value=>{onChange({...layout,justifyContent:value})},allowedControls=["left","center","right"];if("horizontal"===orientation?allowedControls.push("space-between"):allowedControls.push("stretch"),isToolbar)return(0,react.createElement)(JustifyContentControl,{allowedControls:allowedControls,value:justifyContent,onChange:onJustificationChange,popoverProps:POPOVER_PROPS});const justificationOptions=[{value:"left",icon:justify_left.Z,label:(0,i18n_build_module.__)("Justify items left")},{value:"center",icon:justify_center.Z,label:(0,i18n_build_module.__)("Justify items center")},{value:"right",icon:justify_right.Z,label:(0,i18n_build_module.__)("Justify items right")}];return"horizontal"===orientation?justificationOptions.push({value:"space-between",icon:justify_space_between.Z,label:(0,i18n_build_module.__)("Space between items")}):justificationOptions.push({value:"stretch",icon:justify_stretch.Z,label:(0,i18n_build_module.__)("Stretch items")}),(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Justification"),value:justifyContent,onChange:onJustificationChange,className:"block-editor-hooks__flex-layout-justification-controls"},justificationOptions.map((({value:value,icon:icon,label:label})=>(0,react.createElement)(toggle_group_control_option_icon_component.Z,{key:value,value:value,icon:icon,label:label}))))}function FlexWrapControl({layout:layout,onChange:onChange}){const{flexWrap:flexWrap="wrap"}=layout;return(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Allow to wrap to multiple lines"),onChange:value=>{onChange({...layout,flexWrap:value?"wrap":"nowrap"})},checked:"wrap"===flexWrap})}function OrientationControl({layout:layout,onChange:onChange}){const{orientation:orientation="horizontal",verticalAlignment:verticalAlignment,justifyContent:justifyContent}=layout;return(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-hooks__flex-layout-orientation-controls",label:(0,i18n_build_module.__)("Orientation"),value:orientation,onChange:value=>{let newVerticalAlignment=verticalAlignment,newJustification=justifyContent;return"horizontal"===value?("space-between"===verticalAlignment&&(newVerticalAlignment="center"),"stretch"===justifyContent&&(newJustification="left")):("stretch"===verticalAlignment&&(newVerticalAlignment="top"),"space-between"===justifyContent&&(newJustification="left")),onChange({...layout,orientation:value,verticalAlignment:newVerticalAlignment,justifyContent:newJustification})}},(0,react.createElement)(toggle_group_control_option_icon_component.Z,{icon:arrow_right.Z,value:"horizontal",label:(0,i18n_build_module.__)("Horizontal")}),(0,react.createElement)(toggle_group_control_option_icon_component.Z,{icon:arrow_down.Z,value:"vertical",label:(0,i18n_build_module.__)("Vertical")}))}var flow={name:"default",label:(0,i18n_build_module.__)("Flow"),inspectorControls:function DefaultLayoutInspectorControls(){return null},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector:selector,style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue="";shouldSkipSerialization(blockName,"spacing","blockGap")||(blockGapStyleValue?.top?blockGapValue=getGapCSSValue(blockGapStyleValue?.top):"string"==typeof blockGapStyleValue&&(blockGapValue=getGapCSSValue(blockGapStyleValue)));let output="";return hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"default",blockGapValue)),output},getOrientation(){return"vertical"},getAlignments(layout,isBlockBasedTheme){const alignmentInfo=getAlignmentsInfo(layout);if(void 0!==layout.alignments)return layout.alignments.includes("none")||layout.alignments.unshift("none"),layout.alignments.map((alignment=>({name:alignment,info:alignmentInfo[alignment]})));const alignments=[{name:"left"},{name:"center"},{name:"right"}];if(!isBlockBasedTheme){const{contentSize:contentSize,wideSize:wideSize}=layout;contentSize&&alignments.unshift({name:"full"}),wideSize&&alignments.unshift({name:"wide",info:alignmentInfo.wide})}return alignments.unshift({name:"none",info:alignmentInfo.none}),alignments}},utils=__webpack_require__("./packages/components/build-module/unit-control/utils.js"),unit_control=__webpack_require__("./packages/components/build-module/unit-control/index.js"),build_module_icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),position_center=__webpack_require__("./packages/icons/build-module/library/position-center.js"),stretch_wide=__webpack_require__("./packages/icons/build-module/library/stretch-wide.js"),style_engine_build_module=__webpack_require__("./packages/style-engine/build-module/index.js"),constrained={name:"constrained",label:(0,i18n_build_module.__)("Constrained"),inspectorControls:function DefaultLayoutInspectorControls({layout:layout,onChange:onChange,layoutBlockSupport:layoutBlockSupport={}}){const{wideSize:wideSize,contentSize:contentSize,justifyContent:justifyContent="center"}=layout,{allowJustification:allowJustification=!0,allowCustomContentAndWideSize:allowCustomContentAndWideSize=!0}=layoutBlockSupport,justificationOptions=[{value:"left",icon:justify_left.Z,label:(0,i18n_build_module.__)("Justify items left")},{value:"center",icon:justify_center.Z,label:(0,i18n_build_module.__)("Justify items center")},{value:"right",icon:justify_right.Z,label:(0,i18n_build_module.__)("Justify items right")}],[availableUnits]=use_settings_useSettings("spacing.units"),units=(0,utils.nj)({availableUnits:availableUnits||["%","px","em","rem","vw"]});return(0,react.createElement)(react.Fragment,null,allowCustomContentAndWideSize&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:"block-editor-hooks__layout-controls"},(0,react.createElement)("div",{className:"block-editor-hooks__layout-controls-unit"},(0,react.createElement)(unit_control.ZP,{className:"block-editor-hooks__layout-controls-unit-input",label:(0,i18n_build_module.__)("Content"),labelPosition:"top",__unstableInputWidth:"80px",value:contentSize||wideSize||"",onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?"0":nextWidth,onChange({...layout,contentSize:nextWidth})},units:units}),(0,react.createElement)(build_module_icon.Z,{icon:position_center.Z})),(0,react.createElement)("div",{className:"block-editor-hooks__layout-controls-unit"},(0,react.createElement)(unit_control.ZP,{className:"block-editor-hooks__layout-controls-unit-input",label:(0,i18n_build_module.__)("Wide"),labelPosition:"top",__unstableInputWidth:"80px",value:wideSize||contentSize||"",onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?"0":nextWidth,onChange({...layout,wideSize:nextWidth})},units:units}),(0,react.createElement)(build_module_icon.Z,{icon:stretch_wide.Z}))),(0,react.createElement)("p",{className:"block-editor-hooks__layout-controls-helptext"},(0,i18n_build_module.__)("Customize the width for all elements that are assigned to the center or wide columns."))),allowJustification&&(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Justification"),value:justifyContent,onChange:value=>{onChange({...layout,justifyContent:value})}},justificationOptions.map((({value:value,icon:icon,label:label})=>(0,react.createElement)(toggle_group_control_option_icon_component.Z,{key:value,value:value,icon:icon,label:label})))))},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector:selector,layout:layout={},style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const{contentSize:contentSize,wideSize:wideSize,justifyContent:justifyContent}=layout,blockGapStyleValue=getGapCSSValue(style?.spacing?.blockGap);let blockGapValue="";shouldSkipSerialization(blockName,"spacing","blockGap")||(blockGapStyleValue?.top?blockGapValue=getGapCSSValue(blockGapStyleValue?.top):"string"==typeof blockGapStyleValue&&(blockGapValue=getGapCSSValue(blockGapStyleValue)));const marginLeft="left"===justifyContent?"0 !important":"auto !important",marginRight="right"===justifyContent?"0 !important":"auto !important";let output=contentSize||wideSize?`\n\t\t\t\t\t${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")} {\n\t\t\t\t\t\tmax-width: ${null!=contentSize?contentSize:wideSize};\n\t\t\t\t\t\tmargin-left: ${marginLeft};\n\t\t\t\t\t\tmargin-right: ${marginRight};\n\t\t\t\t\t}\n\t\t\t\t\t${appendSelectors(selector,"> .alignwide")}  {\n\t\t\t\t\t\tmax-width: ${null!=wideSize?wideSize:contentSize};\n\t\t\t\t\t}\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmax-width: none;\n\t\t\t\t\t}\n\t\t\t\t`:"";if("left"===justifyContent?output+=`${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-left: ${marginLeft}; }`:"right"===justifyContent&&(output+=`${appendSelectors(selector,"> :where(:not(.alignleft):not(.alignright):not(.alignfull))")}\n\t\t\t{ margin-right: ${marginRight}; }`),style?.spacing?.padding){(0,style_engine_build_module.R)(style).forEach((rule=>{"paddingRight"===rule.key?output+=`\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmargin-right: calc(${rule.value} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`:"paddingLeft"===rule.key&&(output+=`\n\t\t\t\t\t${appendSelectors(selector,"> .alignfull")} {\n\t\t\t\t\t\tmargin-left: calc(${rule.value} * -1);\n\t\t\t\t\t}\n\t\t\t\t\t`)}))}return hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"constrained",blockGapValue)),output},getOrientation(){return"vertical"},getAlignments(layout){const alignmentInfo=getAlignmentsInfo(layout);if(void 0!==layout.alignments)return layout.alignments.includes("none")||layout.alignments.unshift("none"),layout.alignments.map((alignment=>({name:alignment,info:alignmentInfo[alignment]})));const{contentSize:contentSize,wideSize:wideSize}=layout,alignments=[{name:"left"},{name:"center"},{name:"right"}];return contentSize&&alignments.unshift({name:"full"}),wideSize&&alignments.unshift({name:"wide",info:alignmentInfo.wide}),alignments.unshift({name:"none",info:alignmentInfo.none}),alignments}},base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js");const RANGE_CONTROL_MAX_VALUES={px:600,"%":100,vw:100,vh:100,em:38,rem:38,svw:100,lvw:100,dvw:100,svh:100,lvh:100,dvh:100,vi:100,svi:100,lvi:100,dvi:100,vb:100,svb:100,lvb:100,dvb:100,vmin:100,svmin:100,lvmin:100,dvmin:100,vmax:100,svmax:100,lvmax:100,dvmax:100};var grid={name:"grid",label:(0,i18n_build_module.__)("Grid"),inspectorControls:function GridLayoutInspectorControls({layout:layout={},onChange:onChange}){return layout?.columnCount?(0,react.createElement)(GridLayoutColumnsControl,{layout:layout,onChange:onChange}):(0,react.createElement)(GridLayoutMinimumWidthControl,{layout:layout,onChange:onChange})},toolBarControls:function DefaultLayoutToolbarControls(){return null},getLayoutStyle:function getLayoutStyle({selector:selector,layout:layout,style:style,blockName:blockName,hasBlockGapSupport:hasBlockGapSupport,layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS}){const{minimumColumnWidth:minimumColumnWidth="12rem",columnCount:columnCount=null}=layout,blockGapValue=style?.spacing?.blockGap&&!shouldSkipSerialization(blockName,"spacing","blockGap")?getGapCSSValue(style?.spacing?.blockGap,"0.5em"):void 0;let output="";const rules=[];return columnCount?rules.push(`grid-template-columns: repeat(${columnCount}, minmax(0, 1fr))`):minimumColumnWidth&&rules.push(`grid-template-columns: repeat(auto-fill, minmax(min(${minimumColumnWidth}, 100%), 1fr))`),rules.length&&(output=`${appendSelectors(selector)} { ${rules.join("; ")}; }`),hasBlockGapSupport&&blockGapValue&&(output+=getBlockGapCSS(selector,layoutDefinitions,"grid",blockGapValue)),output},getOrientation(){return"horizontal"},getAlignments(){return[]}};function GridLayoutMinimumWidthControl({layout:layout,onChange:onChange}){const{minimumColumnWidth:value="12rem"}=layout,[quantity,unit]=(0,utils.YX)(value);return(0,react.createElement)("fieldset",null,(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Minimum column width")),(0,react.createElement)(component.Z,{gap:4},(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(unit_control.ZP,{size:"__unstable-large",onChange:newValue=>{onChange({...layout,minimumColumnWidth:newValue})},onUnitChange:newUnit=>{let newValue;["em","rem"].includes(newUnit)&&"px"===unit?newValue=(quantity/16).toFixed(2)+newUnit:["em","rem"].includes(unit)&&"px"===newUnit?newValue=Math.round(16*quantity)+newUnit:["vh","vw","%","svw","lvw","dvw","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(newUnit)&&quantity>100&&(newValue=100+newUnit),onChange({...layout,minimumColumnWidth:newValue})},value:value,min:0})),(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(range_control.Z,{onChange:next=>{onChange({...layout,minimumColumnWidth:[next,unit].join("")})},value:quantity,min:0,max:RANGE_CONTROL_MAX_VALUES[unit]||600,withInputField:!1}))))}function GridLayoutColumnsControl({layout:layout,onChange:onChange}){const{columnCount:columnCount=3}=layout;return(0,react.createElement)(range_control.Z,{label:(0,i18n_build_module.__)("Columns"),value:columnCount,onChange:value=>onChange({...layout,columnCount:value}),min:1,max:6})}const layoutTypes=[flow,flex,constrained,grid];function getLayoutType(name="default"){return layoutTypes.find((layoutType=>layoutType.name===name))}const defaultLayout={type:"default"},Layout=(0,react.createContext)(defaultLayout),LayoutProvider=Layout.Provider;function useLayout(){return(0,react.useContext)(Layout)}function LayoutStyle({layout:layout={},css:css,...props}){const layoutType=getLayoutType(layout.type),[blockGapSupport]=use_settings_useSettings("spacing.blockGap"),hasBlockGapSupport=null!==blockGapSupport;if(layoutType){if(css)return(0,react.createElement)("style",null,css);const layoutStyle=layoutType.getLayoutStyle?.({hasBlockGapSupport:hasBlockGapSupport,layout:layout,...props});if(layoutStyle)return(0,react.createElement)("style",null,layoutStyle)}return null}LayoutStyle.__docgenInfo={description:"",methods:[],displayName:"LayoutStyle",props:{layout:{defaultValue:{value:"{}",computed:!1},required:!1}}};const use_available_alignments_EMPTY_ARRAY=[],use_available_alignments_DEFAULT_CONTROLS=["none","left","center","right","wide","full"],WIDE_CONTROLS=["wide","full"];function useAvailableAlignments(controls=use_available_alignments_DEFAULT_CONTROLS){controls.includes("none")||(controls=["none",...controls]);const isNoneOnly=1===controls.length&&"none"===controls[0],[wideControlsEnabled,themeSupportsLayout,isBlockBasedTheme]=(0,use_select.Z)((select=>{var _settings$alignWide;if(isNoneOnly)return[!1,!1,!1];const settings=select(store).getSettings();return[null!==(_settings$alignWide=settings.alignWide)&&void 0!==_settings$alignWide&&_settings$alignWide,settings.supportsLayout,settings.__unstableIsBlockBasedTheme]}),[isNoneOnly]),layout=useLayout();if(isNoneOnly)return use_available_alignments_EMPTY_ARRAY;const layoutType=getLayoutType(layout?.type);if(themeSupportsLayout){const alignments=layoutType.getAlignments(layout,isBlockBasedTheme).filter((alignment=>controls.includes(alignment.name)));return 1===alignments.length&&"none"===alignments[0].name?use_available_alignments_EMPTY_ARRAY:alignments}if("default"!==layoutType.name&&"constrained"!==layoutType.name)return use_available_alignments_EMPTY_ARRAY;const alignments=controls.filter((control=>layout.alignments?layout.alignments.includes(control):!(!wideControlsEnabled&&WIDE_CONTROLS.includes(control))&&use_available_alignments_DEFAULT_CONTROLS.includes(control))).map((name=>({name:name})));return 1===alignments.length&&"none"===alignments[0].name?use_available_alignments_EMPTY_ARRAY:alignments}var align_none=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M19 5.5H5V4h14v1.5ZM19 20H5v-1.5h14V20ZM5 9h14v6H5V9Z"}));var position_left=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M5 5.5h8V4H5v1.5ZM5 20h8v-1.5H5V20ZM19 9H5v6h14V9Z"}));var position_right=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M19 5.5h-8V4h8v1.5ZM19 20h-8v-1.5h8V20ZM5 9h14v6H5V9Z"}));var stretch_full_width=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M5 4h14v11H5V4Zm11 16H8v-1.5h8V20Z"}));const constants_BLOCK_ALIGNMENTS_CONTROLS={none:{icon:align_none,title:(0,i18n_build_module._x)("None","Alignment option")},left:{icon:position_left,title:(0,i18n_build_module.__)("Align left")},center:{icon:position_center.Z,title:(0,i18n_build_module.__)("Align center")},right:{icon:position_right,title:(0,i18n_build_module.__)("Align right")},wide:{icon:stretch_wide.Z,title:(0,i18n_build_module.__)("Wide width")},full:{icon:stretch_full_width,title:(0,i18n_build_module.__)("Full width")}};function BlockAlignmentUI({value:value,onChange:onChange,controls:controls,isToolbar:isToolbar,isCollapsed:isCollapsed=!0}){const enabledControls=useAvailableAlignments(controls);if(!!!enabledControls.length)return null;function onChangeAlignment(align){onChange([value,"none"].includes(align)?void 0:align)}const activeAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS[value],defaultAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS.none,UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,commonProps={icon:activeAlignmentControl?activeAlignmentControl.icon:defaultAlignmentControl.icon,label:(0,i18n_build_module.__)("Align")},extraProps=isToolbar?{isCollapsed:isCollapsed,controls:enabledControls.map((({name:controlName})=>({...constants_BLOCK_ALIGNMENTS_CONTROLS[controlName],isActive:value===controlName||!value&&"none"===controlName,role:isCollapsed?"menuitemradio":void 0,onClick:()=>onChangeAlignment(controlName)})))}:{toggleProps:{describedBy:(0,i18n_build_module.__)("Change alignment")},children:({onClose:onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,{className:"block-editor-block-alignment-control__menu-group"},enabledControls.map((({name:controlName,info:info})=>{const{icon:icon,title:title}=constants_BLOCK_ALIGNMENTS_CONTROLS[controlName],isSelected=controlName===value||!value&&"none"===controlName;return(0,react.createElement)(menu_item.Z,{key:controlName,icon:icon,iconPosition:"left",className:classnames_default()("components-dropdown-menu__menu-item",{"is-active":isSelected}),isSelected:isSelected,onClick:()=>{onChangeAlignment(controlName),onClose()},role:"menuitemradio",info:info},title)}))))};return(0,react.createElement)(UIComponent,{...commonProps,...extraProps})}BlockAlignmentUI.__docgenInfo={description:"",methods:[],displayName:"BlockAlignmentUI",props:{isCollapsed:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_alignment_control_ui=BlockAlignmentUI;const BlockAlignmentControl=props=>(0,react.createElement)(block_alignment_control_ui,{...props,isToolbar:!1}),BlockAlignmentToolbar=props=>(0,react.createElement)(block_alignment_control_ui,{...props,isToolbar:!0});BlockAlignmentControl.__docgenInfo={description:"",methods:[],displayName:"BlockAlignmentControl"},BlockAlignmentToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockAlignmentToolbar"};const BlockListBlockContext=(0,react.createContext)(null);function useBlockEditingMode(mode){var _useContext;const{clientId:clientId=""}=null!==(_useContext=(0,react.useContext)(BlockListBlockContext))&&void 0!==_useContext?_useContext:{},blockEditingMode=(0,use_select.Z)((select=>select(store).getBlockEditingMode(clientId)),[clientId]),{setBlockEditingMode:setBlockEditingMode,unsetBlockEditingMode:unsetBlockEditingMode}=(0,use_dispatch.Z)(store);return(0,react.useEffect)((()=>(mode&&setBlockEditingMode(clientId,mode),()=>{mode&&unsetBlockEditingMode(clientId)})),[clientId,mode,setBlockEditingMode,unsetBlockEditingMode]),blockEditingMode}const ALL_ALIGNMENTS=["left","center","right","wide","full"],WIDE_ALIGNMENTS=["wide","full"];function getValidAlignments(blockAlign,hasWideBlockSupport=!0,hasWideEnabled=!0){let validAlignments;return validAlignments=Array.isArray(blockAlign)?ALL_ALIGNMENTS.filter((value=>blockAlign.includes(value))):!0===blockAlign?[...ALL_ALIGNMENTS]:[],!hasWideEnabled||!0===blockAlign&&!hasWideBlockSupport?validAlignments.filter((alignment=>!WIDE_ALIGNMENTS.includes(alignment))):validAlignments}function BlockEditAlignmentToolbarControls({blockName:blockName,attributes:attributes,setAttributes:setAttributes}){const validAlignments=useAvailableAlignments(getValidAlignments((0,build_module.Dx)(blockName,"align"),(0,build_module.zb)(blockName,"alignWide",!0))).map((({name:name})=>name)),blockEditingMode=useBlockEditingMode();if(!validAlignments.length||"default"!==blockEditingMode)return null;return(0,react.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0},(0,react.createElement)(BlockAlignmentControl,{value:attributes.align,onChange:nextAlign=>{if(!nextAlign){const blockType=(0,build_module.ck)(blockName),blockDefaultAlign=blockType?.attributes?.align?.default;blockDefaultAlign&&(nextAlign="")}setAttributes({align:nextAlign})},controls:validAlignments}))}const withAlignmentControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const hasAlignmentSupport=(0,build_module.zb)(props.name,"align",!1);return(0,react.createElement)(react.Fragment,null,hasAlignmentSupport&&(0,react.createElement)(BlockEditAlignmentToolbarControls,{blockName:props.name,attributes:props.attributes,setAttributes:props.setAttributes}),(0,react.createElement)(BlockEdit,{key:"edit",...props}))}),"withAlignmentControls");function BlockListBlockWithDataAlign({block:BlockListBlock,props:props}){const{name:name,attributes:attributes}=props,{align:align}=attributes,validAlignments=useAvailableAlignments(getValidAlignments((0,build_module.Dx)(name,"align"),(0,build_module.zb)(name,"alignWide",!0)));let wrapperProps=props.wrapperProps;return validAlignments.some((alignment=>alignment.name===align))&&(wrapperProps={...wrapperProps,"data-align":align}),(0,react.createElement)(BlockListBlock,{...props,wrapperProps:wrapperProps})}const withDataAlign=(0,create_higher_order_component.o)((BlockListBlock=>props=>void 0===props.attributes.align?(0,react.createElement)(BlockListBlock,{...props}):(0,react.createElement)(BlockListBlockWithDataAlign,{block:BlockListBlock,props:props})),"withDataAlign");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/editor/align/addAttribute",(function addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.align)&&void 0!==_settings$attributes$?_settings$attributes$:{})||(0,build_module.zb)(settings,"align")&&(settings.attributes={...settings.attributes,align:{type:"string",enum:[...ALL_ALIGNMENTS,""]}}),settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/align/with-data-align",withDataAlign),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/align/with-toolbar-controls",withAlignmentControls),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/editor/align/addAssignedAlign",(function addAssignedAlign(props,blockType,attributes){const{align:align}=attributes;return getValidAlignments((0,build_module.Dx)(blockType,"align"),(0,build_module.zb)(blockType,"alignWide",!0)).includes(align)&&(props.className=classnames_default()(`align${align}`,props.className)),props})),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/lock/addAttribute",(function lock_addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.lock)&&void 0!==_settings$attributes$?_settings$attributes$:{})||(settings.attributes={...settings.attributes,lock:{type:"object"}}),settings}));var text_control=__webpack_require__("./packages/components/build-module/text-control/index.js"),external_link=__webpack_require__("./packages/components/build-module/external-link/index.js"),body=__webpack_require__("./packages/components/build-module/panel/body.js"),context=__webpack_require__("./packages/components/build-module/tools-panel/context.js");const InspectorControlsDefault=(0,slot_fill.up)("InspectorControls"),InspectorControlsAdvanced=(0,slot_fill.up)("InspectorAdvancedControls"),InspectorControlsBackground=(0,slot_fill.up)("InspectorControlsBackground"),InspectorControlsBorder=(0,slot_fill.up)("InspectorControlsBorder"),InspectorControlsColor=(0,slot_fill.up)("InspectorControlsColor"),InspectorControlsFilter=(0,slot_fill.up)("InspectorControlsFilter"),InspectorControlsDimensions=(0,slot_fill.up)("InspectorControlsDimensions"),InspectorControlsPosition=(0,slot_fill.up)("InspectorControlsPosition"),InspectorControlsTypography=(0,slot_fill.up)("InspectorControlsTypography");var inspector_controls_groups={default:InspectorControlsDefault,advanced:InspectorControlsAdvanced,background:InspectorControlsBackground,border:InspectorControlsBorder,color:InspectorControlsColor,dimensions:InspectorControlsDimensions,filter:InspectorControlsFilter,list:(0,slot_fill.up)("InspectorControlsListView"),position:InspectorControlsPosition,settings:InspectorControlsDefault,styles:(0,slot_fill.up)("InspectorControlsStyles"),typography:InspectorControlsTypography};function InspectorControlsFill({children:children,group:group="default",__experimentalGroup:__experimentalGroup,resetAllFilter:resetAllFilter}){__experimentalGroup&&((0,deprecated_build_module.Z)("`__experimentalGroup` property in `InspectorControlsFill`",{since:"6.2",version:"6.4",alternative:"`group`"}),group=__experimentalGroup);const isDisplayed=useDisplayBlockControls(),Fill=inspector_controls_groups[group]?.Fill;return Fill?isDisplayed?(0,react.createElement)(style_provider.Z,{document:document},(0,react.createElement)(Fill,null,(fillProps=>(0,react.createElement)(ToolsPanelInspectorControl,{fillProps:fillProps,children:children,resetAllFilter:resetAllFilter})))):null:("undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Unknown InspectorControls group "${group}" provided.`),null)}function RegisterResetAll({resetAllFilter:resetAllFilter,children:children}){const{registerResetAllFilter:registerResetAllFilter,deregisterResetAllFilter:deregisterResetAllFilter}=(0,react.useContext)(context.h);return(0,react.useEffect)((()=>{if(resetAllFilter&&registerResetAllFilter&&deregisterResetAllFilter)return registerResetAllFilter(resetAllFilter),()=>{deregisterResetAllFilter(resetAllFilter)}}),[resetAllFilter,registerResetAllFilter,deregisterResetAllFilter]),children}function ToolsPanelInspectorControl({children:children,resetAllFilter:resetAllFilter,fillProps:fillProps}){const{forwardedContext:forwardedContext=[]}=fillProps,innerMarkup=(0,react.createElement)(RegisterResetAll,{resetAllFilter:resetAllFilter},children);return forwardedContext.reduce(((inner,[Provider,props])=>(0,react.createElement)(Provider,{...props},inner)),innerMarkup)}InspectorControlsFill.__docgenInfo={description:"",methods:[],displayName:"InspectorControlsFill",props:{group:{defaultValue:{value:"'default'",computed:!1},required:!1}}};var MotionContext=__webpack_require__("./packages/components/node_modules/framer-motion/dist/es/context/MotionContext/index.mjs"),tools_panel_component=__webpack_require__("./packages/components/build-module/tools-panel/tools-panel/component.js");function BlockSupportToolsPanel({children:children,group:group,label:label}){const{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),{getBlockAttributes:getBlockAttributes,getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds,getSelectedBlockClientId:getSelectedBlockClientId,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store),panelId=getSelectedBlockClientId(),resetAll=(0,react.useCallback)(((resetFilters=[])=>{const newAttributes={},clientIds=hasMultiSelection()?getMultiSelectedBlockClientIds():[panelId];clientIds.forEach((clientId=>{const{style:style}=getBlockAttributes(clientId);let newBlockAttributes={style:style};resetFilters.forEach((resetFilter=>{newBlockAttributes={...newBlockAttributes,...resetFilter(newBlockAttributes)}})),newBlockAttributes={...newBlockAttributes,style:utils_cleanEmptyObject(newBlockAttributes.style)},newAttributes[clientId]=newBlockAttributes})),updateBlockAttributes(clientIds,newAttributes,!0)}),[getBlockAttributes,getMultiSelectedBlockClientIds,hasMultiSelection,panelId,updateBlockAttributes]);return(0,react.createElement)(tools_panel_component.Z,{className:`${group}-block-support-panel`,label:label,resetAll:resetAll,key:panelId,panelId:panelId,hasInnerWrapper:!0,shouldRenderPlaceholderItems:!0,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last"},children)}function BlockSupportSlotContainer({Slot:Slot,fillProps:fillProps,...props}){const toolsPanelContext=(0,react.useContext)(context.h),computedFillProps=(0,react.useMemo)((()=>{var _fillProps$forwardedC;return{...null!=fillProps?fillProps:{},forwardedContext:[...null!==(_fillProps$forwardedC=fillProps?.forwardedContext)&&void 0!==_fillProps$forwardedC?_fillProps$forwardedC:[],[context.h.Provider,{value:toolsPanelContext}]]}}),[toolsPanelContext,fillProps]);return(0,react.createElement)(Slot,{...props,fillProps:computedFillProps,bubblesVirtually:!0})}function InspectorControlsSlot({__experimentalGroup:__experimentalGroup,group:group="default",label:label,fillProps:fillProps,...props}){__experimentalGroup&&((0,deprecated_build_module.Z)("`__experimentalGroup` property in `InspectorControlsSlot`",{since:"6.2",version:"6.4",alternative:"`group`"}),group=__experimentalGroup);const Slot=inspector_controls_groups[group]?.Slot,fills=(0,use_slot_fills.Z)(Slot?.__unstableName),motionContextValue=(0,react.useContext)(MotionContext.v),computedFillProps=(0,react.useMemo)((()=>{var _fillProps$forwardedC;return{...null!=fillProps?fillProps:{},forwardedContext:[...null!==(_fillProps$forwardedC=fillProps?.forwardedContext)&&void 0!==_fillProps$forwardedC?_fillProps$forwardedC:[],[MotionContext.v.Provider,{value:motionContextValue}]]}}),[motionContextValue,fillProps]);return Slot?fills?.length?label?(0,react.createElement)(BlockSupportToolsPanel,{group:group,label:label},(0,react.createElement)(BlockSupportSlotContainer,{...props,fillProps:computedFillProps,Slot:Slot})):(0,react.createElement)(Slot,{...props,fillProps:computedFillProps,bubblesVirtually:!0}):null:("undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Unknown InspectorControls group "${group}" provided.`),null)}BlockSupportToolsPanel.__docgenInfo={description:"",methods:[],displayName:"BlockSupportToolsPanel"},BlockSupportSlotContainer.__docgenInfo={description:"",methods:[],displayName:"BlockSupportSlotContainer"},InspectorControlsSlot.__docgenInfo={description:"",methods:[],displayName:"InspectorControlsSlot",props:{group:{defaultValue:{value:"'default'",computed:!1},required:!1}}};const InspectorControls=InspectorControlsFill;InspectorControls.Slot=InspectorControlsSlot;const InspectorAdvancedControls=props=>(0,react.createElement)(InspectorControlsFill,{...props,group:"advanced"});InspectorAdvancedControls.Slot=props=>(0,react.createElement)(InspectorControlsSlot,{...props,group:"advanced"}),InspectorAdvancedControls.slotName="InspectorAdvancedControls";var inspector_controls=InspectorControls;InspectorAdvancedControls.__docgenInfo={description:"",methods:[{name:"Slot",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null}],displayName:"InspectorAdvancedControls"};const ANCHOR_REGEX=/[\s#]/g,ANCHOR_SCHEMA={type:"string",source:"attribute",attribute:"id",selector:"*"};function BlockEditAnchorControl({blockName:blockName,attributes:attributes,setAttributes:setAttributes}){const blockEditingMode=useBlockEditingMode(),isWeb="web"===platform.Z.OS,textControl=(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,className:"html-anchor-control",label:(0,i18n_build_module.__)("HTML anchor"),help:(0,react.createElement)(react.Fragment,null,(0,i18n_build_module.__)("Enter a word or two — without spaces — to make a unique web address just for this block, called an “anchor.” Then, you’ll be able to link directly to this section of your page."),isWeb&&(0,react.createElement)(external_link.Z,{href:(0,i18n_build_module.__)("https://wordpress.org/documentation/article/page-jumps/")},(0,i18n_build_module.__)("Learn more about anchors"))),value:attributes.anchor||"",placeholder:isWeb?null:(0,i18n_build_module.__)("Add an anchor"),onChange:nextValue=>{nextValue=nextValue.replace(ANCHOR_REGEX,"-"),setAttributes({anchor:nextValue})},autoCapitalize:"none",autoComplete:"off"});return(0,react.createElement)(react.Fragment,null,isWeb&&"default"===blockEditingMode&&(0,react.createElement)(inspector_controls,{group:"advanced"},textControl),!isWeb&&"core/heading"===blockName&&(0,react.createElement)(inspector_controls,null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Heading settings")},textControl)))}const withAnchorControls=(0,create_higher_order_component.o)((BlockEdit=>props=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(BlockEdit,{...props}),props.isSelected&&(0,build_module.zb)(props.name,"anchor")&&(0,react.createElement)(BlockEditAnchorControl,{blockName:props.name,attributes:props.attributes,setAttributes:props.setAttributes}))),"withAnchorControls");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/anchor/attribute",(function anchor_addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.anchor)&&void 0!==_settings$attributes$?_settings$attributes$:{})||(0,build_module.zb)(settings,"anchor")&&(settings.attributes={...settings.attributes,anchor:ANCHOR_SCHEMA}),settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/anchor/with-inspector-controls",withAnchorControls),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/editor/anchor/save-props",(function addSaveProps(extraProps,blockType,attributes){return(0,build_module.zb)(blockType,"anchor")&&(extraProps.id=""===attributes.anchor?null:attributes.anchor),extraProps}));const ARIA_LABEL_SCHEMA={type:"string",source:"attribute",attribute:"aria-label",selector:"*"};function CustomClassNameControls({attributes:attributes,setAttributes:setAttributes}){return"default"!==useBlockEditingMode()?null:(0,react.createElement)(inspector_controls,{group:"advanced"},(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,autoComplete:"off",label:(0,i18n_build_module.__)("Additional CSS class(es)"),value:attributes.className||"",onChange:nextValue=>{setAttributes({className:""!==nextValue?nextValue:void 0})},help:(0,i18n_build_module.__)("Separate multiple classes with spaces.")}))}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/ariaLabel/attribute",(function aria_label_addAttribute(settings){return settings?.attributes?.ariaLabel?.type||(0,build_module.zb)(settings,"ariaLabel")&&(settings.attributes={...settings.attributes,ariaLabel:ARIA_LABEL_SCHEMA}),settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/ariaLabel/save-props",(function aria_label_addSaveProps(extraProps,blockType,attributes){return(0,build_module.zb)(blockType,"ariaLabel")&&(extraProps["aria-label"]=""===attributes.ariaLabel?null:attributes.ariaLabel),extraProps}));const withCustomClassNameControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const hasCustomClassName=(0,build_module.zb)(props.name,"customClassName",!0);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(BlockEdit,{...props}),hasCustomClassName&&props.isSelected&&(0,react.createElement)(CustomClassNameControls,{attributes:props.attributes,setAttributes:props.setAttributes}))}),"withCustomClassNameControls");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/editor/custom-class-name/attribute",(function custom_class_name_addAttribute(settings){return(0,build_module.zb)(settings,"customClassName",!0)&&(settings.attributes={...settings.attributes,className:{type:"string"}}),settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/custom-class-name/with-inspector-controls",withCustomClassNameControls),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/editor/custom-class-name/save-props",(function custom_class_name_addSaveProps(extraProps,blockType,attributes){return(0,build_module.zb)(blockType,"customClassName",!0)&&attributes.className&&(extraProps.className=classnames_default()(extraProps.className,attributes.className)),extraProps})),(0,hooks_build_module.KJ)("blocks.switchToBlockType.transformedBlock","core/color/addTransforms",(function addTransforms(result,source,index,results){if(!(0,build_module.zb)(result.name,"customClassName",!0))return result;if(1===results.length&&result.innerBlocks.length===source.length)return result;if(1===results.length&&source.length>1||results.length>1&&1===source.length)return result;if(source[index]){const originClassName=source[index]?.attributes.className;if(originClassName)return{...result,attributes:{...result.attributes,className:originClassName}}}return result})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/generated-class-name/save-props",(function addGeneratedClassName(extraProps,blockType){return(0,build_module.zb)(blockType,"className",!0)&&("string"==typeof extraProps.className?extraProps.className=[...new Set([(0,build_module.Vk)(blockType.name),...extraProps.className.split(" ")])].join(" ").trim():extraProps.className=(0,build_module.Vk)(blockType.name)),extraProps}));var use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),blob_build_module=__webpack_require__("./packages/blob/build-module/index.js"),dom_build_module=__webpack_require__("./packages/dom/build-module/index.js"),item_group_component=__webpack_require__("./packages/components/build-module/item-group/item-group/component.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),truncate_component=__webpack_require__("./packages/components/build-module/truncate/component.js"),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),tools_panel_item_component=__webpack_require__("./packages/components/build-module/tools-panel/tools-panel-item/component.js"),drop_zone=__webpack_require__("./packages/components/build-module/drop-zone/index.js"),notices_build_module=__webpack_require__("./packages/notices/build-module/index.js"),get_filename=__webpack_require__("./packages/url/build-module/get-filename.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),toolbar_button=__webpack_require__("./packages/components/build-module/toolbar/toolbar-button/index.js"),menu=__webpack_require__("./packages/components/build-module/navigable-container/menu.js"),form_file_upload=__webpack_require__("./packages/components/build-module/form-file-upload/index.js"),with_filters=__webpack_require__("./packages/components/build-module/higher-order/with-filters/index.js"),with_dispatch=__webpack_require__("./packages/data/build-module/components/with-dispatch/index.js"),keycodes_build_module=__webpack_require__("./packages/keycodes/build-module/index.js"),media=__webpack_require__("./packages/icons/build-module/library/media.js"),upload=__webpack_require__("./packages/icons/build-module/library/upload.js"),post_featured_image=__webpack_require__("./packages/icons/build-module/library/post-featured-image.js"),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),strip_html=__webpack_require__("./packages/dom/build-module/dom/strip-html.js");var media_upload=(0,with_filters.Z)("editor.MediaUpload")((()=>null));var check=function MediaUploadCheck({fallback:fallback=null,children:children}){const hasUploadPermissions=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return!!getSettings().mediaUpload}),[]);return hasUploadPermissions?children:fallback},spinner=__webpack_require__("./packages/components/build-module/spinner/index.js"),notice=__webpack_require__("./packages/components/build-module/notice/index.js"),objects=__webpack_require__("./packages/is-shallow-equal/build-module/objects.js"),build_module_store=__webpack_require__("./packages/preferences/build-module/store/index.js"),keyboard_return=__webpack_require__("./packages/icons/build-module/library/keyboard-return.js"),AnimatePresence=__webpack_require__("./packages/components/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),motion=__webpack_require__("./packages/components/node_modules/framer-motion/dist/es/render/dom/motion.mjs");var chevron_left_small=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})),chevron_right_small=__webpack_require__("./packages/icons/build-module/library/chevron-right-small.js"),use_reduced_motion=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js");function LinkSettingsDrawer({children:children,settingsOpen:settingsOpen,setSettingsOpen:setSettingsOpen}){const prefersReducedMotion=(0,use_reduced_motion.Z)(),MaybeAnimatePresence=prefersReducedMotion?react.Fragment:AnimatePresence.M,MaybeMotionDiv=prefersReducedMotion?"div":motion.E.div,settingsDrawerId=`link-control-settings-drawer-${(0,use_instance_id.Z)(LinkSettingsDrawer)}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{className:"block-editor-link-control__drawer-toggle","aria-expanded":settingsOpen,onClick:()=>setSettingsOpen(!settingsOpen),icon:(0,i18n_build_module.dZ)()?chevron_left_small:chevron_right_small.Z,"aria-controls":settingsDrawerId},(0,i18n_build_module._x)("Advanced","Additional link settings")),(0,react.createElement)(MaybeAnimatePresence,null,settingsOpen&&(0,react.createElement)(MaybeMotionDiv,{className:"block-editor-link-control__drawer",hidden:!settingsOpen,id:settingsDrawerId,initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.1}},(0,react.createElement)("div",{className:"block-editor-link-control__drawer-inner"},children))))}LinkSettingsDrawer.__docgenInfo={description:"",methods:[],displayName:"LinkSettingsDrawer"};var settings_drawer=LinkSettingsDrawer,lib=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),lib_default=__webpack_require__.n(lib),popover=__webpack_require__("./packages/components/build-module/popover/index.js"),with_spoken_messages=__webpack_require__("./packages/components/build-module/higher-order/with-spoken-messages/index.js"),debounce=__webpack_require__("./packages/compose/build-module/utils/debounce/index.js"),with_safe_timeout=__webpack_require__("./packages/compose/build-module/higher-order/with-safe-timeout/index.js"),with_instance_id=__webpack_require__("./packages/compose/build-module/higher-order/with-instance-id/index.js"),with_select=__webpack_require__("./packages/data/build-module/components/with-select/index.js"),is_url=__webpack_require__("./packages/url/build-module/is-url.js");function isFunction(maybeFunc){return"function"==typeof maybeFunc}class URLInput extends react.Component{constructor(props){super(props),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectLink=this.selectLink.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.bindSuggestionNode=this.bindSuggestionNode.bind(this),this.autocompleteRef=props.autocompleteRef||(0,react.createRef)(),this.inputRef=(0,react.createRef)(),this.updateSuggestions=(0,debounce.D)(this.updateSuggestions.bind(this),200),this.suggestionNodes=[],this.suggestionsRequest=null,this.state={suggestions:[],showSuggestions:!1,isUpdatingSuggestions:!1,suggestionsValue:null,selectedSuggestion:null,suggestionsListboxId:"",suggestionOptionIdPrefix:""}}componentDidUpdate(prevProps){const{showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion}=this.state,{value:value,__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1}=this.props;showSuggestions&&null!==selectedSuggestion&&this.suggestionNodes[selectedSuggestion]&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,lib_default()(this.suggestionNodes[selectedSuggestion],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),this.props.setTimeout((()=>{this.scrollingIntoView=!1}),100)),prevProps.value===value||this.props.disableSuggestions||this.state.isUpdatingSuggestions||(value?.length?this.updateSuggestions(value):__experimentalShowInitialSuggestions&&this.updateSuggestions())}componentDidMount(){this.shouldShowInitialSuggestions()&&this.updateSuggestions()}componentWillUnmount(){this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null}bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref}}shouldShowInitialSuggestions(){const{__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1,value:value}=this.props;return __experimentalShowInitialSuggestions&&!(value&&value.length)}updateSuggestions(value=""){const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions)return;const isInitialSuggestions=!value?.length;if(value=value.trim(),!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,is_url.P)(value)))return this.suggestionsRequest?.cancel?.(),this.suggestionsRequest=null,void this.setState({suggestions:[],showSuggestions:!1,suggestionsValue:value,selectedSuggestion:null,loading:!1});this.setState({isUpdatingSuggestions:!0,selectedSuggestion:null,loading:!0});const request=fetchLinkSuggestions(value,{isInitialSuggestions:isInitialSuggestions});request.then((suggestions=>{this.suggestionsRequest===request&&(this.setState({suggestions:suggestions,isUpdatingSuggestions:!1,suggestionsValue:value,loading:!1,showSuggestions:!!suggestions.length}),suggestions.length?this.props.debouncedSpeak((0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",suggestions.length),suggestions.length),"assertive"):this.props.debouncedSpeak((0,i18n_build_module.__)("No results."),"assertive"))})).catch((()=>{this.suggestionsRequest===request&&this.setState({isUpdatingSuggestions:!1,loading:!1})})),this.suggestionsRequest=request}onChange(event){this.props.onChange(event.target.value)}onFocus(){const{suggestions:suggestions}=this.state,{disableSuggestions:disableSuggestions,value:value}=this.props;!value||disableSuggestions||this.state.isUpdatingSuggestions||suggestions&&suggestions.length||this.updateSuggestions(value)}onKeyDown(event){this.props.onKeyDown?.(event);const{showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion,suggestions:suggestions,loading:loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case keycodes_build_module.UP:0!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(0,0));break;case keycodes_build_module.WV:this.props.value.length!==event.target.selectionStart&&(event.preventDefault(),event.target.setSelectionRange(this.props.value.length,this.props.value.length));break;case keycodes_build_module.K5:this.props.onSubmit&&(event.preventDefault(),this.props.onSubmit(null,event))}return}const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case keycodes_build_module.UP:{event.preventDefault();const previousIndex=selectedSuggestion?selectedSuggestion-1:suggestions.length-1;this.setState({selectedSuggestion:previousIndex});break}case keycodes_build_module.WV:{event.preventDefault();const nextIndex=null===selectedSuggestion||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break}case keycodes_build_module.Mf:null!==this.state.selectedSuggestion&&(this.selectLink(suggestion),this.props.speak((0,i18n_build_module.__)("Link selected.")));break;case keycodes_build_module.K5:event.preventDefault(),null!==this.state.selectedSuggestion?(this.selectLink(suggestion),this.props.onSubmit&&this.props.onSubmit(suggestion,event)):this.props.onSubmit&&this.props.onSubmit(null,event)}}selectLink(suggestion){this.props.onChange(suggestion.url,suggestion),this.setState({selectedSuggestion:null,showSuggestions:!1})}handleOnClick(suggestion){this.selectLink(suggestion),this.inputRef.current.focus()}static getDerivedStateFromProps({value:value,instanceId:instanceId,disableSuggestions:disableSuggestions,__experimentalShowInitialSuggestions:__experimentalShowInitialSuggestions=!1},{showSuggestions:showSuggestions}){let shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;return __experimentalShowInitialSuggestions||hasValue||(shouldShowSuggestions=!1),!0===disableSuggestions&&(shouldShowSuggestions=!1),{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`}}render(){return(0,react.createElement)(react.Fragment,null,this.renderControl(),this.renderSuggestions())}renderControl(){const{__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,label:label=null,className:className,isFullWidth:isFullWidth,instanceId:instanceId,placeholder:placeholder=(0,i18n_build_module.__)("Paste URL or type to search"),__experimentalRenderControl:renderControl,value:value="",hideLabelFromVision:hideLabelFromVision=!1}=this.props,{loading:loading,showSuggestions:showSuggestions,selectedSuggestion:selectedSuggestion,suggestionsListboxId:suggestionsListboxId,suggestionOptionIdPrefix:suggestionOptionIdPrefix}=this.state,inputId=`url-input-control-${instanceId}`,controlProps={id:inputId,label:label,className:classnames_default()("block-editor-url-input",className,{"is-full-width":isFullWidth}),hideLabelFromVision:hideLabelFromVision},inputProps={id:inputId,value:value,required:!0,className:"block-editor-url-input__input",type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:placeholder,onKeyDown:this.onKeyDown,role:"combobox","aria-label":label?void 0:(0,i18n_build_module.__)("URL"),"aria-expanded":showSuggestions,"aria-autocomplete":"list","aria-owns":suggestionsListboxId,"aria-activedescendant":null!==selectedSuggestion?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:void 0,ref:this.inputRef};return renderControl?renderControl(controlProps,inputProps,loading):(__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.blockEditor.URLInput",{since:"6.2",version:"6.5",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"}),(0,react.createElement)(base_control.ZP,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,...controlProps},(0,react.createElement)("input",{...inputProps}),loading&&(0,react.createElement)(spinner.ZP,null)))}renderSuggestions(){const{className:className,__experimentalRenderSuggestions:renderSuggestions}=this.props,{showSuggestions:showSuggestions,suggestions:suggestions,suggestionsValue:suggestionsValue,selectedSuggestion:selectedSuggestion,suggestionsListboxId:suggestionsListboxId,suggestionOptionIdPrefix:suggestionOptionIdPrefix,loading:loading}=this.state;if(!showSuggestions||0===suggestions.length)return null;const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:"listbox"},buildSuggestionItemProps=(suggestion,index)=>({role:"option",tabIndex:"-1",id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),"aria-selected":index===selectedSuggestion||void 0});return isFunction(renderSuggestions)?renderSuggestions({suggestions:suggestions,selectedSuggestion:selectedSuggestion,suggestionsListProps:suggestionsListProps,buildSuggestionItemProps:buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:!suggestionsValue?.length,currentInputValue:suggestionsValue}):(0,react.createElement)(popover.ZP,{placement:"bottom",focusOnMount:!1},(0,react.createElement)("div",{...suggestionsListProps,className:classnames_default()("block-editor-url-input__suggestions",`${className}__suggestions`)},suggestions.map(((suggestion,index)=>(0,react.createElement)(build_module_button.ZP,{...buildSuggestionItemProps(0,index),key:suggestion.id,className:classnames_default()("block-editor-url-input__suggestion",{"is-selected":index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)},suggestion.title)))))}}URLInput.displayName="URLInput",URLInput.__docgenInfo={description:"",methods:[{name:"bindSuggestionNode",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null},{name:"shouldShowInitialSuggestions",docblock:null,modifiers:[],params:[],returns:null},{name:"updateSuggestions",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"selectLink",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"handleOnClick",docblock:null,modifiers:[],params:[{name:"suggestion",type:null}],returns:null},{name:"renderControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSuggestions",docblock:null,modifiers:[],params:[],returns:null}],displayName:"URLInput"};var url_input=(0,compose.Z)(with_safe_timeout.Z,with_spoken_messages.Z,with_instance_id.Z,(0,with_select.Z)(((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions))return;const{getSettings:getSettings}=select(store);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions}})))(URLInput),create_interpolate_element=__webpack_require__("./packages/element/build-module/create-interpolate-element.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js");const LinkControlSearchCreate=({searchTerm:searchTerm,onClick:onClick,itemProps:itemProps,buttonText:buttonText})=>{if(!searchTerm)return null;let text;return text=buttonText?"function"==typeof buttonText?buttonText(searchTerm):buttonText:(0,create_interpolate_element.Z)((0,i18n_build_module.gB)((0,i18n_build_module.__)("Create: <mark>%s</mark>"),searchTerm),{mark:(0,react.createElement)("mark",null)}),(0,react.createElement)(menu_item.Z,{...itemProps,iconPosition:"left",icon:plus.Z,className:"block-editor-link-control__search-item",onClick:onClick},text)};LinkControlSearchCreate.__docgenInfo={description:"",methods:[],displayName:"LinkControlSearchCreate"};var search_create_button=LinkControlSearchCreate,strings=__webpack_require__("./packages/components/build-module/utils/strings.js");const TextHighlight=props=>{const{text:text="",highlight:highlight=""}=props,trimmedHighlightText=highlight.trim();if(!trimmedHighlightText)return(0,react.createElement)(react.Fragment,null,text);const regex=new RegExp(`(${(0,strings.h)(trimmedHighlightText)})`,"gi");return(0,create_interpolate_element.Z)(text.replace(regex,"<mark>$&</mark>"),{mark:(0,react.createElement)("mark",null)})};TextHighlight.__docgenInfo={description:'Highlights occurrences of a given string within another string of text. Wraps\neach match with a `<mark>` tag which provides browser default styling.\n\n```jsx\nimport { TextHighlight } from \'@wordpress/components\';\n\nconst MyTextHighlight = () => (\n  <TextHighlight\n    text="Why do we like Gutenberg? Because Gutenberg is the best!"\n    highlight="Gutenberg"\n  />\n);\n```',methods:[],displayName:"TextHighlight"};var text_highlight=TextHighlight,post_list=__webpack_require__("./packages/icons/build-module/library/post-list.js"),page=__webpack_require__("./packages/icons/build-module/library/page.js"),tag=__webpack_require__("./packages/icons/build-module/library/tag.js"),category=__webpack_require__("./packages/icons/build-module/library/category.js"),file=__webpack_require__("./packages/icons/build-module/library/file.js");var library_globe=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"})),home=__webpack_require__("./packages/icons/build-module/library/home.js"),verse=__webpack_require__("./packages/icons/build-module/library/verse.js"),safe_decode_uri=__webpack_require__("./packages/url/build-module/safe-decode-uri.js"),get_path=__webpack_require__("./packages/url/build-module/get-path.js"),filter_url_for_display=__webpack_require__("./packages/url/build-module/filter-url-for-display.js");const ICONS_MAP={post:post_list.Z,page:page.Z,post_tag:tag.Z,category:category.Z,attachment:file.Z};function SearchItemIcon({isURL:isURL,suggestion:suggestion}){let icon=null;return isURL?icon=library_globe:suggestion.type in ICONS_MAP&&(icon=ICONS_MAP[suggestion.type],"page"===suggestion.type&&(suggestion.isFrontPage&&(icon=home.Z),suggestion.isBlogHome&&(icon=verse.Z))),icon?(0,react.createElement)(build_module_icon.Z,{className:"block-editor-link-control__search-item-icon",icon:icon}):null}function addLeadingSlash(url){const trimmedURL=url?.trim();return trimmedURL?.length?url?.replace(/^\/?/,"/"):url}function removeTrailingSlash(url){const trimmedURL=url?.trim();return trimmedURL?.length?url?.replace(/\/$/,""):url}const LinkControlSearchItem=({itemProps:itemProps,suggestion:suggestion,searchTerm:searchTerm,onClick:onClick,isURL:isURL=!1,shouldShowType:shouldShowType=!1})=>{const info=isURL?(0,i18n_build_module.__)("Press ENTER to add this link"):function getURLForDisplay(url){return url?(0,pipe.Z)(safe_decode_uri.x,get_path.D,(d="",v=>null==v||v!=v?d:v),((fn,...partialArgs)=>(...args)=>fn(...args,...partialArgs))(filter_url_for_display.w,24),removeTrailingSlash,addLeadingSlash)(url):url;var d}(suggestion.url);return(0,react.createElement)(menu_item.Z,{...itemProps,info:info,iconPosition:"left",icon:(0,react.createElement)(SearchItemIcon,{suggestion:suggestion,isURL:isURL}),onClick:onClick,shortcut:shouldShowType&&getVisualTypeName(suggestion),className:"block-editor-link-control__search-item"},(0,react.createElement)(text_highlight,{text:(0,strip_html.Z)(suggestion.title),highlight:searchTerm}))};function getVisualTypeName(suggestion){return suggestion.isFrontPage?"front page":suggestion.isBlogHome?"blog home":"post_tag"===suggestion.type?"tag":suggestion.type}LinkControlSearchItem.__docgenInfo={description:"",methods:[],displayName:"LinkControlSearchItem",props:{isURL:{defaultValue:{value:"false",computed:!1},required:!1},shouldShowType:{defaultValue:{value:"false",computed:!1},required:!1}}};var search_item=LinkControlSearchItem;const LINK_ENTRY_TYPES=["link","mailto","tel","internal"],DEFAULT_LINK_SETTINGS=[{id:"opensInNewTab",title:(0,i18n_build_module.__)("Open in new tab")}];function LinkControlSearchResults({instanceId:instanceId,withCreateSuggestion:withCreateSuggestion,currentInputValue:currentInputValue,handleSuggestionClick:handleSuggestionClick,suggestionsListProps:suggestionsListProps,buildSuggestionItemProps:buildSuggestionItemProps,suggestions:suggestions,selectedSuggestion:selectedSuggestion,isLoading:isLoading,isInitialSuggestions:isInitialSuggestions,createSuggestionButtonText:createSuggestionButtonText,suggestionsQuery:suggestionsQuery}){const resultsListClasses=classnames_default()("block-editor-link-control__search-results",{"is-loading":isLoading}),isSingleDirectEntryResult=1===suggestions.length&&LINK_ENTRY_TYPES.includes(suggestions[0].type),shouldShowCreateSuggestion=withCreateSuggestion&&!isSingleDirectEntryResult&&!isInitialSuggestions,shouldShowSuggestionsTypes=!suggestionsQuery?.type,searchResultsLabelId=`block-editor-link-control-search-results-label-${instanceId}`,labelText=isInitialSuggestions?(0,i18n_build_module.__)("Suggestions"):(0,i18n_build_module.gB)((0,i18n_build_module.__)('Search results for "%s"'),currentInputValue),searchResultsLabel=(0,react.createElement)(visually_hidden_component.Z,{id:searchResultsLabelId},labelText);return(0,react.createElement)("div",{className:"block-editor-link-control__search-results-wrapper"},searchResultsLabel,(0,react.createElement)("div",{...suggestionsListProps,className:resultsListClasses,"aria-labelledby":searchResultsLabelId},(0,react.createElement)(menu_group.Z,null,suggestions.map(((suggestion,index)=>shouldShowCreateSuggestion&&"__CREATE__"===suggestion.type?(0,react.createElement)(search_create_button,{searchTerm:currentInputValue,buttonText:createSuggestionButtonText,onClick:()=>handleSuggestionClick(suggestion),key:suggestion.type,itemProps:buildSuggestionItemProps(suggestion,index),isSelected:index===selectedSuggestion}):"__CREATE__"===suggestion.type?null:(0,react.createElement)(search_item,{key:`${suggestion.id}-${suggestion.type}`,itemProps:buildSuggestionItemProps(suggestion,index),suggestion:suggestion,index:index,onClick:()=>{handleSuggestionClick(suggestion)},isSelected:index===selectedSuggestion,isURL:LINK_ENTRY_TYPES.includes(suggestion.type),searchTerm:currentInputValue,shouldShowType:shouldShowSuggestionsTypes,isFrontPage:suggestion?.isFrontPage,isBlogHome:suggestion?.isBlogHome}))))))}LinkControlSearchResults.__docgenInfo={description:"",methods:[],displayName:"LinkControlSearchResults"};var get_protocol=__webpack_require__("./packages/url/build-module/get-protocol.js"),prepend_http=__webpack_require__("./packages/url/build-module/prepend-http.js"),is_valid_protocol=__webpack_require__("./packages/url/build-module/is-valid-protocol.js"),is_valid_fragment=__webpack_require__("./packages/url/build-module/is-valid-fragment.js");function isURLLike(val){if(val.includes(" "))return!1;const protocol=(0,get_protocol.E)(val),protocolIsValid=(0,is_valid_protocol.M)(protocol),mayBeTLD=function hasPossibleTLD(url,maxLength=6){const cleanedURL=url.split(/[?#]/)[0];return new RegExp(`(?<=\\S)\\.(?:[a-zA-Z_]{2,${maxLength}})(?:\\/|$)`).test(cleanedURL)}(val),isWWW=val?.startsWith("www."),isInternal=val?.startsWith("#")&&(0,is_valid_fragment.Z)(val);return protocolIsValid||isWWW||isInternal||mayBeTLD}const handleNoop=()=>Promise.resolve([]),handleDirectEntry=val=>{let type="link";const protocol=(0,get_protocol.E)(val)||"";return protocol.includes("mailto")&&(type="mailto"),protocol.includes("tel")&&(type="tel"),val?.startsWith("#")&&(type="internal"),Promise.resolve([{id:val,title:val,url:"URL"===type?(0,prepend_http.u)(val):val,type:type}])};function useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion){const{fetchSearchSuggestions:fetchSearchSuggestions,pageOnFront:pageOnFront,pageForPosts:pageForPosts}=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return{pageOnFront:getSettings().pageOnFront,pageForPosts:getSettings().pageForPosts,fetchSearchSuggestions:getSettings().__experimentalFetchLinkSuggestions}}),[]),directEntryHandler=allowDirectEntry?handleDirectEntry:handleNoop;return(0,react.useCallback)(((val,{isInitialSuggestions:isInitialSuggestions})=>isURLLike(val)?directEntryHandler(val,{isInitialSuggestions:isInitialSuggestions}):(async(val,suggestionsQuery,fetchSearchSuggestions,withCreateSuggestion,pageOnFront,pageForPosts)=>{const{isInitialSuggestions:isInitialSuggestions}=suggestionsQuery,results=await fetchSearchSuggestions(val,suggestionsQuery);return results.map((result=>Number(result.id)===pageOnFront?(result.isFrontPage=!0,result):Number(result.id)===pageForPosts?(result.isBlogHome=!0,result):result)),isInitialSuggestions||isURLLike(val)||!withCreateSuggestion?results:results.concat({title:val,url:val,type:"__CREATE__"})})(val,{...suggestionsQuery,isInitialSuggestions:isInitialSuggestions},fetchSearchSuggestions,withCreateSuggestion,pageOnFront,pageForPosts)),[directEntryHandler,fetchSearchSuggestions,pageOnFront,pageForPosts,suggestionsQuery,withCreateSuggestion])}const noopSearchHandler=()=>Promise.resolve([]),noop=()=>{},LinkControlSearchInput=(0,react.forwardRef)((({value:value,children:children,currentLink:currentLink={},className:className=null,placeholder:placeholder=null,withCreateSuggestion:withCreateSuggestion=!1,onCreateSuggestion:onCreateSuggestion=noop,onChange:onChange=noop,onSelect:onSelect=noop,showSuggestions:showSuggestions=!0,renderSuggestions:renderSuggestions=(props=>(0,react.createElement)(LinkControlSearchResults,{...props})),fetchSuggestions:fetchSuggestions=null,allowDirectEntry:allowDirectEntry=!0,showInitialSuggestions:showInitialSuggestions=!1,suggestionsQuery:suggestionsQuery={},withURLSuggestion:withURLSuggestion=!0,createSuggestionButtonText:createSuggestionButtonText,hideLabelFromVision:hideLabelFromVision=!1},ref)=>{const genericSearchHandler=useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion),searchHandler=showSuggestions?fetchSuggestions||genericSearchHandler:noopSearchHandler,instanceId=(0,use_instance_id.Z)(LinkControlSearchInput),[focusedSuggestion,setFocusedSuggestion]=(0,react.useState)(),onSuggestionSelected=async selectedSuggestion=>{let suggestion=selectedSuggestion;if("__CREATE__"!==selectedSuggestion.type){if(allowDirectEntry||suggestion&&Object.keys(suggestion).length>=1){const{id:id,url:url,...restLinkProps}=null!=currentLink?currentLink:{};onSelect({...restLinkProps,...suggestion},suggestion)}}else try{suggestion=await onCreateSuggestion(selectedSuggestion.title),suggestion?.url&&onSelect(suggestion)}catch(e){}},inputClasses=classnames_default()(className,{});return(0,react.createElement)("div",{className:"block-editor-link-control__search-input-container"},(0,react.createElement)(url_input,{disableSuggestions:currentLink?.url===value,__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Link"),hideLabelFromVision:hideLabelFromVision,className:inputClasses,value:value,onChange:(selection,suggestion)=>{onChange(selection),setFocusedSuggestion(suggestion)},placeholder:null!=placeholder?placeholder:(0,i18n_build_module.__)("Search or type url"),__experimentalRenderSuggestions:showSuggestions?props=>renderSuggestions({...props,instanceId:instanceId,withCreateSuggestion:withCreateSuggestion,createSuggestionButtonText:createSuggestionButtonText,suggestionsQuery:suggestionsQuery,handleSuggestionClick:suggestion=>{props.handleSuggestionClick&&props.handleSuggestionClick(suggestion),onSuggestionSelected(suggestion)}}):null,__experimentalFetchLinkSuggestions:searchHandler,__experimentalHandleURLSuggestions:!0,__experimentalShowInitialSuggestions:showInitialSuggestions,onSubmit:(suggestion,event)=>{const hasSuggestion=suggestion||focusedSuggestion;hasSuggestion||value?.trim()?.length?onSuggestionSelected(hasSuggestion||{url:value}):event.preventDefault()},ref:ref}),children)}));var search_input=LinkControlSearchInput,tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js");var library_info=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),edit=__webpack_require__("./packages/icons/build-module/library/edit.js"),link_off=__webpack_require__("./packages/icons/build-module/library/link-off.js");const{Slot:ViewerSlot,Fill:ViewerFill}=(0,slot_fill.up)("BlockEditorLinkControlViewer");function use_rich_url_data_reducer(state,action){switch(action.type){case"RESOLVED":return{...state,isFetching:!1,richData:action.richData};case"ERROR":return{...state,isFetching:!1,richData:null};case"LOADING":return{...state,isFetching:!0};default:throw new Error(`Unexpected action type ${action.type}`)}}var use_rich_url_data=function useRemoteUrlData(url){const[state,dispatch]=(0,react.useReducer)(use_rich_url_data_reducer,{richData:null,isFetching:!1}),{fetchRichUrlData:fetchRichUrlData}=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return{fetchRichUrlData:getSettings().__experimentalFetchRichUrlData}}),[]);return(0,react.useEffect)((()=>{if(url?.length&&fetchRichUrlData&&"undefined"!=typeof AbortController){dispatch({type:"LOADING"});const controller=new window.AbortController,signal=controller.signal;return fetchRichUrlData(url,{signal:signal}).then((urlData=>{dispatch({type:"RESOLVED",richData:urlData})})).catch((()=>{signal.aborted||dispatch({type:"ERROR"})})),()=>{controller.abort()}}}),[url]),state};function LinkPreview({value:value,onEditClick:onEditClick,hasRichPreviews:hasRichPreviews=!1,hasUnlinkControl:hasUnlinkControl=!1,onRemove:onRemove,additionalControls:additionalControls}){const showRichPreviews=hasRichPreviews?value?.url:null,{richData:richData,isFetching:isFetching}=use_rich_url_data(showRichPreviews),hasRichData=richData&&Object.keys(richData).length,displayURL=value&&(0,filter_url_for_display.w)((0,safe_decode_uri.x)(value.url),16)||"",isEmptyURL=!value?.url?.length,displayTitle=!isEmptyURL&&(0,strip_html.Z)(richData?.title||value?.title||displayURL);let icon;return icon=richData?.icon?(0,react.createElement)("img",{src:richData?.icon,alt:""}):isEmptyURL?(0,react.createElement)(build_module_icon.Z,{icon:library_info,size:32}):(0,react.createElement)(build_module_icon.Z,{icon:library_globe}),(0,react.createElement)("div",{"aria-label":(0,i18n_build_module.__)("Currently selected"),className:classnames_default()("block-editor-link-control__search-item",{"is-current":!0,"is-rich":hasRichData,"is-fetching":!!isFetching,"is-preview":!0,"is-error":isEmptyURL,"is-url-title":displayTitle===displayURL})},(0,react.createElement)("div",{className:"block-editor-link-control__search-item-top"},(0,react.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,react.createElement)("span",{className:classnames_default()("block-editor-link-control__search-item-icon",{"is-image":richData?.icon})},icon),(0,react.createElement)("span",{className:"block-editor-link-control__search-item-details"},isEmptyURL?(0,react.createElement)("span",{className:"block-editor-link-control__search-item-error-notice"},(0,i18n_build_module.__)("Link is empty")):(0,react.createElement)(react.Fragment,null,(0,react.createElement)(tooltip.Z,{text:value.url,placement:"bottom-start"},(0,react.createElement)(external_link.Z,{className:"block-editor-link-control__search-item-title",href:value.url},displayTitle)),value?.url&&displayTitle!==displayURL&&(0,react.createElement)("span",{className:"block-editor-link-control__search-item-info"},displayURL)))),(0,react.createElement)(build_module_button.ZP,{icon:edit.Z,label:(0,i18n_build_module.__)("Edit"),className:"block-editor-link-control__search-item-action",onClick:onEditClick,iconSize:24}),hasUnlinkControl&&(0,react.createElement)(build_module_button.ZP,{icon:link_off.Z,label:(0,i18n_build_module.__)("Unlink"),className:"block-editor-link-control__search-item-action block-editor-link-control__unlink",onClick:onRemove,iconSize:24}),(0,react.createElement)(ViewerSlot,{fillProps:value})),!!(hasRichData&&(richData?.image||richData?.description)||isFetching)&&(0,react.createElement)("div",{className:"block-editor-link-control__search-item-bottom"},(richData?.image||isFetching)&&(0,react.createElement)("div",{"aria-hidden":!richData?.image,className:classnames_default()("block-editor-link-control__search-item-image",{"is-placeholder":!richData?.image})},richData?.image&&(0,react.createElement)("img",{src:richData?.image,alt:""})),(richData?.description||isFetching)&&(0,react.createElement)("div",{"aria-hidden":!richData?.description,className:classnames_default()("block-editor-link-control__search-item-description",{"is-placeholder":!richData?.description})},richData?.description&&(0,react.createElement)(text_component.Z,{truncate:!0,numberOfLines:"2"},richData.description))),additionalControls&&additionalControls())}LinkPreview.__docgenInfo={description:"",methods:[],displayName:"LinkPreview",props:{hasRichPreviews:{defaultValue:{value:"false",computed:!1},required:!1},hasUnlinkControl:{defaultValue:{value:"false",computed:!1},required:!1}}};var checkbox_control=__webpack_require__("./packages/components/build-module/checkbox-control/index.js");const settings_noop=()=>{},LinkControlSettings=({value:value,onChange:onChange=settings_noop,settings:settings})=>{if(!settings||!settings.length)return null;const handleSettingChange=setting=>newValue=>{onChange({...value,[setting.id]:newValue})},theSettings=settings.map((setting=>(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,className:"block-editor-link-control__setting",key:setting.id,label:setting.title,onChange:handleSettingChange(setting),checked:!!value&&!!value[setting.id],help:setting?.help})));return(0,react.createElement)("fieldset",{className:"block-editor-link-control__settings"},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Currently selected link settings")),theSettings)};LinkControlSettings.__docgenInfo={description:"",methods:[],displayName:"LinkControlSettings",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var link_control_settings=LinkControlSettings;const makeCancelable=promise=>{let hasCanceled_=!1;return{promise:new Promise(((resolve,reject)=>{promise.then((val=>hasCanceled_?reject({isCanceled:!0}):resolve(val)),(error=>reject(hasCanceled_?{isCanceled:!0}:error)))})),cancel(){hasCanceled_=!0}}};var fast_deep_equal=__webpack_require__("./node_modules/fast-deep-equal/index.js"),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);const link_control_noop=()=>{};function LinkControl({searchInputPlaceholder:searchInputPlaceholder,value:value,settings:settings=DEFAULT_LINK_SETTINGS,onChange:onChange=link_control_noop,onRemove:onRemove,onCancel:onCancel,noDirectEntry:noDirectEntry=!1,showSuggestions:showSuggestions=!0,showInitialSuggestions:showInitialSuggestions,forceIsEditingLink:forceIsEditingLink,createSuggestion:createSuggestion,withCreateSuggestion:withCreateSuggestion,inputValue:propInputValue="",suggestionsQuery:suggestionsQuery={},noURLSuggestion:noURLSuggestion=!1,createSuggestionButtonText:createSuggestionButtonText,hasRichPreviews:hasRichPreviews=!1,hasTextControl:hasTextControl=!1,renderControlBottom:renderControlBottom=null}){void 0===withCreateSuggestion&&createSuggestion&&(withCreateSuggestion=!0);const[settingsOpen,setSettingsOpen]=(0,react.useState)(!1),{advancedSettingsPreference:advancedSettingsPreference}=(0,use_select.Z)((select=>{var _prefsStore$get;return{advancedSettingsPreference:null!==(_prefsStore$get=select(build_module_store.h).get("core/block-editor","linkControlSettingsDrawer"))&&void 0!==_prefsStore$get&&_prefsStore$get}}),[]),{set:setPreference}=(0,use_dispatch.Z)(build_module_store.h),isSettingsOpen=advancedSettingsPreference||settingsOpen,isMounting=(0,react.useRef)(!0),wrapperNode=(0,react.useRef)(),textInputRef=(0,react.useRef)(),isEndingEditWithFocus=(0,react.useRef)(!1),settingsKeys=settings.map((({id:id})=>id)),[internalControlValue,setInternalControlValue,setInternalURLInputValue,setInternalTextInputValue,createSetInternalSettingValueHandler]=function useInternalValue(value){const[internalValue,setInternalValue]=(0,react.useState)(value||{}),[previousValue,setPreviousValue]=(0,react.useState)(value);return fast_deep_equal_default()(value,previousValue)||(setPreviousValue(value),setInternalValue(value)),[internalValue,setInternalValue,nextValue=>{setInternalValue({...internalValue,url:nextValue})},nextValue=>{setInternalValue({...internalValue,title:nextValue})},settingsKeys=>nextValue=>{const settingsUpdates=Object.keys(nextValue).reduce(((acc,key)=>(settingsKeys.includes(key)&&(acc[key]=nextValue[key]),acc)),{});setInternalValue({...internalValue,...settingsUpdates})}]}(value),valueHasChanges=value&&!(0,objects.Z)(internalControlValue,value),[isEditingLink,setIsEditingLink]=(0,react.useState)(void 0!==forceIsEditingLink?forceIsEditingLink:!value||!value.url),{createPage:createPage,isCreatingPage:isCreatingPage,errorMessage:errorMessage}=function useCreatePage(handleCreatePage){const cancelableCreateSuggestion=(0,react.useRef)(),[isCreatingPage,setIsCreatingPage]=(0,react.useState)(!1),[errorMessage,setErrorMessage]=(0,react.useState)(null);return(0,react.useEffect)((()=>()=>{cancelableCreateSuggestion.current&&cancelableCreateSuggestion.current.cancel()}),[]),{createPage:async function(suggestionTitle){setIsCreatingPage(!0),setErrorMessage(null);try{return cancelableCreateSuggestion.current=makeCancelable(Promise.resolve(handleCreatePage(suggestionTitle))),await cancelableCreateSuggestion.current.promise}catch(error){if(error&&error.isCanceled)return;throw setErrorMessage(error.message||(0,i18n_build_module.__)("An unknown error occurred during creation. Please try again.")),error}finally{setIsCreatingPage(!1)}},isCreatingPage:isCreatingPage,errorMessage:errorMessage}}(createSuggestion);(0,react.useEffect)((()=>{void 0!==forceIsEditingLink&&setIsEditingLink(forceIsEditingLink)}),[forceIsEditingLink]),(0,react.useEffect)((()=>{if(isMounting.current)return void(isMounting.current=!1);(dom_build_module.T_.focusable.find(wrapperNode.current)[0]||wrapperNode.current).focus(),isEndingEditWithFocus.current=!1}),[isEditingLink,isCreatingPage]);const hasLinkValue=value?.url?.trim()?.length>0,stopEditing=()=>{isEndingEditWithFocus.current=!!wrapperNode.current?.contains(wrapperNode.current.ownerDocument.activeElement),setIsEditingLink(!1)},handleSubmit=()=>{valueHasChanges&&onChange({...value,...internalControlValue,url:currentUrlInputValue}),stopEditing()},currentUrlInputValue=propInputValue||internalControlValue?.url||"",currentInputIsEmpty=!currentUrlInputValue?.trim()?.length,shownUnlinkControl=onRemove&&value&&!isEditingLink&&!isCreatingPage,showActions=isEditingLink&&hasLinkValue,showTextControl=hasLinkValue&&hasTextControl,isEditing=(isEditingLink||!value)&&!isCreatingPage,isDisabled=!valueHasChanges||currentInputIsEmpty,showSettings=!!settings?.length&&isEditingLink&&hasLinkValue;return(0,react.createElement)("div",{tabIndex:-1,ref:wrapperNode,className:"block-editor-link-control"},isCreatingPage&&(0,react.createElement)("div",{className:"block-editor-link-control__loading"},(0,react.createElement)(spinner.ZP,null)," ",(0,i18n_build_module.__)("Creating"),"…"),isEditing&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:classnames_default()({"block-editor-link-control__search-input-wrapper":!0,"has-text-control":showTextControl,"has-actions":showActions})},showTextControl&&(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,ref:textInputRef,className:"block-editor-link-control__field block-editor-link-control__text-content",label:(0,i18n_build_module.__)("Text"),value:internalControlValue?.title,onChange:setInternalTextInputValue,onKeyDown:event=>{const{keyCode:keyCode}=event;keyCode!==keycodes_build_module.K5||currentInputIsEmpty||(event.preventDefault(),handleSubmit())},size:"__unstable-large"}),(0,react.createElement)(search_input,{currentLink:value,className:"block-editor-link-control__field block-editor-link-control__search-input",placeholder:searchInputPlaceholder,value:currentUrlInputValue,withCreateSuggestion:withCreateSuggestion,onCreateSuggestion:createPage,onChange:setInternalURLInputValue,onSelect:updatedValue=>{const nonSettingsChanges=Object.keys(updatedValue).reduce(((acc,key)=>(settingsKeys.includes(key)||(acc[key]=updatedValue[key]),acc)),{});onChange({...internalControlValue,...nonSettingsChanges,title:internalControlValue?.title||updatedValue?.title}),stopEditing()},showInitialSuggestions:showInitialSuggestions,allowDirectEntry:!noDirectEntry,showSuggestions:showSuggestions,suggestionsQuery:suggestionsQuery,withURLSuggestion:!noURLSuggestion,createSuggestionButtonText:createSuggestionButtonText,hideLabelFromVision:!showTextControl}),!showActions&&(0,react.createElement)("div",{className:"block-editor-link-control__search-enter"},(0,react.createElement)(build_module_button.ZP,{onClick:isDisabled?link_control_noop:handleSubmit,label:(0,i18n_build_module.__)("Submit"),icon:keyboard_return.Z,className:"block-editor-link-control__search-submit","aria-disabled":isDisabled}))),errorMessage&&(0,react.createElement)(notice.Z,{className:"block-editor-link-control__search-error",status:"error",isDismissible:!1},errorMessage)),value&&!isEditingLink&&!isCreatingPage&&(0,react.createElement)(LinkPreview,{key:value?.url,value:value,onEditClick:()=>setIsEditingLink(!0),hasRichPreviews:hasRichPreviews,hasUnlinkControl:shownUnlinkControl,additionalControls:()=>{if(settings?.find((setting=>"opensInNewTab"===setting.id)))return(0,react.createElement)(link_control_settings,{value:internalControlValue,settings:settings?.filter((({id:id})=>"opensInNewTab"===id)),onChange:onChange})},onRemove:()=>{onRemove(),setIsEditingLink(!0)}}),showSettings&&(0,react.createElement)("div",{className:"block-editor-link-control__tools"},!currentInputIsEmpty&&(0,react.createElement)(settings_drawer,{settingsOpen:isSettingsOpen,setSettingsOpen:prefVal=>{setPreference&&setPreference("core/block-editor","linkControlSettingsDrawer",prefVal),setSettingsOpen(prefVal)}},(0,react.createElement)(link_control_settings,{value:internalControlValue,settings:settings,onChange:createSetInternalSettingValueHandler(settingsKeys)}))),showActions&&(0,react.createElement)(h_stack_component.Z,{justify:"right",className:"block-editor-link-control__search-actions"},(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:event=>{event.preventDefault(),event.stopPropagation(),setInternalControlValue(value),hasLinkValue?stopEditing():onRemove?.(),onCancel?.()}},(0,i18n_build_module.__)("Cancel")),(0,react.createElement)(build_module_button.ZP,{variant:"primary",onClick:isDisabled?link_control_noop:handleSubmit,className:"block-editor-link-control__search-submit","aria-disabled":isDisabled},(0,i18n_build_module.__)("Save"))),renderControlBottom&&renderControlBottom())}LinkControl.ViewerFill=ViewerFill,LinkControl.DEFAULT_LINK_SETTINGS=DEFAULT_LINK_SETTINGS,LinkControl.__docgenInfo={description:"Renders a link control. A link control is a controlled input which maintains\na value associated with a link (HTML anchor element) and relevant settings\nfor how that link is expected to behave.\n\n@param {WPLinkControlProps} props Component props.",methods:[],displayName:"LinkControl",props:{settings:{defaultValue:{value:"DEFAULT_LINK_SETTINGS",computed:!0},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},noDirectEntry:{defaultValue:{value:"false",computed:!1},required:!1},showSuggestions:{defaultValue:{value:"true",computed:!1},required:!1},inputValue:{defaultValue:{value:"''",computed:!1},required:!1},suggestionsQuery:{defaultValue:{value:"{}",computed:!1},required:!1},noURLSuggestion:{defaultValue:{value:"false",computed:!1},required:!1},hasRichPreviews:{defaultValue:{value:"false",computed:!1},required:!1},hasTextControl:{defaultValue:{value:"false",computed:!1},required:!1},renderControlBottom:{defaultValue:{value:"null",computed:!1},required:!1}}};var link_control=LinkControl;const media_replace_flow_noop=()=>{};let uniqueId=0;const MediaReplaceFlow=({mediaURL:mediaURL,mediaId:mediaId,mediaIds:mediaIds,allowedTypes:allowedTypes,accept:accept,onError:onError,onSelect:onSelect,onSelectURL:onSelectURL,onToggleFeaturedImage:onToggleFeaturedImage,useFeaturedImage:useFeaturedImage,onFilesUpload:onFilesUpload=media_replace_flow_noop,name:name=(0,i18n_build_module.__)("Replace"),createNotice:createNotice,removeNotice:removeNotice,children:children,multiple:multiple=!1,addToGallery:addToGallery,handleUpload:handleUpload=!0,popoverProps:popoverProps})=>{const mediaUpload=(0,use_select.Z)((select=>select(store).getSettings().mediaUpload),[]),canUpload=!!mediaUpload,editMediaButtonRef=(0,react.useRef)(),errorNoticeID="block-editor/media-replace-flow/error-notice/"+ ++uniqueId,onUploadError=message=>{const safeMessage=(0,strip_html.Z)(message);onError?onError(safeMessage):setTimeout((()=>{createNotice("error",safeMessage,{speak:!0,id:errorNoticeID,isDismissible:!0})}),1e3)},selectMedia=(media,closeMenu)=>{useFeaturedImage&&onToggleFeaturedImage&&onToggleFeaturedImage(),closeMenu(),onSelect(media),(0,a11y_build_module.D)((0,i18n_build_module.__)("The media file has been replaced")),removeNotice(errorNoticeID)},openOnArrowDown=event=>{event.keyCode===keycodes_build_module.WV&&(event.preventDefault(),event.target.click())},gallery=multiple&&!(!allowedTypes||0===allowedTypes.length)&&allowedTypes.every((allowedType=>"image"===allowedType||allowedType.startsWith("image/")));return(0,react.createElement)(dropdown.Z,{popoverProps:popoverProps,contentClassName:"block-editor-media-replace-flow__options",renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react.createElement)(toolbar_button.Z,{ref:editMediaButtonRef,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,onKeyDown:openOnArrowDown},name),renderContent:({onClose:onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu.ZP,{className:"block-editor-media-replace-flow__media-upload-menu"},(0,react.createElement)(check,null,(0,react.createElement)(media_upload,{gallery:gallery,addToGallery:addToGallery,multiple:multiple,value:multiple?mediaIds:mediaId,onSelect:media=>selectMedia(media,onClose),allowedTypes:allowedTypes,render:({open:open})=>(0,react.createElement)(menu_item.Z,{icon:media.Z,onClick:open},(0,i18n_build_module.__)("Open Media Library"))}),(0,react.createElement)(form_file_upload.Z,{onChange:event=>{((event,closeMenu)=>{const files=event.target.files;if(!handleUpload)return closeMenu(),onSelect(files);onFilesUpload(files),mediaUpload({allowedTypes:allowedTypes,filesList:files,onFileChange:([media])=>{selectMedia(media,closeMenu)},onError:onUploadError})})(event,onClose)},accept:accept,multiple:!!multiple,render:({openFileDialog:openFileDialog})=>(0,react.createElement)(menu_item.Z,{icon:upload.Z,onClick:()=>{openFileDialog()}},(0,i18n_build_module.__)("Upload"))})),onToggleFeaturedImage&&(0,react.createElement)(menu_item.Z,{icon:post_featured_image.Z,onClick:onToggleFeaturedImage,isPressed:useFeaturedImage},(0,i18n_build_module.__)("Use featured image")),children),onSelectURL&&(0,react.createElement)("form",{className:classnames_default()("block-editor-media-flow__url-input",{"has-siblings":canUpload||onToggleFeaturedImage})},(0,react.createElement)("span",{className:"block-editor-media-replace-flow__image-url-label"},(0,i18n_build_module.__)("Current media URL:")),(0,react.createElement)(link_control,{value:{url:mediaURL},settings:[],showSuggestions:!1,onChange:({url:url})=>{onSelectURL(url),editMediaButtonRef.current.focus()}})))})};MediaReplaceFlow.__docgenInfo={description:"",methods:[],displayName:"MediaReplaceFlow",props:{onFilesUpload:{defaultValue:{value:"() => {}",computed:!1},required:!1},name:{defaultValue:{value:"__('Replace')",computed:!0},required:!1},multiple:{defaultValue:{value:"false",computed:!1},required:!1},handleUpload:{defaultValue:{value:"true",computed:!1},required:!1}}};var media_replace_flow=(0,compose.Z)([(0,with_dispatch.Z)((dispatch=>{const{createNotice:createNotice,removeNotice:removeNotice}=dispatch(notices_build_module.h);return{createNotice:createNotice,removeNotice:removeNotice}})),(0,with_filters.Z)("editor.MediaReplaceFlow")])(MediaReplaceFlow);const BACKGROUND_SUPPORT_KEY="background",IMAGE_BACKGROUND_TYPE="image";function resetBackgroundImage({attributes:attributes={},setAttributes:setAttributes}){const{style:style={}}=attributes;setAttributes({style:utils_cleanEmptyObject({...style,background:{...style?.background,backgroundImage:void 0}})})}function InspectorImagePreview({label:label,filename:filename,url:imgUrl}){const imgLabel=label||(0,get_filename.v)(imgUrl);return(0,react.createElement)(item_group_component.Z,{as:"span"},(0,react.createElement)(h_stack_component.Z,{justify:"flex-start",as:"span"},(0,react.createElement)("span",{className:classnames_default()("block-editor-hooks__background__inspector-image-indicator-wrapper",{"has-image":imgUrl}),"aria-hidden":!0},imgUrl&&(0,react.createElement)("span",{className:"block-editor-hooks__background__inspector-image-indicator",style:{backgroundImage:`url(${imgUrl})`}})),(0,react.createElement)(flex_item_component.Z,{as:"span"},(0,react.createElement)(truncate_component.Z,{numberOfLines:1,className:"block-editor-hooks__background__inspector-media-replace-title"},imgLabel),(0,react.createElement)(visually_hidden_component.Z,{as:"span"},filename?(0,i18n_build_module.gB)((0,i18n_build_module.__)("Selected image: %s"),filename):(0,i18n_build_module.__)("No image selected")))))}function BackgroundImagePanelItem(props){const{attributes:attributes,clientId:clientId,setAttributes:setAttributes}=props,{id:id,title:title,url:url}=attributes.style?.background?.backgroundImage||{},replaceContainerRef=(0,react.useRef)(),{mediaUpload:mediaUpload}=(0,use_select.Z)((select=>({mediaUpload:select(store).getSettings().mediaUpload}))),{createErrorNotice:createErrorNotice}=(0,use_dispatch.Z)(notices_build_module.h),onUploadError=message=>{createErrorNotice(message,{type:"snackbar"})},onSelectMedia=media=>{if(!media||!media.url){const newStyle={...attributes.style,background:{...attributes.style?.background,backgroundImage:void 0}},newAttributes={style:utils_cleanEmptyObject(newStyle)};return void setAttributes(newAttributes)}if((0,blob_build_module.Gu)(media.url))return;if(media.media_type&&media.media_type!==IMAGE_BACKGROUND_TYPE||!media.media_type&&media.type&&media.type!==IMAGE_BACKGROUND_TYPE)return void onUploadError((0,i18n_build_module.__)("Only images can be used as a background image."));const newStyle={...attributes.style,background:{...attributes.style?.background,backgroundImage:{url:media.url,id:media.id,source:"file",title:media.title||void 0}}},newAttributes={style:utils_cleanEmptyObject(newStyle)};setAttributes(newAttributes)},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,style:{...previousValue.style,background:void 0}})),[]),hasValue=function hasBackgroundImageValue(props){return!!props.attributes.style?.background?.backgroundImage?.id||!!props.attributes.style?.background?.backgroundImage?.url}(props);return(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",hasValue:()=>hasValue,label:(0,i18n_build_module.__)("Background image"),onDeselect:()=>resetBackgroundImage(props),isShownByDefault:!0,resetAllFilter:resetAllFilter,panelId:clientId},(0,react.createElement)("div",{className:"block-editor-hooks__background__inspector-media-replace-container",ref:replaceContainerRef},(0,react.createElement)(media_replace_flow,{mediaId:id,mediaURL:url,allowedTypes:[IMAGE_BACKGROUND_TYPE],accept:"image/*",onSelect:onSelectMedia,name:(0,react.createElement)(InspectorImagePreview,{label:(0,i18n_build_module.__)("Background image"),filename:title,url:url}),variant:"secondary"},hasValue&&(0,react.createElement)(menu_item.Z,{onClick:()=>{const[toggleButton]=dom_build_module.T_.tabbable.find(replaceContainerRef.current);toggleButton?.focus(),toggleButton?.click(),resetBackgroundImage(props)}},(0,i18n_build_module.__)("Reset "))),(0,react.createElement)(drop_zone.Z,{onFilesDrop:filesList=>{mediaUpload({allowedTypes:["image"],filesList:filesList,onFileChange([image]){(0,blob_build_module.Gu)(image?.url)||onSelectMedia(image)},onError:onUploadError})},label:(0,i18n_build_module.__)("Drop to upload")})))}function BackgroundImagePanel(props){const[backgroundImage]=use_settings_useSettings("background.backgroundImage");return backgroundImage&&function hasBackgroundSupport(blockName,feature="any"){if("web"!==platform.Z.OS)return!1;const support=(0,build_module.Dx)(blockName,BACKGROUND_SUPPORT_KEY);return!0===support||("any"===feature?!!support?.backgroundImage:!!support?.[feature])}(props.name,"backgroundImage")?(0,react.createElement)(inspector_controls,{group:"background"},(0,react.createElement)(BackgroundImagePanelItem,{...props})):null}BackgroundImagePanel.__docgenInfo={description:"",methods:[],displayName:"BackgroundImagePanel"};var border_box_control_utils=__webpack_require__("./packages/components/build-module/border-box-control/utils.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),a11y=__webpack_require__("./node_modules/colord/plugins/a11y.mjs");(0,colord.l7)([names.Z,a11y.Z]);const getColorObjectByAttributeValues=(colors,definedColor,customColor)=>{if(definedColor){const colorObj=colors?.find((color=>color.slug===definedColor));if(colorObj)return colorObj}return{color:customColor}},getColorObjectByColorValue=(colors,colorValue)=>colors?.find((color=>color.color===colorValue));function getColorClassName(colorContextName,colorSlug){if(colorContextName&&colorSlug)return`has-${kebabCase(colorSlug)}-${colorContextName}`}function useMultipleOriginColorsAndGradients(){const[enableCustomColors,customColors,themeColors,defaultColors,shouldDisplayDefaultColors,enableCustomGradients,customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients]=use_settings_useSettings("color.custom","color.palette.custom","color.palette.theme","color.palette.default","color.defaultPalette","color.customGradient","color.gradients.custom","color.gradients.theme","color.gradients.default","color.defaultGradients"),colorGradientSettings={disableCustomColors:!enableCustomColors,disableCustomGradients:!enableCustomGradients};return colorGradientSettings.colors=(0,react.useMemo)((()=>{const result=[];return themeColors&&themeColors.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),colors:themeColors}),shouldDisplayDefaultColors&&defaultColors&&defaultColors.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),colors:defaultColors}),customColors&&customColors.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette comes from the theme."),colors:customColors}),result}),[customColors,themeColors,defaultColors,shouldDisplayDefaultColors]),colorGradientSettings.gradients=(0,react.useMemo)((()=>{const result=[];return themeGradients&&themeGradients.length&&result.push({name:(0,i18n_build_module._x)("Theme","Indicates this palette comes from the theme."),gradients:themeGradients}),shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length&&result.push({name:(0,i18n_build_module._x)("Default","Indicates this palette comes from WordPress."),gradients:defaultGradients}),customGradients&&customGradients.length&&result.push({name:(0,i18n_build_module._x)("Custom","Indicates this palette is created by the user."),gradients:customGradients}),result}),[customGradients,themeGradients,defaultGradients,shouldDisplayDefaultGradients]),colorGradientSettings.hasColorsOrGradients=!!colorGradientSettings.colors.length||!!colorGradientSettings.gradients.length,colorGradientSettings}var use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),library_link=__webpack_require__("./packages/icons/build-module/library/link.js"),view_component=__webpack_require__("./packages/components/build-module/view/component.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),rtl=__webpack_require__("./packages/components/build-module/utils/rtl.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const borderBoxControl=(0,emotion_react_browser_esm.iv)("","","",""),wrapper={name:"bjn8wh",styles:"position:relative"},borderBoxStyleWithFallback=border=>{const{color:color=colors_values.D.gray[200],style:style="solid",width:width=config_values.Z.borderWidth}=border||{};return`${color} ${!!width&&"0"!==width||!!color?style||"solid":style} ${width!==config_values.Z.borderWidth?`clamp(1px, ${width}, 10px)`:width}`},centeredBorderControl={name:"1nwbfnf",styles:"grid-column:span 2;margin:0 auto"};var use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");function useBorderBoxControlLinkedButton(props){const{className:className,size:size="default",...otherProps}=(0,use_context_system.y)(props,"BorderBoxControlLinkedButton"),cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>cx((size=>(0,emotion_react_browser_esm.iv)("position:absolute;top:","__unstable-large"===size?"8px":"3px",";",(0,rtl.b)({right:0})()," line-height:0;","","",""))(size),className)),[className,cx,size])}}const BorderBoxControlLinkedButton=(props,forwardedRef)=>{const{className:className,isLinked:isLinked,...buttonProps}=useBorderBoxControlLinkedButton(props),label=isLinked?(0,i18n_build_module.__)("Unlink sides"):(0,i18n_build_module.__)("Link sides");return(0,react.createElement)(tooltip.Z,{text:label},(0,react.createElement)(view_component.Z,{className:className},(0,react.createElement)(build_module_button.ZP,{...buttonProps,isSmall:!0,icon:isLinked?library_link.Z:link_off.Z,iconSize:24,"aria-label":label,ref:forwardedRef})))};var border_box_control_linked_button_component=(0,context_connect.Iq)(BorderBoxControlLinkedButton,"BorderBoxControlLinkedButton");function useBorderBoxControlVisualizer(props){const{className:className,value:value,size:size="default",...otherProps}=(0,use_context_system.y)(props,"BorderBoxControlVisualizer"),cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>cx(((borders,size)=>(0,emotion_react_browser_esm.iv)("position:absolute;top:","__unstable-large"===size?"20px":"15px",";right:","__unstable-large"===size?"39px":"29px",";bottom:","__unstable-large"===size?"20px":"15px",";left:","__unstable-large"===size?"39px":"29px",";border-top:",borderBoxStyleWithFallback(borders?.top),";border-bottom:",borderBoxStyleWithFallback(borders?.bottom),";",(0,rtl.b)({borderLeft:borderBoxStyleWithFallback(borders?.left)})()," ",(0,rtl.b)({borderRight:borderBoxStyleWithFallback(borders?.right)})(),";","","",""))(value,size),className)),[cx,className,value,size]),value:value}}BorderBoxControlLinkedButton.__docgenInfo={description:"",methods:[],displayName:"BorderBoxControlLinkedButton"};const BorderBoxControlVisualizer=(props,forwardedRef)=>{const{value:value,...otherProps}=useBorderBoxControlVisualizer(props);return(0,react.createElement)(view_component.Z,{...otherProps,ref:forwardedRef})};var border_box_control_visualizer_component=(0,context_connect.Iq)(BorderBoxControlVisualizer,"BorderBoxControlVisualizer");BorderBoxControlVisualizer.__docgenInfo={description:"",methods:[],displayName:"BorderBoxControlVisualizer"};var close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),line_solid=__webpack_require__("./packages/icons/build-module/library/line-solid.js"),line_dashed=__webpack_require__("./packages/icons/build-module/library/line-dashed.js"),line_dotted=__webpack_require__("./packages/icons/build-module/library/line-dotted.js"),base_control_styles=__webpack_require__("./packages/components/build-module/base-control/styles/base-control-styles.js"),box_sizing=__webpack_require__("./packages/components/build-module/utils/box-sizing.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js"),unit_control_styles=__webpack_require__("./packages/components/build-module/unit-control/styles/unit-control-styles.js");const labelStyles={name:"f3vz0n",styles:"font-weight:500"},focusBoxShadow=(0,emotion_react_browser_esm.iv)("box-shadow:inset ",config_values.Z.controlBoxShadowFocus,";","","",""),borderControl=(0,emotion_react_browser_esm.iv)("border:0;padding:0;margin:0;",box_sizing.p,";","","",""),styles_wrapperWidth=(0,emotion_react_browser_esm.iv)(unit_control_styles.Ke,"{flex:0 0 auto;}","","",""),colorIndicatorWrapper=(border,size)=>{const{style:style}=border||{};return(0,emotion_react_browser_esm.iv)("border-radius:9999px;border:2px solid transparent;",style?(border=>{const{color:color,style:style}=border||{},fallbackColor=style&&"none"!==style?colors_values.D.gray[300]:void 0;return(0,emotion_react_browser_esm.iv)("border-style:","none"===style?"solid":style,";border-color:",color||fallbackColor,";","","","")})(border):void 0," width:","__unstable-large"===size?"24px":"22px",";height:","__unstable-large"===size?"24px":"22px",";padding:","__unstable-large"===size?"2px":"1px",";&>span{height:",(0,space.D)(4),";width:",(0,space.D)(4),";background:linear-gradient(\n\t\t\t\t-45deg,\n\t\t\t\ttransparent 48%,\n\t\t\t\trgb( 0 0 0 / 20% ) 48%,\n\t\t\t\trgb( 0 0 0 / 20% ) 52%,\n\t\t\t\ttransparent 52%\n\t\t\t);}","","","")},borderControlPopoverControls=(0,emotion_react_browser_esm.iv)("width:",228,"px;>div:first-of-type>",base_control_styles.ar,"{margin-bottom:0;",labelStyles,";}&& ",base_control_styles.ar,"+button:not( .has-text ){min-width:24px;padding:0;}","","",""),borderControlPopoverContent=(0,emotion_react_browser_esm.iv)("","","",""),borderColorIndicator=(0,emotion_react_browser_esm.iv)("","","",""),resetButton=(0,emotion_react_browser_esm.iv)("justify-content:center;width:100%;&&{border-top:",config_values.Z.borderWidth," solid ",colors_values.D.gray[400],";border-top-left-radius:0;border-top-right-radius:0;height:40px;}","","",""),borderControlStylePicker=(0,emotion_react_browser_esm.iv)(base_control_styles.ar,"{",labelStyles,";}","","",""),borderStyleButton={name:"ed6beh",styles:"&&&&&{min-width:32px;width:32px;height:32px;padding:4px;}"};const BORDER_STYLES=[{label:(0,i18n_build_module.__)("Solid"),icon:line_solid.Z,value:"solid"},{label:(0,i18n_build_module.__)("Dashed"),icon:line_dashed.Z,value:"dashed"},{label:(0,i18n_build_module.__)("Dotted"),icon:line_dotted.Z,value:"dotted"}],Label=props=>{const{label:label,hideLabelFromVision:hideLabelFromVision}=props;return label?hideLabelFromVision?(0,react.createElement)(visually_hidden_component.Z,{as:"label"},label):(0,react.createElement)(base_control_styles.ar,null,label):null},BorderControlStylePicker=(props,forwardedRef)=>{const{buttonClassName:buttonClassName,hideLabelFromVision:hideLabelFromVision,label:label,onChange:onChange,value:value,...otherProps}=function useBorderControlStylePicker(props){const{className:className,...otherProps}=(0,use_context_system.y)(props,"BorderControlStylePicker"),cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>cx(borderControlStylePicker,className)),[className,cx]),buttonClassName:(0,react.useMemo)((()=>cx(borderStyleButton)),[cx])}}(props);return(0,react.createElement)(view_component.Z,{...otherProps,ref:forwardedRef},(0,react.createElement)(Label,{label:label,hideLabelFromVision:hideLabelFromVision}),(0,react.createElement)(component.Z,{justify:"flex-start",gap:1},BORDER_STYLES.map((borderStyle=>(0,react.createElement)(build_module_button.ZP,{key:borderStyle.value,className:buttonClassName,icon:borderStyle.icon,isSmall:!0,isPressed:borderStyle.value===value,onClick:()=>onChange(borderStyle.value===value?void 0:borderStyle.value),"aria-label":borderStyle.label,label:borderStyle.label,showTooltip:!0})))))};var border_control_style_picker_component=(0,context_connect.Iq)(BorderControlStylePicker,"BorderControlStylePicker");BorderControlStylePicker.__docgenInfo={description:"",methods:[],displayName:"BorderControlStylePicker"};var color_indicator=__webpack_require__("./packages/components/build-module/color-indicator/index.js"),color_palette=__webpack_require__("./packages/components/build-module/color-palette/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js");function useBorderControlDropdown(props){const{border:border,className:className,colors:colors=[],enableAlpha:enableAlpha=!1,enableStyle:enableStyle=!0,onChange:onChange,previousStyleSelection:previousStyleSelection,size:size="default",__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderControlDropdown"),[widthValue]=(0,utils.YX)(border?.width),hasZeroWidth=0===widthValue,cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx((size=>(0,emotion_react_browser_esm.iv)("background:#fff;&&>button{height:","__unstable-large"===size?"40px":"30px",";width:","__unstable-large"===size?"40px":"30px",";padding:0;display:flex;align-items:center;justify-content:center;",(0,rtl.b)({borderRadius:"2px 0 0 2px"},{borderRadius:"0 2px 2px 0"})()," border:",config_values.Z.borderWidth," solid ",colors_values.D.ui.border,";&:focus,&:hover:not( :disabled ){",focusBoxShadow," border-color:",colors_values.D.ui.borderFocus,";z-index:1;position:relative;}}","","",""))(size),className)),[className,cx,size]),indicatorClassName=(0,react.useMemo)((()=>cx(borderColorIndicator)),[cx]),indicatorWrapperClassName=(0,react.useMemo)((()=>cx(colorIndicatorWrapper(border,size))),[border,cx,size]),popoverControlsClassName=(0,react.useMemo)((()=>cx(borderControlPopoverControls)),[cx]),popoverContentClassName=(0,react.useMemo)((()=>cx(borderControlPopoverContent)),[cx]),resetButtonClassName=(0,react.useMemo)((()=>cx(resetButton)),[cx]);return{...otherProps,border:border,className:classes,colors:colors,enableAlpha:enableAlpha,enableStyle:enableStyle,indicatorClassName:indicatorClassName,indicatorWrapperClassName:indicatorWrapperClassName,onColorChange:color=>{onChange({color:color,style:"none"===border?.style?previousStyleSelection:border?.style,width:hasZeroWidth&&color?"1px":border?.width})},onStyleChange:style=>{const width=hasZeroWidth&&style?"1px":border?.width;onChange({...border,style:style,width:width})},onReset:()=>{onChange({...border,color:void 0,style:void 0})},popoverContentClassName:popoverContentClassName,popoverControlsClassName:popoverControlsClassName,resetButtonClassName:resetButtonClassName,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}}var dropdown_content_wrapper=__webpack_require__("./packages/components/build-module/dropdown/dropdown-content-wrapper.js"),color_palette_utils=__webpack_require__("./packages/components/build-module/color-palette/utils.js");const getAriaLabelColorValue=colorValue=>colorValue.replace(/^var\((.+)\)$/,"$1"),BorderControlDropdown=(props,forwardedRef)=>{const{__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,border:border,colors:colors,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,enableStyle:enableStyle,indicatorClassName:indicatorClassName,indicatorWrapperClassName:indicatorWrapperClassName,onReset:onReset,onColorChange:onColorChange,onStyleChange:onStyleChange,popoverContentClassName:popoverContentClassName,popoverControlsClassName:popoverControlsClassName,resetButtonClassName:resetButtonClassName,showDropdownHeader:showDropdownHeader,__unstablePopoverProps:__unstablePopoverProps,...otherProps}=useBorderControlDropdown(props),{color:color,style:style}=border||{},colorObject=((colorValue,colors)=>{if(colorValue&&colors){if((0,color_palette_utils.v9)(colors)){let matchedColor;return colors.some((origin=>origin.colors.some((color=>color.color===colorValue&&(matchedColor=color,!0))))),matchedColor}return colors.find((color=>color.color===colorValue))}})(color,colors),toggleAriaLabel=((colorValue,colorObject,style,isStyleEnabled)=>{if(isStyleEnabled){if(colorObject){const ariaLabelValue=getAriaLabelColorValue(colorObject.color);return style?(0,i18n_build_module.gB)('Border color and style picker. The currently selected color is called "%1$s" and has a value of "%2$s". The currently selected style is "%3$s".',colorObject.name,ariaLabelValue,style):(0,i18n_build_module.gB)('Border color and style picker. The currently selected color is called "%1$s" and has a value of "%2$s".',colorObject.name,ariaLabelValue)}if(colorValue){const ariaLabelValue=getAriaLabelColorValue(colorValue);return style?(0,i18n_build_module.gB)('Border color and style picker. The currently selected color has a value of "%1$s". The currently selected style is "%2$s".',ariaLabelValue,style):(0,i18n_build_module.gB)('Border color and style picker. The currently selected color has a value of "%1$s".',ariaLabelValue)}return(0,i18n_build_module.__)("Border color and style picker.")}return colorObject?(0,i18n_build_module.gB)('Border color picker. The currently selected color is called "%1$s" and has a value of "%2$s".',colorObject.name,getAriaLabelColorValue(colorObject.color)):colorValue?(0,i18n_build_module.gB)('Border color picker. The currently selected color has a value of "%1$s".',getAriaLabelColorValue(colorValue)):(0,i18n_build_module.__)("Border color picker.")})(color,colorObject,style,enableStyle),showResetButton=color||style&&"none"!==style,dropdownPosition=__experimentalIsRenderedInSidebar?"bottom left":void 0;return(0,react.createElement)(dropdown.Z,{renderToggle:({onToggle:onToggle})=>(0,react.createElement)(build_module_button.ZP,{onClick:onToggle,variant:"tertiary","aria-label":toggleAriaLabel,tooltipPosition:dropdownPosition,label:(0,i18n_build_module.__)("Border color and style picker"),showTooltip:!0},(0,react.createElement)("span",{className:indicatorWrapperClassName},(0,react.createElement)(color_indicator.Z,{className:indicatorClassName,colorValue:color}))),renderContent:({onClose:onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"medium"},(0,react.createElement)(v_stack_component.Z,{className:popoverControlsClassName,spacing:6},showDropdownHeader?(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(base_control_styles.ar,null,(0,i18n_build_module.__)("Border color")),(0,react.createElement)(build_module_button.ZP,{isSmall:!0,label:(0,i18n_build_module.__)("Close border color"),icon:close_small.Z,onClick:onClose})):void 0,(0,react.createElement)(color_palette.ZP,{className:popoverContentClassName,value:color,onChange:onColorChange,colors:colors,disableCustomColors:disableCustomColors,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:!1,enableAlpha:enableAlpha}),enableStyle&&(0,react.createElement)(border_control_style_picker_component,{label:(0,i18n_build_module.__)("Style"),value:style,onChange:onStyleChange}))),showResetButton&&(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)(build_module_button.ZP,{className:resetButtonClassName,variant:"tertiary",onClick:()=>{onReset(),onClose()}},(0,i18n_build_module.__)("Reset")))),popoverProps:{...__unstablePopoverProps},...otherProps,ref:forwardedRef})};var border_control_dropdown_component=(0,context_connect.Iq)(BorderControlDropdown,"BorderControlDropdown");BorderControlDropdown.__docgenInfo={description:"",methods:[],displayName:"BorderControlDropdown"};function useBorderControl(props){const{className:className,colors:colors=[],isCompact:isCompact,onChange:onChange,enableAlpha:enableAlpha=!0,enableStyle:enableStyle=!0,shouldSanitizeBorder:shouldSanitizeBorder=!0,size:size="default",value:border,width:width,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderControl"),[widthValue,originalWidthUnit]=(0,utils.YX)(border?.width),widthUnit=originalWidthUnit||"px",hadPreviousZeroWidth=0===widthValue,[colorSelection,setColorSelection]=(0,react.useState)(),[styleSelection,setStyleSelection]=(0,react.useState)(),onBorderChange=(0,react.useCallback)((newBorder=>{if(shouldSanitizeBorder)return onChange((border=>{if(void 0!==border?.width&&""!==border.width||void 0!==border?.color)return border})(newBorder));onChange(newBorder)}),[onChange,shouldSanitizeBorder]),onWidthChange=(0,react.useCallback)((newWidth=>{const newWidthValue=""===newWidth?void 0:newWidth,[parsedValue]=(0,utils.YX)(newWidth),hasZeroWidth=0===parsedValue,updatedBorder={...border,width:newWidthValue};hasZeroWidth&&!hadPreviousZeroWidth&&(setColorSelection(border?.color),setStyleSelection(border?.style),updatedBorder.color=void 0,updatedBorder.style="none"),!hasZeroWidth&&hadPreviousZeroWidth&&(void 0===updatedBorder.color&&(updatedBorder.color=colorSelection),"none"===updatedBorder.style&&(updatedBorder.style=styleSelection)),onBorderChange(updatedBorder)}),[border,hadPreviousZeroWidth,colorSelection,styleSelection,onBorderChange]),onSliderChange=(0,react.useCallback)((value=>{onWidthChange(`${value}${widthUnit}`)}),[onWidthChange,widthUnit]),cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx(borderControl,className)),[className,cx]);let wrapperWidth=width;isCompact&&(wrapperWidth="__unstable-large"===size?"116px":"90px");const innerWrapperClassName=(0,react.useMemo)((()=>{const widthStyle=!!wrapperWidth&&styles_wrapperWidth,heightStyle=(size=>(0,emotion_react_browser_esm.iv)("height:","__unstable-large"===size?"40px":"30px",";","","",""))(size);return cx((0,emotion_react_browser_esm.iv)(unit_control_styles.Ke,"{flex:1 1 40%;}&& ",unit_control_styles.mY,"{min-height:0;}","","",""),widthStyle,heightStyle)}),[wrapperWidth,cx,size]),sliderClassName=(0,react.useMemo)((()=>cx((0,emotion_react_browser_esm.iv)("flex:1 1 60%;",(0,rtl.b)({marginRight:(0,space.D)(3)})(),";","","",""))),[cx]);return{...otherProps,className:classes,colors:colors,enableAlpha:enableAlpha,enableStyle:enableStyle,innerWrapperClassName:innerWrapperClassName,inputWidth:wrapperWidth,onBorderChange:onBorderChange,onSliderChange:onSliderChange,onWidthChange:onWidthChange,previousStyleSelection:styleSelection,sliderClassName:sliderClassName,value:border,widthUnit:widthUnit,widthValue:widthValue,size:size,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}}const BorderLabel=props=>{const{label:label,hideLabelFromVision:hideLabelFromVision}=props;return label?hideLabelFromVision?(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},label):(0,react.createElement)(base_control_styles.ar,{as:"legend"},label):null},UnconnectedBorderControl=(props,forwardedRef)=>{const{colors:colors,disableCustomColors:disableCustomColors,disableUnits:disableUnits,enableAlpha:enableAlpha,enableStyle:enableStyle,hideLabelFromVision:hideLabelFromVision,innerWrapperClassName:innerWrapperClassName,inputWidth:inputWidth,label:label,onBorderChange:onBorderChange,onSliderChange:onSliderChange,onWidthChange:onWidthChange,placeholder:placeholder,__unstablePopoverProps:__unstablePopoverProps,previousStyleSelection:previousStyleSelection,showDropdownHeader:showDropdownHeader,size:size,sliderClassName:sliderClassName,value:border,widthUnit:widthUnit,widthValue:widthValue,withSlider:withSlider,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,...otherProps}=useBorderControl(props);return(0,react.createElement)(view_component.Z,{as:"fieldset",...otherProps,ref:forwardedRef},(0,react.createElement)(BorderLabel,{label:label,hideLabelFromVision:hideLabelFromVision}),(0,react.createElement)(h_stack_component.Z,{spacing:4,className:innerWrapperClassName},(0,react.createElement)(unit_control.ZP,{prefix:(0,react.createElement)(border_control_dropdown_component,{border:border,colors:colors,__unstablePopoverProps:__unstablePopoverProps,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,enableStyle:enableStyle,onChange:onBorderChange,previousStyleSelection:previousStyleSelection,showDropdownHeader:showDropdownHeader,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,size:size}),label:(0,i18n_build_module.__)("Border width"),hideLabelFromVision:!0,min:0,onChange:onWidthChange,value:border?.width||"",placeholder:placeholder,disableUnits:disableUnits,__unstableInputWidth:inputWidth,size:size}),withSlider&&(0,react.createElement)(range_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Border width"),hideLabelFromVision:!0,className:sliderClassName,initialPosition:0,max:100,min:0,onChange:onSliderChange,step:["px","%"].includes(widthUnit)?1:.1,value:widthValue||void 0,withInputField:!1})))};var border_control_component=(0,context_connect.Iq)(UnconnectedBorderControl,"BorderControl");UnconnectedBorderControl.__docgenInfo={description:"",methods:[],displayName:"UnconnectedBorderControl"};var grid_component=__webpack_require__("./packages/components/build-module/grid/component.js");function useBorderBoxControlSplitControls(props){const{className:className,colors:colors=[],enableAlpha:enableAlpha=!1,enableStyle:enableStyle=!0,size:size="default",__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderBoxControlSplitControls"),cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx((size=>(0,emotion_react_browser_esm.iv)("position:relative;flex:1;width:","__unstable-large"===size?void 0:"80%",";","","",""))(size),className)),[cx,className,size]);return{...otherProps,centeredClassName:(0,react.useMemo)((()=>cx(centeredBorderControl,className)),[cx,className]),className:classes,colors:colors,enableAlpha:enableAlpha,enableStyle:enableStyle,rightAlignedClassName:(0,react.useMemo)((()=>cx((0,emotion_react_browser_esm.iv)((0,rtl.b)({marginLeft:"auto"})(),";","","",""),className)),[cx,className]),size:size,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}}const BorderBoxControlSplitControls=(props,forwardedRef)=>{const{centeredClassName:centeredClassName,colors:colors,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,enableStyle:enableStyle,onChange:onChange,popoverPlacement:popoverPlacement,popoverOffset:popoverOffset,rightAlignedClassName:rightAlignedClassName,size:size="default",value:value,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,...otherProps}=useBorderBoxControlSplitControls(props),[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>popoverPlacement?{placement:popoverPlacement,offset:popoverOffset,anchor:popoverAnchor,shift:!0}:void 0),[popoverPlacement,popoverOffset,popoverAnchor]),sharedBorderControlProps={colors:colors,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,enableStyle:enableStyle,isCompact:!0,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,size:size},mergedRef=(0,use_merge_refs.Z)([setPopoverAnchor,forwardedRef]);return(0,react.createElement)(grid_component.Z,{...otherProps,ref:mergedRef,gap:4},(0,react.createElement)(border_box_control_visualizer_component,{value:value,size:size}),(0,react.createElement)(border_control_component,{className:centeredClassName,hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Top border"),onChange:newBorder=>onChange(newBorder,"top"),__unstablePopoverProps:popoverProps,value:value?.top,...sharedBorderControlProps}),(0,react.createElement)(border_control_component,{hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Left border"),onChange:newBorder=>onChange(newBorder,"left"),__unstablePopoverProps:popoverProps,value:value?.left,...sharedBorderControlProps}),(0,react.createElement)(border_control_component,{className:rightAlignedClassName,hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Right border"),onChange:newBorder=>onChange(newBorder,"right"),__unstablePopoverProps:popoverProps,value:value?.right,...sharedBorderControlProps}),(0,react.createElement)(border_control_component,{className:centeredClassName,hideLabelFromVision:!0,label:(0,i18n_build_module.__)("Bottom border"),onChange:newBorder=>onChange(newBorder,"bottom"),__unstablePopoverProps:popoverProps,value:value?.bottom,...sharedBorderControlProps}))};var border_box_control_split_controls_component=(0,context_connect.Iq)(BorderBoxControlSplitControls,"BorderBoxControlSplitControls");function useBorderBoxControl(props){const{className:className,colors:colors=[],onChange:onChange,enableAlpha:enableAlpha=!1,enableStyle:enableStyle=!0,size:size="default",value:value,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1,...otherProps}=(0,use_context_system.y)(props,"BorderBoxControl"),mixedBorders=(0,border_box_control_utils.Le)(value),splitBorders=(0,border_box_control_utils.Al)(value),linkedValue=splitBorders?(0,border_box_control_utils.TZ)(value):value,splitValue=splitBorders?value:(0,border_box_control_utils.vw)(value),hasWidthValue=!isNaN(parseFloat(`${linkedValue?.width}`)),[isLinked,setIsLinked]=(0,react.useState)(!mixedBorders),cx=(0,use_cx.I)(),classes=(0,react.useMemo)((()=>cx(borderBoxControl,className)),[cx,className]),linkedControlClassName=(0,react.useMemo)((()=>cx((0,emotion_react_browser_esm.iv)("flex:1;",(0,rtl.b)({marginRight:"24px"})(),";","","",""))),[cx]),wrapperClassName=(0,react.useMemo)((()=>cx(wrapper)),[cx]);return{...otherProps,className:classes,colors:colors,disableUnits:mixedBorders&&!hasWidthValue,enableAlpha:enableAlpha,enableStyle:enableStyle,hasMixedBorders:mixedBorders,isLinked:isLinked,linkedControlClassName:linkedControlClassName,onLinkedChange:newBorder=>{if(!newBorder)return onChange(void 0);if(!mixedBorders||(0,border_box_control_utils.n7)(newBorder))return onChange((0,border_box_control_utils.TT)(newBorder)?void 0:newBorder);const changes=(0,border_box_control_utils.gH)(linkedValue,newBorder),updatedBorders={top:{...value?.top,...changes},right:{...value?.right,...changes},bottom:{...value?.bottom,...changes},left:{...value?.left,...changes}};if((0,border_box_control_utils.Le)(updatedBorders))return onChange(updatedBorders);const filteredResult=(0,border_box_control_utils.TT)(updatedBorders.top)?void 0:updatedBorders.top;onChange(filteredResult)},onSplitChange:(newBorder,side)=>{const updatedBorders={...splitValue,[side]:newBorder};(0,border_box_control_utils.Le)(updatedBorders)?onChange(updatedBorders):onChange(newBorder)},toggleLinked:()=>setIsLinked(!isLinked),linkedValue:linkedValue,size:size,splitValue:splitValue,wrapperClassName:wrapperClassName,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}}BorderBoxControlSplitControls.__docgenInfo={description:"",methods:[],displayName:"BorderBoxControlSplitControls"};const component_BorderLabel=props=>{const{label:label,hideLabelFromVision:hideLabelFromVision}=props;return label?hideLabelFromVision?(0,react.createElement)(visually_hidden_component.Z,{as:"label"},label):(0,react.createElement)(base_control_styles.ar,null,label):null},UnconnectedBorderBoxControl=(props,forwardedRef)=>{const{className:className,colors:colors,disableCustomColors:disableCustomColors,disableUnits:disableUnits,enableAlpha:enableAlpha,enableStyle:enableStyle,hasMixedBorders:hasMixedBorders,hideLabelFromVision:hideLabelFromVision,isLinked:isLinked,label:label,linkedControlClassName:linkedControlClassName,linkedValue:linkedValue,onLinkedChange:onLinkedChange,onSplitChange:onSplitChange,popoverPlacement:popoverPlacement,popoverOffset:popoverOffset,size:size,splitValue:splitValue,toggleLinked:toggleLinked,wrapperClassName:wrapperClassName,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,...otherProps}=useBorderBoxControl(props),[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>popoverPlacement?{placement:popoverPlacement,offset:popoverOffset,anchor:popoverAnchor,shift:!0}:void 0),[popoverPlacement,popoverOffset,popoverAnchor]),mergedRef=(0,use_merge_refs.Z)([setPopoverAnchor,forwardedRef]);return(0,react.createElement)(view_component.Z,{className:className,...otherProps,ref:mergedRef},(0,react.createElement)(component_BorderLabel,{label:label,hideLabelFromVision:hideLabelFromVision}),(0,react.createElement)(view_component.Z,{className:wrapperClassName},isLinked?(0,react.createElement)(border_control_component,{className:linkedControlClassName,colors:colors,disableUnits:disableUnits,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,enableStyle:enableStyle,onChange:onLinkedChange,placeholder:hasMixedBorders?(0,i18n_build_module.__)("Mixed"):void 0,__unstablePopoverProps:popoverProps,shouldSanitizeBorder:!1,value:linkedValue,withSlider:!0,width:"__unstable-large"===size?"116px":"110px",__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,size:size}):(0,react.createElement)(border_box_control_split_controls_component,{colors:colors,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,enableStyle:enableStyle,onChange:onSplitChange,popoverPlacement:popoverPlacement,popoverOffset:popoverOffset,value:splitValue,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,size:size}),(0,react.createElement)(border_box_control_linked_button_component,{onClick:toggleLinked,isLinked:isLinked,size:size})))};var border_box_control_component=(0,context_connect.Iq)(UnconnectedBorderBoxControl,"BorderBoxControl");function utils_mode(inputArray){return[...inputArray].sort(((a,b)=>inputArray.filter((v=>v===b)).length-inputArray.filter((v=>v===a)).length)).shift()}function getAllUnit(selectedUnits={}){const{flat:flat,...cornerUnits}=selectedUnits;return flat||utils_mode(Object.values(cornerUnits).filter(Boolean))||"px"}function getAllValue(values={}){if("string"==typeof values)return values;const parsedQuantitiesAndUnits=Object.values(values).map((value=>(0,utils.YX)(value))),allValues=parsedQuantitiesAndUnits.map((value=>{var _value$;return null!==(_value$=value[0])&&void 0!==_value$?_value$:""})),allUnits=parsedQuantitiesAndUnits.map((value=>value[1])),value=allValues.every((v=>v===allValues[0]))?allValues[0]:"",unit=utils_mode(allUnits);return 0===value||value?`${value}${unit}`:void 0}function hasMixedValues(values={}){const allValue=getAllValue(values);return"string"!=typeof values&&isNaN(parseFloat(allValue))}function hasDefinedValues(values){if(!values)return!1;if("string"==typeof values)return!0;return!!Object.values(values).filter((value=>!!value||0===value)).length}function AllInputControl({onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,values:values,...props}){let allValue=getAllValue(values);void 0===allValue&&(allValue=getAllUnit(selectedUnits));const isMixed=hasDefinedValues(values)&&hasMixedValues(values),allPlaceholder=isMixed?(0,i18n_build_module.__)("Mixed"):null;return(0,react.createElement)(unit_control.ZP,{...props,"aria-label":(0,i18n_build_module.__)("Border radius"),disableUnits:isMixed,isOnly:!0,value:allValue,onChange:next=>{const isNumeric=!isNaN(parseFloat(next));onChange(isNumeric?next:void 0)},onUnitChange:unit=>{setSelectedUnits({topLeft:unit,topRight:unit,bottomLeft:unit,bottomRight:unit})},placeholder:allPlaceholder,size:"__unstable-large"})}UnconnectedBorderBoxControl.__docgenInfo={description:"",methods:[],displayName:"UnconnectedBorderBoxControl"},AllInputControl.__docgenInfo={description:"",methods:[],displayName:"AllInputControl"};const CORNERS={topLeft:(0,i18n_build_module.__)("Top left"),topRight:(0,i18n_build_module.__)("Top right"),bottomLeft:(0,i18n_build_module.__)("Bottom left"),bottomRight:(0,i18n_build_module.__)("Bottom right")};function BoxInputControls({onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,values:valuesProp,...props}){const createHandleOnChange=corner=>next=>{if(!onChange)return;const nextValue=!isNaN(parseFloat(next))?next:void 0;onChange({...values,[corner]:nextValue})},values="string"!=typeof valuesProp?valuesProp:{topLeft:valuesProp,topRight:valuesProp,bottomLeft:valuesProp,bottomRight:valuesProp};return(0,react.createElement)("div",{className:"components-border-radius-control__input-controls-wrapper"},Object.entries(CORNERS).map((([corner,label])=>{const[parsedQuantity,parsedUnit]=(0,utils.YX)(values[corner]),computedUnit=values[corner]?parsedUnit:selectedUnits[corner]||selectedUnits.flat;return(0,react.createElement)(tooltip.Z,{text:label,placement:"top",key:corner},(0,react.createElement)("div",{className:"components-border-radius-control__tooltip-wrapper"},(0,react.createElement)(unit_control.ZP,{...props,"aria-label":label,value:[parsedQuantity,computedUnit].join(""),onChange:createHandleOnChange(corner),onUnitChange:(side=corner,next=>{const newUnits={...selectedUnits};newUnits[side]=next,setSelectedUnits(newUnits)}),size:"__unstable-large"})));var side})))}function LinkedButton({isLinked:isLinked,...props}){const label=isLinked?(0,i18n_build_module.__)("Unlink radii"):(0,i18n_build_module.__)("Link radii");return(0,react.createElement)(tooltip.Z,{text:label},(0,react.createElement)(build_module_button.ZP,{...props,className:"component-border-radius-control__linked-button",isSmall:!0,icon:isLinked?library_link.Z:link_off.Z,iconSize:24,"aria-label":label}))}BoxInputControls.__docgenInfo={description:"",methods:[],displayName:"BoxInputControls"},LinkedButton.__docgenInfo={description:"",methods:[],displayName:"LinkedButton"};const border_radius_control_DEFAULT_VALUES={topLeft:void 0,topRight:void 0,bottomLeft:void 0,bottomRight:void 0},MIN_BORDER_RADIUS_VALUE=0,MAX_BORDER_RADIUS_VALUES={px:100,em:20,rem:20};function BorderRadiusControl({onChange:onChange,values:values}){const[isLinked,setIsLinked]=(0,react.useState)(!hasDefinedValues(values)||!hasMixedValues(values)),[selectedUnits,setSelectedUnits]=(0,react.useState)({flat:"string"==typeof values?(0,utils.YX)(values)[1]:void 0,topLeft:(0,utils.YX)(values?.topLeft)[1],topRight:(0,utils.YX)(values?.topRight)[1],bottomLeft:(0,utils.YX)(values?.bottomLeft)[1],bottomRight:(0,utils.YX)(values?.bottomRight)[1]}),[availableUnits]=use_settings_useSettings("spacing.units"),units=(0,utils.nj)({availableUnits:availableUnits||["px","em","rem"]}),unit=getAllUnit(selectedUnits),unitConfig=units&&units.find((item=>item.value===unit)),step=unitConfig?.step||1,[allValue]=(0,utils.YX)(getAllValue(values));return(0,react.createElement)("fieldset",{className:"components-border-radius-control"},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Radius")),(0,react.createElement)("div",{className:"components-border-radius-control__wrapper"},isLinked?(0,react.createElement)(react.Fragment,null,(0,react.createElement)(AllInputControl,{className:"components-border-radius-control__unit-control",values:values,min:MIN_BORDER_RADIUS_VALUE,onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,units:units}),(0,react.createElement)(range_control.Z,{label:(0,i18n_build_module.__)("Border radius"),hideLabelFromVision:!0,className:"components-border-radius-control__range-control",value:null!=allValue?allValue:"",min:MIN_BORDER_RADIUS_VALUE,max:MAX_BORDER_RADIUS_VALUES[unit],initialPosition:0,withInputField:!1,onChange:next=>{onChange(void 0!==next?`${next}${unit}`:void 0)},step:step,__nextHasNoMarginBottom:!0})):(0,react.createElement)(BoxInputControls,{min:MIN_BORDER_RADIUS_VALUE,onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,values:values||border_radius_control_DEFAULT_VALUES,units:units}),(0,react.createElement)(LinkedButton,{onClick:()=>setIsLinked(!isLinked),isLinked:isLinked})))}function useHasBorderPanel(settings){return[useHasBorderColorControl(settings),useHasBorderRadiusControl(settings),useHasBorderStyleControl(settings),useHasBorderWidthControl(settings)].some(Boolean)}function useHasBorderColorControl(settings){return settings?.border?.color}function useHasBorderRadiusControl(settings){return settings?.border?.radius}function useHasBorderStyleControl(settings){return settings?.border?.style}function useHasBorderWidthControl(settings){return settings?.border?.width}function BorderToolsPanel({resetAllFilter:resetAllFilter,onChange:onChange,value:value,panelId:panelId,children:children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Border"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId:panelId},children)}BorderRadiusControl.__docgenInfo={description:"Control to display border radius options.\n\n@param {Object}   props          Component props.\n@param {Function} props.onChange Callback to handle onChange.\n@param {Object}   props.values   Border radius values.\n\n@return {Element}              Custom border radius control.",methods:[],displayName:"BorderRadiusControl"};const border_panel_DEFAULT_CONTROLS={radius:!0,color:!0,width:!0};function BorderPanel({as:Wrapper=BorderToolsPanel,value:value,onChange:onChange,inheritedValue:inheritedValue=value,settings:settings,panelId:panelId,defaultControls:defaultControls=border_panel_DEFAULT_CONTROLS}){const colors=useColorsPerOrigin(settings),encodeColorValue=colorValue=>{const colorObject=colors.flatMap((({colors:originColors})=>originColors)).find((({color:color})=>color===colorValue));return colorObject?"var:preset|color|"+colorObject.slug:colorValue},decodeColorValue=(0,react.useCallback)((colorValue=>{const colorObject=colors.flatMap((({colors:originColors})=>originColors)).find((({slug:slug})=>colorValue==="var:preset|color|"+slug));return colorObject?colorObject.color:colorValue}),[colors]),border=(0,react.useMemo)((()=>{if((0,border_box_control_utils.Al)(inheritedValue?.border)){const borderValue={...inheritedValue?.border};return["top","right","bottom","left"].forEach((side=>{borderValue[side]={...borderValue[side],color:decodeColorValue(borderValue[side]?.color)}})),borderValue}return{...inheritedValue?.border,color:inheritedValue?.border?.color?decodeColorValue(inheritedValue?.border?.color):void 0}}),[inheritedValue?.border,decodeColorValue]),setBorder=newBorder=>onChange({...value,border:newBorder}),showBorderColor=useHasBorderColorControl(settings),showBorderStyle=useHasBorderStyleControl(settings),showBorderWidth=useHasBorderWidthControl(settings),showBorderRadius=useHasBorderRadiusControl(settings),borderRadiusValues=(rawValue=border?.radius,getValueFromVariable({settings:settings},"",rawValue));var rawValue;const setBorderRadius=newBorderRadius=>setBorder({...border,radius:newBorderRadius}),hasBorderRadius=()=>{const borderValues=value?.border?.radius;return"object"==typeof borderValues?Object.entries(borderValues).some(Boolean):!!borderValues},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,border:void 0})),[]),showBorderByDefault=defaultControls?.color||defaultControls?.width;return(0,react.createElement)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId},(showBorderWidth||showBorderColor)&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>(0,border_box_control_utils.lX)(value?.border),label:(0,i18n_build_module.__)("Border"),onDeselect:()=>(()=>{if(hasBorderRadius())return setBorder({radius:value?.border?.radius});setBorder(void 0)})(),isShownByDefault:showBorderByDefault,panelId:panelId},(0,react.createElement)(border_box_control_component,{colors:colors,enableAlpha:!0,enableStyle:showBorderStyle,onChange:newBorder=>{const updatedBorder={...newBorder};(0,border_box_control_utils.Al)(updatedBorder)?["top","right","bottom","left"].forEach((side=>{updatedBorder[side]&&(updatedBorder[side]={...updatedBorder[side],color:encodeColorValue(updatedBorder[side]?.color)})})):updatedBorder&&(updatedBorder.color=encodeColorValue(updatedBorder.color)),setBorder({radius:border?.radius,...updatedBorder})},popoverOffset:40,popoverPlacement:"left-start",value:border,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})),showBorderRadius&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:hasBorderRadius,label:(0,i18n_build_module.__)("Radius"),onDeselect:()=>setBorderRadius(void 0),isShownByDefault:defaultControls.radius,panelId:panelId},(0,react.createElement)(BorderRadiusControl,{values:borderRadiusValues,onChange:newValue=>{setBorderRadius(newValue||void 0)}})))}BorderPanel.__docgenInfo={description:"",methods:[],displayName:"BorderPanel",props:{as:{defaultValue:{value:"function BorderToolsPanel({\n  resetAllFilter,\n  onChange,\n  value,\n  panelId,\n  children\n}) {\n  const resetAll = () => {\n    const updatedValue = resetAllFilter(value);\n    onChange(updatedValue);\n  };\n  return createElement(ToolsPanel, {\n    label: __('Border'),\n    resetAll: resetAll,\n    panelId: panelId\n  }, children);\n}",computed:!1},required:!1},inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1},defaultControls:{defaultValue:{value:"{\n  radius: true,\n  color: true,\n  width: true\n}",computed:!1},required:!1}}};const BORDER_SUPPORT_KEY="__experimentalBorder",getColorByProperty=(colors,property,value)=>{let matchedColor;return colors.some((origin=>origin.colors.some((color=>color[property]===value&&(matchedColor=color,!0))))),matchedColor},getMultiOriginColor=({colors:colors,namedColor:namedColor,customColor:customColor})=>{if(namedColor){const colorObject=getColorByProperty(colors,"slug",namedColor);if(colorObject)return colorObject}if(!customColor)return{color:void 0};const colorObject=getColorByProperty(colors,"color",customColor);return colorObject||{color:customColor}};function getColorSlugFromVariable(value){const namedColor=/var:preset\|color\|(.+)/.exec(value);return namedColor&&namedColor[1]?namedColor[1]:null}function styleToAttributes(style){if((0,border_box_control_utils.Al)(style?.border))return{style:style,borderColor:void 0};const borderColorValue=style?.border?.color,borderColorSlug=borderColorValue?.startsWith("var:preset|color|")?borderColorValue.substring(17):void 0,updatedStyle={...style};return updatedStyle.border={...updatedStyle.border,color:borderColorSlug?void 0:borderColorValue},{style:utils_cleanEmptyObject(updatedStyle),borderColor:borderColorSlug}}function attributesToStyle(attributes){return(0,border_box_control_utils.Al)(attributes.style?.border)?attributes.style:{...attributes.style,border:{...attributes.style?.border,color:attributes.borderColor?"var:preset|color|"+attributes.borderColor:attributes.style?.border?.color}}}function BordersInspectorControl({children:children,resetAllFilter:resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=attributesToStyle(attributes),updatedStyle=resetAllFilter(existingStyle);return{...attributes,...styleToAttributes(updatedStyle)}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"border",resetAllFilter:attributesResetAllFilter},children)}function border_BorderPanel(props){const{clientId:clientId,name:name,attributes:attributes,setAttributes:setAttributes}=props,settings=useBlockSettings(name),isEnabled=useHasBorderPanel(settings),value=(0,react.useMemo)((()=>attributesToStyle({style:attributes.style,borderColor:attributes.borderColor})),[attributes.style,attributes.borderColor]);if(!isEnabled)return null;const defaultControls=(0,build_module.Dx)(props.name,[BORDER_SUPPORT_KEY,"__experimentalDefaultControls"]);return(0,react.createElement)(BorderPanel,{as:BordersInspectorControl,panelId:clientId,settings:settings,value:value,onChange:newStyle=>{setAttributes(styleToAttributes(newStyle))},defaultControls:defaultControls})}function hasBorderSupport(blockName,feature="any"){if("web"!==platform.Z.OS)return!1;const support=(0,build_module.Dx)(blockName,BORDER_SUPPORT_KEY);return!0===support||("any"===feature?!!(support?.color||support?.radius||support?.width||support?.style):!!support?.[feature])}function border_addSaveProps(props,blockType,attributes){if(!hasBorderSupport(blockType,"color")||shouldSkipSerialization(blockType,BORDER_SUPPORT_KEY,"color"))return props;const borderClasses=getBorderClasses(attributes),newClassName=classnames_default()(props.className,borderClasses);return props.className=newClassName||void 0,props}function getBorderClasses(attributes){const{borderColor:borderColor,style:style}=attributes,borderColorClass=getColorClassName("border-color",borderColor);return classnames_default()({"has-border-color":borderColor||style?.border?.color,[borderColorClass]:!!borderColorClass})}const withBorderColorPaletteStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name:name,attributes:attributes}=props,{borderColor:borderColor,style:style}=attributes,{colors:colors}=useMultipleOriginColorsAndGradients();if(!hasBorderSupport(name,"color")||shouldSkipSerialization(name,BORDER_SUPPORT_KEY,"color"))return(0,react.createElement)(BlockListBlock,{...props});const{color:borderColorValue}=getMultiOriginColor({colors:colors,namedColor:borderColor}),{color:borderTopColor}=getMultiOriginColor({colors:colors,namedColor:getColorSlugFromVariable(style?.border?.top?.color)}),{color:borderRightColor}=getMultiOriginColor({colors:colors,namedColor:getColorSlugFromVariable(style?.border?.right?.color)}),{color:borderBottomColor}=getMultiOriginColor({colors:colors,namedColor:getColorSlugFromVariable(style?.border?.bottom?.color)}),{color:borderLeftColor}=getMultiOriginColor({colors:colors,namedColor:getColorSlugFromVariable(style?.border?.left?.color)}),cleanedExtraStyles=utils_cleanEmptyObject({borderTopColor:borderTopColor||borderColorValue,borderRightColor:borderRightColor||borderColorValue,borderBottomColor:borderBottomColor||borderColorValue,borderLeftColor:borderLeftColor||borderColorValue})||{};let wrapperProps=props.wrapperProps;return wrapperProps={...props.wrapperProps,style:{...props.wrapperProps?.style,...cleanedExtraStyles}},(0,react.createElement)(BlockListBlock,{...props,wrapperProps:wrapperProps})}),"withBorderColorPaletteStyles");function __experimentalGetGradientClass(gradientSlug){if(gradientSlug)return`has-${gradientSlug}-gradient-background`}function getGradientValueBySlug(gradients,slug){const gradient=gradients?.find((g=>g.slug===slug));return gradient&&gradient.gradient}function __experimentalUseGradient({gradientAttribute:gradientAttribute="gradient",customGradientAttribute:customGradientAttribute="customGradient"}={}){const{clientId:clientId}=useBlockEditContext(),[userGradientPalette,themeGradientPalette,defaultGradientPalette]=use_settings_useSettings("color.gradients.custom","color.gradients.theme","color.gradients.default"),allGradients=(0,react.useMemo)((()=>[...userGradientPalette||[],...themeGradientPalette||[],...defaultGradientPalette||[]]),[userGradientPalette,themeGradientPalette,defaultGradientPalette]),{gradient:gradient,customGradient:customGradient}=(0,use_select.Z)((select=>{const{getBlockAttributes:getBlockAttributes}=select(store),attributes=getBlockAttributes(clientId)||{};return{customGradient:attributes[customGradientAttribute],gradient:attributes[gradientAttribute]}}),[clientId,gradientAttribute,customGradientAttribute]),{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),setGradient=(0,react.useCallback)((newGradientValue=>{const slug=function getGradientSlugByValue(gradients,value){const gradient=function __experimentalGetGradientObjectByGradientValue(gradients,value){const gradient=gradients?.find((g=>g.gradient===value));return gradient}(gradients,value);return gradient&&gradient.slug}(allGradients,newGradientValue);updateBlockAttributes(clientId,slug?{[gradientAttribute]:slug,[customGradientAttribute]:void 0}:{[gradientAttribute]:void 0,[customGradientAttribute]:newGradientValue})}),[allGradients,clientId,updateBlockAttributes]),gradientClass=__experimentalGetGradientClass(gradient);let gradientValue;return gradientValue=gradient?getGradientValueBySlug(allGradients,gradient):customGradient,{gradientClass:gradientClass,gradientValue:gradientValue,setGradient:setGradient}}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/border/addAttributes",(function addAttributes(settings){return hasBorderSupport(settings,"color")?settings.attributes.borderColor?settings:{...settings,attributes:{...settings.attributes,borderColor:{type:"string"}}}:settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/border/addSaveProps",border_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/border/addEditProps",(function addEditProps(settings){if(!hasBorderSupport(settings,"color")||shouldSkipSerialization(settings,BORDER_SUPPORT_KEY,"color"))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),border_addSaveProps(props,settings,attributes)},settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/border/with-border-color-palette-styles",withBorderColorPaletteStyles),border_BorderPanel.__docgenInfo={description:"",methods:[],displayName:"BorderPanel"};var z_stack_component=__webpack_require__("./packages/components/build-module/z-stack/component.js"),tab_panel=__webpack_require__("./packages/components/build-module/tab-panel/index.js"),gradient_picker=__webpack_require__("./packages/components/build-module/gradient-picker/index.js");const colorsAndGradientKeys=["colors","disableCustomColors","gradients","disableCustomGradients"],TAB_COLOR={name:"color",title:(0,i18n_build_module.__)("Solid"),value:"color"},TAB_GRADIENT={name:"gradient",title:(0,i18n_build_module.__)("Gradient"),value:"gradient"},TABS_SETTINGS=[TAB_COLOR,TAB_GRADIENT];function ColorGradientControlInner({colors:colors,gradients:gradients,disableCustomColors:disableCustomColors,disableCustomGradients:disableCustomGradients,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,className:className,label:label,onColorChange:onColorChange,onGradientChange:onGradientChange,colorValue:colorValue,gradientValue:gradientValue,clearable:clearable,showTitle:showTitle=!0,enableAlpha:enableAlpha,headingLevel:headingLevel}){const canChooseAColor=onColorChange&&(colors&&colors.length>0||!disableCustomColors),canChooseAGradient=onGradientChange&&(gradients&&gradients.length>0||!disableCustomGradients);if(!canChooseAColor&&!canChooseAGradient)return null;const tabPanels={[TAB_COLOR.value]:(0,react.createElement)(color_palette.ZP,{value:colorValue,onChange:canChooseAGradient?newColor=>{onColorChange(newColor),onGradientChange()}:onColorChange,colors:colors,disableCustomColors:disableCustomColors,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:clearable,enableAlpha:enableAlpha,headingLevel:headingLevel}),[TAB_GRADIENT.value]:(0,react.createElement)(gradient_picker.Z,{__nextHasNoMargin:!0,value:gradientValue,onChange:canChooseAColor?newGradient=>{onGradientChange(newGradient),onColorChange()}:onGradientChange,gradients:gradients,disableCustomGradients:disableCustomGradients,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:clearable,headingLevel:headingLevel})},renderPanelType=type=>(0,react.createElement)("div",{className:"block-editor-color-gradient-control__panel"},tabPanels[type]);return(0,react.createElement)(base_control.ZP,{__nextHasNoMarginBottom:!0,className:classnames_default()("block-editor-color-gradient-control",className)},(0,react.createElement)("fieldset",{className:"block-editor-color-gradient-control__fieldset"},(0,react.createElement)(v_stack_component.Z,{spacing:1},showTitle&&(0,react.createElement)("legend",null,(0,react.createElement)("div",{className:"block-editor-color-gradient-control__color-indicator"},(0,react.createElement)(base_control.ZP.VisualLabel,null,label))),canChooseAColor&&canChooseAGradient&&(0,react.createElement)(tab_panel.Z,{className:"block-editor-color-gradient-control__tabs",tabs:TABS_SETTINGS,initialTabName:gradientValue?TAB_GRADIENT.value:!!canChooseAColor&&TAB_COLOR.value},(tab=>renderPanelType(tab.value))),!canChooseAGradient&&renderPanelType(TAB_COLOR.value),!canChooseAColor&&renderPanelType(TAB_GRADIENT.value))))}function ColorGradientControlSelect(props){const[colors,gradients,customColors,customGradients]=use_settings_useSettings("color.palette","color.gradients","color.custom","color.customGradient");return(0,react.createElement)(ColorGradientControlInner,{colors:colors,gradients:gradients,disableCustomColors:!customColors,disableCustomGradients:!customGradients,...props})}function ColorGradientControl(props){return colorsAndGradientKeys.every((key=>props.hasOwnProperty(key)))?(0,react.createElement)(ColorGradientControlInner,{...props}):(0,react.createElement)(ColorGradientControlSelect,{...props})}ColorGradientControl.__docgenInfo={description:"",methods:[],displayName:"ColorGradientControl"};var control=ColorGradientControl;function useHasColorPanel(settings){const hasTextPanel=useHasTextPanel(settings),hasBackgroundPanel=useHasBackgroundPanel(settings),hasLinkPanel=useHasLinkPanel(settings),hasHeadingPanel=useHasHeadingPanel(settings),hasButtonPanel=useHasButtonPanel(settings),hasCaptionPanel=useHasCaptionPanel(settings);return hasTextPanel||hasBackgroundPanel||hasLinkPanel||hasHeadingPanel||hasButtonPanel||hasCaptionPanel}function useHasTextPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.text&&(colors?.length>0||settings?.color?.custom)}function useHasLinkPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.link&&(colors?.length>0||settings?.color?.custom)}function useHasCaptionPanel(settings){const colors=useColorsPerOrigin(settings);return settings?.color?.caption&&(colors?.length>0||settings?.color?.custom)}function useHasHeadingPanel(settings){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings);return settings?.color?.heading&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient)}function useHasButtonPanel(settings){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings);return settings?.color?.button&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient)}function useHasBackgroundPanel(settings){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings);return settings?.color?.background&&(colors?.length>0||settings?.color?.custom||gradients?.length>0||settings?.color?.customGradient)}function ColorToolsPanel({resetAllFilter:resetAllFilter,onChange:onChange,value:value,panelId:panelId,children:children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Color"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId:panelId,hasInnerWrapper:!0,className:"color-block-support-panel",__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last"},(0,react.createElement)("div",{className:"color-block-support-panel__inner-wrapper"},children))}const color_panel_DEFAULT_CONTROLS={text:!0,background:!0,link:!0,heading:!0,button:!0,caption:!0},popoverProps={placement:"left-start",offset:36,shift:!0},LabeledColorIndicators=({indicators:indicators,label:label})=>(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(z_stack_component.Z,{isLayered:!1,offset:-8},indicators.map(((indicator,index)=>(0,react.createElement)(component.Z,{key:index,expanded:!1},(0,react.createElement)(color_indicator.Z,{colorValue:indicator}))))),(0,react.createElement)(flex_item_component.Z,{className:"block-editor-panel-color-gradient-settings__color-name",title:label},label));function ColorPanelTab({isGradient:isGradient,inheritedValue:inheritedValue,userValue:userValue,setValue:setValue,colorGradientControlSettings:colorGradientControlSettings}){return(0,react.createElement)(control,{...colorGradientControlSettings,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:isGradient?void 0:inheritedValue,gradientValue:isGradient?inheritedValue:void 0,onColorChange:isGradient?void 0:setValue,onGradientChange:isGradient?setValue:void 0,clearable:inheritedValue===userValue,headingLevel:3})}function ColorPanelDropdown({label:label,hasValue:hasValue,resetValue:resetValue,isShownByDefault:isShownByDefault,indicators:indicators,tabs:tabs,colorGradientControlSettings:colorGradientControlSettings,panelId:panelId}){const tabConfigs=tabs.map((({key:key,label:tabLabel})=>({name:key,title:tabLabel})));return(0,react.createElement)(tools_panel_item_component.Z,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:hasValue,label:label,onDeselect:resetValue,isShownByDefault:isShownByDefault,panelId:panelId},(0,react.createElement)(dropdown.Z,{popoverProps:popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:onToggle,isOpen:isOpen})=>{const toggleProps={onClick:onToggle,className:classnames_default()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":isOpen}),"aria-expanded":isOpen,"aria-label":(0,i18n_build_module.gB)((0,i18n_build_module.__)("Color %s styles"),label)};return(0,react.createElement)(build_module_button.ZP,{...toggleProps},(0,react.createElement)(LabeledColorIndicators,{indicators:indicators,label:label}))},renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},1===tabs.length&&(0,react.createElement)(ColorPanelTab,{...tabs[0],colorGradientControlSettings:colorGradientControlSettings}),tabs.length>1&&(0,react.createElement)(tab_panel.Z,{tabs:tabConfigs},(tab=>{const selectedTab=tabs.find((t=>t.key===tab.name));return selectedTab?(0,react.createElement)(ColorPanelTab,{...selectedTab,colorGradientControlSettings:colorGradientControlSettings}):null}))))}))}function ColorPanel({as:Wrapper=ColorToolsPanel,value:value,onChange:onChange,inheritedValue:inheritedValue=value,settings:settings,panelId:panelId,defaultControls:defaultControls=color_panel_DEFAULT_CONTROLS,children:children}){const colors=useColorsPerOrigin(settings),gradients=useGradientsPerOrigin(settings),areCustomSolidsEnabled=settings?.color?.custom,areCustomGradientsEnabled=settings?.color?.customGradient,hasSolidColors=colors.length>0||areCustomSolidsEnabled,hasGradientColors=gradients.length>0||areCustomGradientsEnabled,decodeValue=rawValue=>getValueFromVariable({settings:settings},"",rawValue),encodeColorValue=colorValue=>{const colorObject=colors.flatMap((({colors:originColors})=>originColors)).find((({color:color})=>color===colorValue));return colorObject?"var:preset|color|"+colorObject.slug:colorValue},encodeGradientValue=gradientValue=>{const gradientObject=gradients.flatMap((({gradients:originGradients})=>originGradients)).find((({gradient:gradient})=>gradient===gradientValue));return gradientObject?"var:preset|gradient|"+gradientObject.slug:gradientValue},showBackgroundPanel=useHasBackgroundPanel(settings),backgroundColor=decodeValue(inheritedValue?.color?.background),userBackgroundColor=decodeValue(value?.color?.background),gradient=decodeValue(inheritedValue?.color?.gradient),userGradient=decodeValue(value?.color?.gradient),showLinkPanel=useHasLinkPanel(settings),linkColor=decodeValue(inheritedValue?.elements?.link?.color?.text),userLinkColor=decodeValue(value?.elements?.link?.color?.text),hoverLinkColor=decodeValue(inheritedValue?.elements?.link?.[":hover"]?.color?.text),userHoverLinkColor=decodeValue(value?.elements?.link?.[":hover"]?.color?.text),showTextPanel=useHasTextPanel(settings),textColor=decodeValue(inheritedValue?.color?.text),userTextColor=decodeValue(value?.color?.text),setTextColor=newColor=>{let changedObject=setImmutably(value,["color","text"],encodeColorValue(newColor));textColor===linkColor&&(changedObject=setImmutably(changedObject,["elements","link","color","text"],encodeColorValue(newColor))),onChange(changedObject)},elements=[{name:"caption",label:(0,i18n_build_module.__)("Captions"),showPanel:useHasCaptionPanel(settings)},{name:"button",label:(0,i18n_build_module.__)("Button"),showPanel:useHasButtonPanel(settings)},{name:"heading",label:(0,i18n_build_module.__)("Heading"),showPanel:useHasHeadingPanel(settings)},{name:"h1",label:(0,i18n_build_module.__)("H1"),showPanel:useHasHeadingPanel(settings)},{name:"h2",label:(0,i18n_build_module.__)("H2"),showPanel:useHasHeadingPanel(settings)},{name:"h3",label:(0,i18n_build_module.__)("H3"),showPanel:useHasHeadingPanel(settings)},{name:"h4",label:(0,i18n_build_module.__)("H4"),showPanel:useHasHeadingPanel(settings)},{name:"h5",label:(0,i18n_build_module.__)("H5"),showPanel:useHasHeadingPanel(settings)},{name:"h6",label:(0,i18n_build_module.__)("H6"),showPanel:useHasHeadingPanel(settings)}],resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,color:void 0,elements:{...previousValue?.elements,link:{...previousValue?.elements?.link,color:void 0,":hover":{color:void 0}},...elements.reduce(((acc,element)=>({...acc,[element.name]:{...previousValue?.elements?.[element.name],color:void 0}})),{})}})),[]),items=[showTextPanel&&{key:"text",label:(0,i18n_build_module.__)("Text"),hasValue:()=>!!userTextColor,resetValue:()=>setTextColor(void 0),isShownByDefault:defaultControls.text,indicators:[textColor],tabs:[{key:"text",label:(0,i18n_build_module.__)("Text"),inheritedValue:textColor,setValue:setTextColor,userValue:userTextColor}]},showBackgroundPanel&&{key:"background",label:(0,i18n_build_module.__)("Background"),hasValue:()=>!!userBackgroundColor||!!userGradient,resetValue:()=>{const newValue=setImmutably(value,["color","background"],void 0);newValue.color.gradient=void 0,onChange(newValue)},isShownByDefault:defaultControls.background,indicators:[null!=gradient?gradient:backgroundColor],tabs:[hasSolidColors&&{key:"background",label:(0,i18n_build_module.__)("Solid"),inheritedValue:backgroundColor,setValue:newColor=>{const newValue=setImmutably(value,["color","background"],encodeColorValue(newColor));newValue.color.gradient=void 0,onChange(newValue)},userValue:userBackgroundColor},hasGradientColors&&{key:"gradient",label:(0,i18n_build_module.__)("Gradient"),inheritedValue:gradient,setValue:newGradient=>{const newValue=setImmutably(value,["color","gradient"],encodeGradientValue(newGradient));newValue.color.background=void 0,onChange(newValue)},userValue:userGradient,isGradient:!0}].filter(Boolean)},showLinkPanel&&{key:"link",label:(0,i18n_build_module.__)("Link"),hasValue:()=>!!userLinkColor||!!userHoverLinkColor,resetValue:()=>{let newValue=setImmutably(value,["elements","link",":hover","color","text"],void 0);newValue=setImmutably(newValue,["elements","link","color","text"],void 0),onChange(newValue)},isShownByDefault:defaultControls.link,indicators:[linkColor,hoverLinkColor],tabs:[{key:"link",label:(0,i18n_build_module.__)("Default"),inheritedValue:linkColor,setValue:newColor=>{onChange(setImmutably(value,["elements","link","color","text"],encodeColorValue(newColor)))},userValue:userLinkColor},{key:"hover",label:(0,i18n_build_module.__)("Hover"),inheritedValue:hoverLinkColor,setValue:newColor=>{onChange(setImmutably(value,["elements","link",":hover","color","text"],encodeColorValue(newColor)))},userValue:userHoverLinkColor}]}].filter(Boolean);return elements.forEach((({name:name,label:label,showPanel:showPanel})=>{if(!showPanel)return;const elementBackgroundColor=decodeValue(inheritedValue?.elements?.[name]?.color?.background),elementGradient=decodeValue(inheritedValue?.elements?.[name]?.color?.gradient),elementTextColor=decodeValue(inheritedValue?.elements?.[name]?.color?.text),elementBackgroundUserColor=decodeValue(value?.elements?.[name]?.color?.background),elementGradientUserColor=decodeValue(value?.elements?.[name]?.color?.gradient),elementTextUserColor=decodeValue(value?.elements?.[name]?.color?.text),supportsBackground="caption"!==name;items.push({key:name,label:label,hasValue:()=>!!(elementTextUserColor||elementBackgroundUserColor||elementGradientUserColor),resetValue:()=>{const newValue=setImmutably(value,["elements",name,"color","background"],void 0);newValue.elements[name].color.gradient=void 0,newValue.elements[name].color.text=void 0,onChange(newValue)},isShownByDefault:defaultControls[name],indicators:supportsBackground?[elementTextColor,null!=elementGradient?elementGradient:elementBackgroundColor]:[elementTextColor],tabs:[hasSolidColors&&{key:"text",label:(0,i18n_build_module.__)("Text"),inheritedValue:elementTextColor,setValue:newTextColor=>{onChange(setImmutably(value,["elements",name,"color","text"],encodeColorValue(newTextColor)))},userValue:elementTextUserColor},hasSolidColors&&supportsBackground&&{key:"background",label:(0,i18n_build_module.__)("Background"),inheritedValue:elementBackgroundColor,setValue:newBackgroundColor=>{const newValue=setImmutably(value,["elements",name,"color","background"],encodeColorValue(newBackgroundColor));newValue.elements[name].color.gradient=void 0,onChange(newValue)},userValue:elementBackgroundUserColor},hasGradientColors&&supportsBackground&&{key:"gradient",label:(0,i18n_build_module.__)("Gradient"),inheritedValue:elementGradient,setValue:newGradient=>{const newValue=setImmutably(value,["elements",name,"color","gradient"],encodeGradientValue(newGradient));newValue.elements[name].color.background=void 0,onChange(newValue)},userValue:elementGradientUserColor,isGradient:!0}].filter(Boolean)})})),(0,react.createElement)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId},items.map((item=>(0,react.createElement)(ColorPanelDropdown,{key:item.key,...item,colorGradientControlSettings:{colors:colors,disableCustomColors:!areCustomSolidsEnabled,gradients:gradients,disableCustomGradients:!areCustomGradientsEnabled},panelId:panelId}))),children)}function ContrastChecker({backgroundColor:backgroundColor,fallbackBackgroundColor:fallbackBackgroundColor,fallbackTextColor:fallbackTextColor,fallbackLinkColor:fallbackLinkColor,fontSize:fontSize,isLargeText:isLargeText,textColor:textColor,linkColor:linkColor,enableAlphaChecker:enableAlphaChecker=!1}){const currentBackgroundColor=backgroundColor||fallbackBackgroundColor;if(!currentBackgroundColor)return null;const currentTextColor=textColor||fallbackTextColor,currentLinkColor=linkColor||fallbackLinkColor;if(!currentTextColor&&!currentLinkColor)return null;const textColors=[{color:currentTextColor,description:(0,i18n_build_module.__)("text color")},{color:currentLinkColor,description:(0,i18n_build_module.__)("link color")}],colordBackgroundColor=(0,colord.Vi)(currentBackgroundColor),backgroundColorHasTransparency=colordBackgroundColor.alpha()<1,backgroundColorBrightness=colordBackgroundColor.brightness(),isReadableOptions={level:"AA",size:isLargeText||!1!==isLargeText&&fontSize>=24?"large":"small"};let message="",speakMessage="";for(const item of textColors){if(!item.color)continue;const colordTextColor=(0,colord.Vi)(item.color),isColordTextReadable=colordTextColor.isReadable(colordBackgroundColor,isReadableOptions),textHasTransparency=colordTextColor.alpha()<1;if(!isColordTextReadable){if(backgroundColorHasTransparency||textHasTransparency)continue;message=backgroundColorBrightness<colordTextColor.brightness()?(0,i18n_build_module.gB)((0,i18n_build_module.__)("This color combination may be hard for people to read. Try using a darker background color and/or a brighter %s."),item.description):(0,i18n_build_module.gB)((0,i18n_build_module.__)("This color combination may be hard for people to read. Try using a brighter background color and/or a darker %s."),item.description),speakMessage=(0,i18n_build_module.__)("This color combination may be hard for people to read.");break}textHasTransparency&&enableAlphaChecker&&(message=(0,i18n_build_module.__)("Transparent text may be hard for people to read."),speakMessage=(0,i18n_build_module.__)("Transparent text may be hard for people to read."))}return message?((0,a11y_build_module.D)(speakMessage),(0,react.createElement)("div",{className:"block-editor-contrast-checker"},(0,react.createElement)(notice.Z,{spokenMessage:null,status:"warning",isDismissible:!1},message))):null}ColorPanel.__docgenInfo={description:"",methods:[],displayName:"ColorPanel",props:{as:{defaultValue:{value:'function ColorToolsPanel({\n  resetAllFilter,\n  onChange,\n  value,\n  panelId,\n  children\n}) {\n  const resetAll = () => {\n    const updatedValue = resetAllFilter(value);\n    onChange(updatedValue);\n  };\n  return createElement(ToolsPanel, {\n    label: __(\'Color\'),\n    resetAll: resetAll,\n    panelId: panelId,\n    hasInnerWrapper: true,\n    className: "color-block-support-panel",\n    __experimentalFirstVisibleItemClass: "first",\n    __experimentalLastVisibleItemClass: "last"\n  }, createElement("div", {\n    className: "color-block-support-panel__inner-wrapper"\n  }, children));\n}',computed:!1},required:!1},inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1},defaultControls:{defaultValue:{value:"{\n  text: true,\n  background: true,\n  link: true,\n  heading: true,\n  button: true,\n  caption: true\n}",computed:!1},required:!1}}},(0,colord.l7)([names.Z,a11y.Z]),ContrastChecker.__docgenInfo={description:"",methods:[],displayName:"ContrastChecker",props:{enableAlphaChecker:{defaultValue:{value:"false",computed:!1},required:!1}}};var contrast_checker=ContrastChecker,use_ref_effect=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js");const BlockRefs=(0,react.createContext)({refs:new Map,callbacks:new Map});function BlockRefsProvider({children:children}){const value=(0,react.useMemo)((()=>({refs:new Map,callbacks:new Map})),[]);return(0,react.createElement)(BlockRefs.Provider,{value:value},children)}function useBlockRefProvider(clientId){const{refs:refs,callbacks:callbacks}=(0,react.useContext)(BlockRefs),ref=(0,react.useRef)();return(0,react.useLayoutEffect)((()=>(refs.set(ref,clientId),()=>{refs.delete(ref)})),[clientId]),(0,use_ref_effect.Z)((element=>{ref.current=element,callbacks.forEach(((id,setElement)=>{clientId===id&&setElement(element)}))}),[clientId])}function useBlockRef(clientId){const{refs:refs}=(0,react.useContext)(BlockRefs),freshClientId=(0,react.useRef)();return freshClientId.current=clientId,(0,react.useMemo)((()=>({get current(){let element=null;for(const[ref,id]of refs.entries())id===freshClientId.current&&ref.current&&(element=ref.current);return element}})),[])}function useBlockElement(clientId){const{callbacks:callbacks}=(0,react.useContext)(BlockRefs),ref=useBlockRef(clientId),[element,setElement]=(0,react.useState)(null);return(0,react.useLayoutEffect)((()=>{if(clientId)return callbacks.set(setElement,clientId),()=>{callbacks.delete(setElement)}}),[clientId]),ref.current||element}function getComputedStyle(node){return node.ownerDocument.defaultView.getComputedStyle(node)}function BlockColorContrastChecker({clientId:clientId}){const[detectedBackgroundColor,setDetectedBackgroundColor]=(0,react.useState)(),[detectedColor,setDetectedColor]=(0,react.useState)(),[detectedLinkColor,setDetectedLinkColor]=(0,react.useState)(),ref=useBlockRef(clientId);return(0,react.useEffect)((()=>{if(!ref.current)return;setDetectedColor(getComputedStyle(ref.current).color);const firstLinkElement=ref.current?.querySelector("a");firstLinkElement&&firstLinkElement.innerText&&setDetectedLinkColor(getComputedStyle(firstLinkElement).color);let backgroundColorNode=ref.current,backgroundColor=getComputedStyle(backgroundColorNode).backgroundColor;for(;"rgba(0, 0, 0, 0)"===backgroundColor&&backgroundColorNode.parentNode&&backgroundColorNode.parentNode.nodeType===backgroundColorNode.parentNode.ELEMENT_NODE;)backgroundColorNode=backgroundColorNode.parentNode,backgroundColor=getComputedStyle(backgroundColorNode).backgroundColor;setDetectedBackgroundColor(backgroundColor)})),(0,react.createElement)(contrast_checker,{backgroundColor:detectedBackgroundColor,textColor:detectedColor,enableAlphaChecker:!0,linkColor:detectedLinkColor})}BlockRefsProvider.__docgenInfo={description:"",methods:[],displayName:"BlockRefsProvider"},BlockColorContrastChecker.__docgenInfo={description:"",methods:[],displayName:"BlockColorContrastChecker"};const COLOR_SUPPORT_KEY="color",hasColorSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&(!0===colorSupport.link||!0===colorSupport.gradient||!1!==colorSupport.background||!1!==colorSupport.text)},hasLinkColorSupport=blockType=>{if("web"!==platform.Z.OS)return!1;const colorSupport=(0,build_module.Dx)(blockType,COLOR_SUPPORT_KEY);return null!==colorSupport&&"object"==typeof colorSupport&&!!colorSupport.link},hasGradientSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,COLOR_SUPPORT_KEY);return null!==colorSupport&&"object"==typeof colorSupport&&!!colorSupport.gradients},hasBackgroundColorSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&!1!==colorSupport.background},hasTextColorSupport=blockType=>{const colorSupport=(0,build_module.Dx)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&!1!==colorSupport.text};function color_addSaveProps(props,blockType,attributes){if(!hasColorSupport(blockType)||shouldSkipSerialization(blockType,COLOR_SUPPORT_KEY))return props;const hasGradient=hasGradientSupport(blockType),{backgroundColor:backgroundColor,textColor:textColor,gradient:gradient,style:style}=attributes,shouldSerialize=feature=>!shouldSkipSerialization(blockType,COLOR_SUPPORT_KEY,feature),textClass=shouldSerialize("text")?getColorClassName("color",textColor):void 0,gradientClass=shouldSerialize("gradients")?__experimentalGetGradientClass(gradient):void 0,backgroundClass=shouldSerialize("background")?getColorClassName("background-color",backgroundColor):void 0,serializeHasBackground=shouldSerialize("background")||shouldSerialize("gradients"),hasBackground=backgroundColor||style?.color?.background||hasGradient&&(gradient||style?.color?.gradient),newClassName=classnames_default()(props.className,textClass,gradientClass,{[backgroundClass]:!(hasGradient&&style?.color?.gradient||!backgroundClass),"has-text-color":shouldSerialize("text")&&(textColor||style?.color?.text),"has-background":serializeHasBackground&&hasBackground,"has-link-color":shouldSerialize("link")&&style?.elements?.link?.color});return props.className=newClassName||void 0,props}function color_styleToAttributes(style){const textColorValue=style?.color?.text,textColorSlug=textColorValue?.startsWith("var:preset|color|")?textColorValue.substring(17):void 0,backgroundColorValue=style?.color?.background,backgroundColorSlug=backgroundColorValue?.startsWith("var:preset|color|")?backgroundColorValue.substring(17):void 0,gradientValue=style?.color?.gradient,gradientSlug=gradientValue?.startsWith("var:preset|gradient|")?gradientValue.substring(20):void 0,updatedStyle={...style};return updatedStyle.color={...updatedStyle.color,text:textColorSlug?void 0:textColorValue,background:backgroundColorSlug?void 0:backgroundColorValue,gradient:gradientSlug?void 0:gradientValue},{style:utils_cleanEmptyObject(updatedStyle),textColor:textColorSlug,backgroundColor:backgroundColorSlug,gradient:gradientSlug}}function color_attributesToStyle(attributes){return{...attributes.style,color:{...attributes.style?.color,text:attributes.textColor?"var:preset|color|"+attributes.textColor:attributes.style?.color?.text,background:attributes.backgroundColor?"var:preset|color|"+attributes.backgroundColor:attributes.style?.color?.background,gradient:attributes.gradient?"var:preset|gradient|"+attributes.gradient:attributes.style?.color?.gradient}}}function ColorInspectorControl({children:children,resetAllFilter:resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=color_attributesToStyle(attributes),updatedStyle=resetAllFilter(existingStyle);return{...attributes,...color_styleToAttributes(updatedStyle)}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"color",resetAllFilter:attributesResetAllFilter},children)}function ColorEdit(props){const{clientId:clientId,name:name,attributes:attributes,setAttributes:setAttributes}=props,settings=useBlockSettings(name),isEnabled=useHasColorPanel(settings),value=(0,react.useMemo)((()=>color_attributesToStyle({style:attributes.style,textColor:attributes.textColor,backgroundColor:attributes.backgroundColor,gradient:attributes.gradient})),[attributes.style,attributes.textColor,attributes.backgroundColor,attributes.gradient]);if(!isEnabled)return null;const defaultControls=(0,build_module.Dx)(props.name,[COLOR_SUPPORT_KEY,"__experimentalDefaultControls"]),enableContrastChecking="web"===platform.Z.OS&&!value?.color?.gradient&&(settings?.color?.text||settings?.color?.link)&&!1!==(0,build_module.Dx)(props.name,[COLOR_SUPPORT_KEY,"enableContrastChecker"]);return(0,react.createElement)(ColorPanel,{as:ColorInspectorControl,panelId:clientId,settings:settings,value:value,onChange:newStyle=>{setAttributes(color_styleToAttributes(newStyle))},defaultControls:defaultControls,enableContrastChecker:!1!==(0,build_module.Dx)(props.name,[COLOR_SUPPORT_KEY,"enableContrastChecker"])},enableContrastChecking&&(0,react.createElement)(BlockColorContrastChecker,{clientId:clientId}))}const withColorPaletteStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name:name,attributes:attributes}=props,{backgroundColor:backgroundColor,textColor:textColor}=attributes,[userPalette,themePalette,defaultPalette]=use_settings_useSettings("color.palette.custom","color.palette.theme","color.palette.default"),colors=(0,react.useMemo)((()=>[...userPalette||[],...themePalette||[],...defaultPalette||[]]),[userPalette,themePalette,defaultPalette]);if(!hasColorSupport(name)||shouldSkipSerialization(name,COLOR_SUPPORT_KEY))return(0,react.createElement)(BlockListBlock,{...props});const extraStyles={};textColor&&!shouldSkipSerialization(name,COLOR_SUPPORT_KEY,"text")&&(extraStyles.color=getColorObjectByAttributeValues(colors,textColor)?.color),backgroundColor&&!shouldSkipSerialization(name,COLOR_SUPPORT_KEY,"background")&&(extraStyles.backgroundColor=getColorObjectByAttributeValues(colors,backgroundColor)?.color);let wrapperProps=props.wrapperProps;return wrapperProps={...props.wrapperProps,style:{...extraStyles,...props.wrapperProps?.style}},(0,react.createElement)(BlockListBlock,{...props,wrapperProps:wrapperProps})}),"withColorPaletteStyles"),MIGRATION_PATHS={linkColor:[["style","elements","link","color","text"]],textColor:[["textColor"],["style","color","text"]],backgroundColor:[["backgroundColor"],["style","color","background"]],gradient:[["gradient"],["style","color","gradient"]]};(0,hooks_build_module.KJ)("blocks.registerBlockType","core/color/addAttribute",(function color_addAttributes(settings){return hasColorSupport(settings)?(settings.attributes.backgroundColor||Object.assign(settings.attributes,{backgroundColor:{type:"string"}}),settings.attributes.textColor||Object.assign(settings.attributes,{textColor:{type:"string"}}),hasGradientSupport(settings)&&!settings.attributes.gradient&&Object.assign(settings.attributes,{gradient:{type:"string"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/color/addSaveProps",color_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/color/addEditProps",(function color_addEditProps(settings){if(!hasColorSupport(settings)||shouldSkipSerialization(settings,COLOR_SUPPORT_KEY))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),color_addSaveProps(props,settings,attributes)},settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/color/with-color-palette-styles",withColorPaletteStyles),(0,hooks_build_module.KJ)("blocks.switchToBlockType.transformedBlock","core/color/addTransforms",(function color_addTransforms(result,source,index,results){const destinationBlockType=result.name;return transformStyles({linkColor:hasLinkColorSupport(destinationBlockType),textColor:hasTextColorSupport(destinationBlockType),backgroundColor:hasBackgroundColorSupport(destinationBlockType),gradient:hasGradientSupport(destinationBlockType)},MIGRATION_PATHS,result,source,index,results)})),ColorEdit.__docgenInfo={description:"",methods:[],displayName:"ColorEdit"};var library_settings=__webpack_require__("./packages/icons/build-module/library/settings.js");function getCommonSizeUnit(fontSizes){const[firstFontSize,...otherFontSizes]=fontSizes;if(!firstFontSize)return null;const[,firstUnit]=(0,utils.YX)(firstFontSize.size);return otherFontSizes.every((fontSize=>{const[,unit]=(0,utils.YX)(fontSize.size);return unit===firstUnit}))?firstUnit:null}var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const Container=(0,emotion_styled_base_browser_esm.Z)("fieldset",{target:"e8tqeku5"})({name:"1t1ytme",styles:"border:0;margin:0;padding:0"}),Header=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"e8tqeku4"})("height:",(0,space.D)(4),";"),HeaderToggle=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{target:"e8tqeku3"})("margin-top:",(0,space.D)(-1),";"),HeaderLabel=(0,emotion_styled_base_browser_esm.Z)(base_control.ZP.VisualLabel,{target:"e8tqeku2"})("display:flex;gap:",(0,space.D)(1),";justify-content:flex-start;margin-bottom:0;"),HeaderHint=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e8tqeku1"})("color:",colors_values.D.gray[700],";"),Controls=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e8tqeku0"})((props=>!props.__nextHasNoMarginBottom&&`margin-bottom: ${(0,space.D)(6)};`),";");var spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),custom_select_control=__webpack_require__("./packages/components/build-module/custom-select-control/index.js");const DEFAULT_OPTION={key:"default",name:(0,i18n_build_module.__)("Default"),value:void 0},CUSTOM_OPTION={key:"custom",name:(0,i18n_build_module.__)("Custom")},FontSizePickerSelect=props=>{var _options$find;const{fontSizes:fontSizes,value:value,disableCustomFontSizes:disableCustomFontSizes,size:size,onChange:onChange,onSelectCustom:onSelectCustom}=props,areAllSizesSameUnit=!!getCommonSizeUnit(fontSizes),options=[DEFAULT_OPTION,...fontSizes.map((fontSize=>{let hint;if(areAllSizesSameUnit){const[quantity]=(0,utils.YX)(fontSize.size);void 0!==quantity&&(hint=String(quantity))}else(function isSimpleCssValue(value){return/^[\d\.]+(px|em|rem|vw|vh|%|svw|lvw|dvw|svh|lvh|dvh|vi|svi|lvi|dvi|vb|svb|lvb|dvb|vmin|svmin|lvmin|dvmin|vmax|svmax|lvmax|dvmax)?$/i.test(String(value))})(fontSize.size)&&(hint=String(fontSize.size));return{key:fontSize.slug,name:fontSize.name||fontSize.slug,value:fontSize.size,__experimentalHint:hint}})),...disableCustomFontSizes?[]:[CUSTOM_OPTION]],selectedOption=value?null!==(_options$find=options.find((option=>option.value===value)))&&void 0!==_options$find?_options$find:CUSTOM_OPTION:DEFAULT_OPTION;return(0,react.createElement)(custom_select_control.Z,{__nextUnconstrainedWidth:!0,className:"components-font-size-picker__select",label:(0,i18n_build_module.__)("Font size"),hideLabelFromVision:!0,describedBy:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font size: %s"),selectedOption.name),options:options,value:selectedOption,__experimentalShowSelectedHint:!0,onChange:({selectedItem:selectedItem})=>{selectedItem===CUSTOM_OPTION?onSelectCustom():onChange(selectedItem.value)},size:size})};FontSizePickerSelect.__docgenInfo={description:"",methods:[],displayName:"FontSizePickerSelect"};var font_size_picker_select=FontSizePickerSelect,toggle_group_control_option_component=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option/component.js");const T_SHIRT_ABBREVIATIONS=[(0,i18n_build_module.__)("S"),(0,i18n_build_module.__)("M"),(0,i18n_build_module.__)("L"),(0,i18n_build_module.__)("XL"),(0,i18n_build_module.__)("XXL")],T_SHIRT_NAMES=[(0,i18n_build_module.__)("Small"),(0,i18n_build_module.__)("Medium"),(0,i18n_build_module.__)("Large"),(0,i18n_build_module.__)("Extra Large"),(0,i18n_build_module.__)("Extra Extra Large")],FontSizePickerToggleGroup=props=>{const{fontSizes:fontSizes,value:value,__nextHasNoMarginBottom:__nextHasNoMarginBottom,size:size,onChange:onChange}=props;return(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:(0,i18n_build_module.__)("Font size"),hideLabelFromVision:!0,value:value,onChange:onChange,isBlock:!0,size:size},fontSizes.map(((fontSize,index)=>(0,react.createElement)(toggle_group_control_option_component.Z,{key:fontSize.slug,value:fontSize.size,label:T_SHIRT_ABBREVIATIONS[index],"aria-label":fontSize.name||T_SHIRT_NAMES[index],showTooltip:!0}))))};FontSizePickerToggleGroup.__docgenInfo={description:"",methods:[],displayName:"FontSizePickerToggleGroup"};var font_size_picker_toggle_group=FontSizePickerToggleGroup;const UnforwardedFontSizePicker=(props,ref)=>{const{__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,fallbackFontSize:fallbackFontSize,fontSizes:fontSizes=[],disableCustomFontSizes:disableCustomFontSizes=!1,onChange:onChange,size:size="default",units:unitsProp,value:value,withSlider:withSlider=!1,withReset:withReset=!0}=props;__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.components.FontSizePicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version."});const units=(0,utils.nj)({availableUnits:unitsProp||["px","em","rem"]}),shouldUseSelectControl=fontSizes.length>5,selectedFontSize=fontSizes.find((fontSize=>fontSize.size===value)),isCustomValue=!!value&&!selectedFontSize,[showCustomValueControl,setShowCustomValueControl]=(0,react.useState)(!disableCustomFontSizes&&isCustomValue),headerHint=(0,react.useMemo)((()=>{if(showCustomValueControl)return(0,i18n_build_module.__)("Custom");if(!shouldUseSelectControl)return selectedFontSize?selectedFontSize.name||T_SHIRT_NAMES[fontSizes.indexOf(selectedFontSize)]:"";const commonUnit=getCommonSizeUnit(fontSizes);return commonUnit?`(${commonUnit})`:""}),[showCustomValueControl,shouldUseSelectControl,selectedFontSize,fontSizes]);if(0===fontSizes.length&&disableCustomFontSizes)return null;const hasUnits="string"==typeof value||"string"==typeof fontSizes[0]?.size,[valueQuantity,valueUnit]=(0,utils.YX)(value,units),isValueUnitRelative=!!valueUnit&&["em","rem"].includes(valueUnit);return(0,react.createElement)(Container,{ref:ref,className:"components-font-size-picker"},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Font size")),(0,react.createElement)(spacer_component.Z,null,(0,react.createElement)(Header,{className:"components-font-size-picker__header"},(0,react.createElement)(HeaderLabel,{"aria-label":`${(0,i18n_build_module.__)("Size")} ${headerHint||""}`},(0,i18n_build_module.__)("Size"),headerHint&&(0,react.createElement)(HeaderHint,{className:"components-font-size-picker__header__hint"},headerHint)),!disableCustomFontSizes&&(0,react.createElement)(HeaderToggle,{label:showCustomValueControl?(0,i18n_build_module.__)("Use size preset"):(0,i18n_build_module.__)("Set custom size"),icon:library_settings.Z,onClick:()=>{setShowCustomValueControl(!showCustomValueControl)},isPressed:showCustomValueControl,isSmall:!0}))),(0,react.createElement)(Controls,{className:"components-font-size-picker__controls",__nextHasNoMarginBottom:__nextHasNoMarginBottom},!!fontSizes.length&&shouldUseSelectControl&&!showCustomValueControl&&(0,react.createElement)(font_size_picker_select,{fontSizes:fontSizes,value:value,disableCustomFontSizes:disableCustomFontSizes,size:size,onChange:newValue=>{void 0===newValue?onChange?.(void 0):onChange?.(hasUnits?newValue:Number(newValue),fontSizes.find((fontSize=>fontSize.size===newValue)))},onSelectCustom:()=>setShowCustomValueControl(!0)}),!shouldUseSelectControl&&!showCustomValueControl&&(0,react.createElement)(font_size_picker_toggle_group,{fontSizes:fontSizes,value:value,__nextHasNoMarginBottom:__nextHasNoMarginBottom,size:size,onChange:newValue=>{void 0===newValue?onChange?.(void 0):onChange?.(hasUnits?newValue:Number(newValue),fontSizes.find((fontSize=>fontSize.size===newValue)))}}),!disableCustomFontSizes&&showCustomValueControl&&(0,react.createElement)(component.Z,{className:"components-font-size-picker__custom-size-control"},(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Custom"),labelPosition:"top",hideLabelFromVision:!0,value:value,onChange:newValue=>{onChange?.(void 0===newValue?void 0:hasUnits?newValue:parseInt(newValue,10))},size:size,units:hasUnits?units:[],min:0})),withSlider&&(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(spacer_component.Z,{marginX:2,marginBottom:0},(0,react.createElement)(range_control.Z,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,className:"components-font-size-picker__custom-input",label:(0,i18n_build_module.__)("Custom Size"),hideLabelFromVision:!0,value:valueQuantity,initialPosition:fallbackFontSize,withInputField:!1,onChange:newValue=>{onChange?.(void 0===newValue?void 0:hasUnits?newValue+(null!=valueUnit?valueUnit:"px"):newValue)},min:0,max:isValueUnitRelative?10:100,step:isValueUnitRelative?.1:1}))),withReset&&(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.zx,{disabled:void 0===value,onClick:()=>{onChange?.(void 0)},variant:"secondary",__next40pxDefaultSize:!0,size:"__unstable-large"!==size?"small":"default"},(0,i18n_build_module.__)("Reset"))))))};var font_size_picker=(0,react.forwardRef)(UnforwardedFontSizePicker);UnforwardedFontSizePicker.__docgenInfo={description:"",methods:[],displayName:"UnforwardedFontSizePicker"};var number_control=__webpack_require__("./packages/components/build-module/number-control/index.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js");function FontFamilyControl({value:value="",onChange:onChange,fontFamilies:fontFamilies,...props}){const[blockLevelFontFamilies]=use_settings_useSettings("typography.fontFamilies");if(fontFamilies||(fontFamilies=blockLevelFontFamilies),!fontFamilies||0===fontFamilies.length)return null;const options=[{value:"",label:(0,i18n_build_module.__)("Default")},...fontFamilies.map((({fontFamily:fontFamily,name:name})=>({value:fontFamily,label:name||fontFamily})))];return(0,react.createElement)(select_control.Z,{label:(0,i18n_build_module.__)("Font"),options:options,value:value,onChange:onChange,labelPosition:"top",...props})}FontFamilyControl.__docgenInfo={description:"",methods:[],displayName:"FontFamilyControl",props:{value:{defaultValue:{value:"''",computed:!1},required:!1}}};const FONT_STYLES=[{name:(0,i18n_build_module._x)("Regular","font style"),value:"normal"},{name:(0,i18n_build_module._x)("Italic","font style"),value:"italic"}],FONT_WEIGHTS=[{name:(0,i18n_build_module._x)("Thin","font weight"),value:"100"},{name:(0,i18n_build_module._x)("Extra Light","font weight"),value:"200"},{name:(0,i18n_build_module._x)("Light","font weight"),value:"300"},{name:(0,i18n_build_module._x)("Regular","font weight"),value:"400"},{name:(0,i18n_build_module._x)("Medium","font weight"),value:"500"},{name:(0,i18n_build_module._x)("Semi Bold","font weight"),value:"600"},{name:(0,i18n_build_module._x)("Bold","font weight"),value:"700"},{name:(0,i18n_build_module._x)("Extra Bold","font weight"),value:"800"},{name:(0,i18n_build_module._x)("Black","font weight"),value:"900"}],getFontAppearanceLabel=(hasFontStyles,hasFontWeights)=>hasFontStyles?hasFontWeights?(0,i18n_build_module.__)("Appearance"):(0,i18n_build_module.__)("Font style"):(0,i18n_build_module.__)("Font weight");function FontAppearanceControl(props){const{onChange:onChange,hasFontStyles:hasFontStyles=!0,hasFontWeights:hasFontWeights=!0,value:{fontStyle:fontStyle,fontWeight:fontWeight},...otherProps}=props,hasStylesOrWeights=hasFontStyles||hasFontWeights,label=getFontAppearanceLabel(hasFontStyles,hasFontWeights),defaultOption={key:"default",name:(0,i18n_build_module.__)("Default"),style:{fontStyle:void 0,fontWeight:void 0}},selectOptions=(0,react.useMemo)((()=>hasFontStyles&&hasFontWeights?(()=>{const combinedOptions=[defaultOption];return FONT_STYLES.forEach((({name:styleName,value:styleValue})=>{FONT_WEIGHTS.forEach((({name:weightName,value:weightValue})=>{const optionName="normal"===styleValue?weightName:(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s %2$s"),weightName,styleName);combinedOptions.push({key:`${styleValue}-${weightValue}`,name:optionName,style:{fontStyle:styleValue,fontWeight:weightValue}})}))})),combinedOptions})():hasFontStyles?(()=>{const combinedOptions=[defaultOption];return FONT_STYLES.forEach((({name:name,value:value})=>{combinedOptions.push({key:value,name:name,style:{fontStyle:value,fontWeight:void 0}})})),combinedOptions})():(()=>{const combinedOptions=[defaultOption];return FONT_WEIGHTS.forEach((({name:name,value:value})=>{combinedOptions.push({key:value,name:name,style:{fontStyle:void 0,fontWeight:value}})})),combinedOptions})()),[props.options]),currentSelection=selectOptions.find((option=>option.style.fontStyle===fontStyle&&option.style.fontWeight===fontWeight))||selectOptions[0];return hasStylesOrWeights&&(0,react.createElement)(custom_select_control.q,{...otherProps,className:"components-font-appearance-control",label:label,describedBy:currentSelection?hasFontStyles?hasFontWeights?(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font appearance: %s"),currentSelection.name):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font style: %s"),currentSelection.name):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected font weight: %s"),currentSelection.name):(0,i18n_build_module.__)("No selected font appearance"),options:selectOptions,value:currentSelection,onChange:({selectedItem:selectedItem})=>onChange(selectedItem.style),__nextUnconstrainedWidth:!0})}FontAppearanceControl.__docgenInfo={description:"Control to display unified font style and weight options.\n\n@param {Object} props Component props.\n\n@return {Element} Font appearance control.",methods:[],displayName:"FontAppearanceControl"};const LineHeightControl=({value:lineHeight,onChange:onChange,__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,__unstableInputWidth:__unstableInputWidth="60px",...otherProps})=>{const isDefined=function isLineHeightDefined(lineHeight){return void 0!==lineHeight&&""!==lineHeight}(lineHeight),adjustNextValue=(nextValue,wasTypedOrPasted)=>{if(isDefined)return nextValue;switch(`${nextValue}`){case"0.1":return 1.6;case"0":return wasTypedOrPasted?nextValue:1.4;case"":return 1.5;default:return nextValue}},value=isDefined?lineHeight:"";__nextHasNoMarginBottom||(0,deprecated_build_module.Z)("Bottom margin styles for wp.blockEditor.LineHeightControl",{since:"6.0",version:"6.4",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version"});const deprecatedStyles=__nextHasNoMarginBottom?void 0:{marginBottom:24};return(0,react.createElement)("div",{className:"block-editor-line-height-control",style:deprecatedStyles},(0,react.createElement)(number_control.Z,{...otherProps,__unstableInputWidth:__unstableInputWidth,__unstableStateReducer:(state,action)=>{const wasTypedOrPasted=["insertText","insertFromPaste"].includes(action.payload.event.nativeEvent?.inputType),value=adjustNextValue(state.value,wasTypedOrPasted);return{...state,value:value}},onChange:(nextValue,{event:event})=>{""!==nextValue?"click"!==event.type?onChange(`${nextValue}`):onChange(adjustNextValue(`${nextValue}`,!1)):onChange()},label:(0,i18n_build_module.__)("Line height"),placeholder:1.5,step:.01,spinFactor:10,value:value,min:0,spinControls:"custom"}))};LineHeightControl.__docgenInfo={description:"",methods:[],displayName:"LineHeightControl",props:{__nextHasNoMarginBottom:{defaultValue:{value:"false",computed:!1},required:!1},__unstableInputWidth:{defaultValue:{value:"'60px'",computed:!1},required:!1}}};var line_height_control=LineHeightControl;function LetterSpacingControl({value:value,onChange:onChange,__unstableInputWidth:__unstableInputWidth="60px",...otherProps}){const[availableUnits]=use_settings_useSettings("spacing.units"),units=(0,utils.nj)({availableUnits:availableUnits||["px","em","rem"],defaultValues:{px:2,em:.2,rem:.2}});return(0,react.createElement)(unit_control.ZP,{...otherProps,label:(0,i18n_build_module.__)("Letter spacing"),value:value,__unstableInputWidth:__unstableInputWidth,units:units,onChange:onChange})}LetterSpacingControl.__docgenInfo={description:"Control for letter-spacing.\n\n@param {Object}                  props                      Component props.\n@param {string}                  props.value                Currently selected letter-spacing.\n@param {Function}                props.onChange             Handles change in letter-spacing selection.\n@param {string|number|undefined} props.__unstableInputWidth Input width to pass through to inner UnitControl. Should be a valid CSS value.\n\n@return {Element} Letter-spacing control.",methods:[],displayName:"LetterSpacingControl",props:{__unstableInputWidth:{defaultValue:{value:"'60px'",computed:!1},required:!1}}};var library_reset=__webpack_require__("./packages/icons/build-module/library/reset.js"),format_uppercase=__webpack_require__("./packages/icons/build-module/library/format-uppercase.js"),format_lowercase=__webpack_require__("./packages/icons/build-module/library/format-lowercase.js"),format_capitalize=__webpack_require__("./packages/icons/build-module/library/format-capitalize.js");const TEXT_TRANSFORMS=[{name:(0,i18n_build_module.__)("None"),value:"none",icon:library_reset.Z},{name:(0,i18n_build_module.__)("Uppercase"),value:"uppercase",icon:format_uppercase.Z},{name:(0,i18n_build_module.__)("Lowercase"),value:"lowercase",icon:format_lowercase.Z},{name:(0,i18n_build_module.__)("Capitalize"),value:"capitalize",icon:format_capitalize.Z}];function TextTransformControl({className:className,value:value,onChange:onChange}){return(0,react.createElement)("fieldset",{className:classnames_default()("block-editor-text-transform-control",className)},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Letter case")),(0,react.createElement)("div",{className:"block-editor-text-transform-control__buttons"},TEXT_TRANSFORMS.map((textTransform=>(0,react.createElement)(build_module_button.ZP,{key:textTransform.value,icon:textTransform.icon,label:textTransform.name,isPressed:textTransform.value===value,onClick:()=>{onChange(textTransform.value===value?void 0:textTransform.value)}})))))}TextTransformControl.__docgenInfo={description:"Control to facilitate text transform selections.\n\n@param {Object}   props           Component props.\n@param {string}   props.className Class name to add to the control.\n@param {string}   props.value     Currently selected text transform.\n@param {Function} props.onChange  Handles change in text transform selection.\n\n@return {Element} Text transform control.",methods:[],displayName:"TextTransformControl"};var format_underline=__webpack_require__("./packages/icons/build-module/library/format-underline.js"),format_strikethrough=__webpack_require__("./packages/icons/build-module/library/format-strikethrough.js");const TEXT_DECORATIONS=[{name:(0,i18n_build_module.__)("None"),value:"none",icon:library_reset.Z},{name:(0,i18n_build_module.__)("Underline"),value:"underline",icon:format_underline.Z},{name:(0,i18n_build_module.__)("Strikethrough"),value:"line-through",icon:format_strikethrough.Z}];function TextDecorationControl({value:value,onChange:onChange,className:className}){return(0,react.createElement)("fieldset",{className:classnames_default()("block-editor-text-decoration-control",className)},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Decoration")),(0,react.createElement)("div",{className:"block-editor-text-decoration-control__buttons"},TEXT_DECORATIONS.map((textDecoration=>(0,react.createElement)(build_module_button.ZP,{key:textDecoration.value,icon:textDecoration.icon,label:textDecoration.name,isPressed:textDecoration.value===value,onClick:()=>{onChange(textDecoration.value===value?void 0:textDecoration.value)}})))))}TextDecorationControl.__docgenInfo={description:"Control to facilitate text decoration selections.\n\n@param {Object}   props             Component props.\n@param {string}   props.value       Currently selected text decoration.\n@param {Function} props.onChange    Handles change in text decoration selection.\n@param {string}   [props.className] Additional class name to apply.\n\n@return {Element} Text decoration control.",methods:[],displayName:"TextDecorationControl"};var text_horizontal=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M8.2 14.4h3.9L13 17h1.7L11 6.5H9.3L5.6 17h1.7l.9-2.6zm2-5.5 1.4 4H8.8l1.4-4zm7.4 7.5-1.3.8.8 1.4H5.5V20h14.3l-2.2-3.6z"}));var text_vertical=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M7 5.6v1.7l2.6.9v3.9L7 13v1.7L17.5 11V9.3L7 5.6zm4.2 6V8.8l4 1.4-4 1.4zm-5.7 5.6V5.5H4v14.3l3.6-2.2-.8-1.3-1.3.9z"}));const WRITING_MODES=[{name:(0,i18n_build_module.__)("Horizontal"),value:"horizontal-tb",icon:text_horizontal},{name:(0,i18n_build_module.__)("Vertical"),value:(0,i18n_build_module.dZ)()?"vertical-lr":"vertical-rl",icon:text_vertical}];function WritingModeControl({className:className,value:value,onChange:onChange}){return(0,react.createElement)("fieldset",{className:classnames_default()("block-editor-writing-mode-control",className)},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},(0,i18n_build_module.__)("Orientation")),(0,react.createElement)("div",{className:"block-editor-writing-mode-control__buttons"},WRITING_MODES.map((writingMode=>(0,react.createElement)(build_module_button.ZP,{key:writingMode.value,icon:writingMode.icon,label:writingMode.name,isPressed:writingMode.value===value,onClick:()=>{onChange(writingMode.value===value?void 0:writingMode.value)}})))))}WritingModeControl.__docgenInfo={description:"Control to facilitate writing mode selections.\n\n@param {Object}   props           Component props.\n@param {string}   props.className Class name to add to the control.\n@param {string}   props.value     Currently selected writing mode.\n@param {Function} props.onChange  Handles change in the writing mode selection.\n\n@return {Element} Writing Mode control.",methods:[],displayName:"WritingModeControl"};const MIN_TEXT_COLUMNS=1,MAX_TEXT_COLUMNS=6;function useHasTypographyPanel(settings){const hasFontFamily=useHasFontFamilyControl(settings),hasLineHeight=useHasLineHeightControl(settings),hasFontAppearance=useHasAppearanceControl(settings),hasLetterSpacing=useHasLetterSpacingControl(settings),hasTextTransform=useHasTextTransformControl(settings),hasTextDecoration=useHasTextDecorationControl(settings),hasWritingMode=useHasWritingModeControl(settings),hasTextColumns=useHasTextColumnsControl(settings),hasFontSize=useHasFontSizeControl(settings);return hasFontFamily||hasLineHeight||hasFontAppearance||hasLetterSpacing||hasTextTransform||hasFontSize||hasTextDecoration||hasWritingMode||hasTextColumns}function useHasFontSizeControl(settings){return hasMergedOrigins(settings?.typography?.fontSizes)||settings?.typography?.customFontSize}function useHasFontFamilyControl(settings){return hasMergedOrigins(settings?.typography?.fontFamilies)}function useHasLineHeightControl(settings){return settings?.typography?.lineHeight}function useHasAppearanceControl(settings){return settings?.typography?.fontStyle||settings?.typography?.fontWeight}function useHasLetterSpacingControl(settings){return settings?.typography?.letterSpacing}function useHasTextTransformControl(settings){return settings?.typography?.textTransform}function useHasTextDecorationControl(settings){return settings?.typography?.textDecoration}function useHasWritingModeControl(settings){return settings?.typography?.writingMode}function useHasTextColumnsControl(settings){return settings?.typography?.textColumns}function TypographyToolsPanel({resetAllFilter:resetAllFilter,onChange:onChange,value:value,panelId:panelId,children:children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Typography"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId:panelId},children)}const typography_panel_DEFAULT_CONTROLS={fontFamily:!0,fontSize:!0,fontAppearance:!0,lineHeight:!0,letterSpacing:!0,textTransform:!0,textDecoration:!0,writingMode:!0,textColumns:!0};function TypographyPanel({as:Wrapper=TypographyToolsPanel,value:value,onChange:onChange,inheritedValue:inheritedValue=value,settings:settings,panelId:panelId,defaultControls:defaultControls=typography_panel_DEFAULT_CONTROLS}){const decodeValue=rawValue=>getValueFromVariable({settings:settings},"",rawValue),hasFontFamilyEnabled=useHasFontFamilyControl(settings),fontFamilies=settings?.typography?.fontFamilies,mergedFontFamilies=fontFamilies?mergeOrigins(fontFamilies):[],fontFamily=decodeValue(inheritedValue?.typography?.fontFamily),setFontFamily=newValue=>{const slug=mergedFontFamilies?.find((({fontFamily:f})=>f===newValue))?.slug;onChange(setImmutably(value,["typography","fontFamily"],slug?`var:preset|font-family|${slug}`:newValue||void 0))},hasFontSizeEnabled=useHasFontSizeControl(settings),disableCustomFontSizes=!settings?.typography?.customFontSize,mergedFontSizes=function getUniqueFontSizesBySlug(settings){const fontSizes=settings?.typography?.fontSizes,mergedFontSizes=fontSizes?mergeOrigins(fontSizes):[],uniqueSizes=[];for(const currentSize of mergedFontSizes)uniqueSizes.some((({slug:slug})=>slug===currentSize.slug))||uniqueSizes.push(currentSize);return uniqueSizes}(settings),fontSize=decodeValue(inheritedValue?.typography?.fontSize),setFontSize=(newValue,metadata)=>{onChange(setImmutably(value,["typography","fontSize"],(metadata?.slug?`var:preset|font-size|${metadata?.slug}`:newValue)||void 0))},hasAppearanceControl=useHasAppearanceControl(settings),appearanceControlLabel=function useAppearanceControlLabel(settings){return settings?.typography?.fontStyle?settings?.typography?.fontWeight?(0,i18n_build_module.__)("Appearance"):(0,i18n_build_module.__)("Font style"):(0,i18n_build_module.__)("Font weight")}(settings),hasFontStyles=settings?.typography?.fontStyle,hasFontWeights=settings?.typography?.fontWeight,fontStyle=decodeValue(inheritedValue?.typography?.fontStyle),fontWeight=decodeValue(inheritedValue?.typography?.fontWeight),setFontAppearance=({fontStyle:newFontStyle,fontWeight:newFontWeight})=>{onChange({...value,typography:{...value?.typography,fontStyle:newFontStyle||void 0,fontWeight:newFontWeight||void 0}})},hasLineHeightEnabled=useHasLineHeightControl(settings),lineHeight=decodeValue(inheritedValue?.typography?.lineHeight),setLineHeight=newValue=>{onChange(setImmutably(value,["typography","lineHeight"],newValue||void 0))},hasLetterSpacingControl=useHasLetterSpacingControl(settings),letterSpacing=decodeValue(inheritedValue?.typography?.letterSpacing),setLetterSpacing=newValue=>{onChange(setImmutably(value,["typography","letterSpacing"],newValue||void 0))},hasTextColumnsControl=useHasTextColumnsControl(settings),textColumns=decodeValue(inheritedValue?.typography?.textColumns),setTextColumns=newValue=>{onChange(setImmutably(value,["typography","textColumns"],newValue||void 0))},hasTextTransformControl=useHasTextTransformControl(settings),textTransform=decodeValue(inheritedValue?.typography?.textTransform),setTextTransform=newValue=>{onChange(setImmutably(value,["typography","textTransform"],newValue||void 0))},hasTextDecorationControl=useHasTextDecorationControl(settings),textDecoration=decodeValue(inheritedValue?.typography?.textDecoration),setTextDecoration=newValue=>{onChange(setImmutably(value,["typography","textDecoration"],newValue||void 0))},hasWritingModeControl=useHasWritingModeControl(settings),writingMode=decodeValue(inheritedValue?.typography?.writingMode),setWritingMode=newValue=>{onChange(setImmutably(value,["typography","writingMode"],newValue||void 0))},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,typography:{}})),[]);return(0,react.createElement)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId},hasFontFamilyEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Font family"),hasValue:()=>!!value?.typography?.fontFamily,onDeselect:()=>setFontFamily(void 0),isShownByDefault:defaultControls.fontFamily,panelId:panelId},(0,react.createElement)(FontFamilyControl,{fontFamilies:mergedFontFamilies,value:fontFamily,onChange:setFontFamily,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasFontSizeEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Font size"),hasValue:()=>!!value?.typography?.fontSize,onDeselect:()=>setFontSize(void 0),isShownByDefault:defaultControls.fontSize,panelId:panelId},(0,react.createElement)(font_size_picker,{value:fontSize,onChange:setFontSize,fontSizes:mergedFontSizes,disableCustomFontSizes:disableCustomFontSizes,withReset:!1,withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasAppearanceControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:appearanceControlLabel,hasValue:()=>!!value?.typography?.fontStyle||!!value?.typography?.fontWeight,onDeselect:()=>{setFontAppearance({})},isShownByDefault:defaultControls.fontAppearance,panelId:panelId},(0,react.createElement)(FontAppearanceControl,{value:{fontStyle:fontStyle,fontWeight:fontWeight},onChange:setFontAppearance,hasFontStyles:hasFontStyles,hasFontWeights:hasFontWeights,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasLineHeightEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Line height"),hasValue:()=>void 0!==value?.typography?.lineHeight,onDeselect:()=>setLineHeight(void 0),isShownByDefault:defaultControls.lineHeight,panelId:panelId},(0,react.createElement)(line_height_control,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:lineHeight,onChange:setLineHeight,size:"__unstable-large"})),hasLetterSpacingControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Letter spacing"),hasValue:()=>!!value?.typography?.letterSpacing,onDeselect:()=>setLetterSpacing(void 0),isShownByDefault:defaultControls.letterSpacing,panelId:panelId},(0,react.createElement)(LetterSpacingControl,{value:letterSpacing,onChange:setLetterSpacing,size:"__unstable-large",__unstableInputWidth:"auto"})),hasTextColumnsControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Text columns"),hasValue:()=>!!value?.typography?.textColumns,onDeselect:()=>setTextColumns(void 0),isShownByDefault:defaultControls.textColumns,panelId:panelId},(0,react.createElement)(number_control.Z,{label:(0,i18n_build_module.__)("Text columns"),max:MAX_TEXT_COLUMNS,min:MIN_TEXT_COLUMNS,onChange:setTextColumns,size:"__unstable-large",spinControls:"custom",value:textColumns,initialPosition:1})),hasTextDecorationControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Text decoration"),hasValue:()=>!!value?.typography?.textDecoration,onDeselect:()=>setTextDecoration(void 0),isShownByDefault:defaultControls.textDecoration,panelId:panelId},(0,react.createElement)(TextDecorationControl,{value:textDecoration,onChange:setTextDecoration,size:"__unstable-large",__unstableInputWidth:"auto"})),hasWritingModeControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Text orientation"),hasValue:()=>!!value?.typography?.writingMode,onDeselect:()=>setWritingMode(void 0),isShownByDefault:defaultControls.writingMode,panelId:panelId},(0,react.createElement)(WritingModeControl,{value:writingMode,onChange:setWritingMode,size:"__unstable-large",__nextHasNoMarginBottom:!0})),hasTextTransformControl&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Letter case"),hasValue:()=>!!value?.typography?.textTransform,onDeselect:()=>setTextTransform(void 0),isShownByDefault:defaultControls.textTransform,panelId:panelId},(0,react.createElement)(TextTransformControl,{value:textTransform,onChange:setTextTransform,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})))}TypographyPanel.__docgenInfo={description:"",methods:[],displayName:"TypographyPanel",props:{as:{defaultValue:{value:"function TypographyToolsPanel({\n  resetAllFilter,\n  onChange,\n  value,\n  panelId,\n  children\n}) {\n  const resetAll = () => {\n    const updatedValue = resetAllFilter(value);\n    onChange(updatedValue);\n  };\n  return createElement(ToolsPanel, {\n    label: __('Typography'),\n    resetAll: resetAll,\n    panelId: panelId\n  }, children);\n}",computed:!1},required:!1},inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1},defaultControls:{defaultValue:{value:"{\n  fontFamily: true,\n  fontSize: true,\n  fontAppearance: true,\n  lineHeight: true,\n  letterSpacing: true,\n  textTransform: true,\n  textDecoration: true,\n  writingMode: true,\n  textColumns: true\n}",computed:!1},required:!1}}};class TokenList{constructor(initialValue=""){this.value=initialValue,this._currentValue,this._valueAsArray}entries(...args){return this._valueAsArray.entries(...args)}forEach(...args){return this._valueAsArray.forEach(...args)}keys(...args){return this._valueAsArray.keys(...args)}values(...args){return this._valueAsArray.values(...args)}get value(){return this._currentValue}set value(value){value=String(value),this._valueAsArray=[...new Set(value.split(/\s+/g).filter(Boolean))],this._currentValue=this._valueAsArray.join(" ")}get length(){return this._valueAsArray.length}toString(){return this.value}*[Symbol.iterator](){return yield*this._valueAsArray}item(index){return this._valueAsArray[index]}contains(item){return-1!==this._valueAsArray.indexOf(item)}add(...items){this.value+=" "+items.join(" ")}remove(...items){this.value=this._valueAsArray.filter((val=>!items.includes(val))).join(" ")}toggle(token,force){return void 0===force&&(force=!this.contains(token)),force?this.add(token):this.remove(token),force}replace(token,newToken){return!!this.contains(token)&&(this.remove(token),this.add(newToken),!0)}supports(){return!0}}const FONT_FAMILY_SUPPORT_KEY="typography.__experimentalFontFamily";function font_family_addSaveProps(props,blockType,attributes){if(!(0,build_module.zb)(blockType,FONT_FAMILY_SUPPORT_KEY))return props;if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,"fontFamily"))return props;if(!attributes?.fontFamily)return props;const classes=new TokenList(props.className);classes.add(`has-${kebabCase(attributes?.fontFamily)}-font-family`);const newClassName=classes.value;return props.className=newClassName||void 0,props}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/fontFamily/addAttribute",(function font_family_addAttributes(settings){return(0,build_module.zb)(settings,FONT_FAMILY_SUPPORT_KEY)?(settings.attributes.fontFamily||Object.assign(settings.attributes,{fontFamily:{type:"string"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/fontFamily/addSaveProps",font_family_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/fontFamily/addEditProps",(function font_family_addEditProps(settings){if(!(0,build_module.zb)(settings,FONT_FAMILY_SUPPORT_KEY))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),font_family_addSaveProps(props,settings,attributes)},settings}));const getFontSize=(fontSizes,fontSizeAttribute,customFontSizeAttribute)=>{if(fontSizeAttribute){const fontSizeObject=fontSizes?.find((({slug:slug})=>slug===fontSizeAttribute));if(fontSizeObject)return fontSizeObject}return{size:customFontSizeAttribute}};function getFontSizeClass(fontSizeSlug){if(fontSizeSlug)return`has-${kebabCase(fontSizeSlug)}-font-size`}function font_size_picker_FontSizePicker(props){const[fontSizes,customFontSize]=use_settings_useSettings("typography.fontSizes","typography.customFontSize");return(0,react.createElement)(font_size_picker,{...props,fontSizes:fontSizes,disableCustomFontSizes:!customFontSize})}font_size_picker_FontSizePicker.__docgenInfo={description:"",methods:[],displayName:"FontSizePicker"};const FONT_SIZE_SUPPORT_KEY="typography.fontSize";function font_size_addSaveProps(props,blockType,attributes){if(!(0,build_module.zb)(blockType,FONT_SIZE_SUPPORT_KEY))return props;if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,"fontSize"))return props;const classes=new TokenList(props.className);classes.add(getFontSizeClass(attributes.fontSize));const newClassName=classes.value;return props.className=newClassName||void 0,props}const withFontSizeInlineStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const[fontSizes]=use_settings_useSettings("typography.fontSizes"),{name:blockName,attributes:{fontSize:fontSize,style:style},wrapperProps:wrapperProps}=props;if(!(0,build_module.zb)(blockName,FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(blockName,TYPOGRAPHY_SUPPORT_KEY,"fontSize")||!fontSize||style?.typography?.fontSize)return(0,react.createElement)(BlockListBlock,{...props});const fontSizeValue=getFontSize(fontSizes,fontSize,style?.typography?.fontSize).size,newProps={...props,wrapperProps:{...wrapperProps,style:{fontSize:fontSizeValue,...wrapperProps?.style}}};return(0,react.createElement)(BlockListBlock,{...newProps})}),"withFontSizeInlineStyles"),font_size_MIGRATION_PATHS={fontSize:[["fontSize"],["style","typography","fontSize"]]};function omit(object,keys){return Object.fromEntries(Object.entries(object).filter((([key])=>!keys.includes(key))))}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/font/addAttribute",(function font_size_addAttributes(settings){return(0,build_module.zb)(settings,FONT_SIZE_SUPPORT_KEY)?(settings.attributes.fontSize||Object.assign(settings.attributes,{fontSize:{type:"string"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/font/addSaveProps",font_size_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/font/addEditProps",(function font_size_addEditProps(settings){if(!(0,build_module.zb)(settings,FONT_SIZE_SUPPORT_KEY))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),font_size_addSaveProps(props,settings,attributes)},settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/font-size/with-font-size-inline-styles",withFontSizeInlineStyles),(0,hooks_build_module.KJ)("blocks.switchToBlockType.transformedBlock","core/font-size/addTransforms",(function font_size_addTransforms(result,source,index,results){const destinationBlockType=result.name;return transformStyles({fontSize:(0,build_module.zb)(destinationBlockType,FONT_SIZE_SUPPORT_KEY)},font_size_MIGRATION_PATHS,result,source,index,results)})),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/font-size/addEditPropsForFluidCustomFontSizes",(function addEditPropsForFluidCustomFontSizes(blockType){if(!(0,build_module.zb)(blockType,FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,"fontSize"))return blockType;const existingGetEditWrapperProps=blockType.getEditWrapperProps;return blockType.getEditWrapperProps=attributes=>{const wrapperProps=existingGetEditWrapperProps?existingGetEditWrapperProps(attributes):{},fontSize=wrapperProps?.style?.fontSize,fluidTypographySettings=getFluidTypographyOptionsFromSettings((0,build_module_select.Y)(store).getSettings().__experimentalFeatures),newFontSize=fontSize?getTypographyFontSizeValue({size:fontSize},fluidTypographySettings):null;return null===newFontSize?wrapperProps:{...wrapperProps,style:{...wrapperProps?.style,fontSize:newFontSize}}},blockType}),11);const TYPOGRAPHY_SUPPORT_KEY="typography",TYPOGRAPHY_SUPPORT_KEYS=["typography.lineHeight",FONT_SIZE_SUPPORT_KEY,"typography.__experimentalFontStyle","typography.__experimentalFontWeight",FONT_FAMILY_SUPPORT_KEY,"typography.textColumns","typography.__experimentalTextDecoration","typography.__experimentalWritingMode","typography.__experimentalTextTransform","typography.__experimentalLetterSpacing"];function typography_styleToAttributes(style){const updatedStyle={...omit(style,["fontFamily"])},fontSizeValue=style?.typography?.fontSize,fontFamilyValue=style?.typography?.fontFamily,fontSizeSlug=fontSizeValue?.startsWith("var:preset|font-size|")?fontSizeValue.substring(21):void 0,fontFamilySlug=fontFamilyValue?.startsWith("var:preset|font-family|")?fontFamilyValue.substring(23):void 0;return updatedStyle.typography={...omit(updatedStyle.typography,["fontFamily"]),fontSize:fontSizeSlug?void 0:fontSizeValue},{style:utils_cleanEmptyObject(updatedStyle),fontFamily:fontFamilySlug,fontSize:fontSizeSlug}}function typography_attributesToStyle(attributes){return{...attributes.style,typography:{...attributes.style?.typography,fontFamily:attributes.fontFamily?"var:preset|font-family|"+attributes.fontFamily:void 0,fontSize:attributes.fontSize?"var:preset|font-size|"+attributes.fontSize:attributes.style?.typography?.fontSize}}}function TypographyInspectorControl({children:children,resetAllFilter:resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=typography_attributesToStyle(attributes),updatedStyle=resetAllFilter(existingStyle);return{...attributes,...typography_styleToAttributes(updatedStyle)}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"typography",resetAllFilter:attributesResetAllFilter},children)}function typography_TypographyPanel({clientId:clientId,name:name,attributes:attributes,setAttributes:setAttributes,__unstableParentLayout:__unstableParentLayout}){const settings=useBlockSettings(name,__unstableParentLayout),isEnabled=useHasTypographyPanel(settings),value=(0,react.useMemo)((()=>typography_attributesToStyle({style:attributes.style,fontFamily:attributes.fontFamily,fontSize:attributes.fontSize})),[attributes.style,attributes.fontSize,attributes.fontFamily]);if(!isEnabled)return null;const defaultControls=(0,build_module.Dx)(name,[TYPOGRAPHY_SUPPORT_KEY,"__experimentalDefaultControls"]);return(0,react.createElement)(TypographyPanel,{as:TypographyInspectorControl,panelId:clientId,settings:settings,value:value,onChange:newStyle=>{setAttributes(typography_styleToAttributes(newStyle))},defaultControls:defaultControls})}typography_TypographyPanel.__docgenInfo={description:"",methods:[],displayName:"TypographyPanel"};var flex_block_component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js"),use_gesture_react_esm=__webpack_require__("./node_modules/@use-gesture/react/dist/use-gesture-react.esm.js");const Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1jovhle6"})({name:"14bvcyk",styles:"box-sizing:border-box;max-width:235px;padding-bottom:12px;width:100%"}),box_control_styles_Header=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle5"})({name:"5bhc30",styles:"margin-bottom:8px"}),HeaderControlWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle4"})({name:"aujtid",styles:"min-height:30px;gap:0"}),UnitControlWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1jovhle3"})({name:"112jwab",styles:"box-sizing:border-box;max-width:80px"}),LayoutContainer=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle2"})({name:"xy18ro",styles:"justify-content:center;padding-top:8px"}),box_control_styles_Layout=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1jovhle1"})({name:"3tw5wk",styles:"position:relative;height:100%;width:100%;justify-content:flex-start"});var _ref={name:"1ch9yvl",styles:"border-radius:0"},_ref2={name:"tg3mx0",styles:"border-radius:2px"};const unitControlBorderRadiusStyles=({isFirst:isFirst,isLast:isLast,isOnly:isOnly})=>isFirst?(0,rtl.b)({borderTopRightRadius:0,borderBottomRightRadius:0})():isLast?(0,rtl.b)({borderTopLeftRadius:0,borderBottomLeftRadius:0})():isOnly?_ref2:_ref,unitControlMarginStyles=({isFirst:isFirst,isOnly:isOnly})=>{const marginLeft=isFirst||isOnly?0:-1;return(0,rtl.b)({marginLeft:marginLeft})()},UnitControl=(0,emotion_styled_base_browser_esm.Z)(unit_control.ZP,{target:"e1jovhle0"})("max-width:60px;",unitControlBorderRadiusStyles,";",unitControlMarginStyles,";"),unit_control_noop=()=>{};function BoxUnitControl({isFirst:isFirst,isLast:isLast,isOnly:isOnly,onHoverOn:onHoverOn=unit_control_noop,onHoverOff:onHoverOff=unit_control_noop,label:label,value:value,...props}){const bindHoverGesture=(0,use_gesture_react_esm.useHover)((({event:event,...state})=>{state.hovering?onHoverOn(event,state):onHoverOff(event,state)}));return(0,react.createElement)(UnitControlWrapper,{...bindHoverGesture()},(0,react.createElement)(Tooltip,{text:label},(0,react.createElement)(UnitControl,{"aria-label":label,className:"component-box-control__unit-control",isFirst:isFirst,isLast:isLast,isOnly:isOnly,isPressEnterToChange:!0,isResetValueOnUnitChange:!1,value:value,...props})))}function Tooltip({children:children,text:text}){return text?(0,react.createElement)(tooltip.Z,{text:text,placement:"top"},(0,react.createElement)("div",null,children)):children}BoxUnitControl.__docgenInfo={description:"",methods:[],displayName:"BoxUnitControl",props:{onHoverOn:{defaultValue:{value:"() => {}",computed:!1},required:!1},onHoverOff:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};const utils_LABELS={all:(0,i18n_build_module.__)("All"),top:(0,i18n_build_module.__)("Top"),bottom:(0,i18n_build_module.__)("Bottom"),left:(0,i18n_build_module.__)("Left"),right:(0,i18n_build_module.__)("Right"),mixed:(0,i18n_build_module.__)("Mixed"),vertical:(0,i18n_build_module.__)("Vertical"),horizontal:(0,i18n_build_module.__)("Horizontal")},utils_DEFAULT_VALUES={top:void 0,right:void 0,bottom:void 0,left:void 0},utils_ALL_SIDES=["top","right","bottom","left"];function box_control_utils_mode(arr){return arr.sort(((a,b)=>arr.filter((v=>v===a)).length-arr.filter((v=>v===b)).length)).pop()}function utils_getAllValue(values={},selectedUnits,availableSides=utils_ALL_SIDES){const parsedQuantitiesAndUnits=function normalizeSides(sides){const filteredSides=[];if(!sides?.length)return utils_ALL_SIDES;if(sides.includes("vertical"))filteredSides.push("top","bottom");else if(sides.includes("horizontal"))filteredSides.push("left","right");else{const newSides=utils_ALL_SIDES.filter((side=>sides.includes(side)));filteredSides.push(...newSides)}return filteredSides}(availableSides).map((side=>(0,utils.YX)(values[side]))),allParsedQuantities=parsedQuantitiesAndUnits.map((value=>{var _value$;return null!==(_value$=value[0])&&void 0!==_value$?_value$:""})),allParsedUnits=parsedQuantitiesAndUnits.map((value=>value[1])),commonQuantity=allParsedQuantities.every((v=>v===allParsedQuantities[0]))?allParsedQuantities[0]:"";let commonUnit;var _getAllUnitFallback;"number"==typeof commonQuantity?commonUnit=box_control_utils_mode(allParsedUnits):commonUnit=null!==(_getAllUnitFallback=function getAllUnitFallback(selectedUnits){if(!selectedUnits||"object"!=typeof selectedUnits)return;const filteredUnits=Object.values(selectedUnits).filter(Boolean);return box_control_utils_mode(filteredUnits)}(selectedUnits))&&void 0!==_getAllUnitFallback?_getAllUnitFallback:box_control_utils_mode(allParsedUnits);return[commonQuantity,commonUnit].join("")}function utils_isValuesMixed(values={},selectedUnits,sides=utils_ALL_SIDES){const allValue=utils_getAllValue(values,selectedUnits,sides);return isNaN(parseFloat(allValue))}function utils_isValuesDefined(values){return void 0!==values&&Object.values(values).filter((value=>!!value&&/\d/.test(value))).length>0}function getInitialSide(isLinked,splitOnAxis){let initialSide="all";return isLinked||(initialSide=splitOnAxis?"vertical":"top"),initialSide}function applyValueToSides(currentValues,newValue,sides){const newValues={...currentValues};return sides?.length?sides.forEach((side=>{"vertical"===side?(newValues.top=newValue,newValues.bottom=newValue):"horizontal"===side?(newValues.left=newValue,newValues.right=newValue):newValues[side]=newValue})):utils_ALL_SIDES.forEach((side=>newValues[side]=newValue)),newValues}const all_input_control_noop=()=>{};function all_input_control_AllInputControl({onChange:onChange=all_input_control_noop,onFocus:onFocus=all_input_control_noop,onHoverOn:onHoverOn=all_input_control_noop,onHoverOff:onHoverOff=all_input_control_noop,values:values,sides:sides,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,...props}){const allValue=utils_getAllValue(values,selectedUnits,sides),isMixed=utils_isValuesDefined(values)&&utils_isValuesMixed(values,selectedUnits,sides),allPlaceholder=isMixed?utils_LABELS.mixed:void 0;return(0,react.createElement)(BoxUnitControl,{...props,disableUnits:isMixed,isOnly:!0,value:allValue,onChange:next=>{const isNumeric=void 0!==next&&!isNaN(parseFloat(next)),nextValues=applyValueToSides(values,isNumeric?next:void 0,sides);onChange(nextValues)},onUnitChange:unit=>{const newUnits=applyValueToSides(selectedUnits,unit,sides);setSelectedUnits(newUnits)},onFocus:event=>{onFocus(event,{side:"all"})},onHoverOn:()=>{onHoverOn({top:!0,bottom:!0,left:!0,right:!0})},onHoverOff:()=>{onHoverOff({top:!1,bottom:!1,left:!1,right:!1})},placeholder:allPlaceholder})}all_input_control_AllInputControl.__docgenInfo={description:"",methods:[],displayName:"AllInputControl",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},onFocus:{defaultValue:{value:"() => {}",computed:!1},required:!1},onHoverOn:{defaultValue:{value:"() => {}",computed:!1},required:!1},onHoverOff:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};const input_controls_noop=()=>{};function input_controls_BoxInputControls({onChange:onChange=input_controls_noop,onFocus:onFocus=input_controls_noop,onHoverOn:onHoverOn=input_controls_noop,onHoverOff:onHoverOff=input_controls_noop,values:values,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,sides:sides,...props}){const createHandleOnFocus=side=>event=>{onFocus(event,{side:side})},createHandleOnHoverOn=side=>()=>{onHoverOn({[side]:!0})},createHandleOnHoverOff=side=>()=>{onHoverOff({[side]:!1})},createHandleOnChange=side=>(next,{event:event})=>{const nextValues={...values},nextValue=void 0!==next&&!isNaN(parseFloat(next))?next:void 0;if(nextValues[side]=nextValue,event.altKey)switch(side){case"top":nextValues.bottom=nextValue;break;case"bottom":nextValues.top=nextValue;break;case"left":nextValues.right=nextValue;break;case"right":nextValues.left=nextValue}(nextValues=>{onChange(nextValues)})(nextValues)},createHandleOnUnitChange=side=>next=>{const newUnits={...selectedUnits};newUnits[side]=next,setSelectedUnits(newUnits)},filteredSides=sides?.length?utils_ALL_SIDES.filter((side=>sides.includes(side))):utils_ALL_SIDES,first=filteredSides[0],last=filteredSides[filteredSides.length-1],only=first===last&&first;return(0,react.createElement)(LayoutContainer,{className:"component-box-control__input-controls-wrapper"},(0,react.createElement)(box_control_styles_Layout,{gap:0,align:"top",className:"component-box-control__input-controls"},filteredSides.map((side=>{const[parsedQuantity,parsedUnit]=(0,utils.YX)(values[side]),computedUnit=values[side]?parsedUnit:selectedUnits[side];return(0,react.createElement)(BoxUnitControl,{...props,isFirst:first===side,isLast:last===side,isOnly:only===side,value:[parsedQuantity,computedUnit].join(""),onChange:createHandleOnChange(side),onUnitChange:createHandleOnUnitChange(side),onFocus:createHandleOnFocus(side),onHoverOn:createHandleOnHoverOn(side),onHoverOff:createHandleOnHoverOff(side),label:utils_LABELS[side],key:`box-control-${side}`})}))))}input_controls_BoxInputControls.__docgenInfo={description:"",methods:[],displayName:"BoxInputControls",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},onFocus:{defaultValue:{value:"() => {}",computed:!1},required:!1},onHoverOn:{defaultValue:{value:"() => {}",computed:!1},required:!1},onHoverOff:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};const groupedSides=["vertical","horizontal"];function AxialInputControls({onChange:onChange,onFocus:onFocus,onHoverOn:onHoverOn,onHoverOff:onHoverOff,values:values,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,sides:sides,...props}){const createHandleOnFocus=side=>event=>{onFocus&&onFocus(event,{side:side})},createHandleOnHoverOn=side=>()=>{onHoverOn&&("vertical"===side&&onHoverOn({top:!0,bottom:!0}),"horizontal"===side&&onHoverOn({left:!0,right:!0}))},createHandleOnHoverOff=side=>()=>{onHoverOff&&("vertical"===side&&onHoverOff({top:!1,bottom:!1}),"horizontal"===side&&onHoverOff({left:!1,right:!1}))},createHandleOnChange=side=>next=>{if(!onChange)return;const nextValues={...values},nextValue=void 0!==next&&!isNaN(parseFloat(next))?next:void 0;"vertical"===side&&(nextValues.top=nextValue,nextValues.bottom=nextValue),"horizontal"===side&&(nextValues.left=nextValue,nextValues.right=nextValue),onChange(nextValues)},createHandleOnUnitChange=side=>next=>{const newUnits={...selectedUnits};"vertical"===side&&(newUnits.top=next,newUnits.bottom=next),"horizontal"===side&&(newUnits.left=next,newUnits.right=next),setSelectedUnits(newUnits)},filteredSides=sides?.length?groupedSides.filter((side=>sides.includes(side))):groupedSides,first=filteredSides[0],last=filteredSides[filteredSides.length-1],only=first===last&&first;return(0,react.createElement)(box_control_styles_Layout,{gap:0,align:"top",className:"component-box-control__vertical-horizontal-input-controls"},filteredSides.map((side=>{const[parsedQuantity,parsedUnit]=(0,utils.YX)("vertical"===side?values.top:values.left),selectedUnit="vertical"===side?selectedUnits.top:selectedUnits.left;return(0,react.createElement)(BoxUnitControl,{...props,isFirst:first===side,isLast:last===side,isOnly:only===side,value:[parsedQuantity,null!=selectedUnit?selectedUnit:parsedUnit].join(""),onChange:createHandleOnChange(side),onUnitChange:createHandleOnUnitChange(side),onFocus:createHandleOnFocus(side),onHoverOn:createHandleOnHoverOn(side),onHoverOff:createHandleOnHoverOff(side),label:utils_LABELS[side],key:side})})))}AxialInputControls.__docgenInfo={description:"",methods:[],displayName:"AxialInputControls"};const box_control_icon_styles_Root=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e1j5nr4z8"})({name:"1w884gc",styles:"box-sizing:border-box;display:block;width:24px;height:24px;position:relative;padding:4px"}),Viewbox=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e1j5nr4z7"})({name:"i6vjox",styles:"box-sizing:border-box;display:block;position:relative;width:100%;height:100%"}),Stroke=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e1j5nr4z6"})("box-sizing:border-box;display:block;pointer-events:none;position:absolute;",(({isFocused:isFocused})=>(0,emotion_react_browser_esm.iv)({backgroundColor:"currentColor",opacity:isFocused?1:.3},"","","","")),";"),VerticalStroke=(0,emotion_styled_base_browser_esm.Z)(Stroke,{target:"e1j5nr4z5"})({name:"1k2w39q",styles:"bottom:3px;top:3px;width:2px"}),HorizontalStroke=(0,emotion_styled_base_browser_esm.Z)(Stroke,{target:"e1j5nr4z4"})({name:"1q9b07k",styles:"height:2px;left:3px;right:3px"}),TopStroke=(0,emotion_styled_base_browser_esm.Z)(HorizontalStroke,{target:"e1j5nr4z3"})({name:"abcix4",styles:"top:0"}),RightStroke=(0,emotion_styled_base_browser_esm.Z)(VerticalStroke,{target:"e1j5nr4z2"})({name:"1wf8jf",styles:"right:0"}),BottomStroke=(0,emotion_styled_base_browser_esm.Z)(HorizontalStroke,{target:"e1j5nr4z1"})({name:"8tapst",styles:"bottom:0"}),LeftStroke=(0,emotion_styled_base_browser_esm.Z)(VerticalStroke,{target:"e1j5nr4z0"})({name:"1ode3cm",styles:"left:0"}),BASE_ICON_SIZE=24;function BoxControlIcon({size:size=24,side:side="all",sides:sides,...props}){const hasSide=value=>!(value=>sides?.length&&!sides.includes(value))(value)&&("all"===side||side===value),top=hasSide("top")||hasSide("vertical"),right=hasSide("right")||hasSide("horizontal"),bottom=hasSide("bottom")||hasSide("vertical"),left=hasSide("left")||hasSide("horizontal"),scale=size/BASE_ICON_SIZE;return(0,react.createElement)(box_control_icon_styles_Root,{style:{transform:`scale(${scale})`},...props},(0,react.createElement)(Viewbox,null,(0,react.createElement)(TopStroke,{isFocused:top}),(0,react.createElement)(RightStroke,{isFocused:right}),(0,react.createElement)(BottomStroke,{isFocused:bottom}),(0,react.createElement)(LeftStroke,{isFocused:left})))}function linked_button_LinkedButton({isLinked:isLinked,...props}){const label=isLinked?(0,i18n_build_module.__)("Unlink sides"):(0,i18n_build_module.__)("Link sides");return(0,react.createElement)(tooltip.Z,{text:label},(0,react.createElement)(build_module_button.ZP,{...props,className:"component-box-control__linked-button",isSmall:!0,icon:isLinked?library_link.Z:link_off.Z,iconSize:24,"aria-label":label}))}BoxControlIcon.__docgenInfo={description:"",methods:[],displayName:"BoxControlIcon",props:{size:{defaultValue:{value:"24",computed:!1},required:!1},side:{defaultValue:{value:"'all'",computed:!1},required:!1}}},linked_button_LinkedButton.__docgenInfo={description:"",methods:[],displayName:"LinkedButton"};var use_controlled_state=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-state.js");const defaultInputProps={min:0},box_control_noop=()=>{};function BoxControl({id:idProp,inputProps:inputProps=defaultInputProps,onChange:onChange=box_control_noop,label:label=(0,i18n_build_module.__)("Box Control"),values:valuesProp,units:units,sides:sides,splitOnAxis:splitOnAxis=!1,allowReset:allowReset=!0,resetValues:resetValues=utils_DEFAULT_VALUES,onMouseOver:onMouseOver,onMouseOut:onMouseOut}){const[values,setValues]=(0,use_controlled_state.Z)(valuesProp,{fallback:utils_DEFAULT_VALUES}),inputValues=values||utils_DEFAULT_VALUES,hasInitialValue=utils_isValuesDefined(valuesProp),hasOneSide=1===sides?.length,[isDirty,setIsDirty]=(0,react.useState)(hasInitialValue),[isLinked,setIsLinked]=(0,react.useState)(!hasInitialValue||!utils_isValuesMixed(inputValues)||hasOneSide),[side,setSide]=(0,react.useState)(getInitialSide(isLinked,splitOnAxis)),[selectedUnits,setSelectedUnits]=(0,react.useState)({top:(0,utils.YX)(valuesProp?.top)[1],right:(0,utils.YX)(valuesProp?.right)[1],bottom:(0,utils.YX)(valuesProp?.bottom)[1],left:(0,utils.YX)(valuesProp?.left)[1]}),id=function useUniqueId(idProp){const instanceId=(0,use_instance_id.Z)(BoxControl,"inspector-box-control");return idProp||instanceId}(idProp),headingId=`${id}-heading`,inputControlProps={...inputProps,onChange:nextValues=>{onChange(nextValues),setValues(nextValues),setIsDirty(!0)},onFocus:(_event,{side:nextSide})=>{setSide(nextSide)},isLinked:isLinked,units:units,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,sides:sides,values:inputValues,onMouseOver:onMouseOver,onMouseOut:onMouseOut};return(0,react.createElement)(Root,{id:id,role:"group","aria-labelledby":headingId},(0,react.createElement)(box_control_styles_Header,{className:"component-box-control__header"},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(base_control.Xp.VisualLabel,{id:headingId},label)),allowReset&&(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{className:"component-box-control__reset-button",variant:"secondary",isSmall:!0,onClick:()=>{onChange(resetValues),setValues(resetValues),setSelectedUnits(resetValues),setIsDirty(!1)},disabled:!isDirty},(0,i18n_build_module.__)("Reset")))),(0,react.createElement)(HeaderControlWrapper,{className:"component-box-control__header-control-wrapper"},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(BoxControlIcon,{side:side,sides:sides})),isLinked&&(0,react.createElement)(flex_block_component.Z,null,(0,react.createElement)(all_input_control_AllInputControl,{"aria-label":label,...inputControlProps})),!isLinked&&splitOnAxis&&(0,react.createElement)(flex_block_component.Z,null,(0,react.createElement)(AxialInputControls,{...inputControlProps})),!hasOneSide&&(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(linked_button_LinkedButton,{onClick:()=>{setIsLinked(!isLinked),setSide(getInitialSide(!isLinked,splitOnAxis))},isLinked:isLinked}))),!isLinked&&!splitOnAxis&&(0,react.createElement)(input_controls_BoxInputControls,{...inputControlProps}))}BoxControl.__docgenInfo={description:"BoxControl components let users set values for Top, Right, Bottom, and Left.\nThis can be used as an input control for values like `padding` or `margin`.\n\n```jsx\nimport { __experimentalBoxControl as BoxControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst Example = () => {\n\tconst [ values, setValues ] = useState( {\n\t\ttop: '50px',\n\t\tleft: '10%',\n\t\tright: '10%',\n\t\tbottom: '50px',\n\t} );\n\n\treturn (\n\t\t<BoxControl\n\t\t\tvalues={ values }\n\t\t\tonChange={ ( nextValues ) => setValues( nextValues ) }\n\t\t/>\n\t);\n};\n```",methods:[],displayName:"BoxControl",props:{inputProps:{defaultValue:{value:"{\n  min: 0\n}",computed:!1},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},label:{defaultValue:{value:"__('Box Control')",computed:!0},required:!1},splitOnAxis:{defaultValue:{value:"false",computed:!1},required:!1},allowReset:{defaultValue:{value:"true",computed:!1},required:!1},resetValues:{defaultValue:{value:"DEFAULT_VALUES",computed:!0},required:!1}}};var box_control=BoxControl,components_build_module_icon=__webpack_require__("./packages/components/build-module/icon/index.js"),use_previous=__webpack_require__("./packages/compose/build-module/hooks/use-previous/index.js");const CUSTOM_VALUE_SETTINGS={px:{max:300,steps:1},"%":{max:100,steps:1},vw:{max:100,steps:1},vh:{max:100,steps:1},em:{max:10,steps:.1},rm:{max:10,steps:.1},svw:{max:100,steps:1},lvw:{max:100,steps:1},dvw:{max:100,steps:1},svh:{max:100,steps:1},lvh:{max:100,steps:1},dvh:{max:100,steps:1},vi:{max:100,steps:1},svi:{max:100,steps:1},lvi:{max:100,steps:1},dvi:{max:100,steps:1},vb:{max:100,steps:1},svb:{max:100,steps:1},lvb:{max:100,steps:1},dvb:{max:100,steps:1},vmin:{max:100,steps:1},svmin:{max:100,steps:1},lvmin:{max:100,steps:1},dvmin:{max:100,steps:1},vmax:{max:100,steps:1},svmax:{max:100,steps:1},lvmax:{max:100,steps:1},dvmax:{max:100,steps:1}};function SpacingInputControl({icon:icon,isMixed:isMixed=!1,minimumCustomValue:minimumCustomValue,onChange:onChange,onMouseOut:onMouseOut,onMouseOver:onMouseOver,showSideInLabel:showSideInLabel=!0,side:side,spacingSizes:spacingSizes,type:type,value:value}){var _CUSTOM_VALUE_SETTING,_CUSTOM_VALUE_SETTING2;value=getPresetValueFromCustomValue(value,spacingSizes);let selectListSizes=spacingSizes;const showRangeControl=spacingSizes.length<=8,disableCustomSpacingSizes=(0,use_select.Z)((select=>{const editorSettings=select(store).getSettings();return editorSettings?.disableCustomSpacingSizes})),[showCustomValueControl,setShowCustomValueControl]=(0,react.useState)(!disableCustomSpacingSizes&&void 0!==value&&!isValueSpacingPreset(value)),previousValue=(0,use_previous.Z)(value);value&&previousValue!==value&&!isValueSpacingPreset(value)&&!0!==showCustomValueControl&&setShowCustomValueControl(!0);const[availableUnits]=use_settings_useSettings("spacing.units"),units=(0,utils.nj)({availableUnits:availableUnits||["px","em","rem"]});let currentValue=null;!showRangeControl&&!showCustomValueControl&&void 0!==value&&(!isValueSpacingPreset(value)||isValueSpacingPreset(value)&&isMixed)?(selectListSizes=[...spacingSizes,{name:isMixed?(0,i18n_build_module.__)("Mixed"):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Custom (%s)"),value),slug:"custom",size:value}],currentValue=selectListSizes.length-1):isMixed||(currentValue=showCustomValueControl?getCustomValueFromPreset(value,spacingSizes):function getSliderValueFromPreset(presetValue,spacingSizes){if(void 0===presetValue)return 0;const slug=0===parseFloat(presetValue,10)?"0":getSpacingPresetSlug(presetValue),sliderValue=spacingSizes.findIndex((spacingSize=>String(spacingSize.slug)===slug));return-1!==sliderValue?sliderValue:NaN}(value,spacingSizes));const selectedUnit=(0,react.useMemo)((()=>(0,utils.YX)(currentValue)),[currentValue])[1]||units[0]?.value,customRangeValue=parseFloat(currentValue,10),getNewPresetValue=(newSize,controlType)=>{const size=parseInt(newSize,10);if("selectList"===controlType){if(0===size)return;if(1===size)return"0"}else if(0===size)return"0";return`var:preset|spacing|${spacingSizes[newSize]?.slug}`},allPlaceholder=isMixed?(0,i18n_build_module.__)("Mixed"):null,options=selectListSizes.map(((size,index)=>({key:index,name:size.name}))),marks=spacingSizes.map(((_newValue,index)=>({value:index,label:void 0}))),sideLabel=ALL_SIDES.includes(side)&&showSideInLabel?LABELS[side]:"",typeLabel=showSideInLabel?type?.toLowerCase():type,ariaLabel=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s %2$s"),sideLabel,typeLabel).trim();return(0,react.createElement)(h_stack_component.Z,{className:"spacing-sizes-control__wrapper"},icon&&(0,react.createElement)(components_build_module_icon.Z,{className:"spacing-sizes-control__icon",icon:icon,size:24}),showCustomValueControl&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(unit_control.ZP,{onMouseOver:onMouseOver,onMouseOut:onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut,onChange:newSize=>onChange((newSize=>isNaN(parseFloat(newSize))?void 0:newSize)(newSize)),value:currentValue,units:units,min:minimumCustomValue,placeholder:allPlaceholder,disableUnits:isMixed,label:ariaLabel,hideLabelFromVision:!0,className:"spacing-sizes-control__custom-value-input",size:"__unstable-large"}),(0,react.createElement)(range_control.Z,{onMouseOver:onMouseOver,onMouseOut:onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut,value:customRangeValue,min:0,max:null!==(_CUSTOM_VALUE_SETTING=CUSTOM_VALUE_SETTINGS[selectedUnit]?.max)&&void 0!==_CUSTOM_VALUE_SETTING?_CUSTOM_VALUE_SETTING:10,step:null!==(_CUSTOM_VALUE_SETTING2=CUSTOM_VALUE_SETTINGS[selectedUnit]?.steps)&&void 0!==_CUSTOM_VALUE_SETTING2?_CUSTOM_VALUE_SETTING2:.1,withInputField:!1,onChange:next=>{onChange([next,selectedUnit].join(""))},className:"spacing-sizes-control__custom-value-range",__nextHasNoMarginBottom:!0})),showRangeControl&&!showCustomValueControl&&(0,react.createElement)(range_control.Z,{onMouseOver:onMouseOver,onMouseOut:onMouseOut,className:"spacing-sizes-control__range-control",value:currentValue,onChange:newSize=>onChange(getNewPresetValue(newSize)),onMouseDown:event=>{event?.nativeEvent?.offsetX<35&&void 0===value&&onChange("0")},withInputField:!1,"aria-valuenow":currentValue,"aria-valuetext":spacingSizes[currentValue]?.name,renderTooltipContent:newValue=>void 0===value?void 0:spacingSizes[newValue]?.name,min:0,max:spacingSizes.length-1,marks:marks,label:ariaLabel,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,onFocus:onMouseOver,onBlur:onMouseOut}),!showRangeControl&&!showCustomValueControl&&(0,react.createElement)(custom_select_control.q,{className:"spacing-sizes-control__custom-select-control",value:options.find((option=>option.key===currentValue))||"",onChange:selection=>{onChange(getNewPresetValue(selection.selectedItem.key,"selectList"))},options:options,label:ariaLabel,hideLabelFromVision:!0,__nextUnconstrainedWidth:!0,size:"__unstable-large",onMouseOver:onMouseOver,onMouseOut:onMouseOut,onFocus:onMouseOver,onBlur:onMouseOut}),!disableCustomSpacingSizes&&(0,react.createElement)(build_module_button.ZP,{label:showCustomValueControl?(0,i18n_build_module.__)("Use size preset"):(0,i18n_build_module.__)("Set custom size"),icon:library_settings.Z,onClick:()=>{setShowCustomValueControl(!showCustomValueControl)},isPressed:showCustomValueControl,isSmall:!0,className:"spacing-sizes-control__custom-toggle",iconSize:24}))}SpacingInputControl.__docgenInfo={description:"",methods:[],displayName:"SpacingInputControl",props:{isMixed:{defaultValue:{value:"false",computed:!1},required:!1},showSideInLabel:{defaultValue:{value:"true",computed:!1},required:!1}}};const axial_groupedSides=["vertical","horizontal"];function axial_AxialInputControls({minimumCustomValue:minimumCustomValue,onChange:onChange,onMouseOut:onMouseOut,onMouseOver:onMouseOver,sides:sides,spacingSizes:spacingSizes,type:type,values:values}){const createHandleOnChange=side=>next=>{if(!onChange)return;const nextValues={...Object.keys(values).reduce(((acc,key)=>(acc[key]=getPresetValueFromCustomValue(values[key],spacingSizes),acc)),{})};"vertical"===side&&(nextValues.top=next,nextValues.bottom=next),"horizontal"===side&&(nextValues.left=next,nextValues.right=next),onChange(nextValues)},filteredSides=sides?.length?axial_groupedSides.filter((side=>hasAxisSupport(sides,side))):axial_groupedSides;return(0,react.createElement)(react.Fragment,null,filteredSides.map((side=>{const axisValue="vertical"===side?values.top:values.left;return(0,react.createElement)(SpacingInputControl,{key:`spacing-sizes-control-${side}`,icon:ICONS[side],label:LABELS[side],minimumCustomValue:minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut:onMouseOut,onMouseOver:onMouseOver,side:side,spacingSizes:spacingSizes,type:type,value:axisValue,withInputField:!1})})))}function SeparatedInputControls({minimumCustomValue:minimumCustomValue,onChange:onChange,onMouseOut:onMouseOut,onMouseOver:onMouseOver,sides:sides,spacingSizes:spacingSizes,type:type,values:values}){const filteredSides=sides?.length?ALL_SIDES.filter((side=>sides.includes(side))):ALL_SIDES,createHandleOnChange=side=>next=>{const nextValues={...Object.keys(values).reduce(((acc,key)=>(acc[key]=getPresetValueFromCustomValue(values[key],spacingSizes),acc)),{})};nextValues[side]=next,onChange(nextValues)};return(0,react.createElement)(react.Fragment,null,filteredSides.map((side=>(0,react.createElement)(SpacingInputControl,{key:`spacing-sizes-control-${side}`,icon:ICONS[side],label:LABELS[side],minimumCustomValue:minimumCustomValue,onChange:createHandleOnChange(side),onMouseOut:onMouseOut,onMouseOver:onMouseOver,side:side,spacingSizes:spacingSizes,type:type,value:values[side],withInputField:!1}))))}function SingleInputControl({minimumCustomValue:minimumCustomValue,onChange:onChange,onMouseOut:onMouseOut,onMouseOver:onMouseOver,showSideInLabel:showSideInLabel,side:side,spacingSizes:spacingSizes,type:type,values:values}){return(0,react.createElement)(SpacingInputControl,{label:LABELS[side],minimumCustomValue:minimumCustomValue,onChange:(currentSide=side,next=>{const nextValues={...Object.keys(values).reduce(((acc,key)=>(acc[key]=getPresetValueFromCustomValue(values[key],spacingSizes),acc)),{})};nextValues[currentSide]=next,onChange(nextValues)}),onMouseOut:onMouseOut,onMouseOver:onMouseOver,showSideInLabel:showSideInLabel,side:side,spacingSizes:spacingSizes,type:type,value:values[side],withInputField:!1});var currentSide}axial_AxialInputControls.__docgenInfo={description:"",methods:[],displayName:"AxialInputControls"},SeparatedInputControls.__docgenInfo={description:"",methods:[],displayName:"SeparatedInputControls"},SingleInputControl.__docgenInfo={description:"",methods:[],displayName:"SingleInputControl"};var dropdown_menu=__webpack_require__("./packages/components/build-module/dropdown-menu/index.js"),library_check=__webpack_require__("./packages/icons/build-module/library/check.js");const checkIcon=(0,react.createElement)(components_build_module_icon.Z,{icon:library_check.Z,size:24});function SidesDropdown({label:labelProp,onChange:onChange,sides:sides,value:value}){if(!sides||!sides.length)return;const supportedItems=function getSupportedMenuItems(sides){if(!sides||!sides.length)return{};const menuItems={},hasHorizontalSupport=hasAxisSupport(sides,"horizontal"),hasVerticalSupport=hasAxisSupport(sides,"vertical");hasHorizontalSupport&&hasVerticalSupport?menuItems.axial={label:LABELS.axial,icon:ICONS.axial}:hasHorizontalSupport?menuItems.axial={label:LABELS.horizontal,icon:ICONS.horizontal}:hasVerticalSupport&&(menuItems.axial={label:LABELS.vertical,icon:ICONS.vertical});let numberOfIndividualSides=0;return ALL_SIDES.forEach((side=>{sides.includes(side)&&(numberOfIndividualSides+=1,menuItems[side]={label:LABELS[side],icon:ICONS[side]})})),numberOfIndividualSides>1&&(menuItems.custom={label:LABELS.custom,icon:ICONS.custom}),menuItems}(sides),sideIcon=supportedItems[value].icon,{custom:customItem,...menuItems}=supportedItems;return(0,react.createElement)(dropdown_menu.Z,{icon:sideIcon,label:labelProp,className:"spacing-sizes-control__dropdown",toggleProps:{isSmall:!0}},(({onClose:onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,null,Object.entries(menuItems).map((([slug,{label:label,icon:icon}])=>{const isSelected=value===slug;return(0,react.createElement)(menu_item.Z,{key:slug,icon:icon,iconPosition:"left",isSelected:isSelected,role:"menuitemradio",onClick:()=>{onChange(slug),onClose()},suffix:isSelected?checkIcon:void 0},label)}))),!!customItem&&(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_item.Z,{icon:customItem.icon,iconPosition:"left",isSelected:value===VIEWS.custom,role:"menuitemradio",onClick:()=>{onChange(VIEWS.custom),onClose()},suffix:value===VIEWS.custom?checkIcon:void 0},customItem.label)))))}function SpacingSizesControl({inputProps:inputProps,label:labelProp,minimumCustomValue:minimumCustomValue=0,onChange:onChange,onMouseOut:onMouseOut,onMouseOver:onMouseOver,showSideInLabel:showSideInLabel=!0,sides:sides=ALL_SIDES,useSelect:useSelect,values:values}){const spacingSizes=function useSpacingSizes(){const spacingSizes=[{name:0,slug:"0",size:0}],[settingsSizes]=use_settings_useSettings("spacing.spacingSizes");return settingsSizes&&spacingSizes.push(...settingsSizes),spacingSizes.length>8&&spacingSizes.unshift({name:(0,i18n_build_module.__)("Default"),slug:"default",size:void 0}),spacingSizes}(),inputValues=values||DEFAULT_VALUES,hasOneSide=1===sides?.length,hasOnlyAxialSides=sides?.includes("horizontal")&&sides?.includes("vertical")&&2===sides?.length,[view,setView]=(0,react.useState)(function getInitialView(values={},sides){const{top:top,right:right,bottom:bottom,left:left}=values,sideValues=[top,right,bottom,left].filter(Boolean),hasMatchingAxialValues=!(top!==bottom||left!==right||!top&&!left),hasNoValuesAndBalancedSides=!sideValues.length&&function hasBalancedSidesSupport(sides=[]){const counts={top:0,right:0,bottom:0,left:0};return sides.forEach((side=>counts[side]+=1)),(counts.top+counts.bottom)%2==0&&(counts.left+counts.right)%2==0}(sides);if(hasAxisSupport(sides)&&(hasMatchingAxialValues||hasNoValuesAndBalancedSides))return VIEWS.axial;if(1===sideValues.length){let side;return Object.entries(values).some((([key,value])=>(side=key,void 0!==value))),side}return 1!==sides?.length||sideValues.length?VIEWS.custom:sides[0]}(inputValues,sides)),inputControlProps={...inputProps,minimumCustomValue:minimumCustomValue,onChange:nextValue=>{const newValues={...values,...nextValue};onChange(newValues)},onMouseOut:onMouseOut,onMouseOver:onMouseOver,sides:sides,spacingSizes:spacingSizes,type:labelProp,useSelect:useSelect,values:inputValues},sideLabel=ALL_SIDES.includes(view)&&showSideInLabel?LABELS[view]:"",label=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s %2$s"),labelProp,sideLabel).trim(),dropdownLabelText=(0,i18n_build_module.gB)((0,i18n_build_module._x)("%s options","Button label to reveal side configuration options"),labelProp);return(0,react.createElement)("fieldset",{className:"spacing-sizes-control"},(0,react.createElement)(h_stack_component.Z,{className:"spacing-sizes-control__header"},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend",className:"spacing-sizes-control__label"},label),!hasOneSide&&!hasOnlyAxialSides&&(0,react.createElement)(SidesDropdown,{label:dropdownLabelText,onChange:setView,sides:sides,value:view})),view===VIEWS.axial?(0,react.createElement)(axial_AxialInputControls,{...inputControlProps}):view===VIEWS.custom?(0,react.createElement)(SeparatedInputControls,{...inputControlProps}):(0,react.createElement)(SingleInputControl,{side:view,...inputControlProps,showSideInLabel:showSideInLabel}))}SidesDropdown.__docgenInfo={description:"",methods:[],displayName:"SidesDropdown"},SpacingSizesControl.__docgenInfo={description:"",methods:[],displayName:"SpacingSizesControl",props:{minimumCustomValue:{defaultValue:{value:"0",computed:!1},required:!1},showSideInLabel:{defaultValue:{value:"true",computed:!1},required:!1},sides:{defaultValue:{value:"ALL_SIDES",computed:!0},required:!1}}};const RANGE_CONTROL_CUSTOM_SETTINGS={px:{max:1e3,step:1},"%":{max:100,step:1},vw:{max:100,step:1},vh:{max:100,step:1},em:{max:50,step:.1},rem:{max:50,step:.1},svw:{max:100,step:1},lvw:{max:100,step:1},dvw:{max:100,step:1},svh:{max:100,step:1},lvh:{max:100,step:1},dvh:{max:100,step:1},vi:{max:100,step:1},svi:{max:100,step:1},lvi:{max:100,step:1},dvi:{max:100,step:1},vb:{max:100,step:1},svb:{max:100,step:1},lvb:{max:100,step:1},dvb:{max:100,step:1},vmin:{max:100,step:1},svmin:{max:100,step:1},lvmin:{max:100,step:1},dvmin:{max:100,step:1},vmax:{max:100,step:1},svmax:{max:100,step:1},lvmax:{max:100,step:1},dvmax:{max:100,step:1}};function HeightControl({label:label=(0,i18n_build_module.__)("Height"),onChange:onChange,value:value}){var _RANGE_CONTROL_CUSTOM,_RANGE_CONTROL_CUSTOM2;const customRangeValue=parseFloat(value),[availableUnits]=use_settings_useSettings("spacing.units"),units=(0,utils.nj)({availableUnits:availableUnits||["%","px","em","rem","vh","vw"]}),selectedUnit=(0,react.useMemo)((()=>(0,utils.YX)(value)),[value])[1]||units[0]?.value||"px";return(0,react.createElement)("fieldset",{className:"block-editor-height-control"},(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend"},label),(0,react.createElement)(component.Z,null,(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(unit_control.ZP,{value:value,units:units,onChange:onChange,onUnitChange:newUnit=>{const[currentValue,currentUnit]=(0,utils.YX)(value);["em","rem"].includes(newUnit)&&"px"===currentUnit?onChange((currentValue/16).toFixed(2)+newUnit):["em","rem"].includes(currentUnit)&&"px"===newUnit?onChange(Math.round(16*currentValue)+newUnit):["%","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax"].includes(newUnit)&&currentValue>100&&onChange(100+newUnit)},min:0,size:"__unstable-large"})),(0,react.createElement)(flex_item_component.Z,{isBlock:!0},(0,react.createElement)(spacer_component.Z,{marginX:2,marginBottom:0},(0,react.createElement)(range_control.Z,{value:customRangeValue,min:0,max:null!==(_RANGE_CONTROL_CUSTOM=RANGE_CONTROL_CUSTOM_SETTINGS[selectedUnit]?.max)&&void 0!==_RANGE_CONTROL_CUSTOM?_RANGE_CONTROL_CUSTOM:100,step:null!==(_RANGE_CONTROL_CUSTOM2=RANGE_CONTROL_CUSTOM_SETTINGS[selectedUnit]?.step)&&void 0!==_RANGE_CONTROL_CUSTOM2?_RANGE_CONTROL_CUSTOM2:.1,withInputField:!1,onChange:next=>{onChange([next,selectedUnit].join(""))},__nextHasNoMarginBottom:!0})))))}function helpText(selfStretch,parentLayout){const{orientation:orientation="horizontal"}=parentLayout;return"fill"===selfStretch?(0,i18n_build_module.__)("Stretch to fill available space."):"fixed"===selfStretch&&"horizontal"===orientation?(0,i18n_build_module.__)("Specify a fixed width."):"fixed"===selfStretch?(0,i18n_build_module.__)("Specify a fixed height."):(0,i18n_build_module.__)("Fit contents.")}function ChildLayoutControl({value:childLayout={},onChange:onChange,parentLayout:parentLayout}){const{selfStretch:selfStretch,flexSize:flexSize}=childLayout;return(0,react.useEffect)((()=>{"fixed"!==selfStretch||flexSize||onChange({...childLayout,selfStretch:"fit"})}),[]),(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toggle_group_control_component.Z,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:childLayoutOrientation(parentLayout),value:selfStretch||"fit",help:helpText(selfStretch,parentLayout),onChange:value=>{const newFlexSize="fixed"!==value?null:flexSize;onChange({...childLayout,selfStretch:value,flexSize:newFlexSize})},isBlock:!0},(0,react.createElement)(toggle_group_control_option_component.Z,{key:"fit",value:"fit",label:(0,i18n_build_module.__)("Fit")}),(0,react.createElement)(toggle_group_control_option_component.Z,{key:"fill",value:"fill",label:(0,i18n_build_module.__)("Fill")}),(0,react.createElement)(toggle_group_control_option_component.Z,{key:"fixed",value:"fixed",label:(0,i18n_build_module.__)("Fixed")})),"fixed"===selfStretch&&(0,react.createElement)(unit_control.ZP,{size:"__unstable-large",onChange:value=>{onChange({...childLayout,flexSize:value})},value:flexSize}))}function childLayoutOrientation(parentLayout){const{orientation:orientation="horizontal"}=parentLayout;return"horizontal"===orientation?(0,i18n_build_module.__)("Width"):(0,i18n_build_module.__)("Height")}HeightControl.__docgenInfo={description:"HeightControl renders a linked unit control and range control for adjusting the height of a block.\n\n@see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/height-control/README.md\n\n@param {Object}                     props\n@param {?string}                    props.label    A label for the control.\n@param {( value: string ) => void } props.onChange Called when the height changes.\n@param {string}                     props.value    The current height value.\n\n@return {Component} The component to be rendered.",methods:[],displayName:"HeightControl",props:{label:{defaultValue:{value:"__('Height')",computed:!0},required:!1}}},ChildLayoutControl.__docgenInfo={description:"Form to edit the child layout value.\n\n@param {Object}   props              Props.\n@param {Object}   props.value        The child layout value.\n@param {Function} props.onChange     Function to update the child layout value.\n@param {Object}   props.parentLayout The parent layout value.\n\n@return {Element} child layout edit element.",methods:[],displayName:"ChildLayoutControl",props:{value:{defaultValue:{value:"{}",computed:!1},required:!1}}};const AXIAL_SIDES=["horizontal","vertical"];function useHasDimensionsPanel(settings){const hasContentSize=useHasContentSize(settings),hasWideSize=useHasWideSize(settings),hasPadding=useHasPadding(settings),hasMargin=useHasMargin(settings),hasGap=useHasGap(settings),hasMinHeight=useHasMinHeight(settings),hasChildLayout=useHasChildLayout(settings);return"web"===platform.Z.OS&&(hasContentSize||hasWideSize||hasPadding||hasMargin||hasGap||hasMinHeight||hasChildLayout)}function useHasContentSize(settings){return settings?.layout?.contentSize}function useHasWideSize(settings){return settings?.layout?.wideSize}function useHasPadding(settings){return settings?.spacing?.padding}function useHasMargin(settings){return settings?.spacing?.margin}function useHasGap(settings){return settings?.spacing?.blockGap}function useHasMinHeight(settings){return settings?.dimensions?.minHeight}function useHasChildLayout(settings){var _settings$parentLayou;const{type:parentLayoutType="default",default:{type:defaultParentLayoutType="default"}={},allowSizingOnChildren:allowSizingOnChildren=!1}=null!==(_settings$parentLayou=settings?.parentLayout)&&void 0!==_settings$parentLayou?_settings$parentLayou:{},support=("flex"===defaultParentLayoutType||"flex"===parentLayoutType)&&allowSizingOnChildren;return!!settings?.layout&&support}function filterValuesBySides(values,sides){if(!sides||!values)return values;const filteredValues={};return sides.forEach((side=>{"vertical"===side&&(filteredValues.top=values.top,filteredValues.bottom=values.bottom),"horizontal"===side&&(filteredValues.left=values.left,filteredValues.right=values.right),filteredValues[side]=values?.[side]})),filteredValues}function splitStyleValue(value){return value&&"string"==typeof value?{top:value,right:value,bottom:value,left:value}:value}function DimensionsToolsPanel({resetAllFilter:resetAllFilter,onChange:onChange,value:value,panelId:panelId,children:children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Dimensions"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId:panelId},children)}const dimensions_panel_DEFAULT_CONTROLS={contentSize:!0,wideSize:!0,padding:!0,margin:!0,blockGap:!0,minHeight:!0,childLayout:!0};function DimensionsPanel({as:Wrapper=DimensionsToolsPanel,value:value,onChange:onChange,inheritedValue:inheritedValue=value,settings:settings,panelId:panelId,defaultControls:defaultControls=dimensions_panel_DEFAULT_CONTROLS,onVisualize:onVisualize=(()=>{}),includeLayoutControls:includeLayoutControls=!1}){var _settings$parentLayou2,_defaultControls$cont,_defaultControls$wide,_defaultControls$padd,_defaultControls$marg,_defaultControls$bloc,_defaultControls$minH,_defaultControls$chil;const{dimensions:dimensions,spacing:spacing}=settings,decodeValue=rawValue=>rawValue&&"object"==typeof rawValue?Object.keys(rawValue).reduce(((acc,key)=>(acc[key]=getValueFromVariable({settings:{dimensions:dimensions,spacing:spacing}},"",rawValue[key]),acc)),{}):getValueFromVariable({settings:{dimensions:dimensions,spacing:spacing}},"",rawValue),showSpacingPresetsControl=function useHasSpacingPresets(settings){var _ref,_ref2;const{custom:custom,theme:theme,default:defaultPresets}=settings?.spacing?.spacingSizes||{};return(null!==(_ref=null!==(_ref2=null!=custom?custom:theme)&&void 0!==_ref2?_ref2:defaultPresets)&&void 0!==_ref?_ref:[]).length>0}(settings),units=(0,utils.nj)({availableUnits:settings?.spacing?.units||["%","px","em","rem","vw"]}),showContentSizeControl=useHasContentSize(settings)&&includeLayoutControls,contentSizeValue=decodeValue(inheritedValue?.layout?.contentSize),setContentSizeValue=newValue=>{onChange(setImmutably(value,["layout","contentSize"],newValue||void 0))},showWideSizeControl=useHasWideSize(settings)&&includeLayoutControls,wideSizeValue=decodeValue(inheritedValue?.layout?.wideSize),setWideSizeValue=newValue=>{onChange(setImmutably(value,["layout","wideSize"],newValue||void 0))},showPaddingControl=useHasPadding(settings),paddingValues=splitStyleValue(decodeValue(inheritedValue?.spacing?.padding)),paddingSides=Array.isArray(settings?.spacing?.padding)?settings?.spacing?.padding:settings?.spacing?.padding?.sides,isAxialPadding=paddingSides&&paddingSides.some((side=>AXIAL_SIDES.includes(side))),setPaddingValues=newPaddingValues=>{const padding=filterValuesBySides(newPaddingValues,paddingSides);onChange(setImmutably(value,["spacing","padding"],padding))},onMouseOverPadding=()=>onVisualize("padding"),showMarginControl=useHasMargin(settings),marginValues=splitStyleValue(decodeValue(inheritedValue?.spacing?.margin)),marginSides=Array.isArray(settings?.spacing?.margin)?settings?.spacing?.margin:settings?.spacing?.margin?.sides,isAxialMargin=marginSides&&marginSides.some((side=>AXIAL_SIDES.includes(side))),setMarginValues=newMarginValues=>{const margin=filterValuesBySides(newMarginValues,marginSides);onChange(setImmutably(value,["spacing","margin"],margin))},onMouseOverMargin=()=>onVisualize("margin"),showGapControl=useHasGap(settings),gapValue=decodeValue(inheritedValue?.spacing?.blockGap),gapValues=function splitGapValue(value){return value&&"string"==typeof value?{top:value}:value?{...value,right:value?.left,bottom:value?.top}:value}(gapValue),gapSides=Array.isArray(settings?.spacing?.blockGap)?settings?.spacing?.blockGap:settings?.spacing?.blockGap?.sides,isAxialGap=gapSides&&gapSides.some((side=>AXIAL_SIDES.includes(side))),setGapValue=newGapValue=>{onChange(setImmutably(value,["spacing","blockGap"],newGapValue))},setGapValues=nextBoxGapValue=>{nextBoxGapValue||setGapValue(null),!isAxialGap&&nextBoxGapValue?.hasOwnProperty("top")?setGapValue(nextBoxGapValue.top):setGapValue({top:nextBoxGapValue?.top,left:nextBoxGapValue?.left})},showMinHeightControl=useHasMinHeight(settings),minHeightValue=decodeValue(inheritedValue?.dimensions?.minHeight),setMinHeightValue=newValue=>{onChange(setImmutably(value,["dimensions","minHeight"],newValue))},showChildLayoutControl=useHasChildLayout(settings),childLayout=inheritedValue?.layout,{orientation:orientation="horizontal"}=null!==(_settings$parentLayou2=settings?.parentLayout)&&void 0!==_settings$parentLayou2?_settings$parentLayou2:{},childLayoutOrientationLabel="horizontal"===orientation?(0,i18n_build_module.__)("Width"):(0,i18n_build_module.__)("Height"),setChildLayout=newChildLayout=>{onChange({...value,layout:{...value?.layout,...newChildLayout}})},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,layout:utils_cleanEmptyObject({...previousValue?.layout,contentSize:void 0,wideSize:void 0,selfStretch:void 0,flexSize:void 0}),spacing:{...previousValue?.spacing,padding:void 0,margin:void 0,blockGap:void 0},dimensions:{...previousValue?.dimensions,minHeight:void 0}})),[]),onMouseLeaveControls=()=>onVisualize(!1);return(0,react.createElement)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId},(showContentSizeControl||showWideSizeControl)&&(0,react.createElement)("span",{className:"span-columns"},(0,i18n_build_module.__)("Set the width of the main content area.")),showContentSizeControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Content size"),hasValue:()=>!!value?.layout?.contentSize,onDeselect:()=>setContentSizeValue(void 0),isShownByDefault:null!==(_defaultControls$cont=defaultControls.contentSize)&&void 0!==_defaultControls$cont?_defaultControls$cont:dimensions_panel_DEFAULT_CONTROLS.contentSize,panelId:panelId},(0,react.createElement)(h_stack_component.Z,{alignment:"flex-end",justify:"flex-start"},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Content"),labelPosition:"top",__unstableInputWidth:"80px",value:contentSizeValue||"",onChange:nextContentSize=>{setContentSizeValue(nextContentSize)},units:units}),(0,react.createElement)(view_component.Z,null,(0,react.createElement)(build_module_icon.Z,{icon:position_center.Z})))),showWideSizeControl&&(0,react.createElement)(tools_panel_item_component.Z,{className:"single-column",label:(0,i18n_build_module.__)("Wide size"),hasValue:()=>!!value?.layout?.wideSize,onDeselect:()=>setWideSizeValue(void 0),isShownByDefault:null!==(_defaultControls$wide=defaultControls.wideSize)&&void 0!==_defaultControls$wide?_defaultControls$wide:dimensions_panel_DEFAULT_CONTROLS.wideSize,panelId:panelId},(0,react.createElement)(h_stack_component.Z,{alignment:"flex-end",justify:"flex-start"},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Wide"),labelPosition:"top",__unstableInputWidth:"80px",value:wideSizeValue||"",onChange:nextWideSize=>{setWideSizeValue(nextWideSize)},units:units}),(0,react.createElement)(view_component.Z,null,(0,react.createElement)(build_module_icon.Z,{icon:stretch_wide.Z})))),showPaddingControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.spacing?.padding&&Object.keys(value?.spacing?.padding).length,label:(0,i18n_build_module.__)("Padding"),onDeselect:()=>setPaddingValues(void 0),isShownByDefault:null!==(_defaultControls$padd=defaultControls.padding)&&void 0!==_defaultControls$padd?_defaultControls$padd:dimensions_panel_DEFAULT_CONTROLS.padding,className:classnames_default()({"tools-panel-item-spacing":showSpacingPresetsControl}),panelId:panelId},!showSpacingPresetsControl&&(0,react.createElement)(box_control,{values:paddingValues,onChange:setPaddingValues,label:(0,i18n_build_module.__)("Padding"),sides:paddingSides,units:units,allowReset:!1,splitOnAxis:isAxialPadding,onMouseOver:onMouseOverPadding,onMouseOut:onMouseLeaveControls}),showSpacingPresetsControl&&(0,react.createElement)(SpacingSizesControl,{values:paddingValues,onChange:setPaddingValues,label:(0,i18n_build_module.__)("Padding"),sides:paddingSides,units:units,allowReset:!1,onMouseOver:onMouseOverPadding,onMouseOut:onMouseLeaveControls})),showMarginControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.spacing?.margin&&Object.keys(value?.spacing?.margin).length,label:(0,i18n_build_module.__)("Margin"),onDeselect:()=>setMarginValues(void 0),isShownByDefault:null!==(_defaultControls$marg=defaultControls.margin)&&void 0!==_defaultControls$marg?_defaultControls$marg:dimensions_panel_DEFAULT_CONTROLS.margin,className:classnames_default()({"tools-panel-item-spacing":showSpacingPresetsControl}),panelId:panelId},!showSpacingPresetsControl&&(0,react.createElement)(box_control,{values:marginValues,onChange:setMarginValues,label:(0,i18n_build_module.__)("Margin"),sides:marginSides,units:units,allowReset:!1,splitOnAxis:isAxialMargin,onMouseOver:onMouseOverMargin,onMouseOut:onMouseLeaveControls}),showSpacingPresetsControl&&(0,react.createElement)(SpacingSizesControl,{values:marginValues,onChange:setMarginValues,label:(0,i18n_build_module.__)("Margin"),sides:marginSides,units:units,allowReset:!1,onMouseOver:onMouseOverMargin,onMouseOut:onMouseLeaveControls})),showGapControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.spacing?.blockGap,label:(0,i18n_build_module.__)("Block spacing"),onDeselect:()=>setGapValue(void 0),isShownByDefault:null!==(_defaultControls$bloc=defaultControls.blockGap)&&void 0!==_defaultControls$bloc?_defaultControls$bloc:dimensions_panel_DEFAULT_CONTROLS.blockGap,className:classnames_default()({"tools-panel-item-spacing":showSpacingPresetsControl}),panelId:panelId},!showSpacingPresetsControl&&(isAxialGap?(0,react.createElement)(box_control,{label:(0,i18n_build_module.__)("Block spacing"),min:0,onChange:setGapValues,units:units,sides:gapSides,values:gapValues,allowReset:!1,splitOnAxis:isAxialGap}):(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Block spacing"),__unstableInputWidth:"80px",min:0,onChange:setGapValue,units:units,value:gapValue})),showSpacingPresetsControl&&(0,react.createElement)(SpacingSizesControl,{label:(0,i18n_build_module.__)("Block spacing"),min:0,onChange:setGapValues,showSideInLabel:!1,sides:isAxialGap?gapSides:["top"],values:gapValues,allowReset:!1})),showMinHeightControl&&(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.dimensions?.minHeight,label:(0,i18n_build_module.__)("Min. height"),onDeselect:()=>{setMinHeightValue(void 0)},isShownByDefault:null!==(_defaultControls$minH=defaultControls.minHeight)&&void 0!==_defaultControls$minH?_defaultControls$minH:dimensions_panel_DEFAULT_CONTROLS.minHeight,panelId:panelId},(0,react.createElement)(HeightControl,{label:(0,i18n_build_module.__)("Min. height"),value:minHeightValue,onChange:setMinHeightValue})),showChildLayoutControl&&(0,react.createElement)(v_stack_component.Z,{as:tools_panel_item_component.Z,spacing:2,hasValue:()=>!!value?.layout,label:childLayoutOrientationLabel,onDeselect:()=>{setChildLayout({selfStretch:void 0,flexSize:void 0})},isShownByDefault:null!==(_defaultControls$chil=defaultControls.childLayout)&&void 0!==_defaultControls$chil?_defaultControls$chil:dimensions_panel_DEFAULT_CONTROLS.childLayout,panelId:panelId},(0,react.createElement)(ChildLayoutControl,{value:childLayout,onChange:setChildLayout,parentLayout:settings?.parentLayout})))}DimensionsPanel.__docgenInfo={description:"",methods:[],displayName:"DimensionsPanel",props:{as:{defaultValue:{value:"function DimensionsToolsPanel({\n  resetAllFilter,\n  onChange,\n  value,\n  panelId,\n  children\n}) {\n  const resetAll = () => {\n    const updatedValue = resetAllFilter(value);\n    onChange(updatedValue);\n  };\n  return createElement(ToolsPanel, {\n    label: __('Dimensions'),\n    resetAll: resetAll,\n    panelId: panelId\n  }, children);\n}",computed:!1},required:!1},inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1},defaultControls:{defaultValue:{value:"{\n  contentSize: true,\n  wideSize: true,\n  padding: true,\n  margin: true,\n  blockGap: true,\n  minHeight: true,\n  childLayout: true\n}",computed:!1},required:!1},onVisualize:{defaultValue:{value:"() => {}",computed:!1},required:!1},includeLayoutControls:{defaultValue:{value:"false",computed:!1},required:!1}}};var is_shallow_equal_build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js");var use_popover_scroll=function usePopoverScroll(scrollableRef){return(0,use_ref_effect.Z)((node=>{if(!scrollableRef)return;function onWheel(event){const{deltaX:deltaX,deltaY:deltaY}=event;scrollableRef.current.scrollBy(deltaX,deltaY)}const options={passive:!0};return node.addEventListener("wheel",onWheel,options),()=>{node.removeEventListener("wheel",onWheel,options)}}),[scrollableRef])};const MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;function BlockPopover({clientId:clientId,bottomClientId:bottomClientId,children:children,__unstableRefreshSize:__unstableRefreshSize,__unstableCoverTarget:__unstableCoverTarget=!1,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,shift:shift=!0,...props},ref){const selectedElement=useBlockElement(clientId),lastSelectedElement=useBlockElement(null!=bottomClientId?bottomClientId:clientId),mergedRefs=(0,use_merge_refs.Z)([ref,use_popover_scroll(__unstableContentRef)]),[popoverDimensionsRecomputeCounter,forceRecomputePopoverDimensions]=(0,react.useReducer)((s=>(s+1)%MAX_POPOVER_RECOMPUTE_COUNTER),0);(0,react.useLayoutEffect)((()=>{if(!selectedElement)return;const observer=new window.MutationObserver(forceRecomputePopoverDimensions);return observer.observe(selectedElement,{attributes:!0}),()=>{observer.disconnect()}}),[selectedElement]);const style=(0,react.useMemo)((()=>popoverDimensionsRecomputeCounter<0||!selectedElement||lastSelectedElement!==selectedElement?{}:{position:"absolute",width:selectedElement.offsetWidth,height:selectedElement.offsetHeight}),[selectedElement,lastSelectedElement,__unstableRefreshSize,popoverDimensionsRecomputeCounter]),popoverAnchor=(0,react.useMemo)((()=>{if(!(popoverDimensionsRecomputeCounter<0||!selectedElement||bottomClientId&&!lastSelectedElement))return{getBoundingClientRect(){var _lastSelectedBCR$left,_lastSelectedBCR$top,_lastSelectedBCR$righ,_lastSelectedBCR$bott;const selectedBCR=selectedElement.getBoundingClientRect(),lastSelectedBCR=lastSelectedElement?.getBoundingClientRect(),left=Math.min(selectedBCR.left,null!==(_lastSelectedBCR$left=lastSelectedBCR?.left)&&void 0!==_lastSelectedBCR$left?_lastSelectedBCR$left:1/0),top=Math.min(selectedBCR.top,null!==(_lastSelectedBCR$top=lastSelectedBCR?.top)&&void 0!==_lastSelectedBCR$top?_lastSelectedBCR$top:1/0),width=Math.max(selectedBCR.right,null!==(_lastSelectedBCR$righ=lastSelectedBCR.right)&&void 0!==_lastSelectedBCR$righ?_lastSelectedBCR$righ:-1/0)-left,height=Math.max(selectedBCR.bottom,null!==(_lastSelectedBCR$bott=lastSelectedBCR.bottom)&&void 0!==_lastSelectedBCR$bott?_lastSelectedBCR$bott:-1/0)-top;return new window.DOMRect(left,top,width,height)},contextElement:selectedElement}}),[bottomClientId,lastSelectedElement,selectedElement,popoverDimensionsRecomputeCounter]);return!selectedElement||bottomClientId&&!lastSelectedElement?null:(0,react.createElement)(popover.ZP,{ref:mergedRefs,animate:!1,focusOnMount:!1,anchor:popoverAnchor,__unstableSlotName:__unstablePopoverSlot,inline:!__unstablePopoverSlot,placement:"top-start",resize:!1,flip:!1,shift:shift,...props,className:classnames_default()("block-editor-block-popover",props.className),variant:"unstyled"},__unstableCoverTarget&&(0,react.createElement)("div",{style:style},children),!__unstableCoverTarget&&children)}BlockPopover.__docgenInfo={description:"",methods:[],displayName:"BlockPopover",props:{__unstableCoverTarget:{defaultValue:{value:"false",computed:!1},required:!1},shift:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_popover=(0,react.forwardRef)(BlockPopover);function getComputedCSS(element,property){return element.ownerDocument.defaultView.getComputedStyle(element).getPropertyValue(property)}function MarginVisualizer({clientId:clientId,attributes:attributes,forceShow:forceShow}){const blockElement=useBlockElement(clientId),[style,setStyle]=(0,react.useState)(),margin=attributes?.style?.spacing?.margin;(0,react.useEffect)((()=>{if(!blockElement||null===blockElement.ownerDocument.defaultView)return;const top=getComputedCSS(blockElement,"margin-top"),right=getComputedCSS(blockElement,"margin-right"),bottom=getComputedCSS(blockElement,"margin-bottom"),left=getComputedCSS(blockElement,"margin-left");setStyle({borderTopWidth:top,borderRightWidth:right,borderBottomWidth:bottom,borderLeftWidth:left,top:top?`-${top}`:0,right:right?`-${right}`:0,bottom:bottom?`-${bottom}`:0,left:left?`-${left}`:0})}),[blockElement,margin]);const[isActive,setIsActive]=(0,react.useState)(!1),valueRef=(0,react.useRef)(margin),timeoutRef=(0,react.useRef)();return(0,react.useEffect)((()=>((0,is_shallow_equal_build_module.ZP)(margin,valueRef.current)||forceShow||(setIsActive(!0),valueRef.current=margin,timeoutRef.current=setTimeout((()=>{setIsActive(!1)}),400)),()=>{setIsActive(!1),timeoutRef.current&&window.clearTimeout(timeoutRef.current)})),[margin,forceShow]),isActive||forceShow?(0,react.createElement)(block_popover,{clientId:clientId,__unstableCoverTarget:!0,__unstableRefreshSize:margin,__unstablePopoverSlot:"block-toolbar",shift:!1},(0,react.createElement)("div",{className:"block-editor__padding-visualizer",style:style})):null}function padding_getComputedCSS(element,property){return element.ownerDocument.defaultView.getComputedStyle(element).getPropertyValue(property)}function PaddingVisualizer({clientId:clientId,attributes:attributes,forceShow:forceShow}){const blockElement=useBlockElement(clientId),[style,setStyle]=(0,react.useState)(),padding=attributes?.style?.spacing?.padding;(0,react.useEffect)((()=>{blockElement&&null!==blockElement.ownerDocument.defaultView&&setStyle({borderTopWidth:padding_getComputedCSS(blockElement,"padding-top"),borderRightWidth:padding_getComputedCSS(blockElement,"padding-right"),borderBottomWidth:padding_getComputedCSS(blockElement,"padding-bottom"),borderLeftWidth:padding_getComputedCSS(blockElement,"padding-left")})}),[blockElement,padding]);const[isActive,setIsActive]=(0,react.useState)(!1),valueRef=(0,react.useRef)(padding),timeoutRef=(0,react.useRef)();return(0,react.useEffect)((()=>((0,is_shallow_equal_build_module.ZP)(padding,valueRef.current)||forceShow||(setIsActive(!0),valueRef.current=padding,timeoutRef.current=setTimeout((()=>{setIsActive(!1)}),400)),()=>{setIsActive(!1),timeoutRef.current&&window.clearTimeout(timeoutRef.current)})),[padding,forceShow]),isActive||forceShow?(0,react.createElement)(block_popover,{clientId:clientId,__unstableCoverTarget:!0,__unstableRefreshSize:padding,__unstablePopoverSlot:"block-toolbar",shift:!1},(0,react.createElement)("div",{className:"block-editor__padding-visualizer",style:style})):null}MarginVisualizer.__docgenInfo={description:"",methods:[],displayName:"MarginVisualizer"},PaddingVisualizer.__docgenInfo={description:"",methods:[],displayName:"PaddingVisualizer"};function DimensionsInspectorControl({children:children,resetAllFilter:resetAllFilter}){const attributesResetAllFilter=(0,react.useCallback)((attributes=>{const existingStyle=attributes.style,updatedStyle=resetAllFilter(existingStyle);return{...attributes,style:updatedStyle}}),[resetAllFilter]);return(0,react.createElement)(inspector_controls,{group:"dimensions",resetAllFilter:attributesResetAllFilter},children)}function dimensions_DimensionsPanel(props){const{clientId:clientId,name:name,attributes:attributes,setAttributes:setAttributes,__unstableParentLayout:__unstableParentLayout}=props,settings=useBlockSettings(name,__unstableParentLayout),isEnabled=useHasDimensionsPanel(settings),value=attributes.style,[visualizedProperty,setVisualizedProperty]=function useVisualizer(){const[property,setProperty]=(0,react.useState)(!1),{hideBlockInterface:hideBlockInterface,showBlockInterface:showBlockInterface}=unlock((0,use_dispatch.Z)(store));return(0,react.useEffect)((()=>{property?hideBlockInterface():showBlockInterface()}),[property,showBlockInterface,hideBlockInterface]),[property,setProperty]}();if(!isEnabled)return null;const defaultControls={...(0,build_module.Dx)(props.name,["dimensions","__experimentalDefaultControls"]),...(0,build_module.Dx)(props.name,["spacing","__experimentalDefaultControls"])};return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(DimensionsPanel,{as:DimensionsInspectorControl,panelId:clientId,settings:settings,value:value,onChange:newStyle=>{setAttributes({style:utils_cleanEmptyObject(newStyle)})},defaultControls:defaultControls,onVisualize:setVisualizedProperty}),!!settings?.spacing?.padding&&(0,react.createElement)(PaddingVisualizer,{forceShow:"padding"===visualizedProperty,...props}),!!settings?.spacing?.margin&&(0,react.createElement)(MarginVisualizer,{forceShow:"margin"===visualizedProperty,...props}))}dimensions_DimensionsPanel.__docgenInfo={description:"",methods:[],displayName:"DimensionsPanel"};const styleSupportKeys=[...TYPOGRAPHY_SUPPORT_KEYS,BORDER_SUPPORT_KEY,COLOR_SUPPORT_KEY,"dimensions",BACKGROUND_SUPPORT_KEY,"spacing"],hasStyleSupport=nameOrType=>styleSupportKeys.some((key=>(0,build_module.zb)(nameOrType,key)));function getInlineStyles(styles={}){const output={};return(0,style_engine_build_module.R)(styles).forEach((rule=>{output[rule.key]=rule.value})),output}const skipSerializationPathsEdit={[`${BORDER_SUPPORT_KEY}.__experimentalSkipSerialization`]:["border"],[`${COLOR_SUPPORT_KEY}.__experimentalSkipSerialization`]:[COLOR_SUPPORT_KEY],[`${TYPOGRAPHY_SUPPORT_KEY}.__experimentalSkipSerialization`]:[TYPOGRAPHY_SUPPORT_KEY],"dimensions.__experimentalSkipSerialization":["dimensions"],"spacing.__experimentalSkipSerialization":["spacing"]},skipSerializationPathsSave={...skipSerializationPathsEdit,[`${BACKGROUND_SUPPORT_KEY}`]:[BACKGROUND_SUPPORT_KEY]},skipSerializationPathsSaveChecks={[`${BACKGROUND_SUPPORT_KEY}`]:!0},renamedFeatures={gradients:"gradient"};function omitStyle(style,paths,preserveReference=!1){if(!style)return style;let newStyle=style;return preserveReference||(newStyle=JSON.parse(JSON.stringify(style))),Array.isArray(paths)||(paths=[paths]),paths.forEach((path=>{if(Array.isArray(path)||(path=path.split(".")),path.length>1){const[firstSubpath,...restPath]=path;omitStyle(newStyle[firstSubpath],[restPath],!0)}else 1===path.length&&delete newStyle[path[0]]})),newStyle}function style_addSaveProps(props,blockType,attributes,skipPaths=skipSerializationPathsSave){if(!hasStyleSupport(blockType))return props;let{style:style}=attributes;return Object.entries(skipPaths).forEach((([indicator,path])=>{const skipSerialization=skipSerializationPathsSaveChecks[indicator]||(0,build_module.Dx)(blockType,indicator);!0===skipSerialization&&(style=omitStyle(style,path)),Array.isArray(skipSerialization)&&skipSerialization.forEach((featureName=>{const feature=renamedFeatures[featureName]||featureName;style=omitStyle(style,[[...path,feature]])}))})),props.style={...getInlineStyles(style),...props.style},props}const withBlockStyleControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{if(!hasStyleSupport(props.name))return(0,react.createElement)(BlockEdit,{key:"edit",...props});const shouldDisplayControls=useDisplayBlockControls(),blockEditingMode=useBlockEditingMode();return(0,react.createElement)(react.Fragment,null,shouldDisplayControls&&"default"===blockEditingMode&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(ColorEdit,{...props}),(0,react.createElement)(BackgroundImagePanel,{...props}),(0,react.createElement)(typography_TypographyPanel,{...props}),(0,react.createElement)(border_BorderPanel,{...props}),(0,react.createElement)(dimensions_DimensionsPanel,{...props})),(0,react.createElement)(BlockEdit,{key:"edit",...props}))}),"withBlockStyleControls"),elementTypes=[{elementType:"button"},{elementType:"link",pseudo:[":hover"]},{elementType:"heading",elements:["h1","h2","h3","h4","h5","h6"]}],withElementsStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const blockElementsContainerIdentifier=`wp-elements-${(0,use_instance_id.Z)(BlockListBlock)}`,baseElementSelector=`.editor-styles-wrapper .${blockElementsContainerIdentifier}`,blockElementStyles=props.attributes.style?.elements,styles=(0,react.useMemo)((()=>{if(!blockElementStyles)return;const elementCSSRules=[];return elementTypes.forEach((({elementType:elementType,pseudo:pseudo,elements:elements})=>{if(shouldSkipSerialization(props.name,COLOR_SUPPORT_KEY,elementType))return;const elementStyles=blockElementStyles?.[elementType];if(elementStyles){const selector=scopeSelector(baseElementSelector,build_module.qO[elementType]);elementCSSRules.push((0,style_engine_build_module.P)(elementStyles,{selector:selector})),pseudo&&pseudo.forEach((pseudoSelector=>{elementStyles[pseudoSelector]&&elementCSSRules.push((0,style_engine_build_module.P)(elementStyles[pseudoSelector],{selector:scopeSelector(baseElementSelector,`${build_module.qO[elementType]}${pseudoSelector}`)}))}))}elements&&elements.forEach((element=>{blockElementStyles[element]&&elementCSSRules.push((0,style_engine_build_module.P)(blockElementStyles[element],{selector:scopeSelector(baseElementSelector,build_module.qO[element])}))}))})),elementCSSRules.length>0?elementCSSRules.join(""):void 0}),[baseElementSelector,blockElementStyles,props.name]);return useStyleOverride({css:styles}),(0,react.createElement)(BlockListBlock,{...props,className:props.attributes.style?.elements?classnames_default()(props.className,blockElementsContainerIdentifier):props.className})}),"withElementsStyles");(0,hooks_build_module.KJ)("blocks.registerBlockType","core/style/addAttribute",(function style_addAttribute(settings){return hasStyleSupport(settings)?(settings.attributes.style||Object.assign(settings.attributes,{style:{type:"object"}}),settings):settings})),(0,hooks_build_module.KJ)("blocks.getSaveContent.extraProps","core/style/addSaveProps",style_addSaveProps),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/style/addEditProps",(function style_addEditProps(settings){if(!hasStyleSupport(settings))return settings;const existingGetEditWrapperProps=settings.getEditWrapperProps;return settings.getEditWrapperProps=attributes=>{let props={};return existingGetEditWrapperProps&&(props=existingGetEditWrapperProps(attributes)),style_addSaveProps(props,settings,attributes,skipSerializationPathsEdit)},settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/style/with-block-controls",withBlockStyleControls),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/with-elements-styles",withElementsStyles);(0,hooks_build_module.KJ)("blocks.registerBlockType","core/settings/addAttribute",(function settings_addAttribute(settings){return blockType=settings,(0,build_module.zb)(blockType,"__experimentalSettings",!1)?(settings?.attributes?.settings||(settings.attributes={...settings.attributes,settings:{type:"object"}}),settings):settings;var blockType}));var swatch=__webpack_require__("./packages/icons/build-module/library/swatch.js"),duotone_picker_utils=__webpack_require__("./packages/components/build-module/duotone-picker/utils.js");function DuotoneSwatch({values:values}){return values?(0,react.createElement)(color_indicator.Z,{colorValue:(0,duotone_picker_utils.ZU)(values,"135deg")}):(0,react.createElement)(components_build_module_icon.Z,{icon:swatch.Z})}DuotoneSwatch.__docgenInfo={description:"",methods:[],displayName:"DuotoneSwatch"};var duotone_swatch=DuotoneSwatch,duotone_picker=__webpack_require__("./packages/components/build-module/duotone-picker/duotone-picker.js");var library_filter=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M12 4 4 19h16L12 4zm0 3.2 5.5 10.3H12V7.2z"}));function DuotoneControl({id:idProp,colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:disableCustomColors,disableCustomDuotone:disableCustomDuotone,value:value,onChange:onChange}){let toolbarIcon;toolbarIcon="unset"===value?(0,react.createElement)(color_indicator.Z,{className:"block-editor-duotone-control__unset-indicator"}):value?(0,react.createElement)(duotone_swatch,{values:value}):(0,react.createElement)(build_module_icon.Z,{icon:library_filter});const actionLabel=(0,i18n_build_module.__)("Apply duotone filter"),descriptionId=`${(0,use_instance_id.Z)(DuotoneControl,"duotone-control",idProp)}__description`;return(0,react.createElement)(dropdown.Z,{popoverProps:{className:"block-editor-duotone-control__popover",headerTitle:(0,i18n_build_module.__)("Duotone")},renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react.createElement)(toolbar_button.Z,{showTooltip:!0,onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:event=>{isOpen||event.keyCode!==keycodes_build_module.WV||(event.preventDefault(),onToggle())},label:actionLabel,icon:toolbarIcon}),renderContent:()=>(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Duotone")},(0,react.createElement)("div",{id:descriptionId,className:"block-editor-duotone-control__description"},(0,i18n_build_module.__)("Create a two-tone color effect without losing your original image.")),(0,react.createElement)(duotone_picker.Z,{"aria-label":actionLabel,"aria-describedby":descriptionId,colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:disableCustomColors,disableCustomDuotone:disableCustomDuotone,value:value,onChange:onChange}))})}DuotoneControl.__docgenInfo={description:"",methods:[],displayName:"DuotoneControl"};var duotone_control=DuotoneControl;function getDuotoneUnsetStylesheet(selector){return`${selector}{filter:none}`}function getDuotoneStylesheet(selector,id){return`${selector}{filter:url(#${id})}`}function getDuotoneFilter(id,colors){const values=function getValuesFromColors(colors=[]){const values={r:[],g:[],b:[],a:[]};return colors.forEach((color=>{const rgbColor=(0,colord.Vi)(color).toRgb();values.r.push(rgbColor.r/255),values.g.push(rgbColor.g/255),values.b.push(rgbColor.b/255),values.a.push(rgbColor.a)})),values}(colors);return`\n<svg\n\txmlns:xlink="http://www.w3.org/1999/xlink"\n\tviewBox="0 0 0 0"\n\twidth="0"\n\theight="0"\n\tfocusable="false"\n\trole="none"\n\taria-hidden="true"\n\tstyle="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"\n>\n\t<defs>\n\t\t<filter id="${id}">\n\t\t\t\x3c!--\n\t\t\t\tUse sRGB instead of linearRGB so transparency looks correct.\n\t\t\t\tUse perceptual brightness to convert to grayscale.\n\t\t\t--\x3e\n\t\t\t<feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></feColorMatrix>\n\t\t\t\x3c!-- Use sRGB instead of linearRGB to be consistent with how CSS gradients work. --\x3e\n\t\t\t<feComponentTransfer color-interpolation-filters="sRGB">\n\t\t\t\t<feFuncR type="table" tableValues="${values.r.join(" ")}"></feFuncR>\n\t\t\t\t<feFuncG type="table" tableValues="${values.g.join(" ")}"></feFuncG>\n\t\t\t\t<feFuncB type="table" tableValues="${values.b.join(" ")}"></feFuncB>\n\t\t\t\t<feFuncA type="table" tableValues="${values.a.join(" ")}"></feFuncA>\n\t\t\t</feComponentTransfer>\n\t\t\t\x3c!-- Re-mask the image with the original transparency since the feColorMatrix above loses that information. --\x3e\n\t\t\t<feComposite in2="SourceGraphic" operator="in"></feComposite>\n\t\t</filter>\n\t</defs>\n</svg>`}function getBlockCSSSelector(blockType,target="root",options={}){if(!target)return null;const{fallback:fallback=!1}=options,{name:name,selectors:selectors,supports:supports}=blockType,hasSelectors=selectors&&Object.keys(selectors).length>0,path=Array.isArray(target)?target.join("."):target;let rootSelector=null;if(rootSelector=hasSelectors&&selectors.root?selectors?.root:supports?.__experimentalSelector?supports.__experimentalSelector:".wp-block-"+name.replace("core/","").replace("/","-"),"root"===path)return rootSelector;const pathArray=Array.isArray(target)?target:target.split(".");if(1===pathArray.length){const fallbackSelector=fallback?rootSelector:null;if(hasSelectors){return getValueFromObjectPath(selectors,`${path}.root`,null)||getValueFromObjectPath(selectors,path,null)||fallbackSelector}const featureSelector=getValueFromObjectPath(supports,`${path}.__experimentalSelector`,null);return featureSelector?scopeSelector(rootSelector,featureSelector):fallbackSelector}let subfeatureSelector;return hasSelectors&&(subfeatureSelector=getValueFromObjectPath(selectors,path,null)),subfeatureSelector||(fallback?getBlockCSSSelector(blockType,pathArray[0],options):null)}const filters_panel_EMPTY_ARRAY=[];function useMultiOriginColorPresets(settings,{presetSetting:presetSetting,defaultSetting:defaultSetting}){const disableDefault=!settings?.color?.[defaultSetting],userPresets=settings?.color?.[presetSetting]?.custom||filters_panel_EMPTY_ARRAY,themePresets=settings?.color?.[presetSetting]?.theme||filters_panel_EMPTY_ARRAY,defaultPresets=settings?.color?.[presetSetting]?.default||filters_panel_EMPTY_ARRAY;return(0,react.useMemo)((()=>[...userPresets,...themePresets,...disableDefault?filters_panel_EMPTY_ARRAY:defaultPresets]),[disableDefault,userPresets,themePresets,defaultPresets])}function useHasFiltersPanel(settings){return useHasDuotoneControl(settings)}function useHasDuotoneControl(settings){return settings.color.customDuotone||settings.color.defaultDuotone||settings.color.duotone.length>0}function FiltersToolsPanel({resetAllFilter:resetAllFilter,onChange:onChange,value:value,panelId:panelId,children:children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module._x)("Filters","Name for applying graphical effects"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId:panelId},children)}const filters_panel_DEFAULT_CONTROLS={duotone:!0},filters_panel_popoverProps={placement:"left-start",offset:36,shift:!0,className:"block-editor-duotone-control__popover",headerTitle:(0,i18n_build_module.__)("Duotone")},LabeledColorIndicator=({indicator:indicator,label:label})=>(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(z_stack_component.Z,{isLayered:!1,offset:-8},(0,react.createElement)(component.Z,{expanded:!1},"unset"!==indicator&&indicator?(0,react.createElement)(duotone_swatch,{values:indicator}):(0,react.createElement)(color_indicator.Z,{className:"block-editor-duotone-control__unset-indicator"}))),(0,react.createElement)(flex_item_component.Z,{title:label},label));function FiltersPanel({as:Wrapper=FiltersToolsPanel,value:value,onChange:onChange,inheritedValue:inheritedValue=value,settings:settings,panelId:panelId,defaultControls:defaultControls=filters_panel_DEFAULT_CONTROLS}){const hasDuotoneEnabled=useHasDuotoneControl(settings),duotonePalette=useMultiOriginColorPresets(settings,{presetSetting:"duotone",defaultSetting:"defaultDuotone"}),colorPalette=useMultiOriginColorPresets(settings,{presetSetting:"palette",defaultSetting:"defaultPalette"}),duotone=(rawValue=inheritedValue?.filter?.duotone,getValueFromVariable({settings:settings},"",rawValue));var rawValue;const setDuotone=newValue=>{const duotonePreset=duotonePalette.find((({colors:colors})=>colors===newValue)),settedValue=duotonePreset?`var:preset|duotone|${duotonePreset.slug}`:newValue;onChange(setImmutably(value,["filter","duotone"],settedValue))},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,filter:{...previousValue.filter,duotone:void 0}})),[]);return(0,react.createElement)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId},hasDuotoneEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Duotone"),hasValue:()=>!!value?.filter?.duotone,onDeselect:()=>setDuotone(void 0),isShownByDefault:defaultControls.duotone,panelId:panelId},(0,react.createElement)(dropdown.Z,{popoverProps:filters_panel_popoverProps,className:"block-editor-global-styles-filters-panel__dropdown",renderToggle:({onToggle:onToggle,isOpen:isOpen})=>{const toggleProps={onClick:onToggle,className:classnames_default()({"is-open":isOpen}),"aria-expanded":isOpen};return(0,react.createElement)(item_group_component.Z,{isBordered:!0,isSeparated:!0},(0,react.createElement)(build_module_button.ZP,{...toggleProps},(0,react.createElement)(LabeledColorIndicator,{indicator:duotone,label:(0,i18n_build_module.__)("Duotone")})))},renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"medium"},(0,react.createElement)(v_stack_component.Z,null,(0,react.createElement)("p",null,(0,i18n_build_module.__)("Create a two-tone color effect without losing your original image.")),(0,react.createElement)(duotone_picker.Z,{colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:!0,disableCustomDuotone:!0,value:duotone,onChange:setDuotone})))})))}FiltersPanel.__docgenInfo={description:"",methods:[],displayName:"FiltersPanel",props:{as:{defaultValue:{value:"function FiltersToolsPanel({\n  resetAllFilter,\n  onChange,\n  value,\n  panelId,\n  children\n}) {\n  const resetAll = () => {\n    const updatedValue = resetAllFilter(value);\n    onChange(updatedValue);\n  };\n  return createElement(ToolsPanel, {\n    label: _x('Filters', 'Name for applying graphical effects'),\n    resetAll: resetAll,\n    panelId: panelId\n  }, children);\n}",computed:!1},required:!1},inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1},defaultControls:{defaultValue:{value:"{\n  duotone: true\n}",computed:!1},required:!1}}};const duotone_EMPTY_ARRAY=[],isSafari=window?.navigator.userAgent&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")&&!window.navigator.userAgent.includes("Chromium");function useMultiOriginPresets({presetSetting:presetSetting,defaultSetting:defaultSetting}){const[enableDefault,userPresets,themePresets,defaultPresets]=use_settings_useSettings(defaultSetting,`${presetSetting}.custom`,`${presetSetting}.theme`,`${presetSetting}.default`);return(0,react.useMemo)((()=>[...userPresets||duotone_EMPTY_ARRAY,...themePresets||duotone_EMPTY_ARRAY,...enableDefault&&defaultPresets||duotone_EMPTY_ARRAY]),[enableDefault,userPresets,themePresets,defaultPresets])}function getColorsFromDuotonePreset(duotone,duotonePalette){if(!duotone)return;const preset=duotonePalette?.find((({slug:slug})=>duotone===`var:preset|duotone|${slug}`));return preset?preset.colors:void 0}function DuotonePanel({attributes:attributes,setAttributes:setAttributes,name:name}){const style=attributes?.style,duotoneStyle=style?.color?.duotone,settings=useBlockSettings(name),blockEditingMode=useBlockEditingMode(),duotonePalette=useMultiOriginPresets({presetSetting:"color.duotone",defaultSetting:"color.defaultDuotone"}),colorPalette=useMultiOriginPresets({presetSetting:"color.palette",defaultSetting:"color.defaultPalette"}),[enableCustomColors,enableCustomDuotone]=use_settings_useSettings("color.custom","color.customDuotone"),disableCustomColors=!enableCustomColors,disableCustomDuotone=!enableCustomDuotone||0===colorPalette?.length&&disableCustomColors;if(0===duotonePalette?.length&&disableCustomDuotone)return null;if("default"!==blockEditingMode)return null;const duotonePresetOrColors=Array.isArray(duotoneStyle)?duotoneStyle:getColorsFromDuotonePreset(duotoneStyle,duotonePalette);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls,{group:"filter"},(0,react.createElement)(FiltersPanel,{value:{filter:{duotone:duotonePresetOrColors}},onChange:newDuotone=>{const newStyle={...style,color:{...newDuotone?.filter}};setAttributes({style:newStyle})},settings:settings})),(0,react.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:!0},(0,react.createElement)(duotone_control,{duotonePalette:duotonePalette,colorPalette:colorPalette,disableCustomDuotone:disableCustomDuotone,disableCustomColors:disableCustomColors,value:duotonePresetOrColors,onChange:newDuotone=>{const maybePreset=function getDuotonePresetFromColors(colors,duotonePalette){if(!colors||!Array.isArray(colors))return;const preset=duotonePalette?.find((duotonePreset=>duotonePreset?.colors?.every(((val,index)=>val===colors[index]))));return preset?`var:preset|duotone|${preset.slug}`:void 0}(newDuotone,duotonePalette),newStyle={...style,color:{...style?.color,duotone:null!=maybePreset?maybePreset:newDuotone}};setAttributes({style:newStyle})},settings:settings})))}(0,colord.l7)([names.Z]);const withDuotoneControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const hasDuotoneSupport=(0,build_module.zb)(props.name,"filter.duotone");return(0,react.createElement)(react.Fragment,null,hasDuotoneSupport&&(0,react.createElement)(DuotonePanel,{...props}),(0,react.createElement)(BlockEdit,{...props}))}),"withDuotoneControls");function DuotoneStyles({clientId:clientId,id:filterId,selector:duotoneSelector,attribute:duotoneAttr}){const duotonePalette=useMultiOriginPresets({presetSetting:"color.duotone",defaultSetting:"color.defaultDuotone"}),isCustom=Array.isArray(duotoneAttr),duotonePreset=isCustom?void 0:getColorsFromDuotonePreset(duotoneAttr,duotonePalette),isPreset="string"==typeof duotoneAttr&&duotonePreset;let colors=null;isPreset?colors=duotonePreset:("string"==typeof duotoneAttr&&!isPreset||isCustom)&&(colors=duotoneAttr);const selector=duotoneSelector.split(",").map((selectorPart=>`.${filterId}${selectorPart.trim()}`)).join(", "),isValidFilter=Array.isArray(colors)||"unset"===colors;useStyleOverride(isValidFilter?{css:"unset"!==colors?getDuotoneStylesheet(selector,filterId):getDuotoneUnsetStylesheet(selector),__unstableType:"presets"}:void 0),useStyleOverride(isValidFilter?{assets:"unset"!==colors?getDuotoneFilter(filterId,colors):"",__unstableType:"svgs"}:void 0);const blockElement=useBlockElement(clientId);return(0,react.useEffect)((()=>{if(isValidFilter&&blockElement&&isSafari){const display=blockElement.style.display;blockElement.style.display="inline-block",blockElement.offsetHeight,blockElement.style.display=display}}),[isValidFilter,blockElement]),null}const withDuotoneStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const id=(0,use_instance_id.Z)(BlockListBlock),selector=(0,react.useMemo)((()=>{const blockType=(0,build_module.ck)(props.name);if(blockType){if(!(0,build_module.Dx)(blockType,"filter.duotone",!1))return null;const experimentalDuotone=(0,build_module.Dx)(blockType,"color.__experimentalDuotone",!1);if(experimentalDuotone){const rootSelector=getBlockCSSSelector(blockType);return"string"==typeof experimentalDuotone?scopeSelector(rootSelector,experimentalDuotone):rootSelector}return getBlockCSSSelector(blockType,"filter.duotone",{fallback:!0})}}),[props.name]),attribute=props?.attributes?.style?.color?.duotone,filterClass=`wp-duotone-${id}`,shouldRender=selector&&attribute,className=shouldRender?classnames_default()(props?.className,filterClass):props?.className;return(0,react.createElement)(react.Fragment,null,shouldRender&&(0,react.createElement)(DuotoneStyles,{clientId:props.clientId,id:filterClass,selector:selector,attribute:attribute}),(0,react.createElement)(BlockListBlock,{...props,className:className}))}),"withDuotoneStyles");function useBlockDisplayInformation(clientId){return(0,use_select.Z)((select=>{if(!clientId)return null;const{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes,__experimentalGetReusableBlockTitle:__experimentalGetReusableBlockTitle}=select(store),{getBlockType:getBlockType,getActiveBlockVariation:getActiveBlockVariation}=select(build_module.h),blockName=getBlockName(clientId),blockType=getBlockType(blockName);if(!blockType)return null;const attributes=getBlockAttributes(clientId),match=getActiveBlockVariation(blockName,attributes),isReusable=(0,build_module.vr)(blockType),title=(isReusable?__experimentalGetReusableBlockTitle(attributes.ref):void 0)||blockType.title,isSynced=isReusable||(0,build_module.zQ)(blockType),positionLabel=function getPositionTypeLabel(attributes){const positionType=attributes?.style?.position?.type;return"sticky"===positionType?(0,i18n_build_module.__)("Sticky"):"fixed"===positionType?(0,i18n_build_module.__)("Fixed"):null}(attributes),blockTypeInfo={isSynced:isSynced,title:title,icon:blockType.icon,description:blockType.description,anchor:attributes?.anchor,positionLabel:positionLabel,positionType:attributes?.style?.position?.type,name:attributes?.metadata?.name};return match?{isSynced:isSynced,title:match.title||blockType.title,icon:match.icon||blockType.icon,description:match.description||blockType.description,anchor:attributes?.anchor,positionLabel:positionLabel,positionType:attributes?.style?.position?.type,name:attributes?.metadata?.name}:blockTypeInfo}),[clientId])}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/editor/duotone/add-attributes",(function addDuotoneAttributes(settings){return(0,build_module.zb)(settings,"filter.duotone")?(settings.attributes.style||Object.assign(settings.attributes,{style:{type:"object"}}),settings):settings})),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/duotone/with-editor-controls",withDuotoneControls),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/duotone/with-styles",withDuotoneStyles);const{CustomSelectControl:CustomSelectControl}=unlock(private_apis.YH),POSITION_SUPPORT_KEY="position",OPTION_CLASSNAME="block-editor-hooks__position-selection__select-control__option",position_DEFAULT_OPTION={key:"default",value:"",name:(0,i18n_build_module.__)("Default"),className:OPTION_CLASSNAME},STICKY_OPTION={key:"sticky",value:"sticky",name:(0,i18n_build_module._x)("Sticky","Name for the value of the CSS position property"),className:OPTION_CLASSNAME,__experimentalHint:(0,i18n_build_module.__)("The block will stick to the top of the window instead of scrolling.")},FIXED_OPTION={key:"fixed",value:"fixed",name:(0,i18n_build_module._x)("Fixed","Name for the value of the CSS position property"),className:OPTION_CLASSNAME,__experimentalHint:(0,i18n_build_module.__)("The block will not move when the page is scrolled.")},POSITION_SIDES=["top","right","bottom","left"],VALID_POSITION_TYPES=["sticky","fixed"];function hasStickyOrFixedPositionValue(attributes){const positionType=attributes.style?.position?.type;return"sticky"===positionType||"fixed"===positionType}function useIsPositionDisabled({name:blockName}={}){const[allowFixed,allowSticky]=use_settings_useSettings("position.fixed","position.sticky"),isDisabled=!allowFixed&&!allowSticky;return!function hasPositionSupport(blockType){return!!(0,build_module.Dx)(blockType,POSITION_SUPPORT_KEY)}(blockName)||isDisabled}function PositionPanel(props){const{attributes:{style:style={}},clientId:clientId,name:blockName,setAttributes:setAttributes}=props,allowFixed=function hasFixedPositionSupport(blockType){const support=(0,build_module.Dx)(blockType,POSITION_SUPPORT_KEY);return!(!0!==support&&!support?.fixed)}(blockName),allowSticky=function hasStickyPositionSupport(blockType){const support=(0,build_module.Dx)(blockType,POSITION_SUPPORT_KEY);return!(!0!==support&&!support?.sticky)}(blockName),value=style?.position?.type,{firstParentClientId:firstParentClientId}=(0,use_select.Z)((select=>{const{getBlockParents:getBlockParents}=select(store),parents=getBlockParents(clientId);return{firstParentClientId:parents[parents.length-1]}}),[clientId]),blockInformation=useBlockDisplayInformation(firstParentClientId),stickyHelpText=allowSticky&&value===STICKY_OPTION.value&&blockInformation?(0,i18n_build_module.gB)((0,i18n_build_module.__)("The block will stick to the scrollable area of the parent %s block."),blockInformation.title):null,options=(0,react.useMemo)((()=>{const availableOptions=[position_DEFAULT_OPTION];return(allowSticky||value===STICKY_OPTION.value)&&availableOptions.push(STICKY_OPTION),(allowFixed||value===FIXED_OPTION.value)&&availableOptions.push(FIXED_OPTION),availableOptions}),[allowFixed,allowSticky,value]),selectedOption=value&&options.find((option=>option.value===value))||position_DEFAULT_OPTION;return platform.Z.select({web:options.length>1?(0,react.createElement)(inspector_controls,{group:"position"},(0,react.createElement)(base_control.ZP,{className:"block-editor-hooks__position-selection",__nextHasNoMarginBottom:!0,help:stickyHelpText},(0,react.createElement)(CustomSelectControl,{__nextUnconstrainedWidth:!0,__next40pxDefaultSize:!0,className:"block-editor-hooks__position-selection__select-control",label:(0,i18n_build_module.__)("Position"),hideLabelFromVision:!0,describedBy:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Currently selected position: %s"),selectedOption.name),options:options,value:selectedOption,__experimentalShowSelectedHint:!0,onChange:({selectedItem:selectedItem})=>{(next=>{const newStyle={...style,position:{...style?.position,type:next,top:"sticky"===next||"fixed"===next?"0px":void 0}};setAttributes({style:utils_cleanEmptyObject(newStyle)})})(selectedItem.value)},size:"__unstable-large"}))):null,native:null})}const withPositionControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const{name:blockName}=props,positionSupport=(0,build_module.zb)(blockName,POSITION_SUPPORT_KEY),isPositionDisabled=useIsPositionDisabled(props);return[positionSupport&&!isPositionDisabled&&(0,react.createElement)(PositionPanel,{key:"position",...props}),(0,react.createElement)(BlockEdit,{key:"edit",...props})]}),"withPositionControls"),withPositionStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const{name:name,attributes:attributes}=props,hasPositionBlockSupport=(0,build_module.zb)(name,POSITION_SUPPORT_KEY),isPositionDisabled=useIsPositionDisabled(props),allowPositionStyles=hasPositionBlockSupport&&!isPositionDisabled,id=(0,use_instance_id.Z)(BlockListBlock);let css;allowPositionStyles&&(css=function getPositionCSS({selector:selector,style:style}){let output="";const{type:positionType}=style?.position||{};return VALID_POSITION_TYPES.includes(positionType)?(output+=`${selector} {`,output+=`position: ${positionType};`,POSITION_SIDES.forEach((side=>{void 0!==style?.position?.[side]&&(output+=`${side}: ${style.position[side]};`)})),"sticky"!==positionType&&"fixed"!==positionType||(output+="z-index: 10"),output+="}",output):output}({selector:`.wp-container-${id}.wp-container-${id}`,style:attributes?.style})||"");const className=classnames_default()(props?.className,{[`wp-container-${id}`]:allowPositionStyles&&!!css,[`is-position-${attributes?.style?.position?.type}`]:allowPositionStyles&&!!css&&!!attributes?.style?.position?.type});return useStyleOverride({css:css}),(0,react.createElement)(BlockListBlock,{...props,className:className})}),"withPositionStyles");(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/position/with-position-styles",withPositionStyles),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/position/with-inspector-controls",withPositionControls);var button_group=__webpack_require__("./packages/components/build-module/button-group/index.js");const layoutBlockSupportKey="layout";function hasLayoutBlockSupport(blockName){return(0,build_module.zb)(blockName,"layout")||(0,build_module.zb)(blockName,"__experimentalLayout")}function useLayoutClasses(blockAttributes={},blockName=""){const rootPaddingAlignment=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return getSettings().__experimentalFeatures?.useRootPaddingAwareAlignments}),[]),{layout:layout}=blockAttributes,{default:defaultBlockLayout}=(0,build_module.Dx)(blockName,layoutBlockSupportKey)||{},usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:"constrained"}:layout||defaultBlockLayout||{},layoutClassnames=[];if(LAYOUT_DEFINITIONS[usedLayout?.type||"default"]?.className){const baseClassName=LAYOUT_DEFINITIONS[usedLayout?.type||"default"]?.className,splitBlockName=blockName.split("/"),compoundClassName=`wp-block-${"core"===splitBlockName[0]?splitBlockName.pop():splitBlockName.join("-")}-${baseClassName}`;layoutClassnames.push(baseClassName,compoundClassName)}return(usedLayout?.inherit||usedLayout?.contentSize||"constrained"===usedLayout?.type)&&rootPaddingAlignment&&layoutClassnames.push("has-global-padding"),usedLayout?.orientation&&layoutClassnames.push(`is-${kebabCase(usedLayout.orientation)}`),usedLayout?.justifyContent&&layoutClassnames.push(`is-content-justification-${kebabCase(usedLayout.justifyContent)}`),usedLayout?.flexWrap&&"nowrap"===usedLayout.flexWrap&&layoutClassnames.push("is-nowrap"),layoutClassnames}function LayoutPanel({setAttributes:setAttributes,attributes:attributes,name:blockName}){const settings=useBlockSettings(blockName),{layout:layoutSettings}=settings,{layout:layout}=attributes,[defaultThemeLayout]=use_settings_useSettings("layout"),{themeSupportsLayout:themeSupportsLayout}=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return{themeSupportsLayout:getSettings().supportsLayout}}),[]);if("default"!==useBlockEditingMode())return null;const layoutBlockSupport=(0,build_module.Dx)(blockName,layoutBlockSupportKey,{}),blockSupportAndThemeSettings={...layoutSettings,...layoutBlockSupport},{allowSwitching:allowSwitching,allowEditing:allowEditing=!0,allowInheriting:allowInheriting=!0,default:defaultBlockLayout}=blockSupportAndThemeSettings;if(!allowEditing)return null;const showInheritToggle=!(!allowInheriting||!defaultThemeLayout||layout?.type&&"default"!==layout?.type&&"constrained"!==layout?.type&&!layout?.inherit),usedLayout=layout||defaultBlockLayout||{},{inherit:inherit=!1,type:type="default",contentSize:contentSize=null}=usedLayout;if(("default"===type||"constrained"===type)&&!themeSupportsLayout)return null;const layoutType=getLayoutType(type),constrainedType=getLayoutType("constrained"),displayControlsForLegacyLayouts=!usedLayout.type&&(contentSize||inherit),hasContentSizeOrLegacySettings=!!inherit||!!contentSize,onChangeLayout=newLayout=>setAttributes({layout:newLayout});return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls,null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Layout")},showInheritToggle&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-hooks__toggle-control",label:(0,i18n_build_module.__)("Inner blocks use content width"),checked:"constrained"===layoutType?.name||hasContentSizeOrLegacySettings,onChange:()=>setAttributes({layout:{type:"constrained"===layoutType?.name||hasContentSizeOrLegacySettings?"default":"constrained"}}),help:"constrained"===layoutType?.name||hasContentSizeOrLegacySettings?(0,i18n_build_module.__)("Nested blocks use content width with options for full and wide widths."):(0,i18n_build_module.__)("Nested blocks will fill the width of this container. Toggle to constrain.")})),!inherit&&allowSwitching&&(0,react.createElement)(LayoutTypeSwitcher,{type:type,onChange:newType=>setAttributes({layout:{type:newType}})}),layoutType&&"default"!==layoutType.name&&(0,react.createElement)(layoutType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:blockSupportAndThemeSettings}),constrainedType&&displayControlsForLegacyLayouts&&(0,react.createElement)(constrainedType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:blockSupportAndThemeSettings}))),!inherit&&layoutType&&(0,react.createElement)(layoutType.toolBarControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:layoutBlockSupport}))}function LayoutTypeSwitcher({type:type,onChange:onChange}){return(0,react.createElement)(button_group.Z,null,function getLayoutTypes(){return layoutTypes}().map((({name:name,label:label})=>(0,react.createElement)(build_module_button.ZP,{key:name,isPressed:type===name,onClick:()=>onChange(name)},label))))}const withLayoutControls=(0,create_higher_order_component.o)((BlockEdit=>props=>[hasLayoutBlockSupport(props.name)&&(0,react.createElement)(LayoutPanel,{key:"layout",...props}),(0,react.createElement)(BlockEdit,{key:"edit",...props})]),"withLayoutControls");function BlockWithLayoutStyles({block:BlockListBlock,props:props}){const{name:name,attributes:attributes}=props,id=(0,use_instance_id.Z)(BlockListBlock),{layout:layout}=attributes,{default:defaultBlockLayout}=(0,build_module.Dx)(name,layoutBlockSupportKey)||{},usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:"constrained"}:layout||defaultBlockLayout||{},layoutClasses=useLayoutClasses(attributes,name),selector=`.wp-container-${id}.wp-container-${id}`,[blockGapSupport]=use_settings_useSettings("spacing.blockGap"),hasBlockGapSupport=null!==blockGapSupport,fullLayoutType=getLayoutType(usedLayout?.type||"default"),css=fullLayoutType?.getLayoutStyle?.({blockName:name,selector:selector,layout:usedLayout,style:attributes?.style,hasBlockGapSupport:hasBlockGapSupport}),layoutClassNames=classnames_default()({[`wp-container-${id}`]:!!css},layoutClasses);return useStyleOverride({css:css}),(0,react.createElement)(BlockListBlock,{...props,__unstableLayoutClassNames:layoutClassNames})}const withLayoutStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>{const blockSupportsLayout=hasLayoutBlockSupport(props.name);return(0,use_select.Z)((select=>!!blockSupportsLayout&&!select(store).getSettings().disableLayoutStyles),[blockSupportsLayout])?(0,react.createElement)(BlockWithLayoutStyles,{block:BlockListBlock,props:props}):(0,react.createElement)(BlockListBlock,{...props})}),"withLayoutStyles");function BlockWithChildLayoutStyles({block:BlockListBlock,props:props}){var _props$attributes$sty;const layout=null!==(_props$attributes$sty=props.attributes.style?.layout)&&void 0!==_props$attributes$sty?_props$attributes$sty:{},{selfStretch:selfStretch,flexSize:flexSize}=layout,id=(0,use_instance_id.Z)(BlockListBlock),selector=`.wp-container-content-${id}`;let css="";"fixed"===selfStretch&&flexSize?css=`${selector} {\n\t\t\t\tflex-basis: ${flexSize};\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}`:"fill"===selfStretch&&(css=`${selector} {\n\t\t\t\tflex-grow: 1;\n\t\t\t}`);const className=classnames_default()(props.className,{[`wp-container-content-${id}`]:!!css});return useStyleOverride({css:css}),(0,react.createElement)(BlockListBlock,{...props,className:className})}const withChildLayoutStyles=(0,create_higher_order_component.o)((BlockListBlock=>props=>(0,use_select.Z)((select=>!select(store).getSettings().disableLayoutStyles))?(0,react.createElement)(BlockWithChildLayoutStyles,{block:BlockListBlock,props:props}):(0,react.createElement)(BlockListBlock,{...props})),"withChildLayoutStyles");function useConvertToGroupButtonProps(selectedClientIds){return(0,use_select.Z)((select=>{const{getBlocksByClientId:getBlocksByClientId,getSelectedBlockClientIds:getSelectedBlockClientIds,isUngroupable:isUngroupable,isGroupable:isGroupable}=select(store),{getGroupingBlockName:getGroupingBlockName,getBlockType:getBlockType}=select(build_module.h),clientIds=selectedClientIds?.length?selectedClientIds:getSelectedBlockClientIds(),blocksSelection=getBlocksByClientId(clientIds),[firstSelectedBlock]=blocksSelection,_isUngroupable=1===clientIds.length&&isUngroupable(clientIds[0]);return{clientIds:clientIds,isGroupable:isGroupable(clientIds),isUngroupable:_isUngroupable,blocksSelection:blocksSelection,groupingBlockName:getGroupingBlockName(),onUngroup:_isUngroupable&&getBlockType(firstSelectedBlock.name)?.transforms?.ungroup}}),[selectedClientIds])}function ConvertToGroupButton({clientIds:clientIds,isGroupable:isGroupable,isUngroupable:isUngroupable,onUngroup:onUngroup,blocksSelection:blocksSelection,groupingBlockName:groupingBlockName,onClose:onClose=(()=>{})}){const{replaceBlocks:replaceBlocks}=(0,use_dispatch.Z)(store);return isGroupable||isUngroupable?(0,react.createElement)(react.Fragment,null,isGroupable&&(0,react.createElement)(menu_item.Z,{onClick:()=>{(()=>{const newBlocks=(0,build_module.m4)(blocksSelection,groupingBlockName);newBlocks&&replaceBlocks(clientIds,newBlocks)})(),onClose()}},(0,i18n_build_module._x)("Group","verb")),isUngroupable&&(0,react.createElement)(menu_item.Z,{onClick:()=>{(()=>{let innerBlocks=blocksSelection[0].innerBlocks;innerBlocks.length&&(onUngroup&&(innerBlocks=onUngroup(blocksSelection[0].attributes,blocksSelection[0].innerBlocks)),replaceBlocks(clientIds,innerBlocks))})(),onClose()}},(0,i18n_build_module._x)("Ungroup","Ungrouping blocks from within a grouping block back into individual blocks within the Editor "))):null}function useBlockLock(clientId){return(0,use_select.Z)((select=>{const{canEditBlock:canEditBlock,canMoveBlock:canMoveBlock,canRemoveBlock:canRemoveBlock,canLockBlockType:canLockBlockType,getBlockName:getBlockName,getBlockRootClientId:getBlockRootClientId,getTemplateLock:getTemplateLock}=select(store),rootClientId=getBlockRootClientId(clientId),canEdit=canEditBlock(clientId),canMove=canMoveBlock(clientId,rootClientId),canRemove=canRemoveBlock(clientId,rootClientId);return{canEdit:canEdit,canMove:canMove,canRemove:canRemove,canLock:canLockBlockType(getBlockName(clientId)),isContentLocked:"contentOnly"===getTemplateLock(clientId),isLocked:!canEdit||!canMove||!canRemove}}),[clientId])}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/layout/addAttribute",(function layout_addAttribute(settings){var _settings$attributes$;return"type"in(null!==(_settings$attributes$=settings.attributes?.layout)&&void 0!==_settings$attributes$?_settings$attributes$:{})||hasLayoutBlockSupport(settings)&&(settings.attributes={...settings.attributes,layout:{type:"object"}}),settings})),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/layout/with-layout-styles",withLayoutStyles),(0,hooks_build_module.KJ)("editor.BlockListBlock","core/editor/layout/with-child-layout-styles",withChildLayoutStyles),(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/layout/with-inspector-controls",withLayoutControls),ConvertToGroupButton.__docgenInfo={description:"",methods:[],displayName:"ConvertToGroupButton",props:{onClose:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var library_unlock=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8h1.5c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1z"}));var lock_outline=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zM9.8 7c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v3H9.8V7zm6.7 11.5h-9v-7h9v7z"})),modal=__webpack_require__("./packages/components/build-module/modal/index.js");var library_lock=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"}));const ALLOWS_EDIT_LOCKING=["core/block","core/navigation"];function getTemplateLockValue(lock){return lock.remove&&lock.move?"all":!(!lock.remove||lock.move)&&"insert"}function BlockLockModal({clientId:clientId,onClose:onClose}){const[lock,setLock]=(0,react.useState)({move:!1,remove:!1}),{canEdit:canEdit,canMove:canMove,canRemove:canRemove}=useBlockLock(clientId),{allowsEditLocking:allowsEditLocking,templateLock:templateLock,hasTemplateLock:hasTemplateLock}=(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes}=select(store),blockName=getBlockName(clientId),blockType=(0,build_module.ck)(blockName);return{allowsEditLocking:ALLOWS_EDIT_LOCKING.includes(blockName),templateLock:getBlockAttributes(clientId)?.templateLock,hasTemplateLock:!!blockType?.attributes?.templateLock}}),[clientId]),[applyTemplateLock,setApplyTemplateLock]=(0,react.useState)(!!templateLock),{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),blockInformation=useBlockDisplayInformation(clientId),instanceId=(0,use_instance_id.Z)(BlockLockModal,"block-editor-block-lock-modal__options-title");(0,react.useEffect)((()=>{setLock({move:!canMove,remove:!canRemove,...allowsEditLocking?{edit:!canEdit}:{}})}),[canEdit,canMove,canRemove,allowsEditLocking]);const isAllChecked=Object.values(lock).every(Boolean),isMixed=Object.values(lock).some(Boolean)&&!isAllChecked;return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Lock %s"),blockInformation.title),overlayClassName:"block-editor-block-lock-modal",onRequestClose:onClose},(0,react.createElement)("p",null,(0,i18n_build_module.__)("Choose specific attributes to restrict or lock all available options.")),(0,react.createElement)("form",{onSubmit:event=>{event.preventDefault(),updateBlockAttributes([clientId],{lock:lock,templateLock:applyTemplateLock?getTemplateLockValue(lock):void 0}),onClose()}},(0,react.createElement)("div",{role:"group","aria-labelledby":instanceId,className:"block-editor-block-lock-modal__options"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__options-title",label:(0,react.createElement)("span",{id:instanceId},(0,i18n_build_module.__)("Lock all")),checked:isAllChecked,indeterminate:isMixed,onChange:newValue=>setLock({move:newValue,remove:newValue,...allowsEditLocking?{edit:newValue}:{}})}),(0,react.createElement)("ul",{className:"block-editor-block-lock-modal__checklist"},allowsEditLocking&&(0,react.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Restrict editing"),checked:!!lock.edit,onChange:edit=>setLock((prevLock=>({...prevLock,edit:edit})))}),(0,react.createElement)(components_build_module_icon.Z,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.edit?library_lock:library_unlock})),(0,react.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Disable movement"),checked:lock.move,onChange:move=>setLock((prevLock=>({...prevLock,move:move})))}),(0,react.createElement)(components_build_module_icon.Z,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.move?library_lock:library_unlock})),(0,react.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,react.createElement)(checkbox_control.C,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Prevent removal"),checked:lock.remove,onChange:remove=>setLock((prevLock=>({...prevLock,remove:remove})))}),(0,react.createElement)(components_build_module_icon.Z,{className:"block-editor-block-lock-modal__lock-icon",icon:lock.remove?library_lock:library_unlock}))),hasTemplateLock&&(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-block-lock-modal__template-lock",label:(0,i18n_build_module.__)("Apply to all blocks inside"),checked:applyTemplateLock,disabled:lock.move&&!lock.remove,onChange:()=>setApplyTemplateLock(!applyTemplateLock)})),(0,react.createElement)(component.Z,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:onClose},(0,i18n_build_module.__)("Cancel"))),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"primary",type:"submit"},(0,i18n_build_module.__)("Apply"))))))}function BlockLockMenuItem({clientId:clientId}){const{canLock:canLock,isLocked:isLocked}=useBlockLock(clientId),[isModalOpen,toggleModal]=(0,react.useReducer)((isActive=>!isActive),!1);if(!canLock)return null;const label=isLocked?(0,i18n_build_module.__)("Unlock"):(0,i18n_build_module.__)("Lock");return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_item.Z,{icon:isLocked?library_unlock:lock_outline,onClick:toggleModal,"aria-expanded":isModalOpen,"aria-haspopup":"dialog"},label),isModalOpen&&(0,react.createElement)(BlockLockModal,{clientId:clientId,onClose:toggleModal}))}BlockLockModal.__docgenInfo={description:"",methods:[],displayName:"BlockLockModal"},BlockLockMenuItem.__docgenInfo={description:"",methods:[],displayName:"BlockLockMenuItem"};const block_mode_toggle_noop=()=>{};function BlockModeToggle({blockType:blockType,mode:mode,onToggleMode:onToggleMode,small:small=!1,isCodeEditingEnabled:isCodeEditingEnabled=!0}){if(!blockType||!(0,build_module.zb)(blockType,"html",!0)||!isCodeEditingEnabled)return null;const label="visual"===mode?(0,i18n_build_module.__)("Edit as HTML"):(0,i18n_build_module.__)("Edit visually");return(0,react.createElement)(menu_item.Z,{onClick:onToggleMode},!small&&label)}BlockModeToggle.__docgenInfo={description:"",methods:[],displayName:"BlockModeToggle",props:{small:{defaultValue:{value:"false",computed:!1},required:!1},isCodeEditingEnabled:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_mode_toggle=(0,compose.Z)([(0,with_select.Z)(((select,{clientId:clientId})=>{const{getBlock:getBlock,getBlockMode:getBlockMode,getSettings:getSettings}=select(store),block=getBlock(clientId),isCodeEditingEnabled=getSettings().codeEditingEnabled;return{mode:getBlockMode(clientId),blockType:block?(0,build_module.ck)(block.name):null,isCodeEditingEnabled:isCodeEditingEnabled}})),(0,with_dispatch.Z)(((dispatch,{onToggle:onToggle=block_mode_toggle_noop,clientId:clientId})=>({onToggleMode(){dispatch(store).toggleBlockMode(clientId),onToggle()}})))])(BlockModeToggle);function useBlockRename(name){return{canRename:(0,build_module.Dx)(name,"renaming",!0)}}function isEmptyString(testString){return 0===testString?.trim()?.length}function BlockRenameModal({blockName:blockName,originalBlockName:originalBlockName,onClose:onClose,onSave:onSave}){const[editedBlockName,setEditedBlockName]=(0,react.useState)(blockName),nameHasChanged=editedBlockName!==blockName,nameIsOriginal=editedBlockName===originalBlockName,nameIsEmpty=isEmptyString(editedBlockName),isNameValid=nameHasChanged||nameIsOriginal,dialogDescription=(0,use_instance_id.Z)(BlockRenameModal,"block-editor-rename-modal__description");return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Rename"),onRequestClose:onClose,overlayClassName:"block-editor-block-rename-modal",aria:{describedby:dialogDescription},focusOnMount:"firstContentElement"},(0,react.createElement)("p",{id:dialogDescription},(0,i18n_build_module.__)("Enter a custom name for this block.")),(0,react.createElement)("form",{onSubmit:e=>{e.preventDefault(),isNameValid&&(()=>{const message=nameIsOriginal||nameIsEmpty?(0,i18n_build_module.gB)((0,i18n_build_module.__)('Block name reset to: "%s".'),editedBlockName):(0,i18n_build_module.gB)((0,i18n_build_module.__)('Block name changed to: "%s".'),editedBlockName);(0,a11y_build_module.D)(message,"assertive"),onSave(editedBlockName),onClose()})()}},(0,react.createElement)(v_stack_component.Z,{spacing:"3"},(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,value:editedBlockName,label:(0,i18n_build_module.__)("Block name"),hideLabelFromVision:!0,placeholder:originalBlockName,onChange:setEditedBlockName,onFocus:event=>event.target.select()}),(0,react.createElement)(h_stack_component.Z,{justify:"right"},(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:onClose},(0,i18n_build_module.__)("Cancel")),(0,react.createElement)(build_module_button.ZP,{"aria-disabled":!isNameValid,variant:"primary",type:"submit"},(0,i18n_build_module.__)("Save"))))))}function BlockRenameControl({clientId:clientId}){const[renamingBlock,setRenamingBlock]=(0,react.useState)(!1),{metadata:metadata}=(0,use_select.Z)((select=>{const{getBlockAttributes:getBlockAttributes}=select(store),_metadata=getBlockAttributes(clientId)?.metadata;return{metadata:_metadata}}),[clientId]),{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),customName=metadata?.name;const blockInformation=useBlockDisplayInformation(clientId);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_item.Z,{onClick:()=>{setRenamingBlock(!0)},"aria-expanded":renamingBlock,"aria-haspopup":"dialog"},(0,i18n_build_module.__)("Rename")),renamingBlock&&(0,react.createElement)(BlockRenameModal,{blockName:customName||"",originalBlockName:blockInformation?.title,onClose:()=>setRenamingBlock(!1),onSave:newName=>{(newName===blockInformation?.title||isEmptyString(newName))&&(newName=void 0),function onChange(newName){updateBlockAttributes([clientId],{metadata:{...metadata&&metadata,name:newName}})}(newName)}}))}BlockRenameModal.__docgenInfo={description:"",methods:[],displayName:"BlockRenameModal"},BlockRenameControl.__docgenInfo={description:"",methods:[],displayName:"BlockRenameControl"};const{Fill:Fill,Slot:Slot}=(0,slot_fill.up)("BlockSettingsMenuControls");function BlockSettingsMenuControls({...props}){return(0,react.createElement)(style_provider.Z,{document:document},(0,react.createElement)(Fill,{...props}))}BlockSettingsMenuControls.Slot=({fillProps:fillProps,clientIds:clientIds=null,__unstableDisplayLocation:__unstableDisplayLocation})=>{const{selectedBlocks:selectedBlocks,selectedClientIds:selectedClientIds}=(0,use_select.Z)((select=>{const{getBlockNamesByClientId:getBlockNamesByClientId,getSelectedBlockClientIds:getSelectedBlockClientIds}=select(store),ids=null!==clientIds?clientIds:getSelectedBlockClientIds();return{selectedBlocks:getBlockNamesByClientId(ids),selectedClientIds:ids}}),[clientIds]),{canLock:canLock}=useBlockLock(selectedClientIds[0]),{canRename:canRename}=useBlockRename(selectedBlocks[0]),showLockButton=1===selectedClientIds.length&&canLock,showRenameButton=1===selectedClientIds.length&&canRename,convertToGroupButtonProps=useConvertToGroupButtonProps(selectedClientIds),{isGroupable:isGroupable,isUngroupable:isUngroupable}=convertToGroupButtonProps,showConvertToGroupButton=isGroupable||isUngroupable;return(0,react.createElement)(Slot,{fillProps:{...fillProps,__unstableDisplayLocation:__unstableDisplayLocation,selectedBlocks:selectedBlocks,selectedClientIds:selectedClientIds}},(fills=>!fills?.length>0&&!showConvertToGroupButton&&!showLockButton?null:(0,react.createElement)(menu_group.Z,null,showConvertToGroupButton&&(0,react.createElement)(ConvertToGroupButton,{...convertToGroupButtonProps,onClose:fillProps?.onClose}),showLockButton&&(0,react.createElement)(BlockLockMenuItem,{clientId:selectedClientIds[0]}),showRenameButton&&(0,react.createElement)(BlockRenameControl,{clientId:selectedClientIds[0]}),fills,fillProps?.canMove&&!fillProps?.onlyBlock&&(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(fillProps?.onClose,fillProps?.onMoveTo)},(0,i18n_build_module.__)("Move to")),1===fillProps?.count&&(0,react.createElement)(block_mode_toggle,{clientId:fillProps?.firstBlockClientId,onToggle:fillProps?.onClose}))))},BlockSettingsMenuControls.__docgenInfo={description:"@see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/block-settings-menu-controls/README.md\n\n@param {Object} props Fill props.\n@return {Element} Element.",methods:[{name:"Slot",docblock:null,modifiers:["static"],params:[{name:"{\n  fillProps,\n  clientIds = null,\n  __unstableDisplayLocation\n}",type:null}],returns:null}],displayName:"BlockSettingsMenuControls"};var block_settings_menu_controls=BlockSettingsMenuControls;function StopEditingAsBlocksOnOutsideSelect({clientId:clientId,stopEditingAsBlock:stopEditingAsBlock}){const isBlockOrDescendantSelected=(0,use_select.Z)((select=>{const{isBlockSelected:isBlockSelected,hasSelectedInnerBlock:hasSelectedInnerBlock}=select(store);return isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,!0)}),[clientId]);return(0,react.useEffect)((()=>{isBlockOrDescendantSelected||stopEditingAsBlock()}),[isBlockOrDescendantSelected,stopEditingAsBlock]),null}const withContentLockControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const{getBlockListSettings:getBlockListSettings,getSettings:getSettings}=(0,use_select.Z)(store),focusModeToRevert=(0,react.useRef)(),{templateLock:templateLock,isLockedByParent:isLockedByParent,isEditingAsBlocks:isEditingAsBlocks}=(0,use_select.Z)((select=>{const{__unstableGetContentLockingParent:__unstableGetContentLockingParent,getTemplateLock:getTemplateLock,__unstableGetTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks}=select(store);return{templateLock:getTemplateLock(props.clientId),isLockedByParent:!!__unstableGetContentLockingParent(props.clientId),isEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===props.clientId}}),[props.clientId]),{updateSettings:updateSettings,updateBlockListSettings:updateBlockListSettings,__unstableSetTemporarilyEditingAsBlocks:__unstableSetTemporarilyEditingAsBlocks}=(0,use_dispatch.Z)(store),isContentLocked=!isLockedByParent&&"contentOnly"===templateLock,{__unstableMarkNextChangeAsNotPersistent:__unstableMarkNextChangeAsNotPersistent,updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),stopEditingAsBlock=(0,react.useCallback)((()=>{__unstableMarkNextChangeAsNotPersistent(),updateBlockAttributes(props.clientId,{templateLock:"contentOnly"}),updateBlockListSettings(props.clientId,{...getBlockListSettings(props.clientId),templateLock:"contentOnly"}),updateSettings({focusMode:focusModeToRevert.current}),__unstableSetTemporarilyEditingAsBlocks()}),[props.clientId,updateSettings,updateBlockListSettings,getBlockListSettings,__unstableMarkNextChangeAsNotPersistent,updateBlockAttributes,__unstableSetTemporarilyEditingAsBlocks]);if(!isContentLocked&&!isEditingAsBlocks)return(0,react.createElement)(BlockEdit,{key:"edit",...props});const showStopEditingAsBlocks=isEditingAsBlocks&&!isContentLocked,showStartEditingAsBlocks=!isEditingAsBlocks&&isContentLocked&&props.isSelected;return(0,react.createElement)(react.Fragment,null,showStopEditingAsBlocks&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(StopEditingAsBlocksOnOutsideSelect,{clientId:props.clientId,stopEditingAsBlock:stopEditingAsBlock}),(0,react.createElement)(block_controls,{group:"other"},(0,react.createElement)(toolbar_button.Z,{onClick:()=>{stopEditingAsBlock()}},(0,i18n_build_module.__)("Done")))),showStartEditingAsBlocks&&(0,react.createElement)(block_settings_menu_controls,null,(({onClose:onClose})=>(0,react.createElement)(menu_item.Z,{onClick:()=>{__unstableMarkNextChangeAsNotPersistent(),updateBlockAttributes(props.clientId,{templateLock:void 0}),updateBlockListSettings(props.clientId,{...getBlockListSettings(props.clientId),templateLock:!1}),focusModeToRevert.current=getSettings().focusMode,updateSettings({focusMode:!0}),__unstableSetTemporarilyEditingAsBlocks(props.clientId),onClose()}},(0,i18n_build_module.__)("Modify")))),(0,react.createElement)(BlockEdit,{key:"edit",...props}))}),"withContentLockControls");(0,hooks_build_module.KJ)("editor.BlockEdit","core/content-lock-ui/with-block-controls",withContentLockControls);function CustomFieldsControl(props){if("default"!==useBlockEditingMode())return null;let attributeName;return"core/paragraph"===props.name&&(attributeName="content"),"core/image"===props.name&&(attributeName="url"),(0,react.createElement)(inspector_controls,null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Connections"),initialOpen:!0},(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,autoComplete:"off",label:(0,i18n_build_module.__)("Custom field meta_key"),value:props.attributes?.connections?.attributes?.[attributeName]?.value||"",onChange:nextValue=>{""===nextValue?props.setAttributes({connections:void 0,[attributeName]:void 0,placeholder:void 0}):props.setAttributes({connections:{attributes:{[attributeName]:{source:"meta_fields",value:nextValue}}},[attributeName]:void 0,placeholder:(0,i18n_build_module.gB)('This content will be replaced on the frontend by the value of "%s" custom field.',nextValue)})}})))}(0,hooks_build_module.KJ)("blocks.registerBlockType","core/metadata/addMetaAttribute",(function addMetaAttribute(blockTypeSettings){return blockTypeSettings?.attributes?.metadata?.type||(blockTypeSettings.attributes={...blockTypeSettings.attributes,metadata:{type:"object"}}),blockTypeSettings}));const withCustomFieldsControls=(0,create_higher_order_component.o)((BlockEdit=>props=>{const hasCustomFieldsSupport=(0,build_module.zb)(props.name,"__experimentalConnections",!1);return["core/paragraph","core/image"].includes(props.name)?(0,react.createElement)(react.Fragment,null,(0,react.createElement)(BlockEdit,{key:"edit",...props}),hasCustomFieldsSupport&&props.isSelected&&(0,react.createElement)(CustomFieldsControl,{...props})):(0,react.createElement)(BlockEdit,{key:"edit",...props})}),"withCustomFieldsControls");(window.__experimentalConnections||window.__experimentalPatternPartialSyncing)&&(0,hooks_build_module.KJ)("blocks.registerBlockType","core/editor/connections/attribute",(function custom_fields_addAttribute(settings){return(0,build_module.zb)(settings,"__experimentalConnections",!0)&&(settings.attributes={...settings.attributes,connections:{type:"object"}}),settings})),window.__experimentalConnections&&(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/connections/with-inspector-controls",withCustomFieldsControls);var block_default=__webpack_require__("./packages/icons/build-module/library/block-default.js");function BlockIcon({icon:icon,showColors:showColors=!1,className:className,context:context}){"block-default"===icon?.src&&(icon={src:block_default.Z});const renderedIcon=(0,react.createElement)(components_build_module_icon.Z,{icon:icon&&icon.src?icon.src:icon,context:context}),style=showColors?{backgroundColor:icon&&icon.background,color:icon&&icon.foreground}:{};return(0,react.createElement)("span",{style:style,className:classnames_default()("block-editor-block-icon",className,{"has-colors":showColors})},renderedIcon)}BlockIcon.__docgenInfo={description:"",methods:[],displayName:"BlockIcon",props:{showColors:{defaultValue:{value:"false",computed:!1},required:!1}}};var block_icon=(0,react.memo)(BlockIcon);const EMPTY_OBJECT={};function BlockHooksControl(props){const blockTypes=(0,use_select.Z)((select=>select(build_module.h).getBlockTypes()),[]),hookedBlocksForCurrentBlock=(0,react.useMemo)((()=>blockTypes?.filter((({blockHooks:blockHooks})=>blockHooks&&props.blockName in blockHooks))),[blockTypes,props.blockName]),{blockIndex:blockIndex,rootClientId:rootClientId,innerBlocksLength:innerBlocksLength}=(0,use_select.Z)((select=>{const{getBlock:getBlock,getBlockIndex:getBlockIndex,getBlockRootClientId:getBlockRootClientId}=select(store);return{blockIndex:getBlockIndex(props.clientId),innerBlocksLength:getBlock(props.clientId)?.innerBlocks?.length,rootClientId:getBlockRootClientId(props.clientId)}}),[props.clientId]),hookedBlockClientIds=(0,use_select.Z)((select=>{const{getBlock:getBlock,getGlobalBlockCount:getGlobalBlockCount}=select(store),_hookedBlockClientIds=hookedBlocksForCurrentBlock.reduce(((clientIds,block)=>{if(0===getGlobalBlockCount(block.name))return clientIds;const relativePosition=block?.blockHooks?.[props.blockName];let candidates;switch(relativePosition){case"before":case"after":candidates=getBlock(rootClientId)?.innerBlocks;break;case"first_child":case"last_child":candidates=getBlock(props.clientId).innerBlocks}const hookedBlock=candidates?.find((({name:name})=>name===block.name));return hookedBlock?{...clientIds,[block.name]:hookedBlock.clientId}:{...clientIds,[block.name]:!1}}),{});return Object.values(_hookedBlockClientIds).length>0?_hookedBlockClientIds:EMPTY_OBJECT}),[hookedBlocksForCurrentBlock,props.blockName,props.clientId,rootClientId]),{insertBlock:insertBlock,removeBlock:removeBlock}=(0,use_dispatch.Z)(store),hookedBlocksForCurrentBlockIfNotPresentElsewhere=hookedBlocksForCurrentBlock?.filter((block=>!1!==hookedBlockClientIds?.[block.name]));if(!hookedBlocksForCurrentBlockIfNotPresentElsewhere.length)return null;const groupedHookedBlocks=hookedBlocksForCurrentBlock.reduce(((groups,block)=>{const[namespace]=block.name.split("/");return groups[namespace]||(groups[namespace]=[]),groups[namespace].push(block),groups}),{});return(0,react.createElement)(inspector_controls,null,(0,react.createElement)(body.ZP,{className:"block-editor-hooks__block-hooks",title:(0,i18n_build_module.__)("Plugins"),initialOpen:!0},Object.keys(groupedHookedBlocks).map((vendor=>(0,react.createElement)(react.Fragment,{key:vendor},(0,react.createElement)("h3",null,vendor),groupedHookedBlocks[vendor].map((block=>{const checked=block.name in hookedBlockClientIds;return(0,react.createElement)(toggle_control.Z,{checked:checked,key:block.title,label:(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(block_icon,{icon:block.icon}),(0,react.createElement)("span",null,block.title)),onChange:()=>{if(!checked){const relativePosition=block.blockHooks[props.blockName];return void((block,relativePosition)=>{switch(relativePosition){case"before":case"after":insertBlock(block,"after"===relativePosition?blockIndex+1:blockIndex,rootClientId,!1);break;case"first_child":case"last_child":insertBlock(block,"first_child"===relativePosition?0:innerBlocksLength,props.clientId,!1)}})((0,build_module.j4)(block.name),relativePosition)}const clientId=hookedBlockClientIds[block.name];removeBlock(clientId,!1)}})})))))))}const withBlockHooksControls=(0,create_higher_order_component.o)((BlockEdit=>props=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(BlockEdit,{key:"edit",...props}),props.isSelected&&(0,react.createElement)(BlockHooksControl,{blockName:props.name,clientId:props.clientId}))),"withBlockHooksControls");(0,hooks_build_module.KJ)("editor.BlockEdit","core/editor/block-hooks/with-inspector-controls",withBlockHooksControls);const withBlockRenameControl=(0,create_higher_order_component.o)((BlockEdit=>props=>{const{name:name,attributes:attributes,setAttributes:setAttributes,isSelected:isSelected}=props,{canRename:canRename}=useBlockRename(name);return(0,react.createElement)(react.Fragment,null,isSelected&&canRename&&(0,react.createElement)(inspector_controls,{group:"advanced"},(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Block name"),value:attributes?.metadata?.name||"",onChange:newName=>{setAttributes({metadata:{...attributes?.metadata,name:newName}})}})),(0,react.createElement)(BlockEdit,{key:"edit",...props}))}),"withToolbarControls");function getBorderClassesAndStyles(attributes){const border=attributes.style?.border||{};return{className:getBorderClasses(attributes)||void 0,style:getInlineStyles({border:border})}}function useBorderProps(attributes){const{colors:colors}=useMultipleOriginColorsAndGradients(),borderProps=getBorderClassesAndStyles(attributes),{borderColor:borderColor}=attributes;if(borderColor){const borderColorObject=getMultiOriginColor({colors:colors,namedColor:borderColor});borderProps.style.borderColor=borderColorObject.color}return borderProps}function getColorClassesAndStyles(attributes){const{backgroundColor:backgroundColor,textColor:textColor,gradient:gradient,style:style}=attributes,backgroundClass=getColorClassName("background-color",backgroundColor),textClass=getColorClassName("color",textColor),gradientClass=__experimentalGetGradientClass(gradient),hasGradient=gradientClass||style?.color?.gradient;return{className:classnames_default()(textClass,gradientClass,{[backgroundClass]:!hasGradient&&!!backgroundClass,"has-text-color":textColor||style?.color?.text,"has-background":backgroundColor||style?.color?.background||gradient||style?.color?.gradient,"has-link-color":style?.elements?.link?.color})||void 0,style:getInlineStyles({color:style?.color||{}})}}function useColorProps(attributes){const{backgroundColor:backgroundColor,textColor:textColor,gradient:gradient}=attributes,[userPalette,themePalette,defaultPalette,userGradients,themeGradients,defaultGradients]=use_settings_useSettings("color.palette.custom","color.palette.theme","color.palette.default","color.gradients.custom","color.gradients.theme","color.gradients.default"),colors=(0,react.useMemo)((()=>[...userPalette||[],...themePalette||[],...defaultPalette||[]]),[userPalette,themePalette,defaultPalette]),gradients=(0,react.useMemo)((()=>[...userGradients||[],...themeGradients||[],...defaultGradients||[]]),[userGradients,themeGradients,defaultGradients]),colorProps=getColorClassesAndStyles(attributes);if(backgroundColor){const backgroundColorObject=getColorObjectByAttributeValues(colors,backgroundColor);colorProps.style.backgroundColor=backgroundColorObject.color}if(gradient&&(colorProps.style.background=getGradientValueBySlug(gradients,gradient)),textColor){const textColorObject=getColorObjectByAttributeValues(colors,textColor);colorProps.style.color=textColorObject.color}return colorProps}function getSpacingClassesAndStyles(attributes){const{style:style}=attributes;return{style:getInlineStyles({spacing:style?.spacing||{}})}}function getTypographyClassesAndStyles(attributes,settings){let typographyStyles=attributes?.style?.typography||{};const fluidTypographySettings=getFluidTypographyOptionsFromSettings(settings);typographyStyles={...typographyStyles,fontSize:getTypographyFontSizeValue({size:attributes?.style?.typography?.fontSize},fluidTypographySettings)};const style=getInlineStyles({typography:typographyStyles}),fontFamilyClassName=attributes?.fontFamily?`has-${kebabCase(attributes.fontFamily)}-font-family`:"";return{className:classnames_default()(fontFamilyClassName,getFontSizeClass(attributes?.fontSize)),style:style}}function useCachedTruthy(value){const[cachedValue,setCachedValue]=(0,react.useState)(value);return(0,react.useEffect)((()=>{value&&setCachedValue(value)}),[value]),cachedValue}(0,hooks_build_module.KJ)("editor.BlockEdit","core/block-rename-ui/with-block-rename-control",withBlockRenameControl),(0,hooks_build_module.KJ)("blocks.registerBlockType","core/metadata/addLabelCallback",(function addLabelCallback(settings){return settings.__experimentalLabel||(0,build_module.zb)(settings,"renaming",!0)&&(settings.__experimentalLabel=(attributes,{context:context})=>{const{metadata:metadata}=attributes;if("list-view"===context&&metadata?.name)return metadata.name}),settings}));const upperFirst=([firstLetter,...rest])=>firstLetter.toUpperCase()+rest.join(""),withEditorColorPalette=()=>(0,create_higher_order_component.o)((WrappedComponent=>props=>{const[userPalette,themePalette,defaultPalette]=use_settings_useSettings("color.palette.custom","color.palette.theme","color.palette.default"),allColors=(0,react.useMemo)((()=>[...userPalette||[],...themePalette||[],...defaultPalette||[]]),[userPalette,themePalette,defaultPalette]);return(0,react.createElement)(WrappedComponent,{...props,colors:allColors})}),"withEditorColorPalette");function createColorHOC(colorTypes,withColorPalette){const colorMap=colorTypes.reduce(((colorObject,colorType)=>({...colorObject,..."string"==typeof colorType?{[colorType]:kebabCase(colorType)}:colorType})),{});return(0,compose.Z)([withColorPalette,WrappedComponent=>class extends react.Component{constructor(props){super(props),this.setters=this.createSetters(),this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)},this.state={}}getMostReadableColor(colorValue){const{colors:colors}=this.props;return function getMostReadableColor(colors,colorValue){const colordColor=(0,colord.Vi)(colorValue),getColorContrast=({color:color})=>colordColor.contrast(color),maxContrast=Math.max(...colors.map(getColorContrast));return colors.find((color=>getColorContrast(color)===maxContrast)).color}(colors,colorValue)}createSetters(){return Object.keys(colorMap).reduce(((settersAccumulator,colorAttributeName)=>{const upperFirstColorAttributeName=upperFirst(colorAttributeName),customColorAttributeName=`custom${upperFirstColorAttributeName}`;return settersAccumulator[`set${upperFirstColorAttributeName}`]=this.createSetColor(colorAttributeName,customColorAttributeName),settersAccumulator}),{})}createSetColor(colorAttributeName,customColorAttributeName){return colorValue=>{const colorObject=getColorObjectByColorValue(this.props.colors,colorValue);this.props.setAttributes({[colorAttributeName]:colorObject&&colorObject.slug?colorObject.slug:void 0,[customColorAttributeName]:colorObject&&colorObject.slug?void 0:colorValue})}}static getDerivedStateFromProps({attributes:attributes,colors:colors},previousState){return Object.entries(colorMap).reduce(((newState,[colorAttributeName,colorContext])=>{const colorObject=getColorObjectByAttributeValues(colors,attributes[colorAttributeName],attributes[`custom${upperFirst(colorAttributeName)}`]),previousColorObject=previousState[colorAttributeName],previousColor=previousColorObject?.color;return previousColor===colorObject.color&&previousColorObject?newState[colorAttributeName]=previousColorObject:newState[colorAttributeName]={...colorObject,class:getColorClassName(colorContext,colorObject.slug)},newState}),{})}render(){return(0,react.createElement)(WrappedComponent,{...this.props,colors:void 0,...this.state,...this.setters,colorUtils:this.colorUtils})}}])}function withColors(...colorTypes){const withColorPalette=withEditorColorPalette();return(0,create_higher_order_component.o)(createColorHOC(colorTypes,withColorPalette),"withColors")}var align_left=__webpack_require__("./packages/icons/build-module/library/align-left.js"),align_center=__webpack_require__("./packages/icons/build-module/library/align-center.js"),align_right=__webpack_require__("./packages/icons/build-module/library/align-right.js");const DEFAULT_ALIGNMENT_CONTROLS=[{icon:align_left.Z,title:(0,i18n_build_module.__)("Align text left"),align:"left"},{icon:align_center.Z,title:(0,i18n_build_module.__)("Align text center"),align:"center"},{icon:align_right.Z,title:(0,i18n_build_module.__)("Align text right"),align:"right"}],ui_POPOVER_PROPS={placement:"bottom-start"};function AlignmentUI({value:value,onChange:onChange,alignmentControls:alignmentControls=DEFAULT_ALIGNMENT_CONTROLS,label:label=(0,i18n_build_module.__)("Align text"),describedBy:describedBy=(0,i18n_build_module.__)("Change text alignment"),isCollapsed:isCollapsed=!0,isToolbar:isToolbar}){function applyOrUnset(align){return()=>onChange(value===align?void 0:align)}const activeAlignment=alignmentControls.find((control=>control.align===value));const UIComponent=isToolbar?toolbar_group.Z:toolbar_dropdown_menu.Z,extraProps=isToolbar?{isCollapsed:isCollapsed}:{toggleProps:{describedBy:describedBy},popoverProps:ui_POPOVER_PROPS};return(0,react.createElement)(UIComponent,{icon:function setIcon(){return activeAlignment?activeAlignment.icon:(0,i18n_build_module.dZ)()?align_right.Z:align_left.Z}(),label:label,controls:alignmentControls.map((control=>{const{align:align}=control,isActive=value===align;return{...control,isActive:isActive,role:isCollapsed?"menuitemradio":void 0,onClick:applyOrUnset(align)}})),...extraProps})}AlignmentUI.__docgenInfo={description:"",methods:[],displayName:"AlignmentUI",props:{alignmentControls:{defaultValue:{value:"[{\n  icon: alignLeft,\n  title: __('Align text left'),\n  align: 'left'\n}, {\n  icon: alignCenter,\n  title: __('Align text center'),\n  align: 'center'\n}, {\n  icon: alignRight,\n  title: __('Align text right'),\n  align: 'right'\n}]",computed:!1},required:!1},label:{defaultValue:{value:"__('Align text')",computed:!0},required:!1},describedBy:{defaultValue:{value:"__('Change text alignment')",computed:!0},required:!1},isCollapsed:{defaultValue:{value:"true",computed:!1},required:!1}}};var alignment_control_ui=AlignmentUI;const AlignmentControl=props=>(0,react.createElement)(alignment_control_ui,{...props,isToolbar:!1}),AlignmentToolbar=props=>(0,react.createElement)(alignment_control_ui,{...props,isToolbar:!0});AlignmentControl.__docgenInfo={description:"",methods:[],displayName:"AlignmentControl"},AlignmentToolbar.__docgenInfo={description:"",methods:[],displayName:"AlignmentToolbar"};var fullscreen=__webpack_require__("./packages/icons/build-module/library/fullscreen.js");function BlockFullHeightAlignmentControl({isActive:isActive,label:label=(0,i18n_build_module.__)("Toggle full height"),onToggle:onToggle,isDisabled:isDisabled}){return(0,react.createElement)(toolbar_button.Z,{isActive:isActive,icon:fullscreen.Z,label:label,onClick:()=>onToggle(!isActive),disabled:isDisabled})}BlockFullHeightAlignmentControl.__docgenInfo={description:"",methods:[],displayName:"BlockFullHeightAlignmentControl",props:{label:{defaultValue:{value:"__('Toggle full height')",computed:!0},required:!1}}};var block_full_height_alignment_control=BlockFullHeightAlignmentControl,CQCRBYV6=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/CQCRBYV6.js");const GRID=[["top left","top center","top right"],["center left","center center","center right"],["bottom left","bottom center","bottom right"]],ALIGNMENT_LABEL={"top left":(0,i18n_build_module.__)("Top Left"),"top center":(0,i18n_build_module.__)("Top Center"),"top right":(0,i18n_build_module.__)("Top Right"),"center left":(0,i18n_build_module.__)("Center Left"),"center center":(0,i18n_build_module.__)("Center"),center:(0,i18n_build_module.__)("Center"),"center right":(0,i18n_build_module.__)("Center Right"),"bottom left":(0,i18n_build_module.__)("Bottom Left"),"bottom center":(0,i18n_build_module.__)("Bottom Center"),"bottom right":(0,i18n_build_module.__)("Bottom Right")},ALIGNMENTS=GRID.flat();function normalize(value){const normalized="center"===value?"center center":value,transformed=normalized?.replace("-"," ");return ALIGNMENTS.includes(transformed)?transformed:void 0}function getItemId(prefixId,value){const normalized=normalize(value);if(!normalized)return;return`${prefixId}-${normalized.replace(" ","-")}`}var reduce_motion=__webpack_require__("./packages/components/build-module/utils/reduce-motion.js");var alignment_matrix_control_styles_ref={name:"93uojk",styles:"border-radius:2px;box-sizing:border-box;direction:ltr;display:grid;grid-template-columns:repeat( 3, 1fr );outline:none"};const rootBase=()=>alignment_matrix_control_styles_ref,alignment_matrix_control_styles_Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ecapk1j3"})(rootBase,";border:1px solid transparent;cursor:pointer;grid-template-columns:auto;",(({size:size=92})=>(0,emotion_react_browser_esm.iv)("grid-template-rows:repeat( 3, calc( ",size,"px / 3 ) );width:",size,"px;","","","")),";"),Row=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ecapk1j2"})({name:"1x5gbbj",styles:"box-sizing:border-box;display:grid;grid-template-columns:repeat( 3, 1fr )"}),pointBase=props=>(0,emotion_react_browser_esm.iv)("background:currentColor;box-sizing:border-box;display:grid;margin:auto;transition:all 120ms linear;",(0,reduce_motion.r)("transition")," ",(({isActive:isActive})=>{const boxShadow=isActive?`0 0 0 2px ${colors_values.D.gray[900]}`:null,pointColor=isActive?colors_values.D.gray[900]:colors_values.D.gray[400],pointColorHover=isActive?colors_values.D.gray[900]:colors_values.D.theme.accent;return(0,emotion_react_browser_esm.iv)("box-shadow:",boxShadow,";color:",pointColor,";*:hover>&{color:",pointColorHover,";}","","","")})(props),";","","",""),Point=(0,emotion_styled_base_browser_esm.Z)("span",{target:"ecapk1j1"})("height:6px;width:6px;",pointBase,";"),Cell=(0,emotion_styled_base_browser_esm.Z)("span",{target:"ecapk1j0"})({name:"rjf3ub",styles:"appearance:none;border:none;box-sizing:border-box;margin:0;display:flex;position:relative;outline:none;align-items:center;justify-content:center;padding:0"});function cell_Cell({id:id,isActive:isActive=!1,value:value,...props}){const tooltipText=ALIGNMENT_LABEL[value];return(0,react.createElement)(tooltip.Z,{text:tooltipText},(0,react.createElement)(CQCRBYV6.A,{id:id,render:(0,react.createElement)(Cell,{...props,role:"gridcell"})},(0,react.createElement)(visually_hidden_component.Z,null,value),(0,react.createElement)(Point,{isActive:isActive,role:"presentation"})))}cell_Cell.__docgenInfo={description:"",methods:[],displayName:"Cell",props:{isActive:{defaultValue:{value:"false",computed:!1},required:!1}}};var VUP7S67H=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/VUP7S67H.js"),_7PHIY4AC=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/7PHIY4AC.js"),RE3KBWM3=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/RE3KBWM3.js");(0,emotion_styled_base_browser_esm.Z)("div",{target:"erowt52"})({name:"ogl07i",styles:"box-sizing:border-box;padding:2px"});const alignment_matrix_control_icon_styles_Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"erowt51"})("transform-origin:top left;height:100%;width:100%;",rootBase,";",(()=>(0,emotion_react_browser_esm.iv)({gridTemplateRows:"repeat( 3, calc( 21px / 3))",padding:1.5,maxHeight:24,maxWidth:24},"","","","")),";",(({disablePointerEvents:disablePointerEvents})=>(0,emotion_react_browser_esm.iv)({pointerEvents:disablePointerEvents?"none":void 0},"","","","")),";"),alignment_matrix_control_icon_styles_Point=(0,emotion_styled_base_browser_esm.Z)("span",{target:"erowt50"})("height:2px;width:2px;",pointBase,";",(({isActive:isActive})=>{const boxShadow=isActive?"0 0 0 1px currentColor":null;return(0,emotion_react_browser_esm.iv)("box-shadow:",boxShadow,";color:currentColor;*:hover>&{color:currentColor;}","","","")}),";"),alignment_matrix_control_icon_styles_Cell=Cell;function AlignmentMatrixControlIcon({className:className,disablePointerEvents:disablePointerEvents=!0,size:size=24,style:style={},value:value="center",...props}){const alignIndex=function getAlignmentIndex(alignment="center"){const normalized=normalize(alignment);if(!normalized)return;const index=ALIGNMENTS.indexOf(normalized);return index>-1?index:void 0}(value),scale=(size/24).toFixed(2),classes=classnames_default()("component-alignment-matrix-control-icon",className),styles={...style,transform:`scale(${scale})`};return(0,react.createElement)(alignment_matrix_control_icon_styles_Root,{...props,className:classes,disablePointerEvents:disablePointerEvents,role:"presentation",style:styles},ALIGNMENTS.map(((align,index)=>{const isActive=alignIndex===index;return(0,react.createElement)(alignment_matrix_control_icon_styles_Cell,{key:align},(0,react.createElement)(alignment_matrix_control_icon_styles_Point,{isActive:isActive}))})))}AlignmentMatrixControlIcon.__docgenInfo={description:"",methods:[],displayName:"AlignmentMatrixControlIcon",props:{disablePointerEvents:{defaultValue:{value:"true",computed:!1},required:!1},size:{defaultValue:{value:"24",computed:!1},required:!1},style:{defaultValue:{value:"{}",computed:!1},required:!1},value:{defaultValue:{value:"'center'",computed:!1},required:!1}}};var icon=AlignmentMatrixControlIcon;function AlignmentMatrixControl({className:className,id:id,label:label=(0,i18n_build_module.__)("Alignment Matrix Control"),defaultValue:defaultValue="center center",value:value,onChange:onChange,width:width=92,...props}){const baseId=(0,use_instance_id.Z)(AlignmentMatrixControl,"alignment-matrix-control",id),compositeStore=(0,VUP7S67H.l)({defaultActiveId:getItemId(baseId,defaultValue),activeId:getItemId(baseId,value),setActiveId:nextActiveId=>{const nextValue=function getItemValue(prefixId,id){const value=id?.replace(prefixId+"-","");return normalize(value)}(baseId,nextActiveId);nextValue&&onChange?.(nextValue)},rtl:(0,i18n_build_module.dZ)()}),activeId=compositeStore.useState("activeId"),classes=classnames_default()("component-alignment-matrix-control",className);return(0,react.createElement)(_7PHIY4AC.b,{store:compositeStore,render:(0,react.createElement)(alignment_matrix_control_styles_Root,{...props,"aria-label":label,className:classes,id:baseId,role:"grid",size:width})},GRID.map(((cells,index)=>(0,react.createElement)(RE3KBWM3.G,{render:(0,react.createElement)(Row,{role:"row"}),key:index},cells.map((cell=>{const cellId=getItemId(baseId,cell),isActive=cellId===activeId;return(0,react.createElement)(cell_Cell,{id:cellId,isActive:isActive,key:cell,value:cell})}))))))}AlignmentMatrixControl.Icon=icon,AlignmentMatrixControl.__docgenInfo={description:"AlignmentMatrixControl components enable adjustments to horizontal and vertical alignments for UI.\n\n```jsx\nimport { __experimentalAlignmentMatrixControl as AlignmentMatrixControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst Example = () => {\n\tconst [ alignment, setAlignment ] = useState( 'center center' );\n\n\treturn (\n\t\t<AlignmentMatrixControl\n\t\t\tvalue={ alignment }\n\t\t\tonChange={ setAlignment }\n\t\t/>\n\t);\n};\n```",methods:[],displayName:"AlignmentMatrixControl",props:{label:{defaultValue:{value:"__('Alignment Matrix Control')",computed:!0},required:!1},defaultValue:{defaultValue:{value:"'center center'",computed:!1},required:!1},width:{defaultValue:{value:"92",computed:!1},required:!1}}};var alignment_matrix_control=AlignmentMatrixControl;const block_alignment_matrix_control_noop=()=>{};function BlockAlignmentMatrixControl(props){const{label:label=(0,i18n_build_module.__)("Change matrix alignment"),onChange:onChange=block_alignment_matrix_control_noop,value:value="center",isDisabled:isDisabled}=props,icon=(0,react.createElement)(alignment_matrix_control.Icon,{value:value});return(0,react.createElement)(dropdown.Z,{popoverProps:{placement:"bottom-start"},renderToggle:({onToggle:onToggle,isOpen:isOpen})=>(0,react.createElement)(toolbar_button.Z,{onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:event=>{isOpen||event.keyCode!==keycodes_build_module.WV||(event.preventDefault(),onToggle())},label:label,icon:icon,showTooltip:!0,disabled:isDisabled}),renderContent:()=>(0,react.createElement)(alignment_matrix_control,{hasFocusBorder:!1,onChange:onChange,value:value})})}BlockAlignmentMatrixControl.__docgenInfo={description:"",methods:[],displayName:"BlockAlignmentMatrixControl"};var block_alignment_matrix_control=BlockAlignmentMatrixControl;function useBlockOverlayActive(clientId){return(0,use_select.Z)((select=>{const{__unstableHasActiveBlockOverlayActive:__unstableHasActiveBlockOverlayActive}=select(store);return __unstableHasActiveBlockOverlayActive(clientId)}),[clientId])}const block_context_Context=(0,react.createContext)({});function BlockContextProvider({value:value,children:children}){const context=(0,react.useContext)(block_context_Context),nextValue=(0,react.useMemo)((()=>({...context,...value})),[context,value]);return(0,react.createElement)(block_context_Context.Provider,{value:nextValue,children:children})}var block_context=block_context_Context;BlockContextProvider.__docgenInfo={description:"Component which merges passed value with current consumed block context.\n\n@see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/block-context/README.md\n\n@param {BlockContextProviderProps} props",methods:[],displayName:"BlockContextProvider"};var use_registry=__webpack_require__("./packages/data/build-module/components/registry-provider/use-registry.js"),async_mode_provider_context=__webpack_require__("./packages/data/build-module/components/async-mode-provider/context.js"),use_viewport_match=__webpack_require__("./packages/compose/build-module/hooks/use-viewport-match/index.js"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),raw_html=__webpack_require__("./packages/element/build-module/raw-html.js"),pure=__webpack_require__("./packages/compose/build-module/higher-order/pure/index.js"),if_condition=__webpack_require__("./packages/compose/build-module/higher-order/if-condition/index.js"),safe_html=__webpack_require__("./packages/dom/build-module/dom/safe-html.js");const DEFAULT_BLOCK_CONTEXT={},EditWithFilters=(0,with_filters.Z)("editor.BlockEdit")((props=>{const{name:name}=props,blockType=(0,build_module.ck)(name);if(!blockType)return null;const Component=blockType.edit||blockType.save;return(0,react.createElement)(Component,{...props})})),EditWithGeneratedProps=props=>{const{attributes:attributes={},name:name}=props,blockType=(0,build_module.ck)(name),blockContext=(0,react.useContext)(block_context),context=(0,react.useMemo)((()=>blockType&&blockType.usesContext?Object.fromEntries(Object.entries(blockContext).filter((([key])=>blockType.usesContext.includes(key)))):DEFAULT_BLOCK_CONTEXT),[blockType,blockContext]);if(!blockType)return null;if(blockType.apiVersion>1)return(0,react.createElement)(EditWithFilters,{...props,context:context});const generatedClassName=(0,build_module.zb)(blockType,"className",!0)?(0,build_module.Vk)(name):null,className=classnames_default()(generatedClassName,attributes.className,props.className);return(0,react.createElement)(EditWithFilters,{...props,context:context,className:className})};EditWithGeneratedProps.__docgenInfo={description:"",methods:[],displayName:"EditWithGeneratedProps"};var block_edit_edit=EditWithGeneratedProps;function BlockEdit(props){const{name:name,isSelected:isSelected,clientId:clientId,attributes:attributes={},__unstableLayoutClassNames:__unstableLayoutClassNames}=props,{layout:layout=null}=attributes,context={name:name,isSelected:isSelected,clientId:clientId,layout:(0,build_module.zb)(name,"layout",!1)||(0,build_module.zb)(name,"__experimentalLayout",!1)?layout:null,__unstableLayoutClassNames:__unstableLayoutClassNames};return(0,react.createElement)(Provider,{value:(0,react.useMemo)((()=>context),Object.values(context))},(0,react.createElement)(block_edit_edit,{...props}))}BlockEdit.__docgenInfo={description:"",methods:[],displayName:"BlockEdit"};var more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js");function Warning({className:className,actions:actions,children:children,secondaryActions:secondaryActions}){return(0,react.createElement)("div",{style:{display:"contents",all:"initial"}},(0,react.createElement)("div",{className:classnames_default()(className,"block-editor-warning")},(0,react.createElement)("div",{className:"block-editor-warning__contents"},(0,react.createElement)("p",{className:"block-editor-warning__message"},children),(react.Children.count(actions)>0||secondaryActions)&&(0,react.createElement)("div",{className:"block-editor-warning__actions"},react.Children.count(actions)>0&&react.Children.map(actions,((action,i)=>(0,react.createElement)("span",{key:i,className:"block-editor-warning__action"},action))),secondaryActions&&(0,react.createElement)(dropdown_menu.Z,{className:"block-editor-warning__secondary",icon:more_vertical.Z,label:(0,i18n_build_module.__)("More options"),popoverProps:{position:"bottom left",className:"block-editor-warning__dropdown"},noIcons:!0},(()=>(0,react.createElement)(menu_group.Z,null,secondaryActions.map(((item,pos)=>(0,react.createElement)(menu_item.Z,{onClick:item.onClick,key:pos},item.title))))))))))}Warning.__docgenInfo={description:"",methods:[],displayName:"Warning"};var warning=Warning,character=__webpack_require__("./node_modules/diff/lib/diff/character.js");function BlockView({title:title,rawContent:rawContent,renderedContent:renderedContent,action:action,actionText:actionText,className:className}){return(0,react.createElement)("div",{className:className},(0,react.createElement)("div",{className:"block-editor-block-compare__content"},(0,react.createElement)("h2",{className:"block-editor-block-compare__heading"},title),(0,react.createElement)("div",{className:"block-editor-block-compare__html"},rawContent),(0,react.createElement)("div",{className:"block-editor-block-compare__preview edit-post-visual-editor"},(0,react.createElement)(raw_html.Z,null,(0,safe_html.Z)(renderedContent)))),(0,react.createElement)("div",{className:"block-editor-block-compare__action"},(0,react.createElement)(build_module_button.ZP,{variant:"secondary",tabIndex:"0",onClick:action},actionText)))}function BlockCompare({block:block,onKeep:onKeep,onConvert:onConvert,convertor:convertor,convertButtonText:convertButtonText}){const converted=function getConvertedContent(convertedBlock){const newContent=(Array.isArray(convertedBlock)?convertedBlock:[convertedBlock]).map((item=>(0,build_module.kD)(item.name,item.attributes,item.innerBlocks)));return newContent.join("")}(convertor(block)),difference=function getDifference(originalContent,newContent){return(0,character.Kx)(originalContent,newContent).map(((item,pos)=>{const classes=classnames_default()({"block-editor-block-compare__added":item.added,"block-editor-block-compare__removed":item.removed});return(0,react.createElement)("span",{key:pos,className:classes},item.value)}))}(block.originalContent,converted);return(0,react.createElement)("div",{className:"block-editor-block-compare__wrapper"},(0,react.createElement)(BlockView,{title:(0,i18n_build_module.__)("Current"),className:"block-editor-block-compare__current",action:onKeep,actionText:(0,i18n_build_module.__)("Convert to HTML"),rawContent:block.originalContent,renderedContent:block.originalContent}),(0,react.createElement)(BlockView,{title:(0,i18n_build_module.__)("After Conversion"),className:"block-editor-block-compare__converted",action:onConvert,actionText:convertButtonText,rawContent:difference,renderedContent:converted}))}BlockView.__docgenInfo={description:"",methods:[],displayName:"BlockView"},BlockCompare.__docgenInfo={description:"",methods:[],displayName:"BlockCompare"};var block_compare=BlockCompare;const blockToBlocks=block=>(0,build_module.AF)({HTML:block.originalContent});function BlockInvalidWarning({clientId:clientId}){const{block:block,canInsertHTMLBlock:canInsertHTMLBlock,canInsertClassicBlock:canInsertClassicBlock}=(0,use_select.Z)((select=>{const{canInsertBlockType:canInsertBlockType,getBlock:getBlock,getBlockRootClientId:getBlockRootClientId}=select(store),rootClientId=getBlockRootClientId(clientId);return{block:getBlock(clientId),canInsertHTMLBlock:canInsertBlockType("core/html",rootClientId),canInsertClassicBlock:canInsertBlockType("core/freeform",rootClientId)}}),[clientId]),{replaceBlock:replaceBlock}=(0,use_dispatch.Z)(store),[compare,setCompare]=(0,react.useState)(!1),onCompareClose=(0,react.useCallback)((()=>setCompare(!1)),[]),convert=(0,react.useMemo)((()=>({toClassic(){const classicBlock=(0,build_module.j4)("core/freeform",{content:block.originalContent});return replaceBlock(block.clientId,classicBlock)},toHTML(){const htmlBlock=(0,build_module.j4)("core/html",{content:block.originalContent});return replaceBlock(block.clientId,htmlBlock)},toBlocks(){const newBlocks=blockToBlocks(block);return replaceBlock(block.clientId,newBlocks)},toRecoveredBlock(){const recoveredBlock=(0,build_module.j4)(block.name,block.attributes,block.innerBlocks);return replaceBlock(block.clientId,recoveredBlock)}})),[block,replaceBlock]),secondaryActions=(0,react.useMemo)((()=>[{title:(0,i18n_build_module._x)("Resolve","imperative verb"),onClick:()=>setCompare(!0)},canInsertHTMLBlock&&{title:(0,i18n_build_module.__)("Convert to HTML"),onClick:convert.toHTML},canInsertClassicBlock&&{title:(0,i18n_build_module.__)("Convert to Classic Block"),onClick:convert.toClassic}].filter(Boolean)),[canInsertHTMLBlock,canInsertClassicBlock,convert]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(warning,{actions:[(0,react.createElement)(build_module_button.ZP,{key:"recover",onClick:convert.toRecoveredBlock,variant:"primary"},(0,i18n_build_module.__)("Attempt Block Recovery"))],secondaryActions:secondaryActions},(0,i18n_build_module.__)("This block contains unexpected or invalid content.")),compare&&(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Resolve Block"),onRequestClose:onCompareClose,className:"block-editor-block-compare"},(0,react.createElement)(block_compare,{block:block,onKeep:convert.toHTML,onConvert:convert.toBlocks,convertor:blockToBlocks,convertButtonText:(0,i18n_build_module.__)("Convert to Blocks")})))}BlockInvalidWarning.__docgenInfo={description:"",methods:[],displayName:"BlockInvalidWarning"};const block_crash_warning_warning=(0,react.createElement)(warning,{className:"block-editor-block-list__block-crash-warning"},(0,i18n_build_module.__)("This block has encountered an error and cannot be previewed."));var block_crash_warning=()=>block_crash_warning_warning;class BlockCrashBoundary extends react.Component{constructor(){super(...arguments),this.state={hasError:!1}}componentDidCatch(){this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}BlockCrashBoundary.displayName="BlockCrashBoundary",BlockCrashBoundary.__docgenInfo={description:"",methods:[],displayName:"BlockCrashBoundary"};var block_crash_boundary=BlockCrashBoundary,react_autosize_textarea_lib=__webpack_require__("./node_modules/react-autosize-textarea/lib/index.js");function BlockHTML({clientId:clientId}){const[html,setHtml]=(0,react.useState)(""),block=(0,use_select.Z)((select=>select(store).getBlock(clientId)),[clientId]),{updateBlock:updateBlock}=(0,use_dispatch.Z)(store);return(0,react.useEffect)((()=>{setHtml((0,build_module.Jo)(block))}),[block]),(0,react.createElement)(react_autosize_textarea_lib.Z,{className:"block-editor-block-list__block-html-textarea",value:html,onBlur:()=>{const blockType=(0,build_module.ck)(block.name);if(!blockType)return;const attributes=(0,build_module.DJ)(blockType,html,block.attributes),content=html||(0,build_module.kD)(blockType,attributes),[isValid]=html?(0,build_module.lM)({...block,attributes:attributes,originalContent:content}):[!0];updateBlock(clientId,{attributes:attributes,originalContent:content,isValid:isValid}),html||setHtml(content)},onChange:event=>setHtml(event.target.value)})}BlockHTML.__docgenInfo={description:"",methods:[],displayName:"BlockHTML"};var block_html=BlockHTML,use_disabled=__webpack_require__("./packages/compose/build-module/hooks/use-disabled/index.js"),react_spring_web_esm=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),get_scroll_container=__webpack_require__("./packages/dom/build-module/dom/get-scroll-container.js");const counterReducer=state=>state+1,getAbsolutePosition=element=>({top:element.offsetTop,left:element.offsetLeft});var use_moving_animation=function useMovingAnimation({isSelected:isSelected,adjustScrolling:adjustScrolling,enableAnimation:enableAnimation,triggerAnimationOnChange:triggerAnimationOnChange}){const ref=(0,react.useRef)(),prefersReducedMotion=(0,use_reduced_motion.Z)()||!enableAnimation,[triggeredAnimation,triggerAnimation]=(0,react.useReducer)(counterReducer,0),[finishedAnimation,endAnimation]=(0,react.useReducer)(counterReducer,0),[transform,setTransform]=(0,react.useState)({x:0,y:0}),previous=(0,react.useMemo)((()=>ref.current?getAbsolutePosition(ref.current):null),[triggerAnimationOnChange]),preserveScrollPosition=(0,react.useMemo)((()=>{if(!adjustScrolling||!ref.current)return()=>{};const scrollContainer=(0,get_scroll_container.Z)(ref.current);if(!scrollContainer)return()=>{};const prevRect=ref.current.getBoundingClientRect();return()=>{const diff=ref.current.getBoundingClientRect().top-prevRect.top;diff&&(scrollContainer.scrollTop+=diff)}}),[triggerAnimationOnChange,adjustScrolling]);return(0,react.useLayoutEffect)((()=>{triggeredAnimation&&endAnimation()}),[triggeredAnimation]),(0,react.useLayoutEffect)((()=>{if(!previous)return;if(prefersReducedMotion)return void preserveScrollPosition();ref.current.style.transform=void 0;const destination=getAbsolutePosition(ref.current);triggerAnimation(),setTransform({x:Math.round(previous.left-destination.left),y:Math.round(previous.top-destination.top)})}),[triggerAnimationOnChange]),(0,react_spring_web_esm.useSpring)({from:{x:transform.x,y:transform.y},to:{x:0,y:0},reset:triggeredAnimation!==finishedAnimation,config:{mass:5,tension:2e3,friction:200},immediate:prefersReducedMotion,onChange:function onChange({value:value}){if(!ref.current)return;let{x:x,y:y}=value;x=Math.round(x),y=Math.round(y);const finishedMoving=0===x&&0===y;ref.current.style.transformOrigin="center center",ref.current.style.transform=finishedMoving?null:`translate3d(${x}px,${y}px,0)`,ref.current.style.zIndex=isSelected?"1":"",preserveScrollPosition()}}),ref},is_text_field=__webpack_require__("./packages/dom/build-module/dom/is-text-field.js"),is_form_element=__webpack_require__("./packages/dom/build-module/dom/is-form-element.js"),place_caret_at_horizontal_edge=__webpack_require__("./packages/dom/build-module/dom/place-caret-at-horizontal-edge.js");const BLOCK_SELECTOR=".block-editor-block-list__block",APPENDER_SELECTOR=".block-list-appender",BLOCK_APPENDER_CLASS=".block-editor-button-block-appender";function isInSameBlock(a,b){return a.closest(BLOCK_SELECTOR)===b.closest(BLOCK_SELECTOR)}function isInsideRootBlock(blockElement,element){return element.closest([BLOCK_SELECTOR,APPENDER_SELECTOR,BLOCK_APPENDER_CLASS].join(","))===blockElement}function getBlockClientId(node){for(;node&&node.nodeType!==node.ELEMENT_NODE;)node=node.parentNode;if(!node)return;const blockNode=node.closest(BLOCK_SELECTOR);return blockNode?blockNode.id.slice(6):void 0}function useFocusFirstElement(clientId){const ref=(0,react.useRef)(),initialPosition=function useInitialPosition(clientId){return(0,use_select.Z)((select=>{const{getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,__unstableGetEditorMode:__unstableGetEditorMode,isBlockSelected:isBlockSelected}=select(store);if(isBlockSelected(clientId)&&"edit"===__unstableGetEditorMode())return getSelectedBlocksInitialCaretPosition()}),[clientId])}(clientId),{isBlockSelected:isBlockSelected,isMultiSelecting:isMultiSelecting}=(0,use_select.Z)(store);return(0,react.useEffect)((()=>{if(!isBlockSelected(clientId)||isMultiSelecting())return;if(null==initialPosition)return;if(!ref.current)return;const{ownerDocument:ownerDocument}=ref.current;if(isInsideRootBlock(ref.current,ownerDocument.activeElement))return;const textInputs=dom_build_module.T_.tabbable.find(ref.current).filter((node=>(0,is_text_field.Z)(node))),isReverse=-1===initialPosition,target=textInputs[isReverse?textInputs.length-1:0]||ref.current;if(isInsideRootBlock(ref.current,target)){if(!ref.current.getAttribute("contenteditable")){const focusElement=dom_build_module.T_.tabbable.findNext(ref.current);if(focusElement&&isInsideRootBlock(ref.current,focusElement)&&(0,is_form_element.Z)(focusElement))return void focusElement.focus()}(0,place_caret_at_horizontal_edge.Z)(target,isReverse)}else ref.current.focus()}),[initialPosition,clientId]),ref}function listener(event){if(event.defaultPrevented)return;const action="mouseover"===event.type?"add":"remove";event.preventDefault(),event.currentTarget.classList[action]("is-hovered")}function useIsHovered(){const isEnabled=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return getSettings().outlineMode}),[]);return(0,use_ref_effect.Z)((node=>{if(isEnabled)return node.addEventListener("mouseout",listener),node.addEventListener("mouseover",listener),()=>{node.removeEventListener("mouseout",listener),node.removeEventListener("mouseover",listener),node.classList.remove("is-hovered")}}),[isEnabled])}function useBlockClassNames(clientId){return(0,use_select.Z)((select=>{const{isBlockBeingDragged:isBlockBeingDragged,isBlockHighlighted:isBlockHighlighted,isBlockSelected:isBlockSelected,isBlockMultiSelected:isBlockMultiSelected,getBlockName:getBlockName,getSettings:getSettings,hasSelectedInnerBlock:hasSelectedInnerBlock,isTyping:isTyping,__unstableIsFullySelected:__unstableIsFullySelected,__unstableSelectionHasUnmergeableBlock:__unstableSelectionHasUnmergeableBlock}=select(store),{outlineMode:outlineMode}=getSettings(),isDragging=isBlockBeingDragged(clientId),isSelected=isBlockSelected(clientId),name=getBlockName(clientId),isAncestorOfSelectedBlock=hasSelectedInnerBlock(clientId,!0),isMultiSelected=isBlockMultiSelected(clientId);return classnames_default()({"is-selected":isSelected,"is-highlighted":isBlockHighlighted(clientId),"is-multi-selected":isMultiSelected,"is-partially-selected":isMultiSelected&&!__unstableIsFullySelected()&&!__unstableSelectionHasUnmergeableBlock(),"is-reusable":(0,build_module.vr)((0,build_module.ck)(name)),"is-dragging":isDragging,"has-child-selected":isAncestorOfSelectedBlock,"remove-outline":isSelected&&outlineMode&&isTyping()})}),[clientId])}function useBlockDefaultClassName(clientId){return(0,use_select.Z)((select=>{const name=select(store).getBlockName(clientId),blockType=(0,build_module.ck)(name);if(blockType?.apiVersion>1)return(0,build_module.Vk)(name)}),[clientId])}function useBlockCustomClassName(clientId){return(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes}=select(store),attributes=getBlockAttributes(clientId);if(!attributes?.className)return;const blockType=(0,build_module.ck)(getBlockName(clientId));return blockType?.apiVersion>1?attributes.className:void 0}),[clientId])}function useBlockMovingModeClassNames(clientId){return(0,use_select.Z)((select=>{const{hasBlockMovingClientId:hasBlockMovingClientId,canInsertBlockType:canInsertBlockType,getBlockName:getBlockName,getBlockRootClientId:getBlockRootClientId,isBlockSelected:isBlockSelected}=select(store);if(!isBlockSelected(clientId))return;const movingClientId=hasBlockMovingClientId();return movingClientId?classnames_default()("is-block-moving-mode",{"can-insert-moving-block":canInsertBlockType(getBlockName(movingClientId),getBlockRootClientId(clientId))}):void 0}),[clientId])}function useFocusHandler(clientId){const{isBlockSelected:isBlockSelected}=(0,use_select.Z)(store),{selectBlock:selectBlock,selectionChange:selectionChange}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{function onFocus(event){node.parentElement.closest('[contenteditable="true"]')||(isBlockSelected(clientId)?event.target.isContentEditable||selectionChange(clientId):isInsideRootBlock(node,event.target)&&selectBlock(clientId))}return node.addEventListener("focusin",onFocus),()=>{node.removeEventListener("focusin",onFocus)}}),[isBlockSelected,selectBlock])}function useEventHandlers(clientId){const isSelected=(0,use_select.Z)((select=>select(store).isBlockSelected(clientId)),[clientId]),{getBlockRootClientId:getBlockRootClientId,getBlockIndex:getBlockIndex}=(0,use_select.Z)(store),{insertDefaultBlock:insertDefaultBlock,removeBlock:removeBlock}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{if(isSelected)return node.addEventListener("keydown",onKeyDown),node.addEventListener("dragstart",onDragStart),()=>{node.removeEventListener("keydown",onKeyDown),node.removeEventListener("dragstart",onDragStart)};function onKeyDown(event){const{keyCode:keyCode,target:target}=event;keyCode!==keycodes_build_module.K5&&keyCode!==keycodes_build_module.ZH&&keyCode!==keycodes_build_module.yY||target!==node||(0,is_text_field.Z)(target)||(event.preventDefault(),keyCode===keycodes_build_module.K5?insertDefaultBlock({},getBlockRootClientId(clientId),getBlockIndex(clientId)+1):removeBlock(clientId))}function onDragStart(event){event.preventDefault()}}),[clientId,isSelected,getBlockRootClientId,getBlockIndex,insertDefaultBlock,removeBlock])}function useNavModeExit(clientId){const{isNavigationMode:isNavigationMode,isBlockSelected:isBlockSelected}=(0,use_select.Z)(store),{setNavigationMode:setNavigationMode,selectBlock:selectBlock}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{function onMouseDown(event){isNavigationMode()&&!event.defaultPrevented&&(event.preventDefault(),isBlockSelected(clientId)?setNavigationMode(!1):selectBlock(clientId))}return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)}}),[clientId,isNavigationMode,isBlockSelected,setNavigationMode])}function useIntersectionObserver(){const observer=(0,react.useContext)(IntersectionObserver);return(0,use_ref_effect.Z)((node=>{if(observer)return observer.observe(node),()=>{observer.unobserve(node)}}),[observer])}const BLOCK_ANIMATION_THRESHOLD=200;function useBlockProps(props={},{__unstableIsHtml:__unstableIsHtml}={}){const{clientId:clientId,className:className,wrapperProps:wrapperProps={},isAligned:isAligned}=(0,react.useContext)(BlockListBlockContext),{index:index,mode:mode,name:name,blockApiVersion:blockApiVersion,blockTitle:blockTitle,isPartOfSelection:isPartOfSelection,adjustScrolling:adjustScrolling,enableAnimation:enableAnimation,isSubtreeDisabled:isSubtreeDisabled}=(0,use_select.Z)((select=>{const{getBlockAttributes:getBlockAttributes,getBlockIndex:getBlockIndex,getBlockMode:getBlockMode,getBlockName:getBlockName,isTyping:isTyping,getGlobalBlockCount:getGlobalBlockCount,isBlockSelected:isBlockSelected,isBlockMultiSelected:isBlockMultiSelected,isAncestorMultiSelected:isAncestorMultiSelected,isFirstMultiSelectedBlock:isFirstMultiSelectedBlock,isBlockSubtreeDisabled:isBlockSubtreeDisabled}=unlock(select(store)),{getActiveBlockVariation:getActiveBlockVariation}=select(build_module.h),isSelected=isBlockSelected(clientId),isPartOfMultiSelection=isBlockMultiSelected(clientId)||isAncestorMultiSelected(clientId),blockName=getBlockName(clientId),blockType=(0,build_module.ck)(blockName),match=getActiveBlockVariation(blockName,getBlockAttributes(clientId));return{index:getBlockIndex(clientId),mode:getBlockMode(clientId),name:blockName,blockApiVersion:blockType?.apiVersion||1,blockTitle:match?.title||blockType?.title,isPartOfSelection:isSelected||isPartOfMultiSelection,adjustScrolling:isSelected||isFirstMultiSelectedBlock(clientId),enableAnimation:!isTyping()&&getGlobalBlockCount()<=BLOCK_ANIMATION_THRESHOLD,isSubtreeDisabled:isBlockSubtreeDisabled(clientId)}}),[clientId]),hasOverlay=useBlockOverlayActive(clientId),blockLabel=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block: %s"),blockTitle),htmlSuffix="html"!==mode||__unstableIsHtml?"":"-visual",mergedRefs=(0,use_merge_refs.Z)([props.ref,useFocusFirstElement(clientId),useBlockRefProvider(clientId),useFocusHandler(clientId),useEventHandlers(clientId),useNavModeExit(clientId),useIsHovered(),useIntersectionObserver(),use_moving_animation({isSelected:isPartOfSelection,adjustScrolling:adjustScrolling,enableAnimation:enableAnimation,triggerAnimationOnChange:index}),(0,use_disabled.Z)({isDisabled:!hasOverlay})]),blockEditContext=useBlockEditContext();return blockApiVersion<2&&clientId===blockEditContext.clientId&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Block type "${name}" must support API version 2 or higher to work correctly with "useBlockProps" method.`),{tabIndex:0,...wrapperProps,...props,ref:mergedRefs,id:`block-${clientId}${htmlSuffix}`,role:"document","aria-label":blockLabel,"data-block":clientId,"data-type":name,"data-title":blockTitle,inert:isSubtreeDisabled?"true":void 0,className:classnames_default()(classnames_default()("block-editor-block-list__block",{"wp-block":!isAligned,"has-block-overlay":hasOverlay}),className,props.className,wrapperProps.className,useBlockClassNames(clientId),useBlockDefaultClassName(clientId),useBlockCustomClassName(clientId),useBlockMovingModeClassNames(clientId)),style:{...wrapperProps.style,...props.style}}}function Block({children:children,isHtml:isHtml,...props}){return(0,react.createElement)("div",{...useBlockProps(props,{__unstableIsHtml:isHtml})},children)}function BlockListBlock({block:{__unstableBlockSource:__unstableBlockSource},mode:mode,isLocked:isLocked,canRemove:canRemove,clientId:clientId,isSelected:isSelected,isSelectionEnabled:isSelectionEnabled,className:className,__unstableLayoutClassNames:layoutClassNames,name:name,isValid:isValid,attributes:attributes,wrapperProps:wrapperProps,setAttributes:setAttributes,onReplace:onReplace,onInsertBlocksAfter:onInsertBlocksAfter,onMerge:onMerge,toggleSelection:toggleSelection}){var _wrapperProps;const{themeSupportsLayout:themeSupportsLayout,isTemporarilyEditingAsBlocks:isTemporarilyEditingAsBlocks,blockEditingMode:blockEditingMode}=(0,use_select.Z)((select=>{const{getSettings:getSettings,__unstableGetTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks,getBlockEditingMode:getBlockEditingMode}=select(store);return{themeSupportsLayout:getSettings().supportsLayout,isTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===clientId,blockEditingMode:getBlockEditingMode(clientId)}}),[clientId]),{removeBlock:removeBlock}=(0,use_dispatch.Z)(store),onRemove=(0,react.useCallback)((()=>removeBlock(clientId)),[clientId]),parentLayout=useLayout()||{};let blockEdit=(0,react.createElement)(BlockEdit,{name:name,isSelected:isSelected,attributes:attributes,setAttributes:setAttributes,insertBlocksAfter:isLocked?void 0:onInsertBlocksAfter,onReplace:canRemove?onReplace:void 0,onRemove:canRemove?onRemove:void 0,mergeBlocks:canRemove?onMerge:void 0,clientId:clientId,isSelectionEnabled:isSelectionEnabled,toggleSelection:toggleSelection,__unstableLayoutClassNames:layoutClassNames,__unstableParentLayout:Object.keys(parentLayout).length?parentLayout:void 0});const blockType=(0,build_module.ck)(name);"disabled"===blockEditingMode&&(wrapperProps={...wrapperProps,tabIndex:-1}),blockType?.getEditWrapperProps&&(wrapperProps=function mergeWrapperProps(propsA,propsB){const newProps={...propsA,...propsB};return propsA?.className&&propsB?.className&&(newProps.className=classnames_default()(propsA.className,propsB.className)),propsA?.style&&propsB?.style&&(newProps.style={...propsA.style,...propsB.style}),newProps}(wrapperProps,blockType.getEditWrapperProps(attributes)));const isAligned=wrapperProps&&!!wrapperProps["data-align"]&&!themeSupportsLayout;let block;if(isAligned&&(blockEdit=(0,react.createElement)("div",{className:"wp-block","data-align":wrapperProps["data-align"]},blockEdit)),isValid)block="html"===mode?(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{style:{display:"none"}},blockEdit),(0,react.createElement)(Block,{isHtml:!0},(0,react.createElement)(block_html,{clientId:clientId}))):blockType?.apiVersion>1?blockEdit:(0,react.createElement)(Block,{...wrapperProps},blockEdit);else{const saveContent=__unstableBlockSource?(0,build_module.rq)(__unstableBlockSource):(0,build_module.kD)(blockType,attributes);block=(0,react.createElement)(Block,{className:"has-warning"},(0,react.createElement)(BlockInvalidWarning,{clientId:clientId}),(0,react.createElement)(raw_html.Z,null,(0,safe_html.Z)(saveContent)))}const{"data-align":dataAlign,...restWrapperProps}=null!==(_wrapperProps=wrapperProps)&&void 0!==_wrapperProps?_wrapperProps:{},value={clientId:clientId,className:classnames_default()({"is-editing-disabled":"disabled"===blockEditingMode,"is-content-locked-temporarily-editing-as-blocks":isTemporarilyEditingAsBlocks},dataAlign&&themeSupportsLayout&&`align${dataAlign}`,className),wrapperProps:restWrapperProps,isAligned:isAligned},memoizedValue=(0,react.useMemo)((()=>value),Object.values(value));return(0,react.createElement)(BlockListBlockContext.Provider,{value:memoizedValue},(0,react.createElement)(block_crash_boundary,{fallback:(0,react.createElement)(Block,{className:"has-warning"},(0,react.createElement)(block_crash_warning,null))},block))}useBlockProps.save=build_module.dF;const applyWithSelect=(0,with_select.Z)(((select,{clientId:clientId,rootClientId:rootClientId})=>{const{isBlockSelected:isBlockSelected,getBlockMode:getBlockMode,isSelectionEnabled:isSelectionEnabled,getTemplateLock:getTemplateLock,__unstableGetBlockWithoutInnerBlocks:__unstableGetBlockWithoutInnerBlocks,canRemoveBlock:canRemoveBlock,canMoveBlock:canMoveBlock}=select(store),block=__unstableGetBlockWithoutInnerBlocks(clientId),isSelected=isBlockSelected(clientId),templateLock=getTemplateLock(rootClientId),canRemove=canRemoveBlock(clientId,rootClientId),canMove=canMoveBlock(clientId,rootClientId),{name:name,attributes:attributes,isValid:isValid}=block||{};return{mode:getBlockMode(clientId),isSelectionEnabled:isSelectionEnabled(),isLocked:!!templateLock,canRemove:canRemove,canMove:canMove,block:block,name:name,attributes:attributes,isValid:isValid,isSelected:isSelected}})),applyWithDispatch=(0,with_dispatch.Z)(((dispatch,ownProps,registry)=>{const{updateBlockAttributes:updateBlockAttributes,insertBlocks:insertBlocks,mergeBlocks:mergeBlocks,replaceBlocks:replaceBlocks,toggleSelection:toggleSelection,__unstableMarkLastChangeAsPersistent:__unstableMarkLastChangeAsPersistent,moveBlocksToPosition:moveBlocksToPosition,removeBlock:removeBlock}=dispatch(store);return{setAttributes(newAttributes){const{getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds}=registry.select(store),multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(),{clientId:clientId}=ownProps,clientIds=multiSelectedBlockClientIds.length?multiSelectedBlockClientIds:[clientId];updateBlockAttributes(clientIds,newAttributes)},onInsertBlocks(blocks,index){const{rootClientId:rootClientId}=ownProps;insertBlocks(blocks,index,rootClientId)},onInsertBlocksAfter(blocks){const{clientId:clientId,rootClientId:rootClientId}=ownProps,{getBlockIndex:getBlockIndex}=registry.select(store),index=getBlockIndex(clientId);insertBlocks(blocks,index+1,rootClientId)},onMerge(forward){const{clientId:clientId,rootClientId:rootClientId}=ownProps,{getPreviousBlockClientId:getPreviousBlockClientId,getNextBlockClientId:getNextBlockClientId,getBlock:getBlock,getBlockAttributes:getBlockAttributes,getBlockName:getBlockName,getBlockOrder:getBlockOrder,getBlockIndex:getBlockIndex,getBlockRootClientId:getBlockRootClientId,canInsertBlockType:canInsertBlockType}=registry.select(store);function moveFirstItemUp(_clientId,changeSelection=!0){const targetRootClientId=getBlockRootClientId(_clientId),blockOrder=getBlockOrder(_clientId),[firstClientId]=blockOrder;1===blockOrder.length&&(0,build_module.pe)(getBlock(firstClientId))?removeBlock(_clientId):registry.batch((()=>{if(canInsertBlockType(getBlockName(firstClientId),targetRootClientId))moveBlocksToPosition([firstClientId],_clientId,targetRootClientId,getBlockIndex(_clientId));else{const replacement=(0,build_module.m4)(getBlock(firstClientId),(0,build_module.UT)());replacement&&replacement.length&&(insertBlocks(replacement,getBlockIndex(_clientId),targetRootClientId,changeSelection),removeBlock(firstClientId,!1))}!getBlockOrder(_clientId).length&&(0,build_module.pe)(getBlock(_clientId))&&removeBlock(_clientId,!1)}))}if(forward){if(rootClientId){const nextRootClientId=getNextBlockClientId(rootClientId);if(nextRootClientId){if(getBlockName(rootClientId)!==getBlockName(nextRootClientId))return void mergeBlocks(rootClientId,nextRootClientId);{const rootAttributes=getBlockAttributes(rootClientId),previousRootAttributes=getBlockAttributes(nextRootClientId);if(Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key])))return void registry.batch((()=>{moveBlocksToPosition(getBlockOrder(nextRootClientId),nextRootClientId,rootClientId),removeBlock(nextRootClientId,!1)}))}}}const nextBlockClientId=getNextBlockClientId(clientId);if(!nextBlockClientId)return;getBlockOrder(nextBlockClientId).length?moveFirstItemUp(nextBlockClientId,!1):mergeBlocks(clientId,nextBlockClientId)}else{const previousBlockClientId=getPreviousBlockClientId(clientId);if(previousBlockClientId)mergeBlocks(previousBlockClientId,clientId);else if(rootClientId){const previousRootClientId=getPreviousBlockClientId(rootClientId);if(previousRootClientId&&getBlockName(rootClientId)===getBlockName(previousRootClientId)){const rootAttributes=getBlockAttributes(rootClientId),previousRootAttributes=getBlockAttributes(previousRootClientId);if(Object.keys(rootAttributes).every((key=>rootAttributes[key]===previousRootAttributes[key])))return void registry.batch((()=>{moveBlocksToPosition(getBlockOrder(rootClientId),rootClientId,previousRootClientId),removeBlock(rootClientId,!1)}))}moveFirstItemUp(rootClientId)}else removeBlock(clientId)}},onReplace(blocks,indexToSelect,initialPosition){blocks.length&&!(0,build_module.ZP)(blocks[blocks.length-1])&&__unstableMarkLastChangeAsPersistent();const replacementBlocks=1===blocks?.length&&Array.isArray(blocks[0])?blocks[0]:blocks;replaceBlocks([ownProps.clientId],replacementBlocks,indexToSelect,initialPosition)},toggleSelection(selectionEnabled){toggleSelection(selectionEnabled)}}}));BlockListBlock.__docgenInfo={description:"",methods:[],displayName:"BlockListBlock"};var block=(0,compose.Z)(pure.Z,applyWithSelect,applyWithDispatch,(0,if_condition.Z)((({block:block})=>!!block)),(0,with_filters.Z)("editor.BlockListBlock"))(BlockListBlock),html_entities_build_module=__webpack_require__("./packages/html-entities/build-module/index.js"),search_control=__webpack_require__("./packages/components/build-module/search-control/index.js"),use_debounced_input=__webpack_require__("./packages/compose/build-module/hooks/use-debounced-input/index.js"),tip=__webpack_require__("./packages/components/build-module/tip/index.js");const globalTips=[(0,create_interpolate_element.Z)((0,i18n_build_module.__)("While writing, you can press <kbd>/</kbd> to quickly insert new blocks."),{kbd:(0,react.createElement)("kbd",null)}),(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Indent a list by pressing <kbd>space</kbd> at the beginning of a line."),{kbd:(0,react.createElement)("kbd",null)}),(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line."),{kbd:(0,react.createElement)("kbd",null)}),(0,i18n_build_module.__)("Drag files into the editor to automatically insert media blocks."),(0,i18n_build_module.__)("Change a block's type by pressing the block icon on the toolbar.")];function Tips(){const[randomIndex]=(0,react.useState)(Math.floor(Math.random()*globalTips.length));return(0,react.createElement)(tip.Z,null,globalTips[randomIndex])}Tips.__docgenInfo={description:"",methods:[],displayName:"Tips"};var tips=Tips,chevron_right=__webpack_require__("./packages/icons/build-module/library/chevron-right.js"),chevron_left=__webpack_require__("./packages/icons/build-module/library/chevron-left.js");function BlockCard({title:title,icon:icon,description:description,blockType:blockType,className:className}){blockType&&((0,deprecated_build_module.Z)("`blockType` property in `BlockCard component`",{since:"5.7",alternative:"`title, icon and description` properties"}),({title:title,icon:icon,description:description}=blockType));const{parentNavBlockClientId:parentNavBlockClientId}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId:getSelectedBlockClientId,getBlockParentsByBlockName:getBlockParentsByBlockName}=select(store);return{parentNavBlockClientId:getBlockParentsByBlockName(getSelectedBlockClientId(),"core/navigation",!0)[0]}}),[]),{selectBlock:selectBlock}=(0,use_dispatch.Z)(store);return(0,react.createElement)("div",{className:classnames_default()("block-editor-block-card",className)},parentNavBlockClientId&&(0,react.createElement)(build_module_button.ZP,{onClick:()=>selectBlock(parentNavBlockClientId),label:(0,i18n_build_module.__)("Go to parent Navigation block"),style:{minWidth:24,padding:0},icon:(0,i18n_build_module.dZ)()?chevron_right.Z:chevron_left.Z,isSmall:!0}),(0,react.createElement)(block_icon,{icon:icon,showColors:!0}),(0,react.createElement)("div",{className:"block-editor-block-card__content"},(0,react.createElement)("h2",{className:"block-editor-block-card__title"},title),description&&(0,react.createElement)("span",{className:"block-editor-block-card__description"},description)))}BlockCard.__docgenInfo={description:"",methods:[],displayName:"BlockCard"};var block_card=BlockCard,with_registry=__webpack_require__("./packages/data/build-module/components/with-registry/index.js"),build_module_registry=__webpack_require__("./packages/data/build-module/registry.js"),registry_provider_context=__webpack_require__("./packages/data/build-module/components/registry-provider/context.js");var with_registry_provider=(0,create_higher_order_component.o)((WrappedComponent=>(0,with_registry.Z)((({useSubRegistry:useSubRegistry=!0,registry:registry,...props})=>{if(!useSubRegistry)return(0,react.createElement)(WrappedComponent,{registry:registry,...props});const[subRegistry,setSubRegistry]=(0,react.useState)(null);return(0,react.useEffect)((()=>{const newRegistry=(0,build_module_registry.p)({},registry);newRegistry.registerStore("core/block-editor",storeConfig),setSubRegistry(newRegistry)}),[registry]),subRegistry?(0,react.createElement)(registry_provider_context.ZP,{value:subRegistry},(0,react.createElement)(WrappedComponent,{registry:subRegistry,...props})):null}))),"withRegistryProvider");const use_block_sync_noop=()=>{};function useBlockSync({clientId:clientId=null,value:controlledBlocks,selection:controlledSelection,onChange:onChange=use_block_sync_noop,onInput:onInput=use_block_sync_noop}){const registry=(0,use_registry.Z)(),{resetBlocks:resetBlocks,resetSelection:resetSelection,replaceInnerBlocks:replaceInnerBlocks,setHasControlledInnerBlocks:setHasControlledInnerBlocks,__unstableMarkNextChangeAsNotPersistent:__unstableMarkNextChangeAsNotPersistent}=registry.dispatch(store),{getBlockName:getBlockName,getBlocks:getBlocks,getSelectionStart:getSelectionStart,getSelectionEnd:getSelectionEnd}=registry.select(store),isControlled=(0,use_select.Z)((select=>!clientId||select(store).areInnerBlocksControlled(clientId)),[clientId]),pendingChanges=(0,react.useRef)({incoming:null,outgoing:[]}),subscribed=(0,react.useRef)(!1),setControlledBlocks=()=>{controlledBlocks&&(__unstableMarkNextChangeAsNotPersistent(),clientId?registry.batch((()=>{setHasControlledInnerBlocks(clientId,!0);const storeBlocks=controlledBlocks.map((block=>(0,build_module.Wm)(block)));subscribed.current&&(pendingChanges.current.incoming=storeBlocks),__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,storeBlocks)})):(subscribed.current&&(pendingChanges.current.incoming=controlledBlocks),resetBlocks(controlledBlocks)))},onInputRef=(0,react.useRef)(onInput),onChangeRef=(0,react.useRef)(onChange);(0,react.useEffect)((()=>{onInputRef.current=onInput,onChangeRef.current=onChange}),[onInput,onChange]),(0,react.useEffect)((()=>{pendingChanges.current.outgoing.includes(controlledBlocks)?pendingChanges.current.outgoing[pendingChanges.current.outgoing.length-1]===controlledBlocks&&(pendingChanges.current.outgoing=[]):getBlocks(clientId)!==controlledBlocks&&(pendingChanges.current.outgoing=[],setControlledBlocks(),controlledSelection&&resetSelection(controlledSelection.selectionStart,controlledSelection.selectionEnd,controlledSelection.initialPosition))}),[controlledBlocks,clientId]),(0,react.useEffect)((()=>{isControlled||(pendingChanges.current.outgoing=[],setControlledBlocks())}),[isControlled]),(0,react.useEffect)((()=>{const{getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,isLastBlockChangePersistent:isLastBlockChangePersistent,__unstableIsLastBlockChangeIgnored:__unstableIsLastBlockChangeIgnored,areInnerBlocksControlled:areInnerBlocksControlled}=registry.select(store);let blocks=getBlocks(clientId),isPersistent=isLastBlockChangePersistent(),previousAreBlocksDifferent=!1;subscribed.current=!0;const unsubscribe=registry.subscribe((()=>{if(null!==clientId&&null===getBlockName(clientId))return;if(!(!clientId||areInnerBlocksControlled(clientId)))return;const newIsPersistent=isLastBlockChangePersistent(),newBlocks=getBlocks(clientId),areBlocksDifferent=newBlocks!==blocks;if(blocks=newBlocks,areBlocksDifferent&&(pendingChanges.current.incoming||__unstableIsLastBlockChangeIgnored()))return pendingChanges.current.incoming=null,void(isPersistent=newIsPersistent);if(areBlocksDifferent||previousAreBlocksDifferent&&!areBlocksDifferent&&newIsPersistent&&!isPersistent){isPersistent=newIsPersistent,pendingChanges.current.outgoing.push(blocks);(isPersistent?onChangeRef.current:onInputRef.current)(blocks,{selection:{selectionStart:getSelectionStart(),selectionEnd:getSelectionEnd(),initialPosition:getSelectedBlocksInitialCaretPosition()}})}previousAreBlocksDifferent=areBlocksDifferent}),store);return()=>{subscribed.current=!1,unsubscribe()}}),[registry,clientId]),(0,react.useEffect)((()=>()=>{__unstableMarkNextChangeAsNotPersistent(),clientId?(setHasControlledInnerBlocks(clientId,!1),__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,[])):resetBlocks([])}),[])}var keyboard_shortcuts_build_module=__webpack_require__("./packages/keyboard-shortcuts/build-module/index.js");function KeyboardShortcuts(){return null}KeyboardShortcuts.Register=function KeyboardShortcutsRegister(){const{registerShortcut:registerShortcut}=(0,use_dispatch.Z)(keyboard_shortcuts_build_module.h);return(0,react.useEffect)((()=>{registerShortcut({name:"core/block-editor/duplicate",category:"block",description:(0,i18n_build_module.__)("Duplicate the selected block(s)."),keyCombination:{modifier:"primaryShift",character:"d"}}),registerShortcut({name:"core/block-editor/remove",category:"block",description:(0,i18n_build_module.__)("Remove the selected block(s)."),keyCombination:{modifier:"access",character:"z"}}),registerShortcut({name:"core/block-editor/insert-before",category:"block",description:(0,i18n_build_module.__)("Insert a new block before the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"t"}}),registerShortcut({name:"core/block-editor/insert-after",category:"block",description:(0,i18n_build_module.__)("Insert a new block after the selected block(s)."),keyCombination:{modifier:"primaryAlt",character:"y"}}),registerShortcut({name:"core/block-editor/delete-multi-selection",category:"block",description:(0,i18n_build_module.__)("Delete selection."),keyCombination:{character:"del"},aliases:[{character:"backspace"}]}),registerShortcut({name:"core/block-editor/select-all",category:"selection",description:(0,i18n_build_module.__)("Select all text when typing. Press again to select all blocks."),keyCombination:{modifier:"primary",character:"a"}}),registerShortcut({name:"core/block-editor/unselect",category:"selection",description:(0,i18n_build_module.__)("Clear selection."),keyCombination:{character:"escape"}}),registerShortcut({name:"core/block-editor/multi-text-selection",category:"selection",description:(0,i18n_build_module.__)("Select text across multiple blocks."),keyCombination:{modifier:"shift",character:"arrow"}}),registerShortcut({name:"core/block-editor/focus-toolbar",category:"global",description:(0,i18n_build_module.__)("Navigate to the nearest toolbar."),keyCombination:{modifier:"alt",character:"F10"}}),registerShortcut({name:"core/block-editor/move-up",category:"block",description:(0,i18n_build_module.__)("Move the selected block(s) up."),keyCombination:{modifier:"secondary",character:"t"}}),registerShortcut({name:"core/block-editor/move-down",category:"block",description:(0,i18n_build_module.__)("Move the selected block(s) down."),keyCombination:{modifier:"secondary",character:"y"}})}),[registerShortcut]),null};var keyboard_shortcuts=KeyboardShortcuts;const ExperimentalBlockEditorProvider=with_registry_provider((props=>{const{children:children,settings:settings,stripExperimentalSettings:stripExperimentalSettings=!1}=props,{__experimentalUpdateSettings:__experimentalUpdateSettings}=unlock((0,use_dispatch.Z)(store));return(0,react.useEffect)((()=>{__experimentalUpdateSettings({...settings,__internalIsInitialized:!0},{stripExperimentalSettings:stripExperimentalSettings,reset:!0})}),[settings,stripExperimentalSettings,__experimentalUpdateSettings]),useBlockSync(props),(0,react.createElement)(slot_fill.zt,null,(0,react.createElement)(keyboard_shortcuts.Register,null),(0,react.createElement)(BlockRefsProvider,null,children))})),BlockEditorProvider=props=>(0,react.createElement)(ExperimentalBlockEditorProvider,{...props,stripExperimentalSettings:!0},props.children);BlockEditorProvider.__docgenInfo={description:"",methods:[],displayName:"BlockEditorProvider"};var provider=BlockEditorProvider,use_resize_observer=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js"),disabled=__webpack_require__("./packages/components/build-module/disabled/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js");function useBlockSelectionClearer(){const{getSettings:getSettings,hasSelectedBlock:hasSelectedBlock,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store),{clearSelectedBlock:clearSelectedBlock}=(0,use_dispatch.Z)(store),{clearBlockSelection:isEnabled}=getSettings();return(0,use_ref_effect.Z)((node=>{if(isEnabled)return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)};function onMouseDown(event){(hasSelectedBlock()||hasMultiSelection())&&event.target===node&&clearSelectedBlock()}}),[hasSelectedBlock,hasMultiSelection,clearSelectedBlock,isEnabled])}function selector(select){const{isMultiSelecting:isMultiSelecting,getMultiSelectedBlockClientIds:getMultiSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,getSelectedBlockClientId:getSelectedBlockClientId,getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,__unstableIsFullySelected:__unstableIsFullySelected}=select(store);return{isMultiSelecting:isMultiSelecting(),multiSelectedBlockClientIds:getMultiSelectedBlockClientIds(),hasMultiSelection:hasMultiSelection(),selectedBlockClientId:getSelectedBlockClientId(),initialPosition:getSelectedBlocksInitialCaretPosition(),isFullSelection:__unstableIsFullySelected()}}function useMultiSelection(){const{initialPosition:initialPosition,isMultiSelecting:isMultiSelecting,multiSelectedBlockClientIds:multiSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,selectedBlockClientId:selectedBlockClientId,isFullSelection:isFullSelection}=(0,use_select.Z)(selector,[]);return(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;if(null==initialPosition)return;if(!hasMultiSelection||isMultiSelecting)return;const{length:length}=multiSelectedBlockClientIds;length<2||isFullSelection&&(node.contentEditable=!0,node.focus(),defaultView.getSelection().removeAllRanges())}),[hasMultiSelection,isMultiSelecting,multiSelectedBlockClientIds,selectedBlockClientId,initialPosition,isFullSelection])}var is_vertical_edge=__webpack_require__("./packages/dom/build-module/dom/is-vertical-edge.js"),is_horizontal_edge=__webpack_require__("./packages/dom/build-module/dom/is-horizontal-edge.js"),compute_caret_rect=__webpack_require__("./packages/dom/build-module/dom/compute-caret-rect.js"),is_rtl=__webpack_require__("./packages/dom/build-module/dom/is-rtl.js"),place_caret_at_vertical_edge=__webpack_require__("./packages/dom/build-module/dom/place-caret-at-vertical-edge.js");function getClosestTabbable(target,isReverse,containerElement,onlyVertical){let targetRect,focusableNodes=dom_build_module.T_.focusable.find(containerElement);return isReverse&&focusableNodes.reverse(),focusableNodes=focusableNodes.slice(focusableNodes.indexOf(target)+1),onlyVertical&&(targetRect=target.getBoundingClientRect()),focusableNodes.find((function isTabCandidate(node){if(!(node.closest("[inert]")||1===node.children.length&&isInSameBlock(node,node.firstElementChild)&&"true"===node.firstElementChild.getAttribute("contenteditable"))){if(!dom_build_module.T_.tabbable.isTabbableIndex(node))return!1;if(node.isContentEditable&&"true"!==node.contentEditable)return!1;if(onlyVertical){const nodeRect=node.getBoundingClientRect();if(nodeRect.left>=targetRect.right||nodeRect.right<=targetRect.left)return!1}return!0}}))}function useArrowNav(){const{getMultiSelectedBlocksStartClientId:getMultiSelectedBlocksStartClientId,getMultiSelectedBlocksEndClientId:getMultiSelectedBlocksEndClientId,getSettings:getSettings,hasMultiSelection:hasMultiSelection,__unstableIsFullySelected:__unstableIsFullySelected}=(0,use_select.Z)(store),{selectBlock:selectBlock}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{let verticalRect;function onMouseDown(){verticalRect=null}function onKeyDown(event){if(event.defaultPrevented)return;const{keyCode:keyCode,target:target,shiftKey:shiftKey,ctrlKey:ctrlKey,altKey:altKey,metaKey:metaKey}=event,isUp=keyCode===keycodes_build_module.UP,isDown=keyCode===keycodes_build_module.WV,isLeft=keyCode===keycodes_build_module.RL,isRight=keyCode===keycodes_build_module.pX,isReverse=isUp||isLeft,isHorizontal=isLeft||isRight,isVertical=isUp||isDown,isNav=isHorizontal||isVertical,hasModifier=shiftKey||ctrlKey||altKey||metaKey,isNavEdge=isVertical?is_vertical_edge.Z:is_horizontal_edge.Z,{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;if(!isNav)return;if(hasMultiSelection()){if(shiftKey)return;if(!__unstableIsFullySelected())return;return event.preventDefault(),void(isReverse?selectBlock(getMultiSelectedBlocksStartClientId()):selectBlock(getMultiSelectedBlocksEndClientId(),-1))}if(!function isNavigationCandidate(element,keyCode,hasModifier){const isVertical=keyCode===keycodes_build_module.UP||keyCode===keycodes_build_module.WV,{tagName:tagName}=element,elementType=element.getAttribute("type");if(isVertical&&!hasModifier)return"INPUT"!==tagName||!["date","datetime-local","month","number","range","time","week"].includes(elementType);if("INPUT"===tagName)return["button","checkbox","number","color","file","image","radio","reset","submit"].includes(elementType);return"TEXTAREA"!==tagName}(target,keyCode,hasModifier))return;isVertical?verticalRect||(verticalRect=(0,compute_caret_rect.Z)(defaultView)):verticalRect=null;const isReverseDir=(0,is_rtl.Z)(target)?!isReverse:isReverse,{keepCaretInsideBlock:keepCaretInsideBlock}=getSettings();if(shiftKey)(function isClosestTabbableABlock(target,isReverse){const closestTabbable=getClosestTabbable(target,isReverse,node);return closestTabbable&&getBlockClientId(closestTabbable)})(target,isReverse)&&isNavEdge(target,isReverse)&&(node.contentEditable=!0,node.focus());else if(!isVertical||!(0,is_vertical_edge.Z)(target,isReverse)||altKey&&!(0,is_horizontal_edge.Z)(target,isReverseDir)||keepCaretInsideBlock){if(isHorizontal&&defaultView.getSelection().isCollapsed&&(0,is_horizontal_edge.Z)(target,isReverseDir)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverseDir,node);(0,place_caret_at_horizontal_edge.Z)(closestTabbable,isReverse),event.preventDefault()}}else{const closestTabbable=getClosestTabbable(target,isReverse,node,!0);closestTabbable&&((0,place_caret_at_vertical_edge.Z)(closestTabbable,altKey?!isReverse:isReverse,altKey?void 0:verticalRect),event.preventDefault())}}return node.addEventListener("mousedown",onMouseDown),node.addEventListener("keydown",onKeyDown),()=>{node.removeEventListener("mousedown",onMouseDown),node.removeEventListener("keydown",onKeyDown)}}),[])}var is_entirely_selected=__webpack_require__("./packages/dom/build-module/dom/is-entirely-selected.js");function useSelectAll(){const{getBlockOrder:getBlockOrder,getSelectedBlockClientIds:getSelectedBlockClientIds,getBlockRootClientId:getBlockRootClientId}=(0,use_select.Z)(store),{multiSelect:multiSelect,selectBlock:selectBlock}=(0,use_dispatch.Z)(store),isMatch=(0,keyboard_shortcuts_build_module.sx)();return(0,use_ref_effect.Z)((node=>{function onKeyDown(event){if(!isMatch("core/block-editor/select-all",event))return;const selectedClientIds=getSelectedBlockClientIds();if(selectedClientIds.length<2&&!(0,is_entirely_selected.Z)(event.target))return;event.preventDefault();const[firstSelectedClientId]=selectedClientIds,rootClientId=getBlockRootClientId(firstSelectedClientId),blockClientIds=getBlockOrder(rootClientId);selectedClientIds.length!==blockClientIds.length?multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1]):rootClientId&&(node.ownerDocument.defaultView.getSelection().removeAllRanges(),selectBlock(rootClientId))}return node.addEventListener("keydown",onKeyDown),()=>{node.removeEventListener("keydown",onKeyDown)}}),[])}function setContentEditableWrapper(node,value){node.contentEditable=value,value&&node.focus()}function useDragSelection(){const{startMultiSelect:startMultiSelect,stopMultiSelect:stopMultiSelect}=(0,use_dispatch.Z)(store),{isSelectionEnabled:isSelectionEnabled,hasMultiSelection:hasMultiSelection,isDraggingBlocks:isDraggingBlocks}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;let anchorElement,rafId;function onMouseUp(){stopMultiSelect(),defaultView.removeEventListener("mouseup",onMouseUp),rafId=defaultView.requestAnimationFrame((()=>{if(hasMultiSelection())return;setContentEditableWrapper(node,!1);const selection=defaultView.getSelection();if(selection.rangeCount){const{commonAncestorContainer:commonAncestorContainer}=selection.getRangeAt(0);anchorElement.contains(commonAncestorContainer)&&anchorElement.focus()}}))}function onMouseLeave({buttons:buttons,target:target}){isDraggingBlocks()||1===buttons&&"true"===target.getAttribute("contenteditable")&&isSelectionEnabled()&&(anchorElement=target,startMultiSelect(),defaultView.addEventListener("mouseup",onMouseUp),setContentEditableWrapper(node,!0))}return node.addEventListener("mouseout",onMouseLeave),()=>{node.removeEventListener("mouseout",onMouseLeave),defaultView.removeEventListener("mouseup",onMouseUp),defaultView.cancelAnimationFrame(rafId)}}),[startMultiSelect,stopMultiSelect,isSelectionEnabled,hasMultiSelection])}function use_selection_observer_setContentEditableWrapper(node,value){node.contentEditable!==String(value)&&(node.contentEditable=value),value&&node.focus()}function useSelectionObserver(){const{multiSelect:multiSelect,selectBlock:selectBlock,selectionChange:selectionChange}=(0,use_dispatch.Z)(store),{getBlockParents:getBlockParents,getBlockSelectionStart:getBlockSelectionStart}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;function onSelectionChange(event){const selection=defaultView.getSelection();if(!selection.rangeCount)return;const isClickShift=event.shiftKey&&"mouseup"===event.type;if(selection.isCollapsed&&!isClickShift)return void use_selection_observer_setContentEditableWrapper(node,!1);let startClientId=getBlockClientId(function extractSelectionStartNode(selection){const{anchorNode:anchorNode,anchorOffset:anchorOffset}=selection;return anchorNode.nodeType===anchorNode.TEXT_NODE||0===anchorOffset?anchorNode:anchorNode.childNodes[anchorOffset-1]}(selection)),endClientId=getBlockClientId(function extractSelectionEndNode(selection){const{focusNode:focusNode,focusOffset:focusOffset}=selection;return focusNode.nodeType===focusNode.TEXT_NODE||focusOffset===focusNode.childNodes.length?focusNode:focusNode.childNodes[focusOffset]}(selection));if(isClickShift){const selectedClientId=getBlockSelectionStart(),clickedClientId=getBlockClientId(event.target),focusNodeIsNonSelectable=clickedClientId!==endClientId;(startClientId===endClientId&&selection.isCollapsed||!endClientId||focusNodeIsNonSelectable)&&(endClientId=clickedClientId),startClientId!==selectedClientId&&(startClientId=selectedClientId)}if(void 0===startClientId&&void 0===endClientId)return void use_selection_observer_setContentEditableWrapper(node,!1);if(startClientId===endClientId)selectBlock(startClientId);else{const startPath=[...getBlockParents(startClientId),startClientId],endPath=[...getBlockParents(endClientId),endClientId],depth=function findDepth(a,b){let depth=0;for(;a[depth]===b[depth];)depth++;return depth}(startPath,endPath);multiSelect(startPath[depth],endPath[depth])}}function addListeners(){ownerDocument.addEventListener("selectionchange",onSelectionChange),defaultView.addEventListener("mouseup",onSelectionChange)}function removeListeners(){ownerDocument.removeEventListener("selectionchange",onSelectionChange),defaultView.removeEventListener("mouseup",onSelectionChange)}function resetListeners(){removeListeners(),addListeners()}return addListeners(),node.addEventListener("focusin",resetListeners),()=>{removeListeners(),node.removeEventListener("focusin",resetListeners)}}),[multiSelect,selectBlock,selectionChange,getBlockParents])}function useClickSelection(){const{selectBlock:selectBlock}=(0,use_dispatch.Z)(store),{isSelectionEnabled:isSelectionEnabled,getBlockSelectionStart:getBlockSelectionStart,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((node=>{function onMouseDown(event){if(!isSelectionEnabled()||0!==event.button)return;const startClientId=getBlockSelectionStart(),clickedClientId=getBlockClientId(event.target);event.shiftKey?startClientId!==clickedClientId&&(node.contentEditable=!0,node.focus()):hasMultiSelection()&&selectBlock(clickedClientId)}return node.addEventListener("mousedown",onMouseDown),()=>{node.removeEventListener("mousedown",onMouseDown)}}),[selectBlock,isSelectionEnabled,getBlockSelectionStart,hasMultiSelection])}function useInput(){const{__unstableIsFullySelected:__unstableIsFullySelected,getSelectedBlockClientIds:getSelectedBlockClientIds,__unstableIsSelectionMergeable:__unstableIsSelectionMergeable,hasMultiSelection:hasMultiSelection}=(0,use_select.Z)(store),{replaceBlocks:replaceBlocks,__unstableSplitSelection:__unstableSplitSelection,removeBlocks:removeBlocks,__unstableDeleteSelection:__unstableDeleteSelection,__unstableExpandSelection:__unstableExpandSelection}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{function onBeforeInput(event){"true"===node.contentEditable&&event.preventDefault()}function onKeyDown(event){event.defaultPrevented||hasMultiSelection()&&(event.keyCode===keycodes_build_module.K5?(node.contentEditable=!1,event.preventDefault(),__unstableIsFullySelected()?replaceBlocks(getSelectedBlockClientIds(),(0,build_module.j4)((0,build_module.UT)())):__unstableSplitSelection()):event.keyCode===keycodes_build_module.ZH||event.keyCode===keycodes_build_module.yY?(node.contentEditable=!1,event.preventDefault(),__unstableIsFullySelected()?removeBlocks(getSelectedBlockClientIds()):__unstableIsSelectionMergeable()?__unstableDeleteSelection(event.keyCode===keycodes_build_module.yY):__unstableExpandSelection()):1!==event.key.length||event.metaKey||event.ctrlKey||(node.contentEditable=!1,__unstableIsSelectionMergeable()?__unstableDeleteSelection(event.keyCode===keycodes_build_module.yY):(event.preventDefault(),node.ownerDocument.defaultView.getSelection().removeAllRanges())))}function onCompositionStart(event){hasMultiSelection()&&(node.contentEditable=!1,__unstableIsSelectionMergeable()?__unstableDeleteSelection():(event.preventDefault(),node.ownerDocument.defaultView.getSelection().removeAllRanges()))}return node.addEventListener("beforeinput",onBeforeInput),node.addEventListener("keydown",onKeyDown),node.addEventListener("compositionstart",onCompositionStart),()=>{node.removeEventListener("beforeinput",onBeforeInput),node.removeEventListener("keydown",onKeyDown),node.removeEventListener("compositionstart",onCompositionStart)}}),[])}var document_has_uncollapsed_selection=__webpack_require__("./packages/dom/build-module/dom/document-has-uncollapsed-selection.js"),document_has_selection=__webpack_require__("./packages/dom/build-module/dom/document-has-selection.js"),data_transfer=__webpack_require__("./packages/dom/build-module/data-transfer.js");function getPasteEventData({clipboardData:clipboardData}){let plainText="",html="";try{plainText=clipboardData.getData("text/plain"),html=clipboardData.getData("text/html")}catch(error1){try{html=clipboardData.getData("Text")}catch(error2){return}}html=function removeWindowsFragments(html){const startIdx=html.indexOf("\x3c!--StartFragment--\x3e");if(!(startIdx>-1))return html;const endIdx=(html=html.substring(startIdx+20)).indexOf("\x3c!--EndFragment--\x3e");return endIdx>-1&&(html=html.substring(0,endIdx)),html}(html),html=function removeCharsetMetaTag(html){const metaTag="<meta charset='utf-8'>";return html.startsWith(metaTag)?html.slice(22):html}(html);const files=(0,data_transfer.f)(clipboardData);return files.length&&!function shouldDismissPastedFiles(files,html){if(html&&1===files?.length&&0===files[0].type.indexOf("image/")){const IMAGE_TAG=/<\s*img\b/gi;if(1!==html.match(IMAGE_TAG)?.length)return!0;const IMG_WITH_LOCAL_SRC=/<\s*img\b[^>]*\bsrc="file:\/\//i;if(html.match(IMG_WITH_LOCAL_SRC))return!0}return!1}(files,html)?{files:files}:{html:html,plainText:plainText,files:[]}}function useNotifyCopy(){const{getBlockName:getBlockName}=(0,use_select.Z)(store),{getBlockType:getBlockType}=(0,use_select.Z)(build_module.h),{createSuccessNotice:createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h);return(0,react.useCallback)(((eventType,selectedBlockClientIds)=>{let notice="";if(1===selectedBlockClientIds.length){const clientId=selectedBlockClientIds[0],title=getBlockType(getBlockName(clientId))?.title;notice="copy"===eventType?(0,i18n_build_module.gB)((0,i18n_build_module.__)('Copied "%s" to clipboard.'),title):(0,i18n_build_module.gB)((0,i18n_build_module.__)('Moved "%s" to clipboard.'),title)}else notice="copy"===eventType?(0,i18n_build_module.gB)((0,i18n_build_module._n)("Copied %d block to clipboard.","Copied %d blocks to clipboard.",selectedBlockClientIds.length),selectedBlockClientIds.length):(0,i18n_build_module.gB)((0,i18n_build_module._n)("Moved %d block to clipboard.","Moved %d blocks to clipboard.",selectedBlockClientIds.length),selectedBlockClientIds.length);createSuccessNotice(notice,{type:"snackbar"})}),[])}function useClipboardHandler(){const{getBlocksByClientId:getBlocksByClientId,getSelectedBlockClientIds:getSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,getSettings:getSettings,__unstableIsFullySelected:__unstableIsFullySelected,__unstableIsSelectionCollapsed:__unstableIsSelectionCollapsed,__unstableIsSelectionMergeable:__unstableIsSelectionMergeable,__unstableGetSelectedBlocksWithPartialSelection:__unstableGetSelectedBlocksWithPartialSelection,canInsertBlockType:canInsertBlockType}=(0,use_select.Z)(store),{flashBlock:flashBlock,removeBlocks:removeBlocks,replaceBlocks:replaceBlocks,__unstableDeleteSelection:__unstableDeleteSelection,__unstableExpandSelection:__unstableExpandSelection,insertBlocks:insertBlocks}=(0,use_dispatch.Z)(store),notifyCopy=useNotifyCopy();return(0,use_ref_effect.Z)((node=>{function handler(event){if(event.defaultPrevented)return;const selectedBlockClientIds=getSelectedBlockClientIds();if(0===selectedBlockClientIds.length)return;if(!hasMultiSelection()){const{target:target}=event,{ownerDocument:ownerDocument}=target;if("copy"===event.type||"cut"===event.type?(0,document_has_uncollapsed_selection.Z)(ownerDocument):(0,document_has_selection.Z)(ownerDocument))return}if(!node.contains(event.target.ownerDocument.activeElement))return;event.preventDefault();const isSelectionMergeable=__unstableIsSelectionMergeable(),shouldHandleWholeBlocks=__unstableIsSelectionCollapsed()||__unstableIsFullySelected(),expandSelectionIsNeeded=!shouldHandleWholeBlocks&&!isSelectionMergeable;if("copy"===event.type||"cut"===event.type)if(1===selectedBlockClientIds.length&&flashBlock(selectedBlockClientIds[0]),expandSelectionIsNeeded)__unstableExpandSelection();else{let blocks;if(notifyCopy(event.type,selectedBlockClientIds),shouldHandleWholeBlocks)blocks=getBlocksByClientId(selectedBlockClientIds);else{const[head,tail]=__unstableGetSelectedBlocksWithPartialSelection();blocks=[head,...getBlocksByClientId(selectedBlockClientIds.slice(1,selectedBlockClientIds.length-1)),tail]}const wrapperBlockName=event.clipboardData.getData("__unstableWrapperBlockName");wrapperBlockName&&(blocks=(0,build_module.j4)(wrapperBlockName,JSON.parse(event.clipboardData.getData("__unstableWrapperBlockAttributes")),blocks));const serialized=(0,build_module.qC)(blocks);event.clipboardData.setData("text/plain",function toPlainText(html){html=html.replace(/<br>/g,"\n");return(0,strip_html.Z)(html).trim().replace(/\n\n+/g,"\n\n")}(serialized)),event.clipboardData.setData("text/html",serialized)}if("cut"===event.type)shouldHandleWholeBlocks&&!expandSelectionIsNeeded?removeBlocks(selectedBlockClientIds):(event.target.ownerDocument.activeElement.contentEditable=!1,__unstableDeleteSelection());else if("paste"===event.type){const{__experimentalCanUserUseUnfilteredHTML:canUserUseUnfilteredHTML}=getSettings(),{plainText:plainText,html:html,files:files}=getPasteEventData(event);let blocks=[];if(files.length){const fromTransforms=(0,build_module.Xn)("from");blocks=files.reduce(((accumulator,file)=>{const transformation=(0,build_module.MC)(fromTransforms,(transform=>"files"===transform.type&&transform.isMatch([file])));return transformation&&accumulator.push(transformation.transform([file])),accumulator}),[]).flat()}else blocks=(0,build_module.ag)({HTML:html,plainText:plainText,mode:"BLOCKS",canUserUseUnfilteredHTML:canUserUseUnfilteredHTML});if(1===selectedBlockClientIds.length){const[selectedBlockClientId]=selectedBlockClientIds;if(blocks.every((block=>canInsertBlockType(block.name,selectedBlockClientId))))return void insertBlocks(blocks,void 0,selectedBlockClientId)}replaceBlocks(selectedBlockClientIds,blocks,blocks.length-1,-1)}}return node.ownerDocument.addEventListener("copy",handler),node.ownerDocument.addEventListener("cut",handler),node.ownerDocument.addEventListener("paste",handler),()=>{node.ownerDocument.removeEventListener("copy",handler),node.ownerDocument.removeEventListener("cut",handler),node.ownerDocument.removeEventListener("paste",handler)}}),[])}function useWritingFlow(){const[before,ref,after]=function useTabNav(){const container=(0,react.useRef)(),focusCaptureBeforeRef=(0,react.useRef)(),focusCaptureAfterRef=(0,react.useRef)(),{hasMultiSelection:hasMultiSelection,getSelectedBlockClientId:getSelectedBlockClientId,getBlockCount:getBlockCount}=(0,use_select.Z)(store),{setNavigationMode:setNavigationMode,setLastFocus:setLastFocus}=(0,use_dispatch.Z)(store),isNavigationMode=(0,use_select.Z)((select=>select(store).isNavigationMode()),[]),lastFocus=(0,use_select.Z)((select=>select(store).getLastFocus()),[]),focusCaptureTabIndex=isNavigationMode?void 0:"0",noCapture=(0,react.useRef)();function onFocusCapture(event){if(noCapture.current)noCapture.current=null;else if(hasMultiSelection())container.current.focus();else if(getSelectedBlockClientId())lastFocus.current.focus();else{setNavigationMode(!0);const canvasElement=container.current.ownerDocument===event.target.ownerDocument?container.current:container.current.ownerDocument.defaultView.frameElement,isBefore=event.target.compareDocumentPosition(canvasElement)&event.target.DOCUMENT_POSITION_FOLLOWING,tabbables=dom_build_module.T_.tabbable.find(container.current);tabbables.length&&(isBefore?tabbables[0]:tabbables[tabbables.length-1]).focus()}}const before=(0,react.createElement)("div",{ref:focusCaptureBeforeRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture}),after=(0,react.createElement)("div",{ref:focusCaptureAfterRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture}),ref=(0,use_ref_effect.Z)((node=>{function onKeyDown(event){if(event.defaultPrevented)return;if(event.keyCode===keycodes_build_module.hY&&!hasMultiSelection())return event.preventDefault(),void setNavigationMode(!0);if(event.keyCode!==keycodes_build_module.Mf)return;const isShift=event.shiftKey,direction=isShift?"findPrevious":"findNext";if(!hasMultiSelection()&&!getSelectedBlockClientId())return void(event.target===node&&setNavigationMode(!0));const nextTabbable=dom_build_module.T_.tabbable[direction](event.target),currentBlock=event.target.closest("[data-block]"),isElementPartOfSelectedBlock=currentBlock&&nextTabbable&&(isInSameBlock(currentBlock,nextTabbable)||isInsideRootBlock(currentBlock,nextTabbable));if((0,is_form_element.Z)(nextTabbable)&&isElementPartOfSelectedBlock)return;const next=isShift?focusCaptureBeforeRef:focusCaptureAfterRef;noCapture.current=!0,next.current.focus({preventScroll:!0})}function onFocusOut(event){setLastFocus({...lastFocus,current:event.target});const{ownerDocument:ownerDocument}=node;event.relatedTarget||ownerDocument.activeElement!==ownerDocument.body||0!==getBlockCount()||node.focus()}function preventScrollOnTab(event){if(event.keyCode!==keycodes_build_module.Mf)return;if("region"===event.target?.getAttribute("role"))return;if(container.current===event.target)return;const direction=event.shiftKey?"findPrevious":"findNext",target=dom_build_module.T_.tabbable[direction](event.target);target!==focusCaptureBeforeRef.current&&target!==focusCaptureAfterRef.current||(event.preventDefault(),target.focus({preventScroll:!0}))}const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument;return defaultView.addEventListener("keydown",preventScrollOnTab),node.addEventListener("keydown",onKeyDown),node.addEventListener("focusout",onFocusOut),()=>{defaultView.removeEventListener("keydown",preventScrollOnTab),node.removeEventListener("keydown",onKeyDown),node.removeEventListener("focusout",onFocusOut)}}),[]);return[before,(0,use_merge_refs.Z)([container,ref]),after]}(),hasMultiSelection=(0,use_select.Z)((select=>select(store).hasMultiSelection()),[]);return[before,(0,use_merge_refs.Z)([ref,useClipboardHandler(),useInput(),useDragSelection(),useSelectionObserver(),useClickSelection(),useMultiSelection(),useSelectAll(),useArrowNav(),(0,use_ref_effect.Z)((node=>{if(node.tabIndex=0,node.contentEditable=hasMultiSelection,hasMultiSelection)return node.classList.add("has-multi-selection"),node.setAttribute("aria-label",(0,i18n_build_module.__)("Multiple selected blocks")),()=>{node.classList.remove("has-multi-selection"),node.removeAttribute("aria-label")}}),[hasMultiSelection])]),after]}function WritingFlow({children:children,...props},forwardedRef){const[before,ref,after]=useWritingFlow();return(0,react.createElement)(react.Fragment,null,before,(0,react.createElement)("div",{...props,ref:(0,use_merge_refs.Z)([ref,forwardedRef]),className:classnames_default()(props.className,"block-editor-writing-flow")},children),after)}WritingFlow.__docgenInfo={description:"",methods:[],displayName:"WritingFlow"};var writing_flow=(0,react.forwardRef)(WritingFlow);function bubbleEvent(event,Constructor,frame){const init={};for(const key in event)init[key]=event[key];if(event instanceof frame.contentDocument.defaultView.MouseEvent){const rect=frame.getBoundingClientRect();init.clientX+=rect.left,init.clientY+=rect.top}const newEvent=new Constructor(event.type,init);init.defaultPrevented&&newEvent.preventDefault();!frame.dispatchEvent(newEvent)&&event.preventDefault()}function useBubbleEvents(iframeDocument){return(0,use_ref_effect.Z)((()=>{const{defaultView:defaultView}=iframeDocument;if(!defaultView)return;const{frameElement:frameElement}=defaultView,html=iframeDocument.documentElement,eventTypes=["dragover","mousemove"],handlers={};for(const name of eventTypes)handlers[name]=event=>{const constructorName=Object.getPrototypeOf(event).constructor.name;bubbleEvent(event,window[constructorName],frameElement)},html.addEventListener(name,handlers[name]);return()=>{for(const name of eventTypes)html.removeEventListener(name,handlers[name])}}))}function Iframe({contentRef:contentRef,children:children,tabIndex:tabIndex=0,scale:scale=1,frameSize:frameSize=0,expand:expand=!1,readonly:readonly,forwardedRef:ref,...props}){const{resolvedAssets:resolvedAssets,isPreviewMode:isPreviewMode}=(0,use_select.Z)((select=>{const settings=select(store).getSettings();return{resolvedAssets:settings.__unstableResolvedAssets,isPreviewMode:settings.__unstableIsPreviewMode}}),[]),{styles:styles="",scripts:scripts=""}=resolvedAssets,[iframeDocument,setIframeDocument]=(0,react.useState)(),[bodyClasses,setBodyClasses]=(0,react.useState)([]),compatStyles=function useCompatibilityStyles(){return(0,react.useMemo)((()=>Array.from(document.styleSheets).reduce(((accumulator,styleSheet)=>{try{styleSheet.cssRules}catch(e){return accumulator}const{ownerNode:ownerNode,cssRules:cssRules}=styleSheet;if(null===ownerNode)return accumulator;if(!cssRules)return accumulator;if("wp-reset-editor-styles-css"===ownerNode.id)return accumulator;if(!ownerNode.id)return accumulator;if(function matchFromRules(_cssRules){return Array.from(_cssRules).find((({selectorText:selectorText,conditionText:conditionText,cssRules:__cssRules})=>conditionText?matchFromRules(__cssRules):selectorText&&(selectorText.includes(".editor-styles-wrapper")||selectorText.includes(".wp-block"))))}(cssRules)){const isInline="STYLE"===ownerNode.tagName;if(isInline){const mainStylesCssId=ownerNode.id.replace("-inline-css","-css"),mainStylesElement=document.getElementById(mainStylesCssId);mainStylesElement&&accumulator.push(mainStylesElement.cloneNode(!0))}if(accumulator.push(ownerNode.cloneNode(!0)),!isInline){const inlineStylesCssId=ownerNode.id.replace("-css","-inline-css"),inlineStylesElement=document.getElementById(inlineStylesCssId);inlineStylesElement&&accumulator.push(inlineStylesElement.cloneNode(!0))}}return accumulator}),[])),[])}(),clearerRef=useBlockSelectionClearer(),[before,writingFlowRef,after]=useWritingFlow(),[contentResizeListener,{height:contentHeight}]=(0,use_resize_observer.Z)(),setRef=(0,use_ref_effect.Z)((node=>{let iFrameDocument;function preventFileDropDefault(event){event.preventDefault()}function onLoad(){const{contentDocument:contentDocument,ownerDocument:ownerDocument}=node,{documentElement:documentElement}=contentDocument;iFrameDocument=contentDocument,clearerRef(documentElement),setBodyClasses(Array.from(ownerDocument.body.classList).filter((name=>name.startsWith("admin-color-")||name.startsWith("post-type-")||"wp-embed-responsive"===name))),contentDocument.dir=ownerDocument.dir;for(const compatStyle of compatStyles)contentDocument.getElementById(compatStyle.id)||(contentDocument.head.appendChild(compatStyle.cloneNode(!0)),isPreviewMode||console.warn(`${compatStyle.id} was added to the iframe incorrectly. Please use block.json or enqueue_block_assets to add styles to the iframe.`,compatStyle));iFrameDocument.addEventListener("dragover",preventFileDropDefault,!1),iFrameDocument.addEventListener("drop",preventFileDropDefault,!1)}return node._load=()=>{setIframeDocument(node.contentDocument)},node.addEventListener("load",onLoad),()=>{delete node._load,node.removeEventListener("load",onLoad),iFrameDocument?.removeEventListener("dragover",preventFileDropDefault),iFrameDocument?.removeEventListener("drop",preventFileDropDefault)}}),[]),disabledRef=(0,use_disabled.Z)({isDisabled:!readonly}),bodyRef=(0,use_merge_refs.Z)([useBubbleEvents(iframeDocument),contentRef,clearerRef,writingFlowRef,disabledRef]),html=`<!doctype html>\n<html>\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<script>window.frameElement._load()<\/script>\n\t\t<style>html{height:auto!important;min-height:100%;}body{margin:0}</style>\n\t\t${styles}\n\t\t${scripts}\n\t</head>\n\t<body>\n\t\t<script>document.currentScript.parentElement.remove()<\/script>\n\t</body>\n</html>`,[src,cleanup]=(0,react.useMemo)((()=>{const _src=URL.createObjectURL(new window.Blob([html],{type:"text/html"}));return[_src,()=>URL.revokeObjectURL(_src)]}),[html]);(0,react.useEffect)((()=>cleanup),[cleanup]);const marginFromScaling=contentHeight*(1-scale)/2;return(0,react.createElement)(react.Fragment,null,tabIndex>=0&&before,(0,react.createElement)("iframe",{...props,style:{border:0,...props.style,height:expand?contentHeight:props.style?.height,marginTop:1!==scale?-marginFromScaling+frameSize:props.style?.marginTop,marginBottom:1!==scale?-marginFromScaling+frameSize:props.style?.marginBottom,transform:1!==scale?`scale( ${scale} )`:props.style?.transform,transition:"all .3s"},ref:(0,use_merge_refs.Z)([ref,setRef]),tabIndex:tabIndex,src:src,title:(0,i18n_build_module.__)("Editor canvas"),onKeyDown:event=>{event.currentTarget.ownerDocument!==event.target.ownerDocument&&(event.stopPropagation(),bubbleEvent(event,window.KeyboardEvent,event.currentTarget))}},iframeDocument&&(0,react_dom.createPortal)((0,react.createElement)("body",{ref:bodyRef,className:classnames_default()("block-editor-iframe__body","editor-styles-wrapper",...bodyClasses)},contentResizeListener,(0,react.createElement)(style_provider.Z,{document:iframeDocument},children)),iframeDocument.documentElement)),tabIndex>=0&&after)}function IframeIfReady(props,ref){return(0,use_select.Z)((select=>select(store).getSettings().__internalIsInitialized),[])?(0,react.createElement)(Iframe,{...props,forwardedRef:ref}):null}IframeIfReady.__docgenInfo={description:"",methods:[],displayName:"IframeIfReady"};var iframe=(0,react.forwardRef)(IframeIfReady),postcss=__webpack_require__("./packages/block-editor/node_modules/postcss/lib/postcss.mjs"),build=__webpack_require__("./node_modules/postcss-prefixwrap/build/index.js"),build_default=__webpack_require__.n(build),postcss_urlrebase=__webpack_require__("./node_modules/postcss-urlrebase/index.js"),postcss_urlrebase_default=__webpack_require__.n(postcss_urlrebase);var transform_styles=(styles,wrapperSelector="")=>styles.map((({css:css,ignoredSelectors:ignoredSelectors=[],baseURL:baseURL})=>{if(!wrapperSelector&&!baseURL)return css;try{return(0,postcss.ZP)([wrapperSelector&&build_default()(wrapperSelector,{ignoredSelectors:[...ignoredSelectors,wrapperSelector]}),baseURL&&postcss_urlrebase_default()({rootUrl:baseURL})].filter(Boolean)).process(css,{}).css}catch(error){return error instanceof postcss.Se?console.warn("wp.blockEditor.transformStyles Failed to transform CSS.",error.message+"\n"+error.showSourceCode(!1)):console.warn("wp.blockEditor.transformStyles Failed to transform CSS.",error),null}}));function useDarkThemeBodyClassName(styles,scope){return(0,react.useCallback)((node=>{if(!node)return;const{ownerDocument:ownerDocument}=node,{defaultView:defaultView,body:body}=ownerDocument,canvas=scope?ownerDocument.querySelector(scope):body;let backgroundColor;if(canvas)backgroundColor=defaultView?.getComputedStyle(canvas,null).getPropertyValue("background-color");else{const tempCanvas=ownerDocument.createElement("div");tempCanvas.classList.add("editor-styles-wrapper"),body.appendChild(tempCanvas),backgroundColor=defaultView?.getComputedStyle(tempCanvas,null).getPropertyValue("background-color"),body.removeChild(tempCanvas)}const colordBackgroundColor=(0,colord.Vi)(backgroundColor);colordBackgroundColor.luminance()>.5||0===colordBackgroundColor.alpha()?body.classList.remove("is-dark-theme"):body.classList.add("is-dark-theme")}),[styles,scope])}function EditorStyles({styles:styles,scope:scope}){const overrides=(0,use_select.Z)((select=>unlock(select(store)).getStyleOverrides()),[]),[transformedStyles,transformedSvgs]=(0,react.useMemo)((()=>{const _styles=Object.values(null!=styles?styles:[]);for(const[id,override]of overrides){const index=_styles.findIndex((({id:_id})=>id===_id)),overrideWithId={...override,id:id};-1===index?_styles.push(overrideWithId):_styles[index]=overrideWithId}return[transform_styles(_styles.filter((style=>style?.css)),scope),_styles.filter((style=>"svgs"===style.__unstableType)).map((style=>style.assets)).join("")]}),[styles,overrides,scope]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("style",{ref:useDarkThemeBodyClassName(transformedStyles,scope)}),transformedStyles.map(((css,index)=>(0,react.createElement)("style",{key:index},css))),(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:transformedSvgs}}))}let MemoizedBlockList;(0,colord.l7)([names.Z,a11y.Z]),EditorStyles.__docgenInfo={description:"",methods:[],displayName:"EditorStyles"};const MAX_HEIGHT=2e3;function ScaledBlockPreview({viewportWidth:viewportWidth,containerWidth:containerWidth,minHeight:minHeight,additionalStyles:additionalStyles=[]}){viewportWidth||(viewportWidth=containerWidth);const[contentResizeListener,{height:contentHeight}]=(0,use_resize_observer.Z)(),{styles:styles}=(0,use_select.Z)((select=>({styles:select(store).getSettings().styles})),[]),editorStyles=(0,react.useMemo)((()=>styles?[...styles,{css:"body{height:auto;overflow:hidden;border:none;padding:0;}",__unstableType:"presets"},...additionalStyles]:styles),[styles,additionalStyles]);MemoizedBlockList=MemoizedBlockList||(0,pure.Z)(BlockList);const scale=containerWidth/viewportWidth,aspectRatio=contentHeight?containerWidth/(contentHeight*scale):0;return(0,react.createElement)(disabled.Z,{className:"block-editor-block-preview__content",style:{transform:`scale(${scale})`,aspectRatio:aspectRatio,maxHeight:contentHeight>MAX_HEIGHT?MAX_HEIGHT*scale:void 0,minHeight:minHeight}},(0,react.createElement)(iframe,{contentRef:(0,use_ref_effect.Z)((bodyElement=>{const{ownerDocument:{documentElement:documentElement}}=bodyElement;documentElement.classList.add("block-editor-block-preview__content-iframe"),documentElement.style.position="absolute",documentElement.style.width="100%",bodyElement.style.boxSizing="border-box",bodyElement.style.position="absolute",bodyElement.style.width="100%"}),[]),"aria-hidden":!0,tabIndex:-1,style:{position:"absolute",width:viewportWidth,height:contentHeight,pointerEvents:"none",maxHeight:MAX_HEIGHT,minHeight:0!==scale&&scale<1&&minHeight?minHeight/scale:minHeight}},(0,react.createElement)(EditorStyles,{styles:editorStyles}),contentResizeListener,(0,react.createElement)(MemoizedBlockList,{renderAppender:!1})))}function AutoBlockPreview(props){const[containerResizeListener,{width:containerWidth}]=(0,use_resize_observer.Z)();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{style:{position:"relative",width:"100%",height:0}},containerResizeListener),(0,react.createElement)("div",{className:"block-editor-block-preview__container"},!!containerWidth&&(0,react.createElement)(ScaledBlockPreview,{...props,containerWidth:containerWidth})))}function BlockPreview({blocks:blocks,viewportWidth:viewportWidth=1200,minHeight:minHeight,additionalStyles:additionalStyles=[],__experimentalMinHeight:__experimentalMinHeight,__experimentalPadding:__experimentalPadding}){__experimentalMinHeight&&(minHeight=__experimentalMinHeight,(0,deprecated_build_module.Z)("The __experimentalMinHeight prop",{since:"6.2",version:"6.4",alternative:"minHeight"})),__experimentalPadding&&(additionalStyles=[...additionalStyles,{css:`body { padding: ${__experimentalPadding}px; }`}],(0,deprecated_build_module.Z)("The __experimentalPadding prop of BlockPreview",{since:"6.2",version:"6.4",alternative:"additionalStyles"}));const originalSettings=(0,use_select.Z)((select=>select(store).getSettings()),[]),settings=(0,react.useMemo)((()=>({...originalSettings,__unstableIsPreviewMode:!0})),[originalSettings]),renderedBlocks=(0,react.useMemo)((()=>Array.isArray(blocks)?blocks:[blocks]),[blocks]);return blocks&&0!==blocks.length?(0,react.createElement)(ExperimentalBlockEditorProvider,{value:renderedBlocks,settings:settings},(0,react.createElement)(AutoBlockPreview,{viewportWidth:viewportWidth,minHeight:minHeight,additionalStyles:additionalStyles})):null}AutoBlockPreview.__docgenInfo={description:"",methods:[],displayName:"AutoBlockPreview"},BlockPreview.__docgenInfo={description:"",methods:[],displayName:"BlockPreview",props:{viewportWidth:{defaultValue:{value:"1200",computed:!1},required:!1},additionalStyles:{defaultValue:{value:"[]",computed:!1},required:!1}}};var block_preview=(0,react.memo)(BlockPreview);function useBlockPreview({blocks:blocks,props:props={},layout:layout}){const originalSettings=(0,use_select.Z)((select=>select(store).getSettings()),[]),settings=(0,react.useMemo)((()=>({...originalSettings,styles:void 0,__unstableIsPreviewMode:!0})),[originalSettings]),disabledRef=(0,use_disabled.Z)(),ref=(0,use_merge_refs.Z)([props.ref,disabledRef]),renderedBlocks=(0,react.useMemo)((()=>Array.isArray(blocks)?blocks:[blocks]),[blocks]),children=(0,react.createElement)(ExperimentalBlockEditorProvider,{value:renderedBlocks,settings:settings},(0,react.createElement)(EditorStyles,null),(0,react.createElement)(BlockListItems,{renderAppender:!1,layout:layout}));return{...props,ref:ref,className:classnames_default()(props.className,"block-editor-block-preview__live-content","components-disabled"),children:blocks?.length?children:null}}function InserterPreviewPanel({item:item}){var _example$viewportWidt;const{name:name,title:title,icon:icon,description:description,initialAttributes:initialAttributes,example:example}=item,isReusable=(0,build_module.vr)(item),blocks=(0,react.useMemo)((()=>example?(0,build_module.Wf)(name,{attributes:{...example.attributes,...initialAttributes},innerBlocks:example.innerBlocks}):(0,build_module.j4)(name,initialAttributes)),[name,example,initialAttributes]);return(0,react.createElement)("div",{className:"block-editor-inserter__preview-container"},(0,react.createElement)("div",{className:"block-editor-inserter__preview"},isReusable||example?(0,react.createElement)("div",{className:"block-editor-inserter__preview-content"},(0,react.createElement)(block_preview,{blocks:blocks,viewportWidth:null!==(_example$viewportWidt=example?.viewportWidth)&&void 0!==_example$viewportWidt?_example$viewportWidt:500,additionalStyles:[{css:"body { padding: 24px; }"}]})):(0,react.createElement)("div",{className:"block-editor-inserter__preview-content-missing"},(0,i18n_build_module.__)("No preview available."))),!isReusable&&(0,react.createElement)(block_card,{title:title,icon:icon,description:description}))}InserterPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"InserterPreviewPanel"};var preview_panel=InserterPreviewPanel,use_async_list=__webpack_require__("./packages/compose/build-module/hooks/use-async-list/index.js"),build_module_platform=__webpack_require__("./packages/keycodes/build-module/platform.js");const{CompositeItemV2:CompositeItem}=unlock(private_apis.YH);function InserterListboxItem({isFirst:isFirst,as:Component,children:children,...props},ref){return(0,react.createElement)(CompositeItem,{ref:ref,role:"option",accessibleWhenDisabled:!0,...props,render:htmlProps=>{const propsWithTabIndex={...htmlProps,tabIndex:isFirst?0:htmlProps.tabIndex};return Component?(0,react.createElement)(Component,{...propsWithTabIndex},children):"function"==typeof children?children(propsWithTabIndex):(0,react.createElement)(build_module_button.ZP,{...propsWithTabIndex},children)}})}InserterListboxItem.__docgenInfo={description:"",methods:[],displayName:"InserterListboxItem"};var inserter_listbox_item=(0,react.forwardRef)(InserterListboxItem),draggable=__webpack_require__("./packages/components/build-module/draggable/index.js"),drag_handle=__webpack_require__("./packages/icons/build-module/library/drag-handle.js");function BlockDraggableChip({count:count,icon:icon,isPattern:isPattern}){const patternLabel=isPattern&&(0,i18n_build_module.__)("Pattern");return(0,react.createElement)("div",{className:"block-editor-block-draggable-chip-wrapper"},(0,react.createElement)("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip"},(0,react.createElement)(component.Z,{justify:"center",className:"block-editor-block-draggable-chip__content"},(0,react.createElement)(flex_item_component.Z,null,icon?(0,react.createElement)(block_icon,{icon:icon}):patternLabel||(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d block","%d blocks",count),count)),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(block_icon,{icon:drag_handle.Z})))))}BlockDraggableChip.__docgenInfo={description:"",methods:[],displayName:"BlockDraggableChip"};const InserterDraggableBlocks=({isEnabled:isEnabled,blocks:blocks,icon:icon,children:children,isPattern:isPattern})=>{const transferData={type:"inserter",blocks:blocks},blockTypeIcon=(0,use_select.Z)((select=>{const{getBlockType:getBlockType}=select(build_module.h);return 1===blocks.length&&getBlockType(blocks[0].name)?.icon}),[blocks]);return(0,react.createElement)(draggable.Z,{__experimentalTransferDataType:"wp-blocks",transferData:transferData,onDragStart:event=>{event.dataTransfer.setData("text/html",(0,build_module.qC)(blocks))},__experimentalDragComponent:(0,react.createElement)(BlockDraggableChip,{count:blocks.length,icon:icon||!isPattern&&blockTypeIcon,isPattern:isPattern})},(({onDraggableStart:onDraggableStart,onDraggableEnd:onDraggableEnd})=>children({draggable:isEnabled,onDragStart:isEnabled?onDraggableStart:void 0,onDragEnd:isEnabled?onDraggableEnd:void 0})))};InserterDraggableBlocks.__docgenInfo={description:"",methods:[],displayName:"InserterDraggableBlocks"};var inserter_draggable_blocks=InserterDraggableBlocks;function InserterListItem({className:className,isFirst:isFirst,item:item,onSelect:onSelect,onHover:onHover,isDraggable:isDraggable,...props}){const isDragging=(0,react.useRef)(!1),itemIconStyle=item.icon?{backgroundColor:item.icon.background,color:item.icon.foreground}:{},blocks=(0,react.useMemo)((()=>[(0,build_module.j4)(item.name,item.initialAttributes,(0,build_module.ne)(item.innerBlocks))]),[item.name,item.initialAttributes,item.initialAttributes]),isSynced=(0,build_module.vr)(item)&&"unsynced"!==item.syncStatus||(0,build_module.zQ)(item);return(0,react.createElement)(inserter_draggable_blocks,{isEnabled:isDraggable&&!item.disabled,blocks:blocks,icon:item.icon},(({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,react.createElement)("div",{className:classnames_default()("block-editor-block-types-list__list-item",{"is-synced":isSynced}),draggable:draggable,onDragStart:event=>{isDragging.current=!0,onDragStart&&(onHover(null),onDragStart(event))},onDragEnd:event=>{isDragging.current=!1,onDragEnd&&onDragEnd(event)}},(0,react.createElement)(inserter_listbox_item,{isFirst:isFirst,className:classnames_default()("block-editor-block-types-list__item",className),disabled:item.isDisabled,onClick:event=>{event.preventDefault(),onSelect(item,(0,build_module_platform.R)()?event.metaKey:event.ctrlKey),onHover(null)},onKeyDown:event=>{const{keyCode:keyCode}=event;keyCode===keycodes_build_module.K5&&(event.preventDefault(),onSelect(item,(0,build_module_platform.R)()?event.metaKey:event.ctrlKey),onHover(null))},onMouseEnter:()=>{isDragging.current||onHover(item)},onMouseLeave:()=>onHover(null),...props},(0,react.createElement)("span",{className:"block-editor-block-types-list__item-icon",style:itemIconStyle},(0,react.createElement)(block_icon,{icon:item.icon,showColors:!0})),(0,react.createElement)("span",{className:"block-editor-block-types-list__item-title"},(0,react.createElement)(truncate_component.Z,{numberOfLines:3},item.title))))))}InserterListItem.__docgenInfo={description:"",methods:[],displayName:"InserterListItem"};var inserter_list_item=(0,react.memo)(InserterListItem);function InserterListboxGroup(props,ref){const[shouldSpeak,setShouldSpeak]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{shouldSpeak&&(0,a11y_build_module.D)((0,i18n_build_module.__)("Use left and right arrow keys to move through blocks"))}),[shouldSpeak]),(0,react.createElement)("div",{ref:ref,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{setShouldSpeak(!0)},onBlur:event=>{!event.currentTarget.contains(event.relatedTarget)&&setShouldSpeak(!1)},...props})}InserterListboxGroup.__docgenInfo={description:"",methods:[],displayName:"InserterListboxGroup"};var group=(0,react.forwardRef)(InserterListboxGroup);const{CompositeGroupV2:CompositeGroup}=unlock(private_apis.YH);function InserterListboxRow(props,ref){return(0,react.createElement)(CompositeGroup,{role:"presentation",ref:ref,...props})}InserterListboxRow.__docgenInfo={description:"",methods:[],displayName:"InserterListboxRow"};var inserter_listbox_row=(0,react.forwardRef)(InserterListboxRow);function BlockTypesList({items:items=[],onSelect:onSelect,onHover:onHover=(()=>{}),children:children,label:label,isDraggable:isDraggable=!0}){const className="block-editor-block-types-list",listId=(0,use_instance_id.Z)(BlockTypesList,className);return(0,react.createElement)(group,{className:className,"aria-label":label},function chunk(array,size){const chunks=[];for(let i=0,j=array.length;i<j;i+=size)chunks.push(array.slice(i,i+size));return chunks}(items,3).map(((row,i)=>(0,react.createElement)(inserter_listbox_row,{key:i},row.map(((item,j)=>(0,react.createElement)(inserter_list_item,{key:item.id,item:item,className:(0,build_module.hq)(item.id),onSelect:onSelect,onHover:onHover,isDraggable:isDraggable&&!item.isDisabled,isFirst:0===i&&0===j,rowId:`${listId}-${i}`})))))),children)}BlockTypesList.__docgenInfo={description:"",methods:[],displayName:"BlockTypesList",props:{items:{defaultValue:{value:"[]",computed:!1},required:!1},onHover:{defaultValue:{value:"() => {}",computed:!1},required:!1},isDraggable:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_types_list=BlockTypesList;function InserterPanel({title:title,icon:icon,children:children}){return(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:"block-editor-inserter__panel-header"},(0,react.createElement)("h2",{className:"block-editor-inserter__panel-title"},title),(0,react.createElement)(components_build_module_icon.Z,{icon:icon})),(0,react.createElement)("div",{className:"block-editor-inserter__panel-content"},children))}InserterPanel.__docgenInfo={description:"",methods:[],displayName:"InserterPanel"};var panel=InserterPanel;var use_block_types_state=(rootClientId,onInsert)=>{const{categories:categories,collections:collections,items:items}=(0,use_select.Z)((select=>{const{getInserterItems:getInserterItems}=select(store),{getCategories:getCategories,getCollections:getCollections}=select(build_module.h);return{categories:getCategories(),collections:getCollections(),items:getInserterItems(rootClientId)}}),[rootClientId]);return[items,categories,collections,(0,react.useCallback)((({name:name,initialAttributes:initialAttributes,innerBlocks:innerBlocks,syncStatus:syncStatus,content:content},shouldFocusBlock)=>{const insertedBlock="unsynced"===syncStatus?(0,build_module.Qc)(content,{__unstableSkipMigrationLogs:!0}):(0,build_module.j4)(name,initialAttributes,(0,build_module.ne)(innerBlocks));onInsert(insertedBlock,void 0,shouldFocusBlock)}),[onInsert])]};const{CompositeV2:Composite,useCompositeStoreV2:useCompositeStore}=unlock(private_apis.YH);function InserterListbox({children:children}){const store=useCompositeStore({focusShift:!0,focusWrap:"horizontal"});return(0,react.createElement)(Composite,{store:store,render:(0,react.createElement)(react.Fragment,null)},children)}InserterListbox.__docgenInfo={description:"",methods:[],displayName:"InserterListbox"};var inserter_listbox=InserterListbox;const block_types_tab_EMPTY_ARRAY=[];function BlockTypesTab({rootClientId:rootClientId,onInsert:onInsert,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks}){const[items,categories,collections,onSelectItem]=use_block_types_state(rootClientId,onInsert),suggestedItems=(0,react.useMemo)((()=>orderBy(items,"frecency","desc").slice(0,6)),[items]),uncategorizedItems=(0,react.useMemo)((()=>items.filter((item=>!item.category))),[items]),itemsPerCategory=(0,react.useMemo)((()=>(0,pipe.Z)((itemList=>itemList.filter((item=>item.category&&"reusable"!==item.category))),(itemList=>itemList.reduce(((acc,item)=>{const{category:category}=item;return acc[category]||(acc[category]=[]),acc[category].push(item),acc}),{})))(items)),[items]),itemsPerCollection=(0,react.useMemo)((()=>{const result={...collections};return Object.keys(collections).forEach((namespace=>{result[namespace]=items.filter((item=>(item=>item.name.split("/")[0])(item)===namespace)),0===result[namespace].length&&delete result[namespace]})),result}),[items,collections]);(0,react.useEffect)((()=>()=>onHover(null)),[]);const currentlyRenderedCategories=(0,use_async_list.Z)(categories),didRenderAllCategories=categories.length===currentlyRenderedCategories.length,collectionEntries=(0,react.useMemo)((()=>Object.entries(collections)),[collections]),currentlyRenderedCollections=(0,use_async_list.Z)(didRenderAllCategories?collectionEntries:block_types_tab_EMPTY_ARRAY);return(0,react.createElement)(inserter_listbox,null,(0,react.createElement)("div",null,showMostUsedBlocks&&!!suggestedItems.length&&(0,react.createElement)(panel,{title:(0,i18n_build_module._x)("Most used","blocks")},(0,react.createElement)(block_types_list,{items:suggestedItems,onSelect:onSelectItem,onHover:onHover,label:(0,i18n_build_module._x)("Most used","blocks")})),currentlyRenderedCategories.map((category=>{const categoryItems=itemsPerCategory[category.slug];return categoryItems&&categoryItems.length?(0,react.createElement)(panel,{key:category.slug,title:category.title,icon:category.icon},(0,react.createElement)(block_types_list,{items:categoryItems,onSelect:onSelectItem,onHover:onHover,label:category.title})):null})),didRenderAllCategories&&uncategorizedItems.length>0&&(0,react.createElement)(panel,{className:"block-editor-inserter__uncategorized-blocks-panel",title:(0,i18n_build_module.__)("Uncategorized")},(0,react.createElement)(block_types_list,{items:uncategorizedItems,onSelect:onSelectItem,onHover:onHover,label:(0,i18n_build_module.__)("Uncategorized")})),currentlyRenderedCollections.map((([namespace,collection])=>{const collectionItems=itemsPerCollection[namespace];return collectionItems&&collectionItems.length?(0,react.createElement)(panel,{key:namespace,title:collection.title,icon:collection.icon},(0,react.createElement)(block_types_list,{items:collectionItems,onSelect:onSelectItem,onHover:onHover,label:collection.title})):null}))))}BlockTypesTab.__docgenInfo={description:"",methods:[],displayName:"BlockTypesTab"};var block_types_tab=BlockTypesTab,item_component=__webpack_require__("./packages/components/build-module/item-group/item/component.js");function PatternCategoriesList({selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory}){const baseClassName="block-editor-block-patterns-explorer__sidebar";return(0,react.createElement)("div",{className:`${baseClassName}__categories-list`},patternCategories.map((({name:name,label:label})=>(0,react.createElement)(build_module_button.ZP,{key:name,label:label,className:`${baseClassName}__categories-list__item`,isPressed:selectedCategory===name,onClick:()=>{onClickCategory(name)}},label))))}function PatternsExplorerSearch({searchValue:searchValue,setSearchValue:setSearchValue}){return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer__search"},(0,react.createElement)(search_control.Z,{__nextHasNoMarginBottom:!0,onChange:setSearchValue,value:searchValue,label:(0,i18n_build_module.__)("Search for patterns"),placeholder:(0,i18n_build_module.__)("Search")}))}function PatternExplorerSidebar({selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory,searchValue:searchValue,setSearchValue:setSearchValue}){return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer__sidebar"},(0,react.createElement)(PatternsExplorerSearch,{searchValue:searchValue,setSearchValue:setSearchValue}),!searchValue&&(0,react.createElement)(PatternCategoriesList,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory}))}PatternExplorerSidebar.__docgenInfo={description:"",methods:[],displayName:"PatternExplorerSidebar"};var pattern_explorer_sidebar=PatternExplorerSidebar,heading_component=__webpack_require__("./packages/components/build-module/heading/component.js");function Pagination({currentPage:currentPage,numPages:numPages,changePage:changePage,totalItems:totalItems}){return(0,react.createElement)(v_stack_component.Z,{className:"block-editor-patterns__grid-pagination-wrapper"},(0,react.createElement)(text_component.Z,{variant:"muted"},(0,i18n_build_module.gB)((0,i18n_build_module._n)("%s item","%s items",totalItems),totalItems)),numPages>1&&(0,react.createElement)(h_stack_component.Z,{expanded:!1,spacing:3,justify:"flex-start",className:"block-editor-patterns__grid-pagination"},(0,react.createElement)(h_stack_component.Z,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-previous"},(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(1),disabled:1===currentPage,"aria-label":(0,i18n_build_module.__)("First page")},(0,react.createElement)("span",null,"«")),(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(currentPage-1),disabled:1===currentPage,"aria-label":(0,i18n_build_module.__)("Previous page")},(0,react.createElement)("span",null,"‹"))),(0,react.createElement)(text_component.Z,{variant:"muted"},(0,i18n_build_module.gB)((0,i18n_build_module._x)("%1$s of %2$s","paging"),currentPage,numPages)),(0,react.createElement)(h_stack_component.Z,{expanded:!1,spacing:1,className:"block-editor-patterns__grid-pagination-next"},(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(currentPage+1),disabled:currentPage===numPages,"aria-label":(0,i18n_build_module.__)("Next page")},(0,react.createElement)("span",null,"›")),(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:()=>changePage(numPages),disabled:currentPage===numPages,"aria-label":(0,i18n_build_module.__)("Last page"),size:"default"},(0,react.createElement)("span",null,"»")))))}Pagination.__docgenInfo={description:"",methods:[],displayName:"Pagination"};const{CompositeV2:block_patterns_list_Composite,CompositeItemV2:block_patterns_list_CompositeItem,useCompositeStoreV2:block_patterns_list_useCompositeStore}=unlock(private_apis.YH),WithToolTip=({showTooltip:showTooltip,title:title,children:children})=>showTooltip?(0,react.createElement)(tooltip.Z,{text:title},children):(0,react.createElement)(react.Fragment,null,children);function BlockPattern({id:id,isDraggable:isDraggable,pattern:pattern,onClick:onClick,onHover:onHover,showTooltip:showTooltip}){const[isDragging,setIsDragging]=(0,react.useState)(!1),{blocks:blocks,viewportWidth:viewportWidth}=pattern,descriptionId=`block-editor-block-patterns-list__item-description-${(0,use_instance_id.Z)(BlockPattern)}`;return(0,react.createElement)(inserter_draggable_blocks,{isEnabled:isDraggable,blocks:blocks,isPattern:!!pattern},(({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,react.createElement)("div",{className:"block-editor-block-patterns-list__list-item",draggable:draggable,onDragStart:event=>{setIsDragging(!0),onDragStart&&(onHover?.(null),onDragStart(event))},onDragEnd:event=>{setIsDragging(!1),onDragEnd&&onDragEnd(event)}},(0,react.createElement)(WithToolTip,{showTooltip:showTooltip&&!pattern.type!==PATTERN_TYPES.user,title:pattern.title},(0,react.createElement)(block_patterns_list_CompositeItem,{render:(0,react.createElement)("div",{role:"option","aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:void 0,className:classnames_default()("block-editor-block-patterns-list__item",{"block-editor-block-patterns-list__list-item-synced":pattern.type===PATTERN_TYPES.user&&!pattern.syncStatus})}),id:id,onClick:()=>{onClick(pattern,blocks),onHover?.(null)},onMouseEnter:()=>{isDragging||onHover?.(pattern)},onMouseLeave:()=>onHover?.(null)},(0,react.createElement)(block_preview,{blocks:blocks,viewportWidth:viewportWidth}),(0,react.createElement)(h_stack_component.Z,{className:"block-editor-patterns__pattern-details"},pattern.type===PATTERN_TYPES.user&&!pattern.syncStatus&&(0,react.createElement)("div",{className:"block-editor-patterns__pattern-icon-wrapper"},(0,react.createElement)(build_module_icon.Z,{className:"block-editor-patterns__pattern-icon",icon:symbol.Z})),(!showTooltip||pattern.type===PATTERN_TYPES.user)&&(0,react.createElement)("div",{className:"block-editor-block-patterns-list__item-title"},pattern.title)),!!pattern.description&&(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},pattern.description))))))}function BlockPatternPlaceholder(){return(0,react.createElement)("div",{className:"block-editor-block-patterns-list__item is-placeholder"})}function BlockPatternsList({isDraggable:isDraggable,blockPatterns:blockPatterns,shownPatterns:shownPatterns,onHover:onHover,onClickPattern:onClickPattern,orientation:orientation,label:label=(0,i18n_build_module.__)("Block patterns"),showTitlesAsTooltip:showTitlesAsTooltip,pagingProps:pagingProps},ref){const compositeStore=block_patterns_list_useCompositeStore({orientation:orientation}),{setActiveId:setActiveId}=compositeStore;return(0,react.useEffect)((()=>{setActiveId(void 0)}),[setActiveId,shownPatterns,blockPatterns]),(0,react.createElement)(block_patterns_list_Composite,{store:compositeStore,role:"listbox",className:"block-editor-block-patterns-list","aria-label":label,ref:ref},blockPatterns.map((pattern=>shownPatterns.includes(pattern)?(0,react.createElement)(BlockPattern,{key:pattern.name,id:pattern.name,pattern:pattern,onClick:onClickPattern,onHover:onHover,isDraggable:isDraggable,showTooltip:showTitlesAsTooltip}):(0,react.createElement)(BlockPatternPlaceholder,{key:pattern.name}))),pagingProps&&(0,react.createElement)(Pagination,{...pagingProps}))}BlockPatternsList.__docgenInfo={description:"",methods:[],displayName:"BlockPatternsList",props:{label:{defaultValue:{value:"__('Block patterns')",computed:!0},required:!1}}};var block_patterns_list=(0,react.forwardRef)(BlockPatternsList);var use_insertion_point=function useInsertionPoint({rootClientId:rootClientId="",insertionIndex:insertionIndex,clientId:clientId,isAppender:isAppender,onSelect:onSelect,shouldFocusBlock:shouldFocusBlock=!0,selectBlockOnInsert:selectBlockOnInsert=!0}){const{getSelectedBlock:getSelectedBlock}=(0,use_select.Z)(store),{destinationRootClientId:destinationRootClientId,destinationIndex:destinationIndex}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId:getSelectedBlockClientId,getBlockRootClientId:getBlockRootClientId,getBlockIndex:getBlockIndex,getBlockOrder:getBlockOrder}=select(store),selectedBlockClientId=getSelectedBlockClientId();let _destinationIndex,_destinationRootClientId=rootClientId;return void 0!==insertionIndex?_destinationIndex=insertionIndex:clientId?_destinationIndex=getBlockIndex(clientId):!isAppender&&selectedBlockClientId?(_destinationRootClientId=getBlockRootClientId(selectedBlockClientId),_destinationIndex=getBlockIndex(selectedBlockClientId)+1):_destinationIndex=getBlockOrder(_destinationRootClientId).length,{destinationRootClientId:_destinationRootClientId,destinationIndex:_destinationIndex}}),[rootClientId,insertionIndex,clientId,isAppender]),{replaceBlocks:replaceBlocks,insertBlocks:insertBlocks,showInsertionPoint:showInsertionPoint,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store),onInsertBlocks=(0,react.useCallback)(((blocks,meta,shouldForceFocusBlock=!1)=>{const selectedBlock=getSelectedBlock();!isAppender&&selectedBlock&&(0,build_module.ZP)(selectedBlock)?replaceBlocks(selectedBlock.clientId,blocks,null,shouldFocusBlock||shouldForceFocusBlock?0:null,meta):insertBlocks(blocks,destinationIndex,destinationRootClientId,selectBlockOnInsert,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);const blockLength=Array.isArray(blocks)?blocks.length:1,message=(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d block added.","%d blocks added.",blockLength),blockLength);(0,a11y_build_module.D)(message),onSelect&&onSelect(blocks)}),[isAppender,getSelectedBlock,replaceBlocks,insertBlocks,destinationRootClientId,destinationIndex,onSelect,shouldFocusBlock,selectBlockOnInsert]),onToggleInsertionPoint=(0,react.useCallback)((show=>{show?showInsertionPoint(destinationRootClientId,destinationIndex):hideInsertionPoint()}),[showInsertionPoint,hideInsertionPoint,destinationRootClientId,destinationIndex]);return[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]};var use_patterns_state=(onInsert,rootClientId)=>{const{patternCategories:patternCategories,patterns:patterns,userPatternCategories:userPatternCategories}=(0,use_select.Z)((select=>{const{__experimentalGetAllowedPatterns:__experimentalGetAllowedPatterns,getSettings:getSettings}=select(store),{__experimentalUserPatternCategories:__experimentalUserPatternCategories,__experimentalBlockPatternCategories:__experimentalBlockPatternCategories}=getSettings();return{patterns:__experimentalGetAllowedPatterns(rootClientId),userPatternCategories:__experimentalUserPatternCategories,patternCategories:__experimentalBlockPatternCategories}}),[rootClientId]),allCategories=(0,react.useMemo)((()=>{const categories=[...patternCategories];return userPatternCategories?.forEach((userCategory=>{categories.find((existingCategory=>existingCategory.name===userCategory.name))||categories.push(userCategory)})),categories}),[patternCategories,userPatternCategories]),{createSuccessNotice:createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h),onClickPattern=(0,react.useCallback)(((pattern,blocks)=>{const patternBlocks=pattern.type===PATTERN_TYPES.user&&"unsynced"!==pattern.syncStatus?[(0,build_module.j4)("core/block",{ref:pattern.id})]:blocks;onInsert((null!=patternBlocks?patternBlocks:[]).map((block=>(0,build_module.Wm)(block))),pattern.name),createSuccessNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)('Block pattern "%s" inserted.'),pattern.title),{type:"snackbar",id:"block-pattern-inserted-notice"})}),[createSuccessNotice,onInsert]);return[patterns,allCategories,onClickPattern]},remove_accents=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents_default=__webpack_require__.n(remove_accents),no_case_dist_es2015=__webpack_require__("./node_modules/no-case/dist.es2015/index.js");const defaultGetName=item=>item.name||"",defaultGetTitle=item=>item.title,defaultGetDescription=item=>item.description||"",defaultGetKeywords=item=>item.keywords||[],defaultGetCategory=item=>item.category,defaultGetCollection=()=>null;function extractWords(input=""){return(0,no_case_dist_es2015.B)(input,{splitRegexp:[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu],stripRegexp:/(\p{C}|\p{P}|\p{S})+/giu}).split(" ").filter(Boolean)}function normalizeSearchInput(input=""){return input=(input=(input=remove_accents_default()(input)).replace(/^\//,"")).toLowerCase()}const getNormalizedSearchTerms=(input="")=>extractWords(normalizeSearchInput(input)),searchBlockItems=(items,categories,collections,searchInput)=>{if(0===getNormalizedSearchTerms(searchInput).length)return items;const config={getCategory:item=>categories.find((({slug:slug})=>slug===item.category))?.title,getCollection:item=>collections[item.name.split("/")[0]]?.title};return searchItems(items,searchInput,config)},searchItems=(items=[],searchInput="",config={})=>{if(0===getNormalizedSearchTerms(searchInput).length)return items;const rankedItems=items.map((item=>[item,getItemSearchRank(item,searchInput,config)])).filter((([,rank])=>rank>0));return rankedItems.sort((([,rank1],[,rank2])=>rank2-rank1)),rankedItems.map((([item])=>item))};function getItemSearchRank(item,searchTerm,config={}){const{getName:getName=defaultGetName,getTitle:getTitle=defaultGetTitle,getDescription:getDescription=defaultGetDescription,getKeywords:getKeywords=defaultGetKeywords,getCategory:getCategory=defaultGetCategory,getCollection:getCollection=defaultGetCollection}=config,name=getName(item),title=getTitle(item),description=getDescription(item),keywords=getKeywords(item),category=getCategory(item),collection=getCollection(item),normalizedSearchInput=normalizeSearchInput(searchTerm),normalizedTitle=normalizeSearchInput(title);let rank=0;if(normalizedSearchInput===normalizedTitle)rank+=30;else if(normalizedTitle.startsWith(normalizedSearchInput))rank+=20;else{const terms=[name,title,description,...keywords,category,collection].join(" ");0===((unmatchedTerms,unprocessedTerms)=>unmatchedTerms.filter((term=>!getNormalizedSearchTerms(unprocessedTerms).some((unprocessedTerm=>unprocessedTerm.includes(term))))))(extractWords(normalizedSearchInput),terms).length&&(rank+=10)}if(0!==rank&&name.startsWith("core/")){rank+=name!==item.id?1:2}return rank}const PAGE_SIZE=20,INITIAL_INSERTER_RESULTS=5;function usePatternsPaging(currentCategoryPatterns,currentCategory,scrollContainerRef,currentFilter=""){const[currentPage,setCurrentPage]=(0,react.useState)(1),previousCategory=(0,use_previous.Z)(currentCategory),previousFilter=(0,use_previous.Z)(currentFilter);previousCategory===currentCategory&&previousFilter===currentFilter||1===currentPage||setCurrentPage(1);const totalItems=currentCategoryPatterns.length,pageIndex=currentPage-1,categoryPatterns=(0,react.useMemo)((()=>currentCategoryPatterns.slice(pageIndex*PAGE_SIZE,pageIndex*PAGE_SIZE+PAGE_SIZE)),[pageIndex,currentCategoryPatterns]),categoryPatternsAsyncList=(0,use_async_list.Z)(categoryPatterns,{step:INITIAL_INSERTER_RESULTS}),numPages=Math.ceil(currentCategoryPatterns.length/PAGE_SIZE);return(0,react.useEffect)((function scrollToTopOnCategoryChange(){const scrollContainer=(0,get_scroll_container.Z)(scrollContainerRef?.current);scrollContainer?.scrollTo(0,0)}),[currentCategory,scrollContainerRef]),{totalItems:totalItems,categoryPatterns:categoryPatterns,categoryPatternsAsyncList:categoryPatternsAsyncList,numPages:numPages,changePage:page=>{const scrollContainer=(0,get_scroll_container.Z)(scrollContainerRef?.current);scrollContainer?.scrollTo(0,0),setCurrentPage(page)},currentPage:currentPage}}function PatternsListHeader({filterValue:filterValue,filteredBlockPatternsLength:filteredBlockPatternsLength}){return filterValue?(0,react.createElement)(heading_component.Z,{level:2,lineHeight:"48px",className:"block-editor-block-patterns-explorer__search-results-count"},(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d pattern found","%d patterns found",filteredBlockPatternsLength),filteredBlockPatternsLength)):null}function PatternList({searchValue:searchValue,selectedCategory:selectedCategory,patternCategories:patternCategories}){const container=(0,react.useRef)(),debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),[destinationRootClientId,onInsertBlocks]=use_insertion_point({shouldFocusBlock:!0}),[patterns,,onClickPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId),registeredPatternCategories=(0,react.useMemo)((()=>patternCategories.map((patternCategory=>patternCategory.name))),[patternCategories]),filteredBlockPatterns=(0,react.useMemo)((()=>{const filteredPatterns=patterns.filter((pattern=>{if(selectedCategory===allPatternsCategory.name)return!0;if(selectedCategory===myPatternsCategory.name&&pattern.type===PATTERN_TYPES.user)return!0;if("uncategorized"===selectedCategory){const hasKnownCategory=pattern.categories.some((category=>registeredPatternCategories.includes(category)));return!pattern.categories?.length||!hasKnownCategory}return pattern.categories?.includes(selectedCategory)}));return searchValue?searchItems(filteredPatterns,searchValue):filteredPatterns}),[searchValue,patterns,selectedCategory,registeredPatternCategories]);(0,react.useEffect)((()=>{if(!searchValue)return;const count=filteredBlockPatterns.length,resultsFoundMessage=(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found.","%d results found.",count),count);debouncedSpeak(resultsFoundMessage)}),[searchValue,debouncedSpeak,filteredBlockPatterns.length]);const pagingProps=usePatternsPaging(filteredBlockPatterns,selectedCategory,container),[previousSearchValue,setPreviousSearchValue]=(0,react.useState)(searchValue);searchValue!==previousSearchValue&&(setPreviousSearchValue(searchValue),pagingProps.changePage(1));const hasItems=!!filteredBlockPatterns?.length;return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer__list",ref:container},(0,react.createElement)(PatternsListHeader,{filterValue:searchValue,filteredBlockPatternsLength:filteredBlockPatterns.length}),(0,react.createElement)(inserter_listbox,null,hasItems&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_patterns_list,{shownPatterns:pagingProps.categoryPatternsAsyncList,blockPatterns:pagingProps.categoryPatterns,onClickPattern:onClickPattern,isDraggable:!1}),(0,react.createElement)(Pagination,{...pagingProps}))))}PatternList.__docgenInfo={description:"",methods:[],displayName:"PatternList"};var pattern_list=PatternList;function usePatternCategories(rootClientId,sourceFilter="all"){const[patterns,allCategories]=use_patterns_state(void 0,rootClientId),filteredPatterns=(0,react.useMemo)((()=>"all"===sourceFilter?patterns:patterns.filter((pattern=>!isPatternFiltered(pattern,sourceFilter)))),[sourceFilter,patterns]),hasRegisteredCategory=(0,react.useCallback)((pattern=>!(!pattern.categories||!pattern.categories.length)&&pattern.categories.some((cat=>allCategories.some((category=>category.name===cat))))),[allCategories]),populatedCategories=(0,react.useMemo)((()=>{const categories=allCategories.filter((category=>filteredPatterns.some((pattern=>pattern.categories?.includes(category.name))))).sort(((a,b)=>a.label.localeCompare(b.label)));return filteredPatterns.some((pattern=>!hasRegisteredCategory(pattern)))&&!categories.find((category=>"uncategorized"===category.name))&&categories.push({name:"uncategorized",label:(0,i18n_build_module._x)("Uncategorized")}),filteredPatterns.some((pattern=>pattern.type===PATTERN_TYPES.user))&&categories.unshift(myPatternsCategory),filteredPatterns.length>0&&categories.unshift({name:allPatternsCategory.name,label:allPatternsCategory.label}),(0,a11y_build_module.D)((0,i18n_build_module.gB)((0,i18n_build_module._n)("%d category button displayed.","%d category buttons displayed.",categories.length),categories.length)),categories}),[allCategories,filteredPatterns,hasRegisteredCategory]);return populatedCategories}function PatternsExplorer({initialCategory:initialCategory,rootClientId:rootClientId}){const[searchValue,setSearchValue]=(0,react.useState)(""),[patternSourceFilter,setPatternSourceFilter]=(0,react.useState)("all"),[selectedCategory,setSelectedCategory]=(0,react.useState)(initialCategory?.name),patternCategories=usePatternCategories(rootClientId,patternSourceFilter);return(0,react.createElement)("div",{className:"block-editor-block-patterns-explorer"},(0,react.createElement)(pattern_explorer_sidebar,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:setSelectedCategory,searchValue:searchValue,setSearchValue:setSearchValue,patternSourceFilter:patternSourceFilter,setPatternSourceFilter:setPatternSourceFilter}),(0,react.createElement)(pattern_list,{searchValue:searchValue,selectedCategory:selectedCategory,patternCategories:patternCategories,patternSourceFilter:patternSourceFilter}))}function PatternsExplorerModal({onModalClose:onModalClose,...restProps}){return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Patterns"),onRequestClose:onModalClose,isFullScreen:!0},(0,react.createElement)(PatternsExplorer,{...restProps}))}PatternsExplorerModal.__docgenInfo={description:"",methods:[],displayName:"PatternsExplorerModal"};var block_patterns_explorer=PatternsExplorerModal,navigator_back_button_component=__webpack_require__("./packages/components/build-module/navigator/navigator-back-button/component.js"),navigator_provider_component=__webpack_require__("./packages/components/build-module/navigator/navigator-provider/component.js"),navigator_screen_component=__webpack_require__("./packages/components/build-module/navigator/navigator-screen/component.js"),navigator_button_component=__webpack_require__("./packages/components/build-module/navigator/navigator-button/component.js");function ScreenHeader({title:title}){return(0,react.createElement)(v_stack_component.Z,{spacing:0},(0,react.createElement)(view_component.Z,null,(0,react.createElement)(spacer_component.Z,{marginBottom:0,paddingX:4,paddingY:3},(0,react.createElement)(h_stack_component.Z,{spacing:2},(0,react.createElement)(navigator_back_button_component.Z,{style:{minWidth:24,padding:0},icon:(0,i18n_build_module.dZ)()?chevron_right.Z:chevron_left.Z,isSmall:!0,"aria-label":(0,i18n_build_module.__)("Navigate to the previous view")}),(0,react.createElement)(spacer_component.Z,null,(0,react.createElement)(heading_component.Z,{level:5},title))))))}function MobileTabNavigation({categories:categories,children:children}){return(0,react.createElement)(navigator_provider_component.Z,{initialPath:"/",className:"block-editor-inserter__mobile-tab-navigation"},(0,react.createElement)(navigator_screen_component.Z,{path:"/"},(0,react.createElement)(item_group_component.Z,null,categories.map((category=>(0,react.createElement)(navigator_button_component.Z,{key:category.name,path:`/category/${category.name}`,as:item_component.Z,isAction:!0},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,category.label),(0,react.createElement)(build_module_icon.Z,{icon:(0,i18n_build_module.dZ)()?chevron_left.Z:chevron_right.Z}))))))),categories.map((category=>(0,react.createElement)(navigator_screen_component.Z,{key:category.name,path:`/category/${category.name}`},(0,react.createElement)(ScreenHeader,{title:(0,i18n_build_module.__)("Back")}),children(category)))))}MobileTabNavigation.__docgenInfo={description:"",methods:[],displayName:"MobileTabNavigation"};var menu_items_choice=__webpack_require__("./packages/components/build-module/menu-items-choice/index.js");const getShouldDisableSyncFilter=sourceFilter=>sourceFilter!==PATTERN_TYPES.all&&sourceFilter!==PATTERN_TYPES.user,getShouldDisableNonUserSources=category=>category.name===myPatternsCategory.name;function PatternsFilter({setPatternSyncFilter:setPatternSyncFilter,setPatternSourceFilter:setPatternSourceFilter,patternSyncFilter:patternSyncFilter,patternSourceFilter:patternSourceFilter,scrollContainerRef:scrollContainerRef,category:category}){const currentPatternSourceFilter=category.name===myPatternsCategory.name?PATTERN_TYPES.user:patternSourceFilter,shouldDisableSyncFilter=getShouldDisableSyncFilter(currentPatternSourceFilter),shouldDisableNonUserSources=getShouldDisableNonUserSources(category),patternSyncMenuOptions=(0,react.useMemo)((()=>[{value:SYNC_TYPES.all,label:(0,i18n_build_module._x)("All","Option that shows all patterns")},{value:SYNC_TYPES.full,label:(0,i18n_build_module._x)("Synced","Option that shows all synchronized patterns"),disabled:shouldDisableSyncFilter},{value:SYNC_TYPES.unsynced,label:(0,i18n_build_module._x)("Not synced","Option that shows all patterns that are not synchronized"),disabled:shouldDisableSyncFilter}]),[shouldDisableSyncFilter]),patternSourceMenuOptions=(0,react.useMemo)((()=>[{value:PATTERN_TYPES.all,label:(0,i18n_build_module.__)("All"),disabled:shouldDisableNonUserSources},{value:PATTERN_TYPES.directory,label:(0,i18n_build_module.__)("Pattern Directory"),disabled:shouldDisableNonUserSources},{value:PATTERN_TYPES.theme,label:(0,i18n_build_module.__)("Theme & Plugins"),disabled:shouldDisableNonUserSources},{value:PATTERN_TYPES.user,label:(0,i18n_build_module.__)("User")}]),[shouldDisableNonUserSources]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(dropdown_menu.Z,{popoverProps:{placement:"right-end"},label:"Filter patterns",icon:(0,react.createElement)(build_module_icon.Z,{icon:(0,react.createElement)(svg.Wj,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z",fill:"#1E1E1E"}))})},(()=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Source")},(0,react.createElement)(menu_items_choice.Z,{choices:patternSourceMenuOptions,onSelect:value=>{!function handleSetSourceFilterChange(newSourceFilter){setPatternSourceFilter(newSourceFilter),getShouldDisableSyncFilter(newSourceFilter)&&setPatternSyncFilter(SYNC_TYPES.all)}(value),scrollContainerRef.current?.scrollTo(0,0)},value:currentPatternSourceFilter})),(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Type")},(0,react.createElement)(menu_items_choice.Z,{choices:patternSyncMenuOptions,onSelect:value=>{setPatternSyncFilter(value),scrollContainerRef.current?.scrollTo(0,0)},value:patternSyncFilter})),(0,react.createElement)("div",{className:"block-editor-tool-selector__help"},(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Patterns are available from the <Link>WordPress.org Pattern Directory</Link>, bundled in the active theme, or created by users on this site. Only patterns created on this site can be synced."),{Link:(0,react.createElement)(external_link.Z,{href:(0,i18n_build_module.__)("https://wordpress.org/patterns/")})}))))))}PatternsFilter.__docgenInfo={description:"",methods:[],displayName:"PatternsFilter"};const pattern_category_previews_noop=()=>{};function PatternCategoryPreviews({rootClientId:rootClientId,onInsert:onInsert,onHover:onHover=pattern_category_previews_noop,category:category,showTitlesAsTooltip:showTitlesAsTooltip}){const[allPatterns,,onClickPattern]=use_patterns_state(onInsert,rootClientId),[patternSyncFilter,setPatternSyncFilter]=(0,react.useState)("all"),[patternSourceFilter,setPatternSourceFilter]=(0,react.useState)("all"),availableCategories=usePatternCategories(rootClientId,patternSourceFilter),scrollContainerRef=(0,react.useRef)(),currentCategoryPatterns=(0,react.useMemo)((()=>allPatterns.filter((pattern=>{var _pattern$categories$f;if(isPatternFiltered(pattern,patternSourceFilter,patternSyncFilter))return!1;if(category.name===allPatternsCategory.name)return!0;if(category.name===myPatternsCategory.name&&pattern.type===PATTERN_TYPES.user)return!0;if("uncategorized"!==category.name)return pattern.categories?.includes(category.name);return 0===(null!==(_pattern$categories$f=pattern.categories?.filter((cat=>availableCategories.find((availableCategory=>availableCategory.name===cat)))))&&void 0!==_pattern$categories$f?_pattern$categories$f:[]).length}))),[allPatterns,availableCategories,category.name,patternSourceFilter,patternSyncFilter]),pagingProps=usePatternsPaging(currentCategoryPatterns,category,scrollContainerRef),{changePage:changePage}=pagingProps;(0,react.useEffect)((()=>()=>onHover(null)),[]);const onSetPatternSyncFilter=(0,react.useCallback)((value=>{setPatternSyncFilter(value),changePage(1)}),[setPatternSyncFilter,changePage]),onSetPatternSourceFilter=(0,react.useCallback)((value=>{setPatternSourceFilter(value),changePage(1)}),[setPatternSourceFilter,changePage]);return(0,react.createElement)("div",{className:"block-editor-inserter__patterns-category-panel"},(0,react.createElement)(v_stack_component.Z,{spacing:2,className:"block-editor-inserter__patterns-category-panel-header"},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,(0,react.createElement)(heading_component.Z,{level:4,as:"div"},category.label)),(0,react.createElement)(PatternsFilter,{patternSyncFilter:patternSyncFilter,patternSourceFilter:patternSourceFilter,setPatternSyncFilter:onSetPatternSyncFilter,setPatternSourceFilter:onSetPatternSourceFilter,scrollContainerRef:scrollContainerRef,category:category})),!currentCategoryPatterns.length&&(0,react.createElement)(text_component.Z,{variant:"muted",className:"block-editor-inserter__patterns-category-no-results"},(0,i18n_build_module.__)("No results found"))),currentCategoryPatterns.length>0&&(0,react.createElement)(block_patterns_list,{ref:scrollContainerRef,shownPatterns:pagingProps.categoryPatternsAsyncList,blockPatterns:pagingProps.categoryPatterns,onClickPattern:onClickPattern,onHover:onHover,label:category.label,orientation:"vertical",category:category.name,isDraggable:!0,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternSourceFilter,pagingProps:pagingProps}))}function BlockPatternsTab({onSelectCategory:onSelectCategory,selectedCategory:selectedCategory,onInsert:onInsert,rootClientId:rootClientId}){const[showPatternsExplorer,setShowPatternsExplorer]=(0,react.useState)(!1),categories=usePatternCategories(rootClientId),initialCategory=selectedCategory||categories[0],isMobile=(0,use_viewport_match.Z)("medium","<");return(0,react.createElement)(react.Fragment,null,!isMobile&&(0,react.createElement)("div",{className:"block-editor-inserter__block-patterns-tabs-container"},(0,react.createElement)("nav",{"aria-label":(0,i18n_build_module.__)("Block pattern categories"),className:"block-editor-inserter__block-patterns-tabs"},(0,react.createElement)(item_group_component.Z,{role:"list"},categories.map((category=>(0,react.createElement)(item_component.Z,{role:"listitem",key:category.name,onClick:()=>onSelectCategory(category),className:category===selectedCategory?"block-editor-inserter__patterns-category block-editor-inserter__patterns-selected-category":"block-editor-inserter__patterns-category","aria-label":category.label,"aria-current":category===selectedCategory?"true":void 0},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,category.label),(0,react.createElement)(build_module_icon.Z,{icon:(0,i18n_build_module.dZ)()?chevron_left.Z:chevron_right.Z}))))),(0,react.createElement)("div",{role:"listitem"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inserter__patterns-explore-button",onClick:()=>setShowPatternsExplorer(!0),variant:"secondary"},(0,i18n_build_module.__)("Explore all patterns")))))),isMobile&&(0,react.createElement)(MobileTabNavigation,{categories:categories},(category=>(0,react.createElement)(PatternCategoryPreviews,{key:category.name,onInsert:onInsert,rootClientId:rootClientId,category:category,showTitlesAsTooltip:!1}))),showPatternsExplorer&&(0,react.createElement)(block_patterns_explorer,{initialCategory:initialCategory,patternCategories:categories,onModalClose:()=>setShowPatternsExplorer(!1),rootClientId:rootClientId}))}PatternCategoryPreviews.__docgenInfo={description:"",methods:[],displayName:"PatternCategoryPreviews",props:{onHover:{defaultValue:{value:"() => {}",computed:!1},required:!1}}},BlockPatternsTab.__docgenInfo={description:"",methods:[],displayName:"BlockPatternsTab"};var block_patterns_tab=BlockPatternsTab;function PatternCategoryPreviewPanel({rootClientId:rootClientId,onInsert:onInsert,onHover:onHover,category:category,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternFilter}){const container=(0,react.useRef)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{const[firstTabbable]=dom_build_module.T_.tabbable.find(container.current);firstTabbable?.focus()}));return()=>clearTimeout(timeout)}),[category]),(0,react.createElement)("div",{ref:container,className:"block-editor-inserter__patterns-category-dialog"},(0,react.createElement)(PatternCategoryPreviews,{key:category.name,rootClientId:rootClientId,onInsert:onInsert,onHover:onHover,category:category,showTitlesAsTooltip:showTitlesAsTooltip,patternFilter:patternFilter}))}function useMediaCategories(rootClientId){const[categories,setCategories]=(0,react.useState)([]),inserterMediaCategories=(0,use_select.Z)((select=>unlock(select(store)).getInserterMediaCategories()),[]),{canInsertImage:canInsertImage,canInsertVideo:canInsertVideo,canInsertAudio:canInsertAudio}=(0,use_select.Z)((select=>{const{canInsertBlockType:canInsertBlockType}=select(store);return{canInsertImage:canInsertBlockType("core/image",rootClientId),canInsertVideo:canInsertBlockType("core/video",rootClientId),canInsertAudio:canInsertBlockType("core/audio",rootClientId)}}),[rootClientId]);return(0,react.useEffect)((()=>{(async()=>{const _categories=[];if(!inserterMediaCategories)return;const categoriesHaveMedia=new Map(await Promise.all(inserterMediaCategories.map((async category=>{if(category.isExternalResource)return[category.name,!0];let results=[];try{results=await category.fetch({per_page:1})}catch(e){}return[category.name,!!results.length]})))),canInsertMediaType={image:canInsertImage,video:canInsertVideo,audio:canInsertAudio};inserterMediaCategories.forEach((category=>{canInsertMediaType[category.mediaType]&&categoriesHaveMedia.get(category.name)&&_categories.push(category)})),_categories.length&&setCategories(_categories)})()}),[canInsertImage,canInsertVideo,canInsertAudio,inserterMediaCategories]),categories}PatternCategoryPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"PatternCategoryPreviewPanel"};var external=__webpack_require__("./packages/icons/build-module/library/external.js");const mediaTypeTag={image:"img",video:"video",audio:"audio"};function getBlockAndPreviewFromMedia(media,mediaType){const attributes={id:media.id||void 0,caption:media.caption||void 0},mediaSrc=media.url,alt=media.alt||void 0;"image"===mediaType?(attributes.url=mediaSrc,attributes.alt=alt):["video","audio"].includes(mediaType)&&(attributes.src=mediaSrc);const PreviewTag=mediaTypeTag[mediaType],preview=(0,react.createElement)(PreviewTag,{src:media.previewUrl||mediaSrc,alt:alt,controls:"audio"===mediaType||void 0,inert:"true",onError:({currentTarget:currentTarget})=>{currentTarget.src===media.previewUrl&&(currentTarget.src=mediaSrc)}});return[(0,build_module.j4)(`core/${mediaType}`,attributes),preview]}const ALLOWED_MEDIA_TYPES=["image"],MAXIMUM_TITLE_LENGTH=25,MEDIA_OPTIONS_POPOVER_PROPS={position:"bottom left",className:"block-editor-inserter__media-list__item-preview-options__popover"},{CompositeItemV2:media_preview_CompositeItem}=unlock(private_apis.YH);function MediaPreviewOptions({category:category,media:media}){if(!category.getReportUrl)return null;const reportUrl=category.getReportUrl(media);return(0,react.createElement)(dropdown_menu.Z,{className:"block-editor-inserter__media-list__item-preview-options",label:(0,i18n_build_module.__)("Options"),popoverProps:MEDIA_OPTIONS_POPOVER_PROPS,icon:more_vertical.Z},(()=>(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_item.Z,{onClick:()=>window.open(reportUrl,"_blank").focus(),icon:external.Z},(0,i18n_build_module.gB)((0,i18n_build_module.__)("Report %s"),category.mediaType)))))}function InsertExternalImageModal({onClose:onClose,onSubmit:onSubmit}){return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Insert external image"),onRequestClose:onClose,className:"block-editor-inserter-media-tab-media-preview-inserter-external-image-modal"},(0,react.createElement)(v_stack_component.Z,{spacing:3},(0,react.createElement)("p",null,(0,i18n_build_module.__)("This image cannot be uploaded to your Media Library, but it can still be inserted as an external image.")),(0,react.createElement)("p",null,(0,i18n_build_module.__)("External images can be removed by the external provider without warning and could even have legal compliance issues related to privacy legislation."))),(0,react.createElement)(component.Z,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:!1},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:onClose},(0,i18n_build_module.__)("Cancel"))),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{variant:"primary",onClick:onSubmit},(0,i18n_build_module.__)("Insert")))))}function MediaPreview({media:media,onClick:onClick,category:category}){const[showExternalUploadModal,setShowExternalUploadModal]=(0,react.useState)(!1),[isHovered,setIsHovered]=(0,react.useState)(!1),[isInserting,setIsInserting]=(0,react.useState)(!1),[block,preview]=(0,react.useMemo)((()=>getBlockAndPreviewFromMedia(media,category.mediaType)),[media,category.mediaType]),{createErrorNotice:createErrorNotice,createSuccessNotice:createSuccessNotice}=(0,use_dispatch.Z)(notices_build_module.h),mediaUpload=(0,use_select.Z)((select=>select(store).getSettings().mediaUpload),[]),onMediaInsert=(0,react.useCallback)((previewBlock=>{if(isInserting)return;const clonedBlock=(0,build_module.Wm)(previewBlock),{id:id,url:url,caption:caption}=clonedBlock.attributes;id?onClick(clonedBlock):(setIsInserting(!0),window.fetch(url).then((response=>response.blob())).then((blob=>{mediaUpload({filesList:[blob],additionalData:{caption:caption},onFileChange([img]){(0,blob_build_module.Gu)(img.url)||(onClick({...clonedBlock,attributes:{...clonedBlock.attributes,id:img.id,url:img.url}}),createSuccessNotice((0,i18n_build_module.__)("Image uploaded and inserted."),{type:"snackbar"}),setIsInserting(!1))},allowedTypes:ALLOWED_MEDIA_TYPES,onError(message){createErrorNotice(message,{type:"snackbar"}),setIsInserting(!1)}})})).catch((()=>{setShowExternalUploadModal(!0),setIsInserting(!1)})))}),[isInserting,onClick,mediaUpload,createErrorNotice,createSuccessNotice]),title=media.title?.rendered||media.title;let truncatedTitle;if(title.length>MAXIMUM_TITLE_LENGTH){const omission="...";truncatedTitle=title.slice(0,MAXIMUM_TITLE_LENGTH-omission.length)+omission}const onMouseEnter=(0,react.useCallback)((()=>setIsHovered(!0)),[]),onMouseLeave=(0,react.useCallback)((()=>setIsHovered(!1)),[]);return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inserter_draggable_blocks,{isEnabled:!0,blocks:[block]},(({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,react.createElement)("div",{className:classnames_default()("block-editor-inserter__media-list__list-item",{"is-hovered":isHovered}),draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd},(0,react.createElement)("div",{onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave},(0,react.createElement)(tooltip.Z,{text:truncatedTitle||title},(0,react.createElement)(media_preview_CompositeItem,{render:(0,react.createElement)("div",{"aria-label":title,role:"option",className:"block-editor-inserter__media-list__item"}),onClick:()=>onMediaInsert(block)},(0,react.createElement)("div",{className:"block-editor-inserter__media-list__item-preview"},preview,isInserting&&(0,react.createElement)("div",{className:"block-editor-inserter__media-list__item-preview-spinner"},(0,react.createElement)(spinner.ZP,null))))),!isInserting&&(0,react.createElement)(MediaPreviewOptions,{category:category,media:media}))))),showExternalUploadModal&&(0,react.createElement)(InsertExternalImageModal,{onClose:()=>setShowExternalUploadModal(!1),onSubmit:()=>{onClick((0,build_module.Wm)(block)),createSuccessNotice((0,i18n_build_module.__)("Image inserted."),{type:"snackbar"}),setShowExternalUploadModal(!1)}}))}MediaPreview.__docgenInfo={description:"",methods:[],displayName:"MediaPreview"};const{CompositeV2:media_list_Composite,useCompositeStoreV2:media_list_useCompositeStore}=unlock(private_apis.YH);function MediaList({mediaList:mediaList,category:category,onClick:onClick,label:label=(0,i18n_build_module.__)("Media List")}){const compositeStore=media_list_useCompositeStore();return(0,react.createElement)(media_list_Composite,{store:compositeStore,role:"listbox",className:"block-editor-inserter__media-list","aria-label":label},mediaList.map(((media,index)=>(0,react.createElement)(MediaPreview,{key:media.id||media.sourceId||index,media:media,category:category,onClick:onClick}))))}MediaList.__docgenInfo={description:"",methods:[],displayName:"MediaList",props:{label:{defaultValue:{value:"__('Media List')",computed:!0},required:!1}}};var media_list=MediaList;function InserterNoResults(){return(0,react.createElement)("div",{className:"block-editor-inserter__no-results"},(0,react.createElement)(build_module_icon.Z,{className:"block-editor-inserter__no-results-icon",icon:block_default.Z}),(0,react.createElement)("p",null,(0,i18n_build_module.__)("No results found.")))}InserterNoResults.__docgenInfo={description:"",methods:[],displayName:"InserterNoResults"};var no_results=InserterNoResults;const INITIAL_MEDIA_ITEMS_PER_PAGE=10;function MediaCategoryDialog({rootClientId:rootClientId,onInsert:onInsert,category:category}){const container=(0,react.useRef)();return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{const[firstTabbable]=dom_build_module.T_.tabbable.find(container.current);firstTabbable?.focus()}));return()=>clearTimeout(timeout)}),[category]),(0,react.createElement)("div",{ref:container,className:"block-editor-inserter__media-dialog"},(0,react.createElement)(MediaCategoryPanel,{rootClientId:rootClientId,onInsert:onInsert,category:category}))}function MediaCategoryPanel({rootClientId:rootClientId,onInsert:onInsert,category:category}){const[search,setSearch,debouncedSearch]=(0,use_debounced_input.Z)(),{mediaList:mediaList,isLoading:isLoading}=function useMediaResults(category,query={}){const[mediaList,setMediaList]=(0,react.useState)(),[isLoading,setIsLoading]=(0,react.useState)(!1),lastRequest=(0,react.useRef)();return(0,react.useEffect)((()=>{(async()=>{const key=JSON.stringify({category:category.name,...query});lastRequest.current=key,setIsLoading(!0),setMediaList([]);const _media=await(category.fetch?.(query));key===lastRequest.current&&(setMediaList(_media),setIsLoading(!1))})()}),[category.name,...Object.values(query)]),{mediaList:mediaList,isLoading:isLoading}}(category,{per_page:debouncedSearch?20:INITIAL_MEDIA_ITEMS_PER_PAGE,search:debouncedSearch}),baseCssClass="block-editor-inserter__media-panel",searchLabel=category.labels.search_items||(0,i18n_build_module.__)("Search");return(0,react.createElement)("div",{className:baseCssClass},(0,react.createElement)(search_control.Z,{className:`${baseCssClass}-search`,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel}),isLoading&&(0,react.createElement)("div",{className:`${baseCssClass}-spinner`},(0,react.createElement)(spinner.ZP,null)),!isLoading&&!mediaList?.length&&(0,react.createElement)(no_results,null),!isLoading&&!!mediaList?.length&&(0,react.createElement)(media_list,{rootClientId:rootClientId,onClick:onInsert,mediaList:mediaList,category:category}))}MediaCategoryDialog.__docgenInfo={description:"",methods:[],displayName:"MediaCategoryDialog"},MediaCategoryPanel.__docgenInfo={description:"",methods:[],displayName:"MediaCategoryPanel"};const media_tab_ALLOWED_MEDIA_TYPES=["image","video","audio"];function MediaTab({rootClientId:rootClientId,selectedCategory:selectedCategory,onSelectCategory:onSelectCategory,onInsert:onInsert}){const mediaCategories=useMediaCategories(rootClientId),isMobile=(0,use_viewport_match.Z)("medium","<"),baseCssClass="block-editor-inserter__media-tabs",onSelectMedia=(0,react.useCallback)((media=>{if(!media?.url)return;const[block]=getBlockAndPreviewFromMedia(media,media.type);onInsert(block)}),[onInsert]),mobileMediaCategories=(0,react.useMemo)((()=>mediaCategories.map((mediaCategory=>({...mediaCategory,label:mediaCategory.labels.name})))),[mediaCategories]);return(0,react.createElement)(react.Fragment,null,!isMobile&&(0,react.createElement)("div",{className:`${baseCssClass}-container`},(0,react.createElement)("nav",{"aria-label":(0,i18n_build_module.__)("Media categories")},(0,react.createElement)(item_group_component.Z,{role:"list",className:baseCssClass},mediaCategories.map((mediaCategory=>(0,react.createElement)(item_component.Z,{role:"listitem",key:mediaCategory.name,onClick:()=>onSelectCategory(mediaCategory),className:classnames_default()(`${baseCssClass}__media-category`,{"is-selected":selectedCategory===mediaCategory}),"aria-label":mediaCategory.labels.name,"aria-current":mediaCategory===selectedCategory?"true":void 0},(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(flex_block_component.Z,null,mediaCategory.labels.name),(0,react.createElement)(build_module_icon.Z,{icon:(0,i18n_build_module.dZ)()?chevron_left.Z:chevron_right.Z}))))),(0,react.createElement)("div",{role:"listitem"},(0,react.createElement)(check,null,(0,react.createElement)(media_upload,{multiple:!1,onSelect:onSelectMedia,allowedTypes:media_tab_ALLOWED_MEDIA_TYPES,render:({open:open})=>(0,react.createElement)(build_module_button.ZP,{onClick:event=>{event.target.focus(),open()},className:"block-editor-inserter__media-library-button",variant:"secondary","data-unstable-ignore-focus-outside-for-relatedtarget":".media-modal"},(0,i18n_build_module.__)("Open Media Library"))})))))),isMobile&&(0,react.createElement)(MobileTabNavigation,{categories:mobileMediaCategories},(category=>(0,react.createElement)(MediaCategoryPanel,{onInsert:onInsert,rootClientId:rootClientId,category:category}))))}MediaTab.__docgenInfo={description:"",methods:[],displayName:"MediaTab"};var media_tab=MediaTab;const{Fill:__unstableInserterMenuExtension,Slot:inserter_menu_extension_Slot}=(0,slot_fill.up)("__unstableInserterMenuExtension");__unstableInserterMenuExtension.Slot=inserter_menu_extension_Slot;var inserter_menu_extension=__unstableInserterMenuExtension;const orderInserterBlockItems=(items,priority)=>priority?(items.sort((({id:aName},{id:bName})=>{let aIndex=priority.indexOf(aName),bIndex=priority.indexOf(bName);return aIndex<0&&(aIndex=priority.length),bIndex<0&&(bIndex=priority.length),aIndex-bIndex})),items):items,search_results_EMPTY_ARRAY=[];function InserterSearchResults({filterValue:filterValue,onSelect:onSelect,onHover:onHover,onHoverPattern:onHoverPattern,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,maxBlockPatterns:maxBlockPatterns,maxBlockTypes:maxBlockTypes,showBlockDirectory:showBlockDirectory=!1,isDraggable:isDraggable=!0,shouldFocusBlock:shouldFocusBlock=!0,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert}){const debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500),{prioritizedBlocks:prioritizedBlocks}=(0,use_select.Z)((select=>{const blockListSettings=select(store).getBlockListSettings(rootClientId);return{prioritizedBlocks:blockListSettings?.prioritizedInserterBlocks||search_results_EMPTY_ARRAY}}),[rootClientId]),[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock:shouldFocusBlock,selectBlockOnInsert:selectBlockOnInsert}),[blockTypes,blockTypeCategories,blockTypeCollections,onSelectBlockType]=use_block_types_state(destinationRootClientId,onInsertBlocks),[patterns,,onClickPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId),filteredBlockPatterns=(0,react.useMemo)((()=>{if(0===maxBlockPatterns)return[];const results=searchItems(patterns,filterValue);return void 0!==maxBlockPatterns?results.slice(0,maxBlockPatterns):results}),[filterValue,patterns,maxBlockPatterns]);let maxBlockTypesToShow=maxBlockTypes;prioritizePatterns&&filteredBlockPatterns.length>2&&(maxBlockTypesToShow=0);const filteredBlockTypes=(0,react.useMemo)((()=>{if(0===maxBlockTypesToShow)return[];let orderedItems=orderBy(blockTypes.filter((blockType=>"core/block"!==blockType.name)),"frecency","desc");!filterValue&&prioritizedBlocks.length&&(orderedItems=orderInserterBlockItems(orderedItems,prioritizedBlocks));const results=searchBlockItems(orderedItems,blockTypeCategories,blockTypeCollections,filterValue);return void 0!==maxBlockTypesToShow?results.slice(0,maxBlockTypesToShow):results}),[filterValue,blockTypes,blockTypeCategories,blockTypeCollections,maxBlockTypesToShow,prioritizedBlocks]);(0,react.useEffect)((()=>{if(!filterValue)return;const count=filteredBlockTypes.length+filteredBlockPatterns.length,resultsFoundMessage=(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found.","%d results found.",count),count);debouncedSpeak(resultsFoundMessage)}),[filterValue,debouncedSpeak,filteredBlockTypes,filteredBlockPatterns]);const currentShownBlockTypes=(0,use_async_list.Z)(filteredBlockTypes,{step:9}),currentShownPatterns=(0,use_async_list.Z)(currentShownBlockTypes.length===filteredBlockTypes.length?filteredBlockPatterns:search_results_EMPTY_ARRAY),hasItems=filteredBlockTypes.length>0||filteredBlockPatterns.length>0,blocksUI=!!filteredBlockTypes.length&&(0,react.createElement)(panel,{title:(0,react.createElement)(visually_hidden_component.Z,null,(0,i18n_build_module.__)("Blocks"))},(0,react.createElement)(block_types_list,{items:currentShownBlockTypes,onSelect:onSelectBlockType,onHover:onHover,label:(0,i18n_build_module.__)("Blocks"),isDraggable:isDraggable})),patternsUI=!!filteredBlockPatterns.length&&(0,react.createElement)(panel,{title:(0,react.createElement)(visually_hidden_component.Z,null,(0,i18n_build_module.__)("Block patterns"))},(0,react.createElement)("div",{className:"block-editor-inserter__quick-inserter-patterns"},(0,react.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:filteredBlockPatterns,onClickPattern:onClickPattern,onHover:onHoverPattern,isDraggable:isDraggable})));return(0,react.createElement)(inserter_listbox,null,!showBlockDirectory&&!hasItems&&(0,react.createElement)(no_results,null),prioritizePatterns?patternsUI:blocksUI,!!filteredBlockTypes.length&&!!filteredBlockPatterns.length&&(0,react.createElement)("div",{className:"block-editor-inserter__quick-inserter-separator"}),prioritizePatterns?blocksUI:patternsUI,showBlockDirectory&&(0,react.createElement)(inserter_menu_extension.Slot,{fillProps:{onSelect:onSelectBlockType,onHover:onHover,filterValue:filterValue,hasItems:hasItems,rootClientId:destinationRootClientId}},(fills=>fills.length?fills:hasItems?null:(0,react.createElement)(no_results,null))))}InserterSearchResults.__docgenInfo={description:"",methods:[],displayName:"InserterSearchResults",props:{showBlockDirectory:{defaultValue:{value:"false",computed:!1},required:!1},isDraggable:{defaultValue:{value:"true",computed:!1},required:!1},shouldFocusBlock:{defaultValue:{value:"true",computed:!1},required:!1}}};var search_results=InserterSearchResults;const blocksTab={name:"blocks",title:(0,i18n_build_module.__)("Blocks")},patternsTab={name:"patterns",title:(0,i18n_build_module.__)("Patterns")},mediaTab={name:"media",title:(0,i18n_build_module.__)("Media")};function InserterTabs({children:children,showPatterns:showPatterns=!1,showMedia:showMedia=!1,onSelect:onSelect,prioritizePatterns:prioritizePatterns}){const tabs=(0,react.useMemo)((()=>{const tempTabs=[];return prioritizePatterns&&showPatterns&&tempTabs.push(patternsTab),tempTabs.push(blocksTab),!prioritizePatterns&&showPatterns&&tempTabs.push(patternsTab),showMedia&&tempTabs.push(mediaTab),tempTabs}),[prioritizePatterns,showPatterns,showMedia]);return(0,react.createElement)(tab_panel.Z,{className:"block-editor-inserter__tabs",tabs:tabs,onSelect:onSelect},children)}InserterTabs.__docgenInfo={description:"",methods:[],displayName:"InserterTabs",props:{showPatterns:{defaultValue:{value:"false",computed:!1},required:!1},showMedia:{defaultValue:{value:"false",computed:!1},required:!1}}};var tabs=InserterTabs;function InserterMenu({rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,onSelect:onSelect,showInserterHelpPanel:showInserterHelpPanel,showMostUsedBlocks:showMostUsedBlocks,__experimentalFilterValue:__experimentalFilterValue="",shouldFocusBlock:shouldFocusBlock=!0,prioritizePatterns:prioritizePatterns},ref){const[filterValue,setFilterValue,delayedFilterValue]=(0,use_debounced_input.Z)(__experimentalFilterValue),[hoveredItem,setHoveredItem]=(0,react.useState)(null),[selectedPatternCategory,setSelectedPatternCategory]=(0,react.useState)(null),[patternFilter,setPatternFilter]=(0,react.useState)("all"),[selectedMediaCategory,setSelectedMediaCategory]=(0,react.useState)(null),[selectedTab,setSelectedTab]=(0,react.useState)(null),[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]=use_insertion_point({rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock:shouldFocusBlock}),{showPatterns:showPatterns,inserterItems:inserterItems}=(0,use_select.Z)((select=>{const{__experimentalGetAllowedPatterns:__experimentalGetAllowedPatterns,getInserterItems:getInserterItems}=select(store);return{showPatterns:!!__experimentalGetAllowedPatterns(destinationRootClientId).length,inserterItems:getInserterItems(destinationRootClientId)}}),[destinationRootClientId]),hasReusableBlocks=(0,react.useMemo)((()=>inserterItems.some((({category:category})=>"reusable"===category))),[inserterItems]),showMedia=!!useMediaCategories(destinationRootClientId).length,onInsert=(0,react.useCallback)(((blocks,meta,shouldForceFocusBlock)=>{onInsertBlocks(blocks,meta,shouldForceFocusBlock),onSelect()}),[onInsertBlocks,onSelect]),onInsertPattern=(0,react.useCallback)(((blocks,patternName)=>{onInsertBlocks(blocks,{patternName:patternName}),onSelect()}),[onInsertBlocks,onSelect]),onHover=(0,react.useCallback)((item=>{onToggleInsertionPoint(!!item),setHoveredItem(item)}),[onToggleInsertionPoint,setHoveredItem]),onHoverPattern=(0,react.useCallback)((item=>{onToggleInsertionPoint(!!item)}),[onToggleInsertionPoint]),onClickPatternCategory=(0,react.useCallback)(((patternCategory,filter)=>{setSelectedPatternCategory(patternCategory),setPatternFilter(filter)}),[setSelectedPatternCategory]),blocksTab=(0,react.useMemo)((()=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)("div",{className:"block-editor-inserter__block-list"},(0,react.createElement)(block_types_tab,{rootClientId:destinationRootClientId,onInsert:onInsert,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks})),showInserterHelpPanel&&(0,react.createElement)("div",{className:"block-editor-inserter__tips"},(0,react.createElement)(visually_hidden_component.Z,{as:"h2"},(0,i18n_build_module.__)("A tip for using the block editor")),(0,react.createElement)(tips,null)))),[destinationRootClientId,onInsert,onHover,showMostUsedBlocks,showInserterHelpPanel]),patternsTab=(0,react.useMemo)((()=>(0,react.createElement)(block_patterns_tab,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onSelectCategory:onClickPatternCategory,selectedCategory:selectedPatternCategory})),[destinationRootClientId,onInsertPattern,onClickPatternCategory,selectedPatternCategory]),mediaTab=(0,react.useMemo)((()=>(0,react.createElement)(media_tab,{rootClientId:destinationRootClientId,selectedCategory:selectedMediaCategory,onSelectCategory:setSelectedMediaCategory,onInsert:onInsert})),[destinationRootClientId,onInsert,selectedMediaCategory,setSelectedMediaCategory]),getCurrentTab=(0,react.useCallback)((tab=>"blocks"===tab.name?blocksTab:"patterns"===tab.name?patternsTab:"media"===tab.name?mediaTab:void 0),[blocksTab,patternsTab,mediaTab]),searchRef=(0,react.useRef)();(0,react.useImperativeHandle)(ref,(()=>({focusSearch:()=>{searchRef.current.focus()}})));const showPatternPanel="patterns"===selectedTab&&!delayedFilterValue&&selectedPatternCategory,showAsTabs=!delayedFilterValue&&(showPatterns||hasReusableBlocks||showMedia),showMediaPanel="media"===selectedTab&&!delayedFilterValue&&selectedMediaCategory;return(0,react.createElement)("div",{className:"block-editor-inserter__menu"},(0,react.createElement)("div",{className:classnames_default()("block-editor-inserter__main-area",{"show-as-tabs":showAsTabs})},(0,react.createElement)(search_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",onChange:value=>{hoveredItem&&setHoveredItem(null),setFilterValue(value)},value:filterValue,label:(0,i18n_build_module.__)("Search for blocks and patterns"),placeholder:(0,i18n_build_module.__)("Search"),ref:searchRef}),!!delayedFilterValue&&(0,react.createElement)("div",{className:"block-editor-inserter__no-tab-container"},(0,react.createElement)(search_results,{filterValue:delayedFilterValue,onSelect:onSelect,onHover:onHover,onHoverPattern:onHoverPattern,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,showBlockDirectory:!0,shouldFocusBlock:shouldFocusBlock})),showAsTabs&&(0,react.createElement)(tabs,{showPatterns:showPatterns,showReusableBlocks:hasReusableBlocks,showMedia:showMedia,prioritizePatterns:prioritizePatterns,onSelect:value=>{"patterns"!==value&&setSelectedPatternCategory(null),setSelectedTab(value)}},getCurrentTab),!delayedFilterValue&&!showAsTabs&&(0,react.createElement)("div",{className:"block-editor-inserter__no-tab-container"},blocksTab)),showMediaPanel&&(0,react.createElement)(MediaCategoryDialog,{rootClientId:destinationRootClientId,onInsert:onInsert,category:selectedMediaCategory}),showInserterHelpPanel&&hoveredItem&&(0,react.createElement)(popover.ZP,{className:"block-editor-inserter__preview-container__popover",placement:"right-start",offset:16,focusOnMount:!1,animate:!1},(0,react.createElement)(preview_panel,{item:hoveredItem})),showPatternPanel&&(0,react.createElement)(PatternCategoryPreviewPanel,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onHover:onHoverPattern,category:selectedPatternCategory,patternFilter:patternFilter,showTitlesAsTooltip:!0}))}InserterMenu.__docgenInfo={description:"",methods:[],displayName:"InserterMenu",props:{__experimentalFilterValue:{defaultValue:{value:"''",computed:!1},required:!1},shouldFocusBlock:{defaultValue:{value:"true",computed:!1},required:!1}}};var inserter_menu=(0,react.forwardRef)(InserterMenu);function QuickInserter({onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert}){const[filterValue,setFilterValue]=(0,react.useState)(""),[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,selectBlockOnInsert:selectBlockOnInsert}),[blockTypes]=use_block_types_state(destinationRootClientId,onInsertBlocks),[patterns]=use_patterns_state(onInsertBlocks,destinationRootClientId),{setInserterIsOpened:setInserterIsOpened,insertionIndex:insertionIndex}=(0,use_select.Z)((select=>{const{getSettings:getSettings,getBlockIndex:getBlockIndex,getBlockCount:getBlockCount}=select(store),settings=getSettings(),index=getBlockIndex(clientId),blockCount=getBlockCount();return{setInserterIsOpened:settings.__experimentalSetIsInserterOpened,insertionIndex:-1===index?blockCount:index}}),[clientId]),showPatterns=patterns.length&&(!!filterValue||prioritizePatterns),showSearch=showPatterns&&patterns.length>6||blockTypes.length>6;(0,react.useEffect)((()=>{setInserterIsOpened&&setInserterIsOpened(!1)}),[setInserterIsOpened]);let maxBlockPatterns=0;return showPatterns&&(maxBlockPatterns=prioritizePatterns?4:2),(0,react.createElement)("div",{className:classnames_default()("block-editor-inserter__quick-inserter",{"has-search":showSearch,"has-expand":setInserterIsOpened})},showSearch&&(0,react.createElement)(search_control.Z,{__nextHasNoMarginBottom:!0,className:"block-editor-inserter__search",value:filterValue,onChange:value=>{setFilterValue(value)},label:(0,i18n_build_module.__)("Search for blocks and patterns"),placeholder:(0,i18n_build_module.__)("Search")}),(0,react.createElement)("div",{className:"block-editor-inserter__quick-inserter-results"},(0,react.createElement)(search_results,{filterValue:filterValue,onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,maxBlockPatterns:maxBlockPatterns,maxBlockTypes:6,isDraggable:!1,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert})),setInserterIsOpened&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inserter__quick-inserter-expand",onClick:()=>{setInserterIsOpened({rootClientId:rootClientId,insertionIndex:insertionIndex,filterValue:filterValue})},"aria-label":(0,i18n_build_module.__)("Browse all. This will open the main inserter panel in the editor toolbar.")},(0,i18n_build_module.__)("Browse all")))}QuickInserter.__docgenInfo={description:"",methods:[],displayName:"QuickInserter"};const defaultRenderToggle=({onToggle:onToggle,disabled:disabled,isOpen:isOpen,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType,toggleProps:toggleProps={},prioritizePatterns:prioritizePatterns})=>{const{as:Wrapper=build_module_button.ZP,label:labelProp,onClick:onClick,...rest}=toggleProps;let label=labelProp;return!label&&hasSingleBlockType?label=(0,i18n_build_module.gB)((0,i18n_build_module._x)("Add %s","directly add the only allowed block"),blockTitle):!label&&prioritizePatterns?label=(0,i18n_build_module.__)("Add pattern"):label||(label=(0,i18n_build_module._x)("Add block","Generic label for block inserter button")),(0,react.createElement)(Wrapper,{icon:plus.Z,label:label,tooltipPosition:"bottom",onClick:function handleClick(event){onToggle&&onToggle(event),onClick&&onClick(event)},className:"block-editor-inserter__toggle","aria-haspopup":!hasSingleBlockType&&"true","aria-expanded":!hasSingleBlockType&&isOpen,disabled:disabled,...rest})};class PrivateInserter extends react.Component{constructor(){super(...arguments),this.onToggle=this.onToggle.bind(this),this.renderToggle=this.renderToggle.bind(this),this.renderContent=this.renderContent.bind(this)}onToggle(isOpen){const{onToggle:onToggle}=this.props;onToggle&&onToggle(isOpen)}renderToggle({onToggle:onToggle,isOpen:isOpen}){const{disabled:disabled,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType,directInsertBlock:directInsertBlock,toggleProps:toggleProps,hasItems:hasItems,renderToggle:renderToggle=defaultRenderToggle,prioritizePatterns:prioritizePatterns}=this.props;return renderToggle({onToggle:onToggle,isOpen:isOpen,disabled:disabled||!hasItems,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType,directInsertBlock:directInsertBlock,toggleProps:toggleProps,prioritizePatterns:prioritizePatterns})}renderContent({onClose:onClose}){const{rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,__experimentalIsQuick:isQuick,prioritizePatterns:prioritizePatterns,onSelectOrClose:onSelectOrClose,selectBlockOnInsert:selectBlockOnInsert}=this.props;return isQuick?(0,react.createElement)(QuickInserter,{onSelect:blocks=>{const firstBlock=Array.isArray(blocks)&&blocks?.length?blocks[0]:blocks;onSelectOrClose&&"function"==typeof onSelectOrClose&&onSelectOrClose(firstBlock),onClose()},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,prioritizePatterns:prioritizePatterns,selectBlockOnInsert:selectBlockOnInsert}):(0,react.createElement)(inserter_menu,{onSelect:()=>{onClose()},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,prioritizePatterns:prioritizePatterns})}render(){const{position:position,hasSingleBlockType:hasSingleBlockType,directInsertBlock:directInsertBlock,insertOnlyAllowedBlock:insertOnlyAllowedBlock,__experimentalIsQuick:isQuick,onSelectOrClose:onSelectOrClose}=this.props;return hasSingleBlockType||directInsertBlock?this.renderToggle({onToggle:insertOnlyAllowedBlock}):(0,react.createElement)(dropdown.Z,{className:"block-editor-inserter",contentClassName:classnames_default()("block-editor-inserter__popover",{"is-quick":isQuick}),popoverProps:{position:position,shift:!0},onToggle:this.onToggle,expandOnMobile:!0,headerTitle:(0,i18n_build_module.__)("Add a block"),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:onSelectOrClose})}}PrivateInserter.displayName="PrivateInserter";const ComposedPrivateInserter=(0,compose.Z)([(0,with_select.Z)(((select,{clientId:clientId,rootClientId:rootClientId,shouldDirectInsert:shouldDirectInsert=!0})=>{const{getBlockRootClientId:getBlockRootClientId,hasInserterItems:hasInserterItems,getAllowedBlocks:getAllowedBlocks,getDirectInsertBlock:getDirectInsertBlock,getSettings:getSettings}=select(store),{getBlockVariations:getBlockVariations}=select(build_module.h),allowedBlocks=getAllowedBlocks(rootClientId=rootClientId||getBlockRootClientId(clientId)||void 0),directInsertBlock=shouldDirectInsert&&getDirectInsertBlock(rootClientId),settings=getSettings(),hasSingleBlockType=1===allowedBlocks?.length&&0===getBlockVariations(allowedBlocks[0].name,"inserter")?.length;let allowedBlockType=!1;return hasSingleBlockType&&(allowedBlockType=allowedBlocks[0]),{hasItems:hasInserterItems(rootClientId),hasSingleBlockType:hasSingleBlockType,blockTitle:allowedBlockType?allowedBlockType.title:"",allowedBlockType:allowedBlockType,directInsertBlock:directInsertBlock,rootClientId:rootClientId,prioritizePatterns:settings.__experimentalPreferPatternsOnRoot&&!rootClientId}})),(0,with_dispatch.Z)(((dispatch,ownProps,{select:select})=>({insertOnlyAllowedBlock(){const{rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,hasSingleBlockType:hasSingleBlockType,allowedBlockType:allowedBlockType,directInsertBlock:directInsertBlock,onSelectOrClose:onSelectOrClose,selectBlockOnInsert:selectBlockOnInsert}=ownProps;if(!hasSingleBlockType&&!directInsertBlock)return;const{insertBlock:insertBlock}=dispatch(store);let blockToInsert;if(directInsertBlock){const newAttributes=function getAdjacentBlockAttributes(attributesToCopy){const{getBlock:getBlock,getPreviousBlockClientId:getPreviousBlockClientId}=select(store);if(!attributesToCopy||!clientId&&!rootClientId)return{};const result={};let adjacentAttributes={};if(clientId){const currentBlock=getBlock(clientId),previousBlock=getBlock(getPreviousBlockClientId(clientId));currentBlock?.name===previousBlock?.name&&(adjacentAttributes=previousBlock?.attributes||{})}else{const parentBlock=getBlock(rootClientId);if(parentBlock?.innerBlocks?.length){const lastInnerBlock=parentBlock.innerBlocks[parentBlock.innerBlocks.length-1];directInsertBlock&&directInsertBlock?.name===lastInnerBlock.name&&(adjacentAttributes=lastInnerBlock.attributes)}}return attributesToCopy.forEach((attribute=>{adjacentAttributes.hasOwnProperty(attribute)&&(result[attribute]=adjacentAttributes[attribute])})),result}(directInsertBlock.attributesToCopy);blockToInsert=(0,build_module.j4)(directInsertBlock.name,{...directInsertBlock.attributes||{},...newAttributes})}else blockToInsert=(0,build_module.j4)(allowedBlockType.name);insertBlock(blockToInsert,function getInsertionIndex(){const{getBlockIndex:getBlockIndex,getBlockSelectionEnd:getBlockSelectionEnd,getBlockOrder:getBlockOrder,getBlockRootClientId:getBlockRootClientId}=select(store);if(clientId)return getBlockIndex(clientId);const end=getBlockSelectionEnd();return!isAppender&&end&&getBlockRootClientId(end)===rootClientId?getBlockIndex(end)+1:getBlockOrder(rootClientId).length}(),rootClientId,selectBlockOnInsert),onSelectOrClose&&onSelectOrClose({clientId:blockToInsert?.clientId});const message=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s block added"),allowedBlockType.title);(0,a11y_build_module.D)(message)}}))),(0,if_condition.Z)((({hasItems:hasItems,isAppender:isAppender,rootClientId:rootClientId,clientId:clientId})=>hasItems||!isAppender&&!rootClientId&&!clientId))])(PrivateInserter);var inserter=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(ComposedPrivateInserter,{ref:ref,...props})));PrivateInserter.__docgenInfo={description:"",methods:[{name:"onToggle",docblock:null,modifiers:[],params:[{name:"isOpen",type:null}],returns:null},{name:"renderToggle",docblock:"Render callback to display Dropdown toggle element.\n\n@param {Object}   options\n@param {Function} options.onToggle Callback to invoke when toggle is\n                                   pressed.\n@param {boolean}  options.isOpen   Whether dropdown is currently open.\n\n@return {Element} Dropdown toggle element.",modifiers:[],params:[{name:"{\n  onToggle,\n  isOpen\n}"}],returns:{description:"Dropdown toggle element.",type:{name:"Element"}},description:"Render callback to display Dropdown toggle element."},{name:"renderContent",docblock:"Render callback to display Dropdown content element.\n\n@param {Object}   options\n@param {Function} options.onClose Callback to invoke when dropdown is\n                                  closed.\n\n@return {Element} Dropdown content element.",modifiers:[],params:[{name:"{\n  onClose\n}"}],returns:{description:"Dropdown content element.",type:{name:"Element"}},description:"Render callback to display Dropdown content element."}],displayName:"PrivateInserter"};function DefaultBlockAppender({isLocked:isLocked,onAppend:onAppend,showPrompt:showPrompt,placeholder:placeholder,rootClientId:rootClientId}){if(isLocked)return null;const value=(0,html_entities_build_module.S)(placeholder)||(0,i18n_build_module.__)("Type / to choose a block");return(0,react.createElement)("div",{"data-root-client-id":rootClientId||"",className:classnames_default()("block-editor-default-block-appender",{"has-visible-prompt":showPrompt})},(0,react.createElement)("p",{tabIndex:"0",role:"button","aria-label":(0,i18n_build_module.__)("Add default block"),className:"block-editor-default-block-appender__content",onKeyDown:event=>{keycodes_build_module.K5!==event.keyCode&&keycodes_build_module.L_!==event.keyCode||onAppend()},onClick:()=>onAppend(),onFocus:()=>{showPrompt&&onAppend()}},showPrompt?value:"\ufeff"),(0,react.createElement)(inserter,{rootClientId:rootClientId,position:"bottom right",isAppender:!0,__experimentalIsQuick:!0}))}DefaultBlockAppender.__docgenInfo={description:"",methods:[],displayName:"DefaultBlockAppender"};var default_block_appender=(0,compose.Z)((0,with_select.Z)(((select,ownProps)=>{const{getBlockCount:getBlockCount,getSettings:getSettings,getTemplateLock:getTemplateLock}=select(store),isEmpty=!getBlockCount(ownProps.rootClientId),{bodyPlaceholder:bodyPlaceholder}=getSettings();return{showPrompt:isEmpty,isLocked:!!getTemplateLock(ownProps.rootClientId),placeholder:bodyPlaceholder}})),(0,with_dispatch.Z)(((dispatch,ownProps)=>{const{insertDefaultBlock:insertDefaultBlock,startTyping:startTyping}=dispatch(store);return{onAppend(){const{rootClientId:rootClientId}=ownProps;insertDefaultBlock(void 0,rootClientId),startTyping()}}})))(DefaultBlockAppender);function ButtonBlockAppender({rootClientId:rootClientId,className:className,onFocus:onFocus,tabIndex:tabIndex},ref){return(0,react.createElement)(inserter,{position:"bottom center",rootClientId:rootClientId,__experimentalIsQuick:!0,renderToggle:({onToggle:onToggle,disabled:disabled,isOpen:isOpen,blockTitle:blockTitle,hasSingleBlockType:hasSingleBlockType})=>{let label;label=hasSingleBlockType?(0,i18n_build_module.gB)((0,i18n_build_module._x)("Add %s","directly add the only allowed block"),blockTitle):(0,i18n_build_module._x)("Add block","Generic label for block inserter button");const isToggleButton=!hasSingleBlockType;let inserterButton=(0,react.createElement)(build_module_button.ZP,{ref:ref,onFocus:onFocus,tabIndex:tabIndex,className:classnames_default()(className,"block-editor-button-block-appender"),onClick:onToggle,"aria-haspopup":isToggleButton?"true":void 0,"aria-expanded":isToggleButton?isOpen:void 0,disabled:disabled,label:label},!hasSingleBlockType&&(0,react.createElement)(visually_hidden_component.Z,{as:"span"},label),(0,react.createElement)(build_module_icon.Z,{icon:plus.Z}));return(isToggleButton||hasSingleBlockType)&&(inserterButton=(0,react.createElement)(tooltip.Z,{text:label},inserterButton)),inserterButton},isAppender:!0})}(0,react.forwardRef)(((props,ref)=>((0,deprecated_build_module.Z)("wp.blockEditor.ButtonBlockerAppender",{alternative:"wp.blockEditor.ButtonBlockAppender",since:"5.9"}),ButtonBlockAppender(props,ref))));ButtonBlockAppender.__docgenInfo={description:"",methods:[],displayName:"ButtonBlockAppender"};var button_block_appender=(0,react.forwardRef)(ButtonBlockAppender);function DefaultAppender({rootClientId:rootClientId}){return(0,use_select.Z)((select=>select(store).canInsertBlockType((0,build_module.UT)(),rootClientId)))?(0,react.createElement)(default_block_appender,{rootClientId:rootClientId}):(0,react.createElement)(button_block_appender,{rootClientId:rootClientId,className:"block-list-appender__toggle"})}function BlockListAppender({rootClientId:rootClientId,renderAppender:renderAppender,className:className,tagName:TagName="div"}){return!1===renderAppender?null:(0,react.createElement)(BlockListAppenderInner,{rootClientId:rootClientId,renderAppender:renderAppender,className:className,tagName:TagName})}function BlockListAppenderInner({rootClientId:rootClientId,renderAppender:renderAppender,className:className,tagName:TagName}){const appender=function useAppender(rootClientId,CustomAppender){const isVisible=(0,use_select.Z)((select=>{const{getTemplateLock:getTemplateLock,getSelectedBlockClientId:getSelectedBlockClientId,__unstableGetEditorMode:__unstableGetEditorMode,getBlockEditingMode:getBlockEditingMode}=select(store);if(!CustomAppender){const selectedBlockClientId=getSelectedBlockClientId();if(rootClientId!==selectedBlockClientId&&(rootClientId||selectedBlockClientId))return!1}return!getTemplateLock(rootClientId)&&"disabled"!==getBlockEditingMode(rootClientId)&&"zoom-out"!==__unstableGetEditorMode()}),[rootClientId,CustomAppender]);return isVisible?CustomAppender?(0,react.createElement)(CustomAppender,null):(0,react.createElement)(DefaultAppender,{rootClientId:rootClientId}):null}(rootClientId,renderAppender),isDragOver=(0,use_select.Z)((select=>{const{getBlockInsertionPoint:getBlockInsertionPoint,isBlockInsertionPointVisible:isBlockInsertionPointVisible,getBlockCount:getBlockCount}=select(store),insertionPoint=getBlockInsertionPoint();return isBlockInsertionPointVisible()&&rootClientId===insertionPoint?.rootClientId&&0===getBlockCount(rootClientId)}),[rootClientId]);return appender?(0,react.createElement)(TagName,{tabIndex:-1,className:classnames_default()("block-list-appender wp-block",className,{"is-drag-over":isDragOver}),contentEditable:!1,"data-block":!0},appender):null}BlockListAppender.__docgenInfo={description:"",methods:[],displayName:"BlockListAppender",props:{tagName:{defaultValue:{value:"'div'",computed:!1},required:!1}}};var block_list_appender=BlockListAppender;const inbetween_MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;(0,react.createContext)();function BlockPopoverInbetween({previousClientId:previousClientId,nextClientId:nextClientId,children:children,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,...props}){const[popoverRecomputeCounter,forcePopoverRecompute]=(0,react.useReducer)((s=>(s+1)%inbetween_MAX_POPOVER_RECOMPUTE_COUNTER),0),{orientation:orientation,rootClientId:rootClientId,isVisible:isVisible}=(0,use_select.Z)((select=>{const{getBlockListSettings:getBlockListSettings,getBlockRootClientId:getBlockRootClientId,isBlockVisible:isBlockVisible}=select(store),_rootClientId=getBlockRootClientId(null!=previousClientId?previousClientId:nextClientId);return{orientation:getBlockListSettings(_rootClientId)?.orientation||"vertical",rootClientId:_rootClientId,isVisible:isBlockVisible(previousClientId)&&isBlockVisible(nextClientId)}}),[previousClientId,nextClientId]),previousElement=useBlockElement(previousClientId),nextElement=useBlockElement(nextClientId),isVertical="vertical"===orientation,popoverAnchor=(0,react.useMemo)((()=>{if(popoverRecomputeCounter<0||!previousElement&&!nextElement||!isVisible)return;return{contextElement:previousElement||nextElement,getBoundingClientRect(){const previousRect=previousElement?previousElement.getBoundingClientRect():null,nextRect=nextElement?nextElement.getBoundingClientRect():null;let left=0,top=0,width=0,height=0;return isVertical?(top=previousRect?previousRect.bottom:nextRect.top,width=previousRect?previousRect.width:nextRect.width,height=nextRect&&previousRect?nextRect.top-previousRect.bottom:0,left=previousRect?previousRect.left:nextRect.left):(top=previousRect?previousRect.top:nextRect.top,height=previousRect?previousRect.height:nextRect.height,(0,i18n_build_module.dZ)()?(left=nextRect?nextRect.right:previousRect.left,width=previousRect&&nextRect?previousRect.left-nextRect.right:0):(left=previousRect?previousRect.right:nextRect.left,width=previousRect&&nextRect?nextRect.left-previousRect.right:0)),new window.DOMRect(left,top,width,height)}}}),[previousElement,nextElement,popoverRecomputeCounter,isVertical,isVisible]),popoverScrollRef=use_popover_scroll(__unstableContentRef);return(0,react.useLayoutEffect)((()=>{if(!previousElement)return;const observer=new window.MutationObserver(forcePopoverRecompute);return observer.observe(previousElement,{attributes:!0}),()=>{observer.disconnect()}}),[previousElement]),(0,react.useLayoutEffect)((()=>{if(!nextElement)return;const observer=new window.MutationObserver(forcePopoverRecompute);return observer.observe(nextElement,{attributes:!0}),()=>{observer.disconnect()}}),[nextElement]),(0,react.useLayoutEffect)((()=>{if(previousElement)return previousElement.ownerDocument.defaultView.addEventListener("resize",forcePopoverRecompute),()=>{previousElement.ownerDocument.defaultView?.removeEventListener("resize",forcePopoverRecompute)}}),[previousElement]),(previousElement||nextElement)&&isVisible?(0,react.createElement)(popover.ZP,{ref:popoverScrollRef,animate:!1,anchor:popoverAnchor,focusOnMount:!1,__unstableSlotName:__unstablePopoverSlot,inline:!__unstablePopoverSlot,key:nextClientId+"--"+rootClientId,...props,className:classnames_default()("block-editor-block-popover","block-editor-block-popover__inbetween",props.className),resize:!1,flip:!1,placement:"overlay",variant:"unstyled"},(0,react.createElement)("div",{className:"block-editor-block-popover__inbetween-container"},children)):null}BlockPopoverInbetween.__docgenInfo={description:"",methods:[],displayName:"BlockPopoverInbetween"};var inbetween=BlockPopoverInbetween;const animateVariants={hide:{opacity:0,scaleY:.75},show:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:.9}};function BlockDropZonePopover({__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef}){const{clientId:clientId}=(0,use_select.Z)((select=>{const{getBlockOrder:getBlockOrder,getBlockInsertionPoint:getBlockInsertionPoint}=select(store),insertionPoint=getBlockInsertionPoint(),order=getBlockOrder(insertionPoint.rootClientId);return order.length?{clientId:order[insertionPoint.index]}:{}}),[]),reducedMotion=(0,use_reduced_motion.Z)();return(0,react.createElement)(block_popover,{clientId:clientId,__unstableCoverTarget:!0,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,className:"block-editor-block-popover__drop-zone"},(0,react.createElement)(motion.E.div,{"data-testid":"block-popover-drop-zone",initial:reducedMotion?animateVariants.show:animateVariants.hide,animate:animateVariants.show,exit:reducedMotion?animateVariants.show:animateVariants.exit,className:"block-editor-block-popover__drop-zone-foreground"}))}BlockDropZonePopover.__docgenInfo={description:"",methods:[],displayName:"BlockDropZonePopover"};var block_popover_drop_zone=BlockDropZonePopover;const insertion_point_InsertionPointOpenRef=(0,react.createContext)();function InbetweenInsertionPointPopover({__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef}){const{selectBlock:selectBlock,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store),openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),ref=(0,react.useRef)(),{orientation:orientation,previousClientId:previousClientId,nextClientId:nextClientId,rootClientId:rootClientId,isInserterShown:isInserterShown,isDistractionFree:isDistractionFree,isNavigationMode:isNavigationMode}=(0,use_select.Z)((select=>{const{getBlockOrder:getBlockOrder,getBlockListSettings:getBlockListSettings,getBlockInsertionPoint:getBlockInsertionPoint,isBlockBeingDragged:isBlockBeingDragged,getPreviousBlockClientId:getPreviousBlockClientId,getNextBlockClientId:getNextBlockClientId,getSettings:getSettings,isNavigationMode:_isNavigationMode}=select(store),insertionPoint=getBlockInsertionPoint(),order=getBlockOrder(insertionPoint.rootClientId);if(!order.length)return{};let _previousClientId=order[insertionPoint.index-1],_nextClientId=order[insertionPoint.index];for(;isBlockBeingDragged(_previousClientId);)_previousClientId=getPreviousBlockClientId(_previousClientId);for(;isBlockBeingDragged(_nextClientId);)_nextClientId=getNextBlockClientId(_nextClientId);const settings=getSettings();return{previousClientId:_previousClientId,nextClientId:_nextClientId,orientation:getBlockListSettings(insertionPoint.rootClientId)?.orientation||"vertical",rootClientId:insertionPoint.rootClientId,isNavigationMode:_isNavigationMode(),isDistractionFree:settings.isDistractionFree,isInserterShown:insertionPoint?.__unstableWithInserter}}),[]),disableMotion=(0,use_reduced_motion.Z)();const lineVariants={start:{opacity:0,scale:0},rest:{opacity:1,scale:1,transition:{delay:isInserterShown?.5:0,type:"tween"}},hover:{opacity:1,scale:1,transition:{delay:.5,type:"tween"}}},inserterVariants={start:{scale:disableMotion?1:0},rest:{scale:1,transition:{delay:.4,type:"tween"}}};if(isDistractionFree&&!isNavigationMode)return null;const className=classnames_default()("block-editor-block-list__insertion-point","is-"+orientation);return(0,react.createElement)(inbetween,{previousClientId:previousClientId,nextClientId:nextClientId,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef},(0,react.createElement)(motion.E.div,{layout:!disableMotion,initial:disableMotion?"rest":"start",animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref:ref,tabIndex:-1,onClick:function onClick(event){event.target===ref.current&&nextClientId&&selectBlock(nextClientId,-1)},onFocus:function onFocus(event){event.target!==ref.current&&(openRef.current=!0)},className:classnames_default()(className,{"is-with-inserter":isInserterShown}),onHoverEnd:function maybeHideInserterPoint(event){event.target!==ref.current||openRef.current||hideInsertionPoint()}},(0,react.createElement)(motion.E.div,{variants:lineVariants,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),isInserterShown&&(0,react.createElement)(motion.E.div,{variants:inserterVariants,className:classnames_default()("block-editor-block-list__insertion-point-inserter")},(0,react.createElement)(inserter,{position:"bottom center",clientId:nextClientId,rootClientId:rootClientId,__experimentalIsQuick:!0,onToggle:isOpen=>{openRef.current=isOpen},onSelectOrClose:()=>{openRef.current=!1}}))))}function InsertionPoint(props){const{insertionPoint:insertionPoint,isVisible:isVisible,isBlockListEmpty:isBlockListEmpty}=(0,use_select.Z)((select=>{const{getBlockInsertionPoint:getBlockInsertionPoint,isBlockInsertionPointVisible:isBlockInsertionPointVisible,getBlockCount:getBlockCount}=select(store),blockInsertionPoint=getBlockInsertionPoint();return{insertionPoint:blockInsertionPoint,isVisible:isBlockInsertionPointVisible(),isBlockListEmpty:0===getBlockCount(blockInsertionPoint?.rootClientId)}}),[]);return!isVisible||isBlockListEmpty?null:"replace"===insertionPoint.operation?(0,react.createElement)(block_popover_drop_zone,{key:`${insertionPoint.rootClientId}-${insertionPoint.index}`,...props}):(0,react.createElement)(InbetweenInsertionPointPopover,{...props})}function useInBetweenInserter(){const openRef=(0,react.useContext)(insertion_point_InsertionPointOpenRef),isInBetweenInserterDisabled=(0,use_select.Z)((select=>select(store).getSettings().isDistractionFree||"zoom-out"===select(store).__unstableGetEditorMode()),[]),{getBlockListSettings:getBlockListSettings,getBlockIndex:getBlockIndex,isMultiSelecting:isMultiSelecting,getSelectedBlockClientIds:getSelectedBlockClientIds,getTemplateLock:getTemplateLock,__unstableIsWithinBlockOverlay:__unstableIsWithinBlockOverlay,getBlockEditingMode:getBlockEditingMode}=(0,use_select.Z)(store),{showInsertionPoint:showInsertionPoint,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{if(!isInBetweenInserterDisabled)return node.addEventListener("mousemove",onMouseMove),()=>{node.removeEventListener("mousemove",onMouseMove)};function onMouseMove(event){if(openRef.current)return;if(event.target.nodeType===event.target.TEXT_NODE)return;if(isMultiSelecting())return;if(!event.target.classList.contains("block-editor-block-list__layout"))return void hideInsertionPoint();let rootClientId;if(!event.target.classList.contains("is-root-container")){rootClientId=(event.target.getAttribute("data-block")?event.target:event.target.closest("[data-block]")).getAttribute("data-block")}if(getTemplateLock(rootClientId)||"disabled"===getBlockEditingMode(rootClientId))return;const orientation=getBlockListSettings(rootClientId)?.orientation||"vertical",offsetTop=event.clientY,offsetLeft=event.clientX;let element=Array.from(event.target.children).find((blockEl=>{const blockElRect=blockEl.getBoundingClientRect();return blockEl.classList.contains("wp-block")&&"vertical"===orientation&&blockElRect.top>offsetTop||blockEl.classList.contains("wp-block")&&"horizontal"===orientation&&((0,i18n_build_module.dZ)()?blockElRect.right<offsetLeft:blockElRect.left>offsetLeft)}));if(!element)return void hideInsertionPoint();if(!element.id&&(element=element.firstElementChild,!element))return void hideInsertionPoint();const clientId=element.id.slice(6);if(!clientId||__unstableIsWithinBlockOverlay(clientId))return;if(getSelectedBlockClientIds().includes(clientId))return;const elementRect=element.getBoundingClientRect();if("horizontal"===orientation&&(event.clientY>elementRect.bottom||event.clientY<elementRect.top)||"vertical"===orientation&&(event.clientX>elementRect.right||event.clientX<elementRect.left))return void hideInsertionPoint();const index=getBlockIndex(clientId);0!==index?showInsertionPoint(rootClientId,index,{__unstableWithInserter:!0}):hideInsertionPoint()}}),[openRef,getBlockListSettings,getBlockIndex,isMultiSelecting,showInsertionPoint,hideInsertionPoint,getSelectedBlockClientIds,isInBetweenInserterDisabled])}InsertionPoint.__docgenInfo={description:"",methods:[],displayName:"InsertionPoint"};var with_client_id=(0,create_higher_order_component.o)((WrappedComponent=>props=>{const{clientId:clientId}=useBlockEditContext();return(0,react.createElement)(WrappedComponent,{...props,clientId:clientId})}),"withClientId");const button_block_appender_ButtonBlockAppender=({clientId:clientId,showSeparator:showSeparator,isFloating:isFloating,onAddBlock:onAddBlock,isToggle:isToggle})=>(0,react.createElement)(button_block_appender,{className:classnames_default()({"block-list-appender__toggle":isToggle}),rootClientId:clientId,showSeparator:showSeparator,isFloating:isFloating,onAddBlock:onAddBlock});button_block_appender_ButtonBlockAppender.__docgenInfo={description:"",methods:[],displayName:"ButtonBlockAppender"};var inner_blocks_button_block_appender=with_client_id(button_block_appender_ButtonBlockAppender);const default_block_appender_DefaultBlockAppender=({clientId:clientId})=>(0,react.createElement)(default_block_appender,{rootClientId:clientId});default_block_appender_DefaultBlockAppender.__docgenInfo={description:"",methods:[],displayName:"DefaultBlockAppender"};var inner_blocks_default_block_appender=(0,compose.Z)([with_client_id,(0,with_select.Z)(((select,{clientId:clientId})=>{const{getBlockOrder:getBlockOrder}=select(store),blockClientIds=getBlockOrder(clientId);return{lastBlockClientId:blockClientIds[blockClientIds.length-1]}}))])(default_block_appender_DefaultBlockAppender);const pendingSettingsUpdates=new WeakMap;function useNestedSettingsUpdate(clientId,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout){const{updateBlockListSettings:updateBlockListSettings}=(0,use_dispatch.Z)(store),registry=(0,use_registry.Z)(),{parentLock:parentLock}=(0,use_select.Z)((select=>{const rootClientId=select(store).getBlockRootClientId(clientId);return{parentLock:select(store).getTemplateLock(rootClientId)}}),[clientId]),_allowedBlocks=function useShallowMemo(value){const[prevValue,setPrevValue]=(0,react.useState)(value);return(0,is_shallow_equal_build_module.ZP)(prevValue,value)||setPrevValue(value),prevValue}(allowedBlocks),_prioritizedInserterBlocks=(0,react.useMemo)((()=>prioritizedInserterBlocks),prioritizedInserterBlocks),_templateLock=void 0===templateLock||"contentOnly"===parentLock?parentLock:templateLock;(0,react.useLayoutEffect)((()=>{const newSettings={allowedBlocks:_allowedBlocks,prioritizedInserterBlocks:_prioritizedInserterBlocks,templateLock:_templateLock};if(void 0!==captureToolbars&&(newSettings.__experimentalCaptureToolbars=captureToolbars),void 0!==orientation)newSettings.orientation=orientation;else{const layoutType=getLayoutType(layout?.type);newSettings.orientation=layoutType.getOrientation(layout)}void 0!==__experimentalDefaultBlock&&((0,deprecated_build_module.Z)("__experimentalDefaultBlock",{alternative:"defaultBlock",since:"6.3",version:"6.4"}),newSettings.defaultBlock=__experimentalDefaultBlock),void 0!==defaultBlock&&(newSettings.defaultBlock=defaultBlock),void 0!==__experimentalDirectInsert&&((0,deprecated_build_module.Z)("__experimentalDirectInsert",{alternative:"directInsert",since:"6.3",version:"6.4"}),newSettings.directInsert=__experimentalDirectInsert),void 0!==directInsert&&(newSettings.directInsert=directInsert),pendingSettingsUpdates.get(registry)||pendingSettingsUpdates.set(registry,[]),pendingSettingsUpdates.get(registry).push([clientId,newSettings]),window.queueMicrotask((()=>{pendingSettingsUpdates.get(registry)?.length&&registry.batch((()=>{pendingSettingsUpdates.get(registry).forEach((args=>{updateBlockListSettings(...args)})),pendingSettingsUpdates.set(registry,[])}))}))}),[clientId,_allowedBlocks,_prioritizedInserterBlocks,_templateLock,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,captureToolbars,orientation,updateBlockListSettings,layout,registry])}var use_throttle=__webpack_require__("./packages/compose/build-module/hooks/use-throttle/index.js"),use_drop_zone=__webpack_require__("./packages/compose/build-module/hooks/use-drop-zone/index.js");function onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock){return event=>{const{srcRootClientId:sourceRootClientId,srcClientIds:sourceClientIds,type:dropType,blocks:blocks}=function parseDropEvent(event){let result={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!event.dataTransfer)return result;try{result=Object.assign(result,JSON.parse(event.dataTransfer.getData("wp-blocks")))}catch(err){return result}return result}(event);if("inserter"===dropType){clearSelectedBlock();const blocksToInsert=blocks.map((block=>(0,build_module.Wm)(block)));insertOrReplaceBlocks(blocksToInsert,!0,null)}if("block"===dropType){const sourceBlockIndex=getBlockIndex(sourceClientIds[0]);if(sourceRootClientId===targetRootClientId&&sourceBlockIndex===targetBlockIndex)return;if(sourceClientIds.includes(targetRootClientId)||getClientIdsOfDescendants(sourceClientIds).some((id=>id===targetRootClientId)))return;const isAtSameLevel=sourceRootClientId===targetRootClientId,draggedBlockCount=sourceClientIds.length;moveBlocks(sourceClientIds,sourceRootClientId,isAtSameLevel&&sourceBlockIndex<targetBlockIndex?targetBlockIndex-draggedBlockCount:targetBlockIndex)}}}function useOnBlockDrop(targetRootClientId,targetBlockIndex,options={}){const{operation:operation="insert"}=options,hasUploadPermissions=(0,use_select.Z)((select=>select(store).getSettings().mediaUpload),[]),{canInsertBlockType:canInsertBlockType,getBlockIndex:getBlockIndex,getClientIdsOfDescendants:getClientIdsOfDescendants,getBlockOrder:getBlockOrder,getBlocksByClientId:getBlocksByClientId}=(0,use_select.Z)(store),{insertBlocks:insertBlocks,moveBlocksToPosition:moveBlocksToPosition,updateBlockAttributes:updateBlockAttributes,clearSelectedBlock:clearSelectedBlock,replaceBlocks:replaceBlocks,removeBlocks:removeBlocks}=(0,use_dispatch.Z)(store),registry=(0,use_registry.Z)(),insertOrReplaceBlocks=(0,react.useCallback)(((blocks,updateSelection=!0,initialPosition=0)=>{if("replace"===operation){const clientId=getBlockOrder(targetRootClientId)[targetBlockIndex];replaceBlocks(clientId,blocks,void 0,initialPosition)}else insertBlocks(blocks,targetBlockIndex,targetRootClientId,updateSelection,initialPosition)}),[operation,getBlockOrder,insertBlocks,replaceBlocks,targetBlockIndex,targetRootClientId]),moveBlocks=(0,react.useCallback)(((sourceClientIds,sourceRootClientId,insertIndex)=>{if("replace"===operation){const sourceBlocks=getBlocksByClientId(sourceClientIds),targetBlockClientId=getBlockOrder(targetRootClientId)[targetBlockIndex];registry.batch((()=>{removeBlocks(sourceClientIds,!1),replaceBlocks(targetBlockClientId,sourceBlocks,void 0,0)}))}else moveBlocksToPosition(sourceClientIds,sourceRootClientId,targetRootClientId,insertIndex)}),[operation,getBlockOrder,getBlocksByClientId,insertBlocks,moveBlocksToPosition,removeBlocks,targetBlockIndex,targetRootClientId]),_onDrop=onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocks,insertOrReplaceBlocks,clearSelectedBlock),_onFilesDrop=function onFilesDrop(targetRootClientId,targetBlockIndex,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks){return files=>{if(!hasUploadPermissions)return;const transformation=(0,build_module.MC)((0,build_module.Xn)("from"),(transform=>"files"===transform.type&&canInsertBlockType(transform.blockName,targetRootClientId)&&transform.isMatch(files)));if(transformation){const blocks=transformation.transform(files,updateBlockAttributes);insertOrReplaceBlocks(blocks)}}}(targetRootClientId,0,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertOrReplaceBlocks),_onHTMLDrop=function onHTMLDrop(targetRootClientId,targetBlockIndex,insertOrReplaceBlocks){return HTML=>{const blocks=(0,build_module.ag)({HTML:HTML,mode:"BLOCKS"});blocks.length&&insertOrReplaceBlocks(blocks)}}(0,0,insertOrReplaceBlocks);return event=>{const files=(0,data_transfer.f)(event.dataTransfer),html=event.dataTransfer.getData("text/html");html?_onHTMLDrop(html):files.length?_onFilesDrop(files):_onDrop(event)}}function getDistanceToNearestEdge(point,rect,allowedEdges=["top","bottom","left","right"]){let candidateDistance,candidateEdge;return allowedEdges.forEach((edge=>{const distance=function getDistanceFromPointToEdge(point,rect,edge){const isHorizontal="top"===edge||"bottom"===edge,{x:x,y:y}=point,pointLateralPosition=isHorizontal?x:y,pointForwardPosition=isHorizontal?y:x,edgeStart=isHorizontal?rect.left:rect.top,edgeEnd=isHorizontal?rect.right:rect.bottom,edgeForwardPosition=rect[edge];let edgeLateralPosition;return edgeLateralPosition=pointLateralPosition>=edgeStart&&pointLateralPosition<=edgeEnd?pointLateralPosition:pointLateralPosition<edgeEnd?edgeStart:edgeEnd,Math.sqrt((pointLateralPosition-edgeLateralPosition)**2+(pointForwardPosition-edgeForwardPosition)**2)}(point,rect,edge);(void 0===candidateDistance||distance<candidateDistance)&&(candidateDistance=distance,candidateEdge=edge)})),[candidateDistance,candidateEdge]}function isPointContainedByRect(point,rect){return rect.left<=point.x&&rect.right>=point.x&&rect.top<=point.y&&rect.bottom>=point.y}function useBlockDropZone({dropZoneElement:dropZoneElement,rootClientId:targetRootClientId=""}={}){const registry=(0,use_registry.Z)(),[dropTarget,setDropTarget]=(0,react.useState)({index:null,operation:"insert"}),isDisabled=(0,use_select.Z)((select=>{const{__unstableIsWithinBlockOverlay:__unstableIsWithinBlockOverlay,__unstableHasActiveBlockOverlayActive:__unstableHasActiveBlockOverlayActive,getBlockEditingMode:getBlockEditingMode}=select(store);return"default"!==getBlockEditingMode(targetRootClientId)||__unstableHasActiveBlockOverlayActive(targetRootClientId)||__unstableIsWithinBlockOverlay(targetRootClientId)}),[targetRootClientId]),{getBlockListSettings:getBlockListSettings,getBlocks:getBlocks,getBlockIndex:getBlockIndex}=(0,use_select.Z)(store),{showInsertionPoint:showInsertionPoint,hideInsertionPoint:hideInsertionPoint}=(0,use_dispatch.Z)(store),onBlockDrop=useOnBlockDrop(targetRootClientId,dropTarget.index,{operation:dropTarget.operation}),throttled=(0,use_throttle.Z)((0,react.useCallback)(((event,ownerDocument)=>{const blocks=getBlocks(targetRootClientId);if(0===blocks.length)return void registry.batch((()=>{setDropTarget({index:0,operation:"insert"}),showInsertionPoint(targetRootClientId,0,{operation:"insert"})}));const blocksData=blocks.map((block=>{const clientId=block.clientId;return{isUnmodifiedDefaultBlock:(0,build_module.ZP)(block),getBoundingClientRect:()=>ownerDocument.getElementById(`block-${clientId}`).getBoundingClientRect(),blockIndex:getBlockIndex(clientId)}})),[targetIndex,operation]=function getDropTargetPosition(blocksData,position,orientation="vertical"){const allowedEdges="horizontal"===orientation?["left","right"]:["top","bottom"],isRightToLeft=(0,i18n_build_module.dZ)();let nearestIndex=0,insertPosition="before",minDistance=1/0;blocksData.forEach((({isUnmodifiedDefaultBlock:isUnmodifiedDefaultBlock,getBoundingClientRect:getBoundingClientRect,blockIndex:blockIndex})=>{const rect=getBoundingClientRect();let[distance,edge]=getDistanceToNearestEdge(position,rect,allowedEdges);isUnmodifiedDefaultBlock&&isPointContainedByRect(position,rect)&&(distance=0),distance<minDistance&&(insertPosition="bottom"===edge||!isRightToLeft&&"right"===edge||isRightToLeft&&"left"===edge?"after":"before",minDistance=distance,nearestIndex=blockIndex)}));const adjacentIndex=nearestIndex+("after"===insertPosition?1:-1),isNearestBlockUnmodifiedDefaultBlock=!!blocksData[nearestIndex]?.isUnmodifiedDefaultBlock,isAdjacentBlockUnmodifiedDefaultBlock=!!blocksData[adjacentIndex]?.isUnmodifiedDefaultBlock;if(!isNearestBlockUnmodifiedDefaultBlock&&!isAdjacentBlockUnmodifiedDefaultBlock)return["after"===insertPosition?nearestIndex+1:nearestIndex,"insert"];return[isNearestBlockUnmodifiedDefaultBlock?nearestIndex:adjacentIndex,"replace"]}(blocksData,{x:event.clientX,y:event.clientY},getBlockListSettings(targetRootClientId)?.orientation);registry.batch((()=>{setDropTarget({index:targetIndex,operation:operation}),showInsertionPoint(targetRootClientId,targetIndex,{operation:operation})}))}),[getBlocks,targetRootClientId,getBlockListSettings,registry,showInsertionPoint,getBlockIndex]),200);return(0,use_drop_zone.Z)({dropZoneElement:dropZoneElement,isDisabled:isDisabled,onDrop:onBlockDrop,onDragOver(event){throttled(event,event.currentTarget.ownerDocument)},onDragLeave(){throttled.cancel(),hideInsertionPoint()},onDragEnd(){throttled.cancel(),hideInsertionPoint()}})}const inner_blocks_EMPTY_OBJECT={};function UncontrolledInnerBlocks(props){const{clientId:clientId,allowedBlocks:allowedBlocks,prioritizedInserterBlocks:prioritizedInserterBlocks,defaultBlock:defaultBlock,directInsert:directInsert,__experimentalDefaultBlock:__experimentalDefaultBlock,__experimentalDirectInsert:__experimentalDirectInsert,template:template,templateLock:templateLock,wrapperRef:wrapperRef,templateInsertUpdatesSelection:templateInsertUpdatesSelection,__experimentalCaptureToolbars:captureToolbars,__experimentalAppenderTagName:__experimentalAppenderTagName,renderAppender:renderAppender,orientation:orientation,placeholder:placeholder,layout:layout}=props;useNestedSettingsUpdate(clientId,allowedBlocks,prioritizedInserterBlocks,defaultBlock,directInsert,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout),function useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection){const{getBlocks:getBlocks,getSelectedBlocksInitialCaretPosition:getSelectedBlocksInitialCaretPosition,isBlockSelected:isBlockSelected}=(0,use_select.Z)(store),{replaceInnerBlocks:replaceInnerBlocks,__unstableMarkNextChangeAsNotPersistent:__unstableMarkNextChangeAsNotPersistent}=(0,use_dispatch.Z)(store),{innerBlocks:innerBlocks}=(0,use_select.Z)((select=>({innerBlocks:select(store).getBlocks(clientId)})),[clientId]),existingTemplate=(0,react.useRef)(null);(0,react.useLayoutEffect)((()=>{let isCancelled=!1;return window.queueMicrotask((()=>{if(isCancelled)return;const currentInnerBlocks=getBlocks(clientId),shouldApplyTemplate=0===currentInnerBlocks.length||"all"===templateLock||"contentOnly"===templateLock,hasTemplateChanged=!es6_default()(template,existingTemplate.current);if(!shouldApplyTemplate||!hasTemplateChanged)return;existingTemplate.current=template;const nextBlocks=(0,build_module.fw)(currentInnerBlocks,template);es6_default()(nextBlocks,currentInnerBlocks)||(__unstableMarkNextChangeAsNotPersistent(),replaceInnerBlocks(clientId,nextBlocks,0===currentInnerBlocks.length&&templateInsertUpdatesSelection&&0!==nextBlocks.length&&isBlockSelected(clientId),getSelectedBlocksInitialCaretPosition()))})),()=>{isCancelled=!0}}),[innerBlocks,template,templateLock,clientId])}(clientId,template,templateLock,templateInsertUpdatesSelection);const context=function useBlockContext(clientId){return(0,use_select.Z)((select=>{const block=select(store).getBlock(clientId);if(!block)return;const blockType=select(build_module.h).getBlockType(block.name);return blockType&&0!==Object.keys(blockType.providesContext).length?Object.fromEntries(Object.entries(blockType.providesContext).map((([contextName,attributeName])=>[contextName,block.attributes[attributeName]]))):void 0}),[clientId])}(clientId),name=(0,use_select.Z)((select=>select(store).getBlock(clientId)?.name),[clientId]),defaultLayoutBlockSupport=(0,build_module.Dx)(name,"layout")||(0,build_module.Dx)(name,"__experimentalLayout")||inner_blocks_EMPTY_OBJECT,{allowSizingOnChildren:allowSizingOnChildren=!1}=defaultLayoutBlockSupport,[defaultLayout]=use_settings_useSettings("layout"),usedLayout=layout||defaultLayoutBlockSupport,memoedLayout=(0,react.useMemo)((()=>({...defaultLayout,...usedLayout,...allowSizingOnChildren&&{allowSizingOnChildren:!0}})),[defaultLayout,usedLayout,allowSizingOnChildren]);return(0,react.createElement)(BlockContextProvider,{value:context},(0,react.createElement)(BlockListItems,{rootClientId:clientId,renderAppender:renderAppender,__experimentalAppenderTagName:__experimentalAppenderTagName,layout:memoedLayout,wrapperRef:wrapperRef,placeholder:placeholder}))}function ControlledInnerBlocks(props){return useBlockSync(props),(0,react.createElement)(UncontrolledInnerBlocks,{...props})}const ForwardedInnerBlocks=(0,react.forwardRef)(((props,ref)=>{const innerBlocksProps=useInnerBlocksProps({ref:ref},props);return(0,react.createElement)("div",{className:"block-editor-inner-blocks"},(0,react.createElement)("div",{...innerBlocksProps}))}));function useInnerBlocksProps(props={},options={}){const{__unstableDisableLayoutClassNames:__unstableDisableLayoutClassNames,__unstableDisableDropZone:__unstableDisableDropZone,dropZoneElement:dropZoneElement}=options,{clientId:clientId,layout:layout=null,__unstableLayoutClassNames:layoutClassNames=""}=useBlockEditContext(),isSmallScreen=(0,use_viewport_match.Z)("medium","<"),{__experimentalCaptureToolbars:__experimentalCaptureToolbars,hasOverlay:hasOverlay}=(0,use_select.Z)((select=>{if(!clientId)return{};const{getBlockName:getBlockName,isBlockSelected:isBlockSelected,hasSelectedInnerBlock:hasSelectedInnerBlock,__unstableGetEditorMode:__unstableGetEditorMode}=select(store),blockName=getBlockName(clientId),enableClickThrough="navigation"===__unstableGetEditorMode()||isSmallScreen;return{__experimentalCaptureToolbars:select(build_module.h).hasBlockSupport(blockName,"__experimentalExposeControlsToChildren",!1),hasOverlay:"core/template"!==blockName&&!isBlockSelected(clientId)&&!hasSelectedInnerBlock(clientId,!0)&&enableClickThrough}}),[clientId,isSmallScreen]),blockDropZoneRef=useBlockDropZone({dropZoneElement:dropZoneElement,rootClientId:clientId}),ref=(0,use_merge_refs.Z)([props.ref,__unstableDisableDropZone?null:blockDropZoneRef]),innerBlocksProps={__experimentalCaptureToolbars:__experimentalCaptureToolbars,layout:layout,...options},InnerBlocks=innerBlocksProps.value&&innerBlocksProps.onChange?ControlledInnerBlocks:UncontrolledInnerBlocks;return{...props,ref:ref,className:classnames_default()(props.className,"block-editor-block-list__layout",__unstableDisableLayoutClassNames?"":layoutClassNames,{"has-overlay":hasOverlay}),children:clientId?(0,react.createElement)(InnerBlocks,{...innerBlocksProps,clientId:clientId}):(0,react.createElement)(BlockListItems,{...options})}}useInnerBlocksProps.save=build_module.cZ,ForwardedInnerBlocks.DefaultBlockAppender=inner_blocks_default_block_appender,ForwardedInnerBlocks.ButtonBlockAppender=inner_blocks_button_block_appender,ForwardedInnerBlocks.Content=()=>useInnerBlocksProps.save().children;var inner_blocks=ForwardedInnerBlocks;const KEY_DOWN_ELIGIBLE_KEY_CODES=new Set([keycodes_build_module.UP,keycodes_build_module.pX,keycodes_build_module.WV,keycodes_build_module.RL,keycodes_build_module.K5,keycodes_build_module.ZH]);function useMouseMoveTypingReset(){const isTyping=(0,use_select.Z)((select=>select(store).isTyping()),[]),{stopTyping:stopTyping}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((node=>{if(!isTyping)return;const{ownerDocument:ownerDocument}=node;let lastClientX,lastClientY;function stopTypingOnMouseMove(event){const{clientX:clientX,clientY:clientY}=event;lastClientX&&lastClientY&&(lastClientX!==clientX||lastClientY!==clientY)&&stopTyping(),lastClientX=clientX,lastClientY=clientY}return ownerDocument.addEventListener("mousemove",stopTypingOnMouseMove),()=>{ownerDocument.removeEventListener("mousemove",stopTypingOnMouseMove)}}),[isTyping,stopTyping])}function useTypingObserver(){const{isTyping:isTyping,hasInlineToolbar:hasInlineToolbar}=(0,use_select.Z)((select=>{const{isTyping:_isTyping,getSettings:getSettings}=select(store);return{isTyping:_isTyping(),hasInlineToolbar:getSettings().hasInlineToolbar}}),[]),{startTyping:startTyping,stopTyping:stopTyping}=(0,use_dispatch.Z)(store),ref1=useMouseMoveTypingReset(),ref2=(0,use_ref_effect.Z)((node=>{const{ownerDocument:ownerDocument}=node,{defaultView:defaultView}=ownerDocument,selection=defaultView.getSelection();if(isTyping){let timerId;function stopTypingOnNonTextField(event){const{target:target}=event;timerId=defaultView.setTimeout((()=>{(0,is_text_field.Z)(target)||stopTyping()}))}function stopTypingOnEscapeKey(event){const{keyCode:keyCode}=event;keyCode!==keycodes_build_module.hY&&keyCode!==keycodes_build_module.Mf||stopTyping()}function stopTypingOnSelectionUncollapse(){selection.isCollapsed||stopTyping()}return node.addEventListener("focus",stopTypingOnNonTextField),node.addEventListener("keydown",stopTypingOnEscapeKey),hasInlineToolbar||ownerDocument.addEventListener("selectionchange",stopTypingOnSelectionUncollapse),()=>{defaultView.clearTimeout(timerId),node.removeEventListener("focus",stopTypingOnNonTextField),node.removeEventListener("keydown",stopTypingOnEscapeKey),ownerDocument.removeEventListener("selectionchange",stopTypingOnSelectionUncollapse)}}function startTypingInTextField(event){const{type:type,target:target}=event;(0,is_text_field.Z)(target)&&node.contains(target)&&("keydown"!==type||function isKeyDownEligibleForStartTyping(event){const{keyCode:keyCode,shiftKey:shiftKey}=event;return!shiftKey&&KEY_DOWN_ELIGIBLE_KEY_CODES.has(keyCode)}(event))&&startTyping()}return node.addEventListener("keypress",startTypingInTextField),node.addEventListener("keydown",startTypingInTextField),()=>{node.removeEventListener("keypress",startTypingInTextField),node.removeEventListener("keydown",startTypingInTextField)}}),[isTyping,hasInlineToolbar,startTyping,stopTyping]);return(0,use_merge_refs.Z)([ref1,ref2])}function ObserveTyping({children:children}){return(0,react.createElement)("div",{ref:useTypingObserver()},children)}ObserveTyping.__docgenInfo={description:"",methods:[],displayName:"ObserveTyping"};const IntersectionObserver=(0,react.createContext)(),pendingBlockVisibilityUpdatesPerRegistry=new WeakMap;function block_list_Root({className:className,...settings}){const isLargeViewport=(0,use_viewport_match.Z)("medium"),{isOutlineMode:isOutlineMode,isFocusMode:isFocusMode,editorMode:editorMode}=(0,use_select.Z)((select=>{const{getSettings:getSettings,__unstableGetEditorMode:__unstableGetEditorMode}=select(store),{outlineMode:outlineMode,focusMode:focusMode}=getSettings();return{isOutlineMode:outlineMode,isFocusMode:focusMode,editorMode:__unstableGetEditorMode()}}),[]),registry=(0,use_registry.Z)(),{setBlockVisibility:setBlockVisibility}=(0,use_dispatch.Z)(store),delayedBlockVisibilityUpdates=(0,use_debounce.Z)((0,react.useCallback)((()=>{const updates={};pendingBlockVisibilityUpdatesPerRegistry.get(registry).forEach((([id,isIntersecting])=>{updates[id]=isIntersecting})),setBlockVisibility(updates)}),[registry]),300,{trailing:!0}),intersectionObserver=(0,react.useMemo)((()=>{const{IntersectionObserver:Observer}=window;if(Observer)return new Observer((entries=>{pendingBlockVisibilityUpdatesPerRegistry.get(registry)||pendingBlockVisibilityUpdatesPerRegistry.set(registry,[]);for(const entry of entries){const clientId=entry.target.getAttribute("data-block");pendingBlockVisibilityUpdatesPerRegistry.get(registry).push([clientId,entry.isIntersecting])}delayedBlockVisibilityUpdates()}))}),[]),innerBlocksProps=useInnerBlocksProps({ref:(0,use_merge_refs.Z)([useBlockSelectionClearer(),useInBetweenInserter(),useTypingObserver()]),className:classnames_default()("is-root-container",className,{"is-outline-mode":isOutlineMode,"is-focus-mode":isFocusMode&&isLargeViewport,"is-navigate-mode":"navigation"===editorMode})},settings);return(0,react.createElement)(IntersectionObserver.Provider,{value:intersectionObserver},(0,react.createElement)("div",{...innerBlocksProps}))}function BlockList(settings){return(0,react.createElement)(Provider,{value:DEFAULT_BLOCK_EDIT_CONTEXT},(0,react.createElement)(block_list_Root,{...settings}))}function Items({placeholder:placeholder,rootClientId:rootClientId,renderAppender:renderAppender,__experimentalAppenderTagName:__experimentalAppenderTagName,layout:layout=defaultLayout}){const{order:order,selectedBlocks:selectedBlocks,visibleBlocks:visibleBlocks}=(0,use_select.Z)((select=>{const{getBlockOrder:getBlockOrder,getSelectedBlockClientIds:getSelectedBlockClientIds,__unstableGetVisibleBlocks:__unstableGetVisibleBlocks}=select(store);return{order:getBlockOrder(rootClientId),selectedBlocks:getSelectedBlockClientIds(),visibleBlocks:__unstableGetVisibleBlocks()}}),[rootClientId]);return(0,react.createElement)(LayoutProvider,{value:layout},order.map((clientId=>(0,react.createElement)(async_mode_provider_context.ZP,{key:clientId,value:!visibleBlocks.has(clientId)&&!selectedBlocks.includes(clientId)},(0,react.createElement)(block,{rootClientId:rootClientId,clientId:clientId})))),order.length<1&&placeholder,(0,react.createElement)(block_list_appender,{tagName:__experimentalAppenderTagName,rootClientId:rootClientId,renderAppender:renderAppender}))}function BlockListItems(props){return(0,react.createElement)(async_mode_provider_context.ZP,{value:!1},(0,react.createElement)(Items,{...props}))}function ExperimentalBlockCanvas({shouldIframe:shouldIframe=!0,height:height="300px",children:children=(0,react.createElement)(BlockList,null),styles:styles,contentRef:contentRefProp,iframeProps:iframeProps}){const resetTypingRef=useMouseMoveTypingReset(),clearerRef=useBlockSelectionClearer(),contentRef=(0,use_merge_refs.Z)([contentRefProp,clearerRef]);return shouldIframe?(0,react.createElement)(iframe,{...iframeProps,ref:resetTypingRef,contentRef:contentRef,style:{width:"100%",height:height,...iframeProps?.style},name:"editor-canvas"},(0,react.createElement)(EditorStyles,{styles:styles}),children):(0,react.createElement)(react.Fragment,null,(0,react.createElement)(EditorStyles,{styles:styles,scope:".editor-styles-wrapper"}),(0,react.createElement)(writing_flow,{ref:contentRef,className:"editor-styles-wrapper",tabIndex:-1,style:{height:height}},children))}function BlockCanvas({children:children,height:height,styles:styles}){return(0,react.createElement)(ExperimentalBlockCanvas,{height:height,styles:styles},children)}BlockList.__docgenInfo={description:"",methods:[],displayName:"BlockList"},BlockListItems.__docgenInfo={description:"",methods:[],displayName:"BlockListItems"},BlockCanvas.__docgenInfo={description:'BlockCanvas component is a component used to display the canvas of the block editor.\nWhat we call the canvas is an iframe containing the block list that you can manipulate.\nThe component is also responsible of wiring up all the necessary hooks to enable\nthe keyboard navigation across blocks in the editor and inject content styles into the iframe.\n\n@example\n\n```jsx\nfunction MyBlockEditor() {\n  const [ blocks, updateBlocks ] = useState([]);\n  return (\n    <BlockEditorProvider\n      value={ blocks }\n      onInput={ updateBlocks }\n      onChange={ persistBlocks }\n     >\n       <BlockCanvas height="400px" />\n     </BlockEditorProvider>\n   );\n}\n```\n\n@param {Object}  props          Component props.\n@param {string}  props.height   Canvas height, defaults to 300px.\n@param {Array}   props.styles   Content styles to inject into the iframe.\n@param {Element} props.children Content of the canvas, defaults to the BlockList component.\n@return {Element}               Block Breadcrumb.',methods:[],displayName:"BlockCanvas"};var block_canvas=BlockCanvas;ExperimentalBlockCanvas.__docgenInfo={description:"",methods:[],displayName:"ExperimentalBlockCanvas",props:{shouldIframe:{defaultValue:{value:"true",computed:!1},required:!1},height:{defaultValue:{value:"'300px'",computed:!1},required:!1},children:{defaultValue:{value:"createElement(BlockList, null)",computed:!0},required:!1}}};var paragraph=__webpack_require__("./packages/icons/build-module/library/paragraph.js");var heading_level_1=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M17.6 7c-.6.9-1.5 1.7-2.6 2v1h2v7h2V7h-1.4zM11 11H7V7H5v10h2v-4h4v4h2V7h-2v4z"}));var heading_level_2=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M9 11.1H5v-4H3v10h2v-4h4v4h2v-10H9v4zm8 4c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6v1.5h8v-2H17z"}));var heading_level_3=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M9 11H5V7H3v10h2v-4h4v4h2V7H9v4zm11.3 1.7c-.4-.4-1-.7-1.6-.8v-.1c.6-.2 1.1-.5 1.5-.9.3-.4.5-.8.5-1.3 0-.4-.1-.8-.3-1.1-.2-.3-.5-.6-.8-.8-.4-.2-.8-.4-1.2-.5-.6-.1-1.1-.2-1.6-.2-.6 0-1.3.1-1.8.3s-1.1.5-1.6.9l1.2 1.4c.4-.2.7-.4 1.1-.6.3-.2.7-.3 1.1-.3.4 0 .8.1 1.1.3.3.2.4.5.4.8 0 .4-.2.7-.6.9-.7.3-1.5.5-2.2.4v1.6c.5 0 1 0 1.5.1.3.1.7.2 1 .3.2.1.4.2.5.4s.1.4.1.6c0 .3-.2.7-.5.8-.4.2-.9.3-1.4.3s-1-.1-1.4-.3c-.4-.2-.8-.4-1.2-.7L13 15.6c.5.4 1 .8 1.6 1 .7.3 1.5.4 2.3.4.6 0 1.1-.1 1.6-.2.4-.1.9-.2 1.3-.5.4-.2.7-.5.9-.9.2-.4.3-.8.3-1.2 0-.6-.3-1.1-.7-1.5z"}));var heading_level_4=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M20 13V7h-3l-4 6v2h5v2h2v-2h1v-2h-1zm-2 0h-2.8L18 9v4zm-9-2H5V7H3v10h2v-4h4v4h2V7H9v4z"}));var heading_level_5=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M9 11H5V7H3v10h2v-4h4v4h2V7H9v4zm11.7 1.2c-.2-.3-.5-.7-.8-.9-.3-.3-.7-.5-1.1-.6-.5-.1-.9-.2-1.4-.2-.2 0-.5.1-.7.1-.2.1-.5.1-.7.2l.1-1.9h4.3V7H14l-.3 5 1 .6.5-.2.4-.1c.1-.1.3-.1.4-.1h.5c.5 0 1 .1 1.4.4.4.2.6.7.6 1.1 0 .4-.2.8-.6 1.1-.4.3-.9.4-1.4.4-.4 0-.9-.1-1.3-.3-.4-.2-.7-.4-1.1-.7 0 0-1.1 1.4-1 1.5.5.4 1 .8 1.6 1 .7.3 1.5.4 2.3.4.5 0 1-.1 1.5-.3s.9-.4 1.3-.7c.4-.3.7-.7.9-1.1s.3-.9.3-1.4-.1-1-.3-1.4z"}));var heading_level_6=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M20.7 12.4c-.2-.3-.4-.6-.7-.9s-.6-.5-1-.6c-.4-.2-.8-.2-1.2-.2-.5 0-.9.1-1.3.3s-.8.5-1.2.8c0-.5 0-.9.2-1.4l.6-.9c.2-.2.5-.4.8-.5.6-.2 1.3-.2 1.9 0 .3.1.6.3.8.5 0 0 1.3-1.3 1.3-1.4-.4-.3-.9-.6-1.4-.8-.6-.2-1.3-.3-2-.3-.6 0-1.1.1-1.7.4-.5.2-1 .5-1.4.9-.4.4-.8 1-1 1.6-.3.7-.4 1.5-.4 2.3s.1 1.5.3 2.1c.2.6.6 1.1 1 1.5.4.4.9.7 1.4.9 1 .3 2 .3 3 0 .4-.1.8-.3 1.2-.6.3-.3.6-.6.8-1 .2-.5.3-.9.3-1.4s-.1-.9-.3-1.3zm-2 2.1c-.1.2-.3.4-.4.5-.1.1-.3.2-.5.2-.2.1-.4.1-.6.1-.2.1-.5 0-.7-.1-.2 0-.3-.2-.5-.3-.1-.2-.3-.4-.4-.6-.2-.3-.3-.7-.3-1 .3-.3.6-.5 1-.7.3-.1.7-.2 1-.2.4 0 .8.1 1.1.3.3.3.4.7.4 1.1 0 .2 0 .5-.1.7zM9 11H5V7H3v10h2v-4h4v4h2V7H9v4z"}));const LEVEL_TO_PATH={0:paragraph.Z,1:heading_level_1,2:heading_level_2,3:heading_level_3,4:heading_level_4,5:heading_level_5,6:heading_level_6};function HeadingLevelIcon({level:level}){return LEVEL_TO_PATH[level]?(0,react.createElement)(components_build_module_icon.Z,{icon:LEVEL_TO_PATH[level]}):null}HeadingLevelIcon.__docgenInfo={description:"Heading level icon.\n\n@param {WPHeadingLevelIconProps} props Component props.\n\n@return {?ComponentType} The icon.",methods:[],displayName:"HeadingLevelIcon"};const HEADING_LEVELS=[1,2,3,4,5,6],block_heading_level_dropdown_POPOVER_PROPS={className:"block-library-heading-level-dropdown"};function HeadingLevelDropdown({options:options=HEADING_LEVELS,value:value,onChange:onChange}){return(0,react.createElement)(toolbar_dropdown_menu.Z,{popoverProps:block_heading_level_dropdown_POPOVER_PROPS,icon:(0,react.createElement)(HeadingLevelIcon,{level:value}),label:(0,i18n_build_module.__)("Change level"),controls:options.map((targetLevel=>{{const isActive=targetLevel===value;return{icon:(0,react.createElement)(HeadingLevelIcon,{level:targetLevel,isPressed:isActive}),title:0===targetLevel?(0,i18n_build_module.__)("Paragraph"):(0,i18n_build_module.gB)((0,i18n_build_module.__)("Heading %d"),targetLevel),isActive:isActive,onClick(){onChange(targetLevel)},role:"menuitemradio"}}}))})}HeadingLevelDropdown.__docgenInfo={description:"Dropdown for selecting a heading level (1 through 6) or paragraph (0).\n\n@param {WPHeadingLevelDropdownProps} props Component props.\n\n@return {ComponentType} The toolbar.",methods:[],displayName:"HeadingLevelDropdown",props:{options:{defaultValue:{value:"[1, 2, 3, 4, 5, 6]",computed:!1},required:!1}}};var build_module_placeholder=__webpack_require__("./packages/components/build-module/placeholder/index.js"),layout=__webpack_require__("./packages/icons/build-module/library/layout.js");function BlockVariationPicker({icon:icon=layout.Z,label:label=(0,i18n_build_module.__)("Choose variation"),instructions:instructions=(0,i18n_build_module.__)("Select a variation to start with."),variations:variations,onSelect:onSelect,allowSkip:allowSkip}){const classes=classnames_default()("block-editor-block-variation-picker",{"has-many-variations":variations.length>4});return(0,react.createElement)(build_module_placeholder.Z,{icon:icon,label:label,instructions:instructions,className:classes},(0,react.createElement)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,i18n_build_module.__)("Block variations")},variations.map((variation=>(0,react.createElement)("li",{key:variation.name},(0,react.createElement)(build_module_button.ZP,{variant:"secondary",icon:variation.icon&&variation.icon.src?variation.icon.src:variation.icon,iconSize:48,onClick:()=>onSelect(variation),className:"block-editor-block-variation-picker__variation",label:variation.description||variation.title}),(0,react.createElement)("span",{className:"block-editor-block-variation-picker__variation-label"},variation.title))))),allowSkip&&(0,react.createElement)("div",{className:"block-editor-block-variation-picker__skip"},(0,react.createElement)(build_module_button.ZP,{variant:"link",onClick:()=>onSelect()},(0,i18n_build_module.__)("Skip"))))}BlockVariationPicker.__docgenInfo={description:"",methods:[],displayName:"BlockVariationPicker",props:{icon:{defaultValue:{value:"layout",computed:!0},required:!1},label:{defaultValue:{value:"__('Choose variation')",computed:!0},required:!1},instructions:{defaultValue:{value:"__('Select a variation to start with.')",computed:!0},required:!1}}};var block_variation_picker=BlockVariationPicker,components_color_palette=(0,create_higher_order_component.o)((WrappedComponent=>props=>{const[colorsFeature,enableCustomColors]=use_settings_useSettings("color.palette","color.custom"),{colors:colors=colorsFeature,disableCustomColors:disableCustomColors=!enableCustomColors}=props,hasColorsToChoose=colors&&colors.length>0||!disableCustomColors;return(0,react.createElement)(WrappedComponent,{...props,colors:colors,disableCustomColors:disableCustomColors,hasColorsToChoose:hasColorsToChoose})}),"withColorContext")(color_palette.ZP),date_build_module=__webpack_require__("./packages/date/build-module/index.js");const EXAMPLE_DATE=new Date(2022,0,25);function DateFormatPicker({format:format,defaultFormat:defaultFormat,onChange:onChange}){return(0,react.createElement)("fieldset",{className:"block-editor-date-format-picker"},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Date format")),(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Default format"),help:`${(0,i18n_build_module.__)("Example:")}  ${(0,date_build_module.K_)(defaultFormat,EXAMPLE_DATE)}`,checked:!format,onChange:checked=>onChange(checked?null:defaultFormat)}),format&&(0,react.createElement)(NonDefaultControls,{format:format,onChange:onChange}))}function NonDefaultControls({format:format,onChange:onChange}){var _suggestedOptions$fin;const suggestedFormats=[...new Set(["Y-m-d",(0,i18n_build_module._x)("n/j/Y","short date format"),(0,i18n_build_module._x)("n/j/Y g:i A","short date format with time"),(0,i18n_build_module._x)("M j, Y","medium date format"),(0,i18n_build_module._x)("M j, Y g:i A","medium date format with time"),(0,i18n_build_module._x)("F j, Y","long date format"),(0,i18n_build_module._x)("M j","short date format without the year")])],suggestedOptions=suggestedFormats.map(((suggestedFormat,index)=>({key:`suggested-${index}`,name:(0,date_build_module.K_)(suggestedFormat,EXAMPLE_DATE),format:suggestedFormat}))),customOption={key:"custom",name:(0,i18n_build_module.__)("Custom"),className:"block-editor-date-format-picker__custom-format-select-control__custom-option",__experimentalHint:(0,i18n_build_module.__)("Enter your own date format")},[isCustom,setIsCustom]=(0,react.useState)((()=>!!format&&!suggestedFormats.includes(format)));return(0,react.createElement)(v_stack_component.Z,null,(0,react.createElement)(custom_select_control.q,{__nextUnconstrainedWidth:!0,label:(0,i18n_build_module.__)("Choose a format"),options:[...suggestedOptions,customOption],value:isCustom?customOption:null!==(_suggestedOptions$fin=suggestedOptions.find((option=>option.format===format)))&&void 0!==_suggestedOptions$fin?_suggestedOptions$fin:customOption,onChange:({selectedItem:selectedItem})=>{selectedItem===customOption?setIsCustom(!0):(setIsCustom(!1),onChange(selectedItem.format))}}),isCustom&&(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Custom format"),hideLabelFromVision:!0,help:(0,create_interpolate_element.Z)((0,i18n_build_module.__)("Enter a date or time <Link>format string</Link>."),{Link:(0,react.createElement)(external_link.Z,{href:(0,i18n_build_module.__)("https://wordpress.org/documentation/article/customize-date-and-time-format/")})}),value:format,onChange:value=>onChange(value)}))}DateFormatPicker.__docgenInfo={description:"The `DateFormatPicker` component renders controls that let the user choose a\n_date format_. That is, how they want their dates to be formatted.\n\n@see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/date-format-picker/README.md\n\n@param {Object}                          props\n@param {string|null}                     props.format        The selected date\n                                                             format. If\n                                                             `null`,\n                                                             _Default_ is\n                                                             selected.\n@param {string}                          props.defaultFormat The date format that\n                                                             will be used if the\n                                                             user selects\n                                                             'Default'.\n@param {( format: string|null ) => void} props.onChange      Called when a\n                                                             selection is\n                                                             made. If `null`,\n                                                             _Default_ is\n                                                             selected.",methods:[],displayName:"DateFormatPicker"};const WithToolsPanelItem=({setting:setting,children:children,panelId:panelId,...props})=>(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!setting.colorValue||!!setting.gradientValue,label:setting.label,onDeselect:()=>{setting.colorValue?setting.onColorChange():setting.gradientValue&&setting.onGradientChange()},isShownByDefault:void 0===setting.isShownByDefault||setting.isShownByDefault,...props,className:"block-editor-tools-panel-color-gradient-settings__item",panelId:panelId,resetAllFilter:setting.resetAllFilter},children),dropdown_LabeledColorIndicator=({colorValue:colorValue,label:label})=>(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(color_indicator.Z,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:colorValue}),(0,react.createElement)(flex_item_component.Z,{className:"block-editor-panel-color-gradient-settings__color-name",title:label},label)),renderToggle=settings=>({onToggle:onToggle,isOpen:isOpen})=>{const{colorValue:colorValue,label:label}=settings,toggleProps={onClick:onToggle,className:classnames_default()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":isOpen}),"aria-expanded":isOpen};return(0,react.createElement)(build_module_button.ZP,{...toggleProps},(0,react.createElement)(dropdown_LabeledColorIndicator,{colorValue:colorValue,label:label}))};function ColorGradientSettingsDropdown({colors:colors,disableCustomColors:disableCustomColors,disableCustomGradients:disableCustomGradients,enableAlpha:enableAlpha,gradients:gradients,settings:settings,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,...props}){let popoverProps;return __experimentalIsRenderedInSidebar&&(popoverProps={placement:"left-start",offset:36,shift:!0}),(0,react.createElement)(react.Fragment,null,settings.map(((setting,index)=>{var _setting$gradientValu;const controlProps={clearable:!1,colorValue:setting.colorValue,colors:colors,disableCustomColors:disableCustomColors,disableCustomGradients:disableCustomGradients,enableAlpha:enableAlpha,gradientValue:setting.gradientValue,gradients:gradients,label:setting.label,onColorChange:setting.onColorChange,onGradientChange:setting.onGradientChange,showTitle:!1,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,...setting},toggleSettings={colorValue:null!==(_setting$gradientValu=setting.gradientValue)&&void 0!==_setting$gradientValu?_setting$gradientValu:setting.colorValue,label:setting.label};return setting&&(0,react.createElement)(WithToolsPanelItem,{key:index,setting:setting,...props},(0,react.createElement)(dropdown.Z,{popoverProps:popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:renderToggle(toggleSettings),renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},(0,react.createElement)(control,{...controlProps})))}))})))}ColorGradientSettingsDropdown.__docgenInfo={description:"",methods:[],displayName:"ColorGradientSettingsDropdown"};var toolbar_item=__webpack_require__("./packages/components/build-module/toolbar/toolbar-item/index.js"),api_fetch_build_module=__webpack_require__("./packages/api-fetch/build-module/index.js");const ImageEditingContext=(0,react.createContext)({}),useImageEditingContext=()=>(0,react.useContext)(ImageEditingContext);function ImageEditingProvider({id:id,url:url,naturalWidth:naturalWidth,naturalHeight:naturalHeight,onFinishEditing:onFinishEditing,onSaveImage:onSaveImage,children:children}){const transformImage=function useTransformImage({url:url,naturalWidth:naturalWidth,naturalHeight:naturalHeight}){const[editedUrl,setEditedUrl]=(0,react.useState)(),[crop,setCrop]=(0,react.useState)(),[position,setPosition]=(0,react.useState)({x:0,y:0}),[zoom,setZoom]=(0,react.useState)(100),[rotation,setRotation]=(0,react.useState)(0),defaultAspect=naturalWidth/naturalHeight,[aspect,setAspect]=(0,react.useState)(defaultAspect),rotateClockwise=(0,react.useCallback)((()=>{const angle=(rotation+90)%360;let naturalAspectRatio=defaultAspect;if(rotation%180==90&&(naturalAspectRatio=1/defaultAspect),0===angle)return setEditedUrl(),setRotation(angle),setAspect(defaultAspect),void setPosition((prevPosition=>({x:-prevPosition.y*naturalAspectRatio,y:prevPosition.x*naturalAspectRatio})));const el=new window.Image;el.src=url,el.onload=function editImage(event){const canvas=document.createElement("canvas");let translateX=0,translateY=0;angle%180?(canvas.width=event.target.height,canvas.height=event.target.width):(canvas.width=event.target.width,canvas.height=event.target.height),90!==angle&&180!==angle||(translateX=canvas.width),270!==angle&&180!==angle||(translateY=canvas.height);const context=canvas.getContext("2d");context.translate(translateX,translateY),context.rotate(angle*Math.PI/180),context.drawImage(event.target,0,0),canvas.toBlob((blob=>{setEditedUrl(URL.createObjectURL(blob)),setRotation(angle),setAspect(canvas.width/canvas.height),setPosition((prevPosition=>({x:-prevPosition.y*naturalAspectRatio,y:prevPosition.x*naturalAspectRatio})))}))};const imgCrossOrigin=(0,hooks_build_module.O)("media.crossOrigin",void 0,url);"string"==typeof imgCrossOrigin&&(el.crossOrigin=imgCrossOrigin)}),[rotation,defaultAspect,url]);return(0,react.useMemo)((()=>({editedUrl:editedUrl,setEditedUrl:setEditedUrl,crop:crop,setCrop:setCrop,position:position,setPosition:setPosition,zoom:zoom,setZoom:setZoom,rotation:rotation,setRotation:setRotation,rotateClockwise:rotateClockwise,aspect:aspect,setAspect:setAspect,defaultAspect:defaultAspect})),[editedUrl,crop,position,zoom,rotation,rotateClockwise,aspect,defaultAspect])}({url:url,naturalWidth:naturalWidth,naturalHeight:naturalHeight}),saveImage=function useSaveImage({crop:crop,rotation:rotation,url:url,id:id,onSaveImage:onSaveImage,onFinishEditing:onFinishEditing}){const{createErrorNotice:createErrorNotice}=(0,use_dispatch.Z)(notices_build_module.h),[isInProgress,setIsInProgress]=(0,react.useState)(!1),cancel=(0,react.useCallback)((()=>{setIsInProgress(!1),onFinishEditing()}),[onFinishEditing]),apply=(0,react.useCallback)((()=>{setIsInProgress(!0);const modifiers=[];rotation>0&&modifiers.push({type:"rotate",args:{angle:rotation}}),(crop.width<99.9||crop.height<99.9)&&modifiers.push({type:"crop",args:{left:crop.x,top:crop.y,width:crop.width,height:crop.height}}),(0,api_fetch_build_module.Z)({path:`/wp/v2/media/${id}/edit`,method:"POST",data:{src:url,modifiers:modifiers}}).then((response=>{onSaveImage({id:response.id,url:response.source_url})})).catch((error=>{createErrorNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)("Could not edit image. %s"),(0,strip_html.Z)(error.message)),{id:"image-editing-error",type:"snackbar"})})).finally((()=>{setIsInProgress(!1),onFinishEditing()}))}),[crop,rotation,id,url,onSaveImage,createErrorNotice,onFinishEditing]);return(0,react.useMemo)((()=>({isInProgress:isInProgress,apply:apply,cancel:cancel})),[isInProgress,apply,cancel])}({id:id,url:url,onSaveImage:onSaveImage,onFinishEditing:onFinishEditing,...transformImage}),providerValue=(0,react.useMemo)((()=>({...transformImage,...saveImage})),[transformImage,saveImage]);return(0,react.createElement)(ImageEditingContext.Provider,{value:providerValue},children)}ImageEditingProvider.__docgenInfo={description:"",methods:[],displayName:"ImageEditingProvider"};var index_module=__webpack_require__("./node_modules/react-easy-crop/index.module.js");const MIN_ZOOM=100,MAX_ZOOM=300,constants_POPOVER_PROPS={placement:"bottom-start"};function ImageCropper({url:url,width:width,height:height,clientWidth:clientWidth,naturalHeight:naturalHeight,naturalWidth:naturalWidth,borderProps:borderProps}){const{isInProgress:isInProgress,editedUrl:editedUrl,position:position,zoom:zoom,aspect:aspect,setPosition:setPosition,setCrop:setCrop,setZoom:setZoom,rotation:rotation}=useImageEditingContext();let editedHeight=height||clientWidth*naturalHeight/naturalWidth;return rotation%180==90&&(editedHeight=clientWidth*naturalWidth/naturalHeight),(0,react.createElement)("div",{className:classnames_default()("wp-block-image__crop-area",borderProps?.className,{"is-applying":isInProgress}),style:{...borderProps?.style,width:width||clientWidth,height:editedHeight}},(0,react.createElement)(index_module.ZP,{image:editedUrl||url,disabled:isInProgress,minZoom:MIN_ZOOM/100,maxZoom:MAX_ZOOM/100,crop:position,zoom:zoom/100,aspect:aspect,onCropChange:pos=>{setPosition(pos)},onCropComplete:newCropPercent=>{setCrop(newCropPercent)},onZoomChange:newZoom=>{setZoom(100*newZoom)}}),isInProgress&&(0,react.createElement)(spinner.ZP,null))}ImageCropper.__docgenInfo={description:"",methods:[],displayName:"ImageCropper"};var search=__webpack_require__("./packages/icons/build-module/library/search.js");function ZoomDropdown(){const{isInProgress:isInProgress,zoom:zoom,setZoom:setZoom}=useImageEditingContext();return(0,react.createElement)(dropdown.Z,{contentClassName:"wp-block-image__zoom",popoverProps:constants_POPOVER_PROPS,renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react.createElement)(toolbar_button.Z,{icon:search.Z,label:(0,i18n_build_module.__)("Zoom"),onClick:onToggle,"aria-expanded":isOpen,disabled:isInProgress}),renderContent:()=>(0,react.createElement)(range_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Zoom"),min:MIN_ZOOM,max:MAX_ZOOM,value:Math.round(zoom),onChange:setZoom})})}ZoomDropdown.__docgenInfo={description:"",methods:[],displayName:"ZoomDropdown"};var aspect_ratio=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M18.5 5.5h-13c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5h-13c-.3 0-.5-.2-.5-.5v-9c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9zM6.5 12H8v-2h2V8.5H6.5V12zm9.5 2h-2v1.5h3.5V12H16v2z"}));function AspectGroup({aspectRatios:aspectRatios,isDisabled:isDisabled,label:label,onClick:onClick,value:value}){return(0,react.createElement)(menu_group.Z,{label:label},aspectRatios.map((({title:title,aspect:aspect})=>(0,react.createElement)(menu_item.Z,{key:aspect,disabled:isDisabled,onClick:()=>{onClick(aspect)},role:"menuitemradio",isSelected:aspect===value,icon:aspect===value?library_check.Z:void 0},title))))}function AspectRatioDropdown({toggleProps:toggleProps}){const{isInProgress:isInProgress,aspect:aspect,setAspect:setAspect,defaultAspect:defaultAspect}=useImageEditingContext();return(0,react.createElement)(dropdown_menu.Z,{icon:aspect_ratio,label:(0,i18n_build_module.__)("Aspect Ratio"),popoverProps:constants_POPOVER_PROPS,toggleProps:toggleProps,className:"wp-block-image__aspect-ratio"},(({onClose:onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(AspectGroup,{isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect),onClose()},value:aspect,aspectRatios:[{title:(0,i18n_build_module.__)("Original"),aspect:defaultAspect},{title:(0,i18n_build_module.__)("Square"),aspect:1}]}),(0,react.createElement)(AspectGroup,{label:(0,i18n_build_module.__)("Landscape"),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect),onClose()},value:aspect,aspectRatios:[{title:(0,i18n_build_module.__)("16:9"),aspect:16/9},{title:(0,i18n_build_module.__)("4:3"),aspect:4/3},{title:(0,i18n_build_module.__)("3:2"),aspect:1.5}]}),(0,react.createElement)(AspectGroup,{label:(0,i18n_build_module.__)("Portrait"),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect),onClose()},value:aspect,aspectRatios:[{title:(0,i18n_build_module.__)("9:16"),aspect:9/16},{title:(0,i18n_build_module.__)("3:4"),aspect:3/4},{title:(0,i18n_build_module.__)("2:3"),aspect:2/3}]}))))}AspectRatioDropdown.__docgenInfo={description:"",methods:[],displayName:"AspectRatioDropdown"};var rotate_right=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"}));function RotationButton(){const{isInProgress:isInProgress,rotateClockwise:rotateClockwise}=useImageEditingContext();return(0,react.createElement)(toolbar_button.Z,{icon:rotate_right,label:(0,i18n_build_module.__)("Rotate"),onClick:rotateClockwise,disabled:isInProgress})}function FormControls(){const{isInProgress:isInProgress,apply:apply,cancel:cancel}=useImageEditingContext();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toolbar_button.Z,{onClick:apply,disabled:isInProgress},(0,i18n_build_module.__)("Apply")),(0,react.createElement)(toolbar_button.Z,{onClick:cancel},(0,i18n_build_module.__)("Cancel")))}function ImageEditor({id:id,url:url,width:width,height:height,clientWidth:clientWidth,naturalHeight:naturalHeight,naturalWidth:naturalWidth,onSaveImage:onSaveImage,onFinishEditing:onFinishEditing,borderProps:borderProps}){return(0,react.createElement)(ImageEditingProvider,{id:id,url:url,naturalWidth:naturalWidth,naturalHeight:naturalHeight,onSaveImage:onSaveImage,onFinishEditing:onFinishEditing},(0,react.createElement)(ImageCropper,{borderProps:borderProps,url:url,width:width,height:height,clientWidth:clientWidth,naturalHeight:naturalHeight,naturalWidth:naturalWidth}),(0,react.createElement)(block_controls,null,(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(ZoomDropdown,null),(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(AspectRatioDropdown,{toggleProps:toggleProps}))),(0,react.createElement)(RotationButton,null)),(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(FormControls,null))))}RotationButton.__docgenInfo={description:"",methods:[],displayName:"RotationButton"},FormControls.__docgenInfo={description:"",methods:[],displayName:"FormControls"},ImageEditor.__docgenInfo={description:"",methods:[],displayName:"ImageEditor"};const IMAGE_SIZE_PRESETS=[25,50,75,100],image_size_control_noop=()=>{};function ImageSizeControl({imageSizeHelp:imageSizeHelp,imageWidth:imageWidth,imageHeight:imageHeight,imageSizeOptions:imageSizeOptions=[],isResizable:isResizable=!0,slug:slug,width:width,height:height,onChange:onChange,onChangeImage:onChangeImage=image_size_control_noop}){const{currentHeight:currentHeight,currentWidth:currentWidth,updateDimension:updateDimension,updateDimensions:updateDimensions}=function useDimensionHandler(customHeight,customWidth,defaultHeight,defaultWidth,onChange){var _ref,_ref2;const[currentWidth,setCurrentWidth]=(0,react.useState)(null!==(_ref=null!=customWidth?customWidth:defaultWidth)&&void 0!==_ref?_ref:""),[currentHeight,setCurrentHeight]=(0,react.useState)(null!==(_ref2=null!=customHeight?customHeight:defaultHeight)&&void 0!==_ref2?_ref2:"");return(0,react.useEffect)((()=>{void 0===customWidth&&void 0!==defaultWidth&&setCurrentWidth(defaultWidth),void 0===customHeight&&void 0!==defaultHeight&&setCurrentHeight(defaultHeight)}),[defaultWidth,defaultHeight]),(0,react.useEffect)((()=>{void 0!==customWidth&&Number.parseInt(customWidth)!==Number.parseInt(currentWidth)&&setCurrentWidth(customWidth),void 0!==customHeight&&Number.parseInt(customHeight)!==Number.parseInt(currentHeight)&&setCurrentHeight(customHeight)}),[customWidth,customHeight]),{currentHeight:currentHeight,currentWidth:currentWidth,updateDimension:(dimension,value)=>{const parsedValue=""===value?void 0:parseInt(value,10);"width"===dimension?setCurrentWidth(parsedValue):setCurrentHeight(parsedValue),onChange({[dimension]:parsedValue})},updateDimensions:(nextHeight,nextWidth)=>{setCurrentHeight(null!=nextHeight?nextHeight:defaultHeight),setCurrentWidth(null!=nextWidth?nextWidth:defaultWidth),onChange({height:nextHeight,width:nextWidth})}}}(height,width,imageHeight,imageWidth,onChange);return(0,react.createElement)(react.Fragment,null,imageSizeOptions&&imageSizeOptions.length>0&&(0,react.createElement)(select_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Resolution"),value:slug,options:imageSizeOptions,onChange:onChangeImage,help:imageSizeHelp,size:"__unstable-large"}),isResizable&&(0,react.createElement)("div",{className:"block-editor-image-size-control"},(0,react.createElement)(h_stack_component.Z,{align:"baseline",spacing:"3"},(0,react.createElement)(number_control.Z,{className:"block-editor-image-size-control__width",label:(0,i18n_build_module.__)("Width"),value:currentWidth,min:1,onChange:value=>updateDimension("width",value),size:"__unstable-large"}),(0,react.createElement)(number_control.Z,{className:"block-editor-image-size-control__height",label:(0,i18n_build_module.__)("Height"),value:currentHeight,min:1,onChange:value=>updateDimension("height",value),size:"__unstable-large"})),(0,react.createElement)(h_stack_component.Z,null,(0,react.createElement)(button_group.Z,{"aria-label":(0,i18n_build_module.__)("Image size presets")},IMAGE_SIZE_PRESETS.map((scale=>{const scaledWidth=Math.round(imageWidth*(scale/100)),scaledHeight=Math.round(imageHeight*(scale/100)),isCurrent=currentWidth===scaledWidth&&currentHeight===scaledHeight;return(0,react.createElement)(build_module_button.ZP,{key:scale,isSmall:!0,variant:isCurrent?"primary":void 0,isPressed:isCurrent,onClick:()=>updateDimensions(scaledHeight,scaledWidth)},scale,"%")}))),(0,react.createElement)(build_module_button.ZP,{isSmall:!0,onClick:()=>updateDimensions()},(0,i18n_build_module.__)("Reset")))))}ImageSizeControl.__docgenInfo={description:"",methods:[],displayName:"ImageSizeControl",props:{imageSizeOptions:{defaultValue:{value:"[]",computed:!1},required:!1},isResizable:{defaultValue:{value:"true",computed:!1},required:!1},onChangeImage:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var chevron_down=__webpack_require__("./packages/icons/build-module/library/chevron-down.js");function LinkViewerURL({url:url,urlLabel:urlLabel,className:className}){const linkClassName=classnames_default()(className,"block-editor-url-popover__link-viewer-url");return url?(0,react.createElement)(external_link.Z,{className:linkClassName,href:url},urlLabel||(0,filter_url_for_display.w)((0,safe_decode_uri.x)(url))):(0,react.createElement)("span",{className:linkClassName})}function LinkViewer({className:className,linkClassName:linkClassName,onEditLinkClick:onEditLinkClick,url:url,urlLabel:urlLabel,...props}){return(0,react.createElement)("div",{className:classnames_default()("block-editor-url-popover__link-viewer",className),...props},(0,react.createElement)(LinkViewerURL,{url:url,urlLabel:urlLabel,className:linkClassName}),onEditLinkClick&&(0,react.createElement)(build_module_button.ZP,{icon:edit.Z,label:(0,i18n_build_module.__)("Edit"),onClick:onEditLinkClick}))}function LinkEditor({autocompleteRef:autocompleteRef,className:className,onChangeInputValue:onChangeInputValue,value:value,...props}){return(0,react.createElement)("form",{className:classnames_default()("block-editor-url-popover__link-editor",className),...props},(0,react.createElement)(url_input,{__nextHasNoMarginBottom:!0,value:value,onChange:onChangeInputValue,autocompleteRef:autocompleteRef}),(0,react.createElement)(build_module_button.ZP,{icon:keyboard_return.Z,label:(0,i18n_build_module.__)("Apply"),type:"submit"}))}LinkViewerURL.__docgenInfo={description:"",methods:[],displayName:"LinkViewerURL"},LinkViewer.__docgenInfo={description:"",methods:[],displayName:"LinkViewer"},LinkEditor.__docgenInfo={description:"",methods:[],displayName:"LinkEditor"};const{__experimentalPopoverLegacyPositionToPlacement:__experimentalPopoverLegacyPositionToPlacement}=unlock(private_apis.YH);function URLPopover({additionalControls:additionalControls,children:children,renderSettings:renderSettings,placement:placement,focusOnMount:focusOnMount="firstElement",position:position,...popoverProps}){let computedPlacement;void 0!==position&&(0,deprecated_build_module.Z)("`position` prop in wp.blockEditor.URLPopover",{since:"6.2",alternative:"`placement` prop"}),void 0!==placement?computedPlacement=placement:void 0!==position&&(computedPlacement=__experimentalPopoverLegacyPositionToPlacement(position)),computedPlacement=computedPlacement||"bottom";const[isSettingsExpanded,setIsSettingsExpanded]=(0,react.useState)(!1),showSettings=!!renderSettings&&isSettingsExpanded;return(0,react.createElement)(popover.ZP,{className:"block-editor-url-popover",focusOnMount:focusOnMount,placement:computedPlacement,shift:!0,...popoverProps},(0,react.createElement)("div",{className:"block-editor-url-popover__input-container"},(0,react.createElement)("div",{className:"block-editor-url-popover__row"},children,!!renderSettings&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down.Z,label:(0,i18n_build_module.__)("Link settings"),onClick:()=>{setIsSettingsExpanded(!isSettingsExpanded)},"aria-expanded":isSettingsExpanded})),showSettings&&(0,react.createElement)("div",{className:"block-editor-url-popover__row block-editor-url-popover__settings"},renderSettings())),additionalControls&&!showSettings&&(0,react.createElement)("div",{className:"block-editor-url-popover__additional-controls"},additionalControls))}URLPopover.LinkEditor=LinkEditor,URLPopover.LinkViewer=LinkViewer,URLPopover.__docgenInfo={description:"",methods:[],displayName:"URLPopover",props:{focusOnMount:{defaultValue:{value:"'firstElement'",computed:!1},required:!1}}};var url_popover=URLPopover;const media_placeholder_noop=()=>{},InsertFromURLPopover=({src:src,onChange:onChange,onSubmit:onSubmit,onClose:onClose,popoverAnchor:popoverAnchor})=>(0,react.createElement)(url_popover,{anchor:popoverAnchor,onClose:onClose},(0,react.createElement)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:onSubmit},(0,react.createElement)("input",{className:"block-editor-media-placeholder__url-input-field",type:"text","aria-label":(0,i18n_build_module.__)("URL"),placeholder:(0,i18n_build_module.__)("Paste or type URL"),onChange:onChange,value:src}),(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__url-input-submit-button",icon:keyboard_return.Z,label:(0,i18n_build_module.__)("Apply"),type:"submit"}))),URLSelectionUI=({isURLInputVisible:isURLInputVisible,src:src,onChangeSrc:onChangeSrc,onSubmitSrc:onSubmitSrc,openURLInput:openURLInput,closeURLInput:closeURLInput})=>{const[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null);return(0,react.createElement)("div",{className:"block-editor-media-placeholder__url-input-container",ref:setPopoverAnchor},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__button",onClick:openURLInput,isPressed:isURLInputVisible,variant:"tertiary"},(0,i18n_build_module.__)("Insert from URL")),isURLInputVisible&&(0,react.createElement)(InsertFromURLPopover,{src:src,onChange:onChangeSrc,onSubmit:onSubmitSrc,onClose:closeURLInput,popoverAnchor:popoverAnchor}))};function MediaPlaceholder({value:value={},allowedTypes:allowedTypes,className:className,icon:icon,labels:labels={},mediaPreview:mediaPreview,notices:notices,isAppender:isAppender,accept:accept,addToGallery:addToGallery,multiple:multiple=!1,handleUpload:handleUpload=!0,disableDropZone:disableDropZone,disableMediaButtons:disableMediaButtons,onError:onError,onSelect:onSelect,onCancel:onCancel,onSelectURL:onSelectURL,onToggleFeaturedImage:onToggleFeaturedImage,onDoubleClick:onDoubleClick,onFilesPreUpload:onFilesPreUpload=media_placeholder_noop,onHTMLDrop:deprecatedOnHTMLDrop,children:children,mediaLibraryButton:mediaLibraryButton,placeholder:placeholder,style:style}){deprecatedOnHTMLDrop&&(0,deprecated_build_module.Z)("wp.blockEditor.MediaPlaceholder onHTMLDrop prop",{since:"6.2",version:"6.4"});const mediaUpload=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return getSettings().mediaUpload}),[]),[src,setSrc]=(0,react.useState)(""),[isURLInputVisible,setIsURLInputVisible]=(0,react.useState)(!1);(0,react.useEffect)((()=>{var _value$src;setSrc(null!==(_value$src=value?.src)&&void 0!==_value$src?_value$src:"")}),[value?.src]);const onChangeSrc=event=>{setSrc(event.target.value)},openURLInput=()=>{setIsURLInputVisible(!0)},closeURLInput=()=>{setIsURLInputVisible(!1)},onSubmitSrc=event=>{event.preventDefault(),src&&onSelectURL&&(onSelectURL(src),closeURLInput())},onFilesUpload=files=>{if(!handleUpload)return onSelect(files);let setMedia;if(onFilesPreUpload(files),multiple)if(addToGallery){let lastMediaPassed=[];setMedia=newMedia=>{const filteredMedia=(null!=value?value:[]).filter((item=>item.id?!lastMediaPassed.some((({id:id})=>Number(id)===Number(item.id))):!lastMediaPassed.some((({urlSlug:urlSlug})=>item.url.includes(urlSlug)))));onSelect(filteredMedia.concat(newMedia)),lastMediaPassed=newMedia.map((media=>{const cutOffIndex=media.url.lastIndexOf("."),urlSlug=media.url.slice(0,cutOffIndex);return{id:media.id,urlSlug:urlSlug}}))}}else setMedia=onSelect;else setMedia=([media])=>onSelect(media);mediaUpload({allowedTypes:allowedTypes,filesList:files,onFileChange:setMedia,onError:onError})};async function onHTMLDrop(HTML){const blocks=(0,build_module.ag)({HTML:HTML});return await async function handleBlocksDrop(blocks){if(!blocks||!Array.isArray(blocks))return;const mediaBlocks=function recursivelyFindMediaFromBlocks(_blocks){return _blocks.flatMap((block=>"core/image"!==block.name&&"core/audio"!==block.name&&"core/video"!==block.name||!block.attributes.url?recursivelyFindMediaFromBlocks(block.innerBlocks):[block]))}(blocks);if(!mediaBlocks.length)return;const uploadedMediaList=await Promise.all(mediaBlocks.map((block=>block.attributes.id?block.attributes:new Promise(((resolve,reject)=>{window.fetch(block.attributes.url).then((response=>response.blob())).then((blob=>mediaUpload({filesList:[blob],additionalData:{title:block.attributes.title,alt_text:block.attributes.alt,caption:block.attributes.caption},onFileChange:([media])=>{media.id&&resolve(media)},allowedTypes:allowedTypes,onError:reject}))).catch((()=>resolve(block.attributes.url)))}))))).catch((err=>onError(err)));onSelect(multiple?uploadedMediaList:uploadedMediaList[0])}(blocks)}const onUpload=event=>{onFilesUpload(event.target.files)},renderPlaceholder=null!=placeholder?placeholder:content=>{let{instructions:instructions,title:title}=labels;if(mediaUpload||onSelectURL||(instructions=(0,i18n_build_module.__)("To edit this block, you need permission to upload media.")),void 0===instructions||void 0===title){const typesAllowed=null!=allowedTypes?allowedTypes:[],[firstAllowedType]=typesAllowed,isOneType=1===typesAllowed.length,isAudio=isOneType&&"audio"===firstAllowedType,isImage=isOneType&&"image"===firstAllowedType,isVideo=isOneType&&"video"===firstAllowedType;void 0===instructions&&mediaUpload&&(instructions=(0,i18n_build_module.__)("Upload a media file or pick one from your media library."),isAudio?instructions=(0,i18n_build_module.__)("Upload an audio file, pick one from your media library, or add one with a URL."):isImage?instructions=(0,i18n_build_module.__)("Upload an image file, pick one from your media library, or add one with a URL."):isVideo&&(instructions=(0,i18n_build_module.__)("Upload a video file, pick one from your media library, or add one with a URL."))),void 0===title&&(title=(0,i18n_build_module.__)("Media"),isAudio?title=(0,i18n_build_module.__)("Audio"):isImage?title=(0,i18n_build_module.__)("Image"):isVideo&&(title=(0,i18n_build_module.__)("Video")))}const placeholderClassName=classnames_default()("block-editor-media-placeholder",className,{"is-appender":isAppender});return(0,react.createElement)(build_module_placeholder.Z,{icon:icon,label:title,instructions:instructions,className:placeholderClassName,notices:notices,onDoubleClick:onDoubleClick,preview:mediaPreview,style:style},content,children)},renderDropZone=()=>disableDropZone?null:(0,react.createElement)(drop_zone.Z,{onFilesDrop:onFilesUpload,onHTMLDrop:onHTMLDrop}),renderCancelLink=()=>onCancel&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__cancel-button",title:(0,i18n_build_module.__)("Cancel"),variant:"link",onClick:onCancel},(0,i18n_build_module.__)("Cancel")),renderUrlSelectionUI=()=>onSelectURL&&(0,react.createElement)(URLSelectionUI,{isURLInputVisible:isURLInputVisible,src:src,onChangeSrc:onChangeSrc,onSubmitSrc:onSubmitSrc,openURLInput:openURLInput,closeURLInput:closeURLInput}),renderFeaturedImageToggle=()=>onToggleFeaturedImage&&(0,react.createElement)("div",{className:"block-editor-media-placeholder__url-input-container"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-media-placeholder__button",onClick:onToggleFeaturedImage,variant:"tertiary"},(0,i18n_build_module.__)("Use featured image")));return disableMediaButtons?(0,react.createElement)(check,null,renderDropZone()):(0,react.createElement)(check,{fallback:renderPlaceholder(renderUrlSelectionUI())},(()=>{const libraryButton=null!=mediaLibraryButton?mediaLibraryButton:({open:open})=>(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:()=>{open()}},(0,i18n_build_module.__)("Media Library")),uploadMediaLibraryButton=(0,react.createElement)(media_upload,{addToGallery:addToGallery,gallery:multiple&&!(!allowedTypes||0===allowedTypes.length)&&allowedTypes.every((allowedType=>"image"===allowedType||allowedType.startsWith("image/"))),multiple:multiple,onSelect:onSelect,allowedTypes:allowedTypes,mode:"browse",value:Array.isArray(value)?value.map((({id:id})=>id)):value.id,render:libraryButton});if(mediaUpload&&isAppender)return(0,react.createElement)(react.Fragment,null,renderDropZone(),(0,react.createElement)(form_file_upload.Z,{onChange:onUpload,accept:accept,multiple:!!multiple,render:({openFileDialog:openFileDialog})=>{const content=(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{variant:"primary",className:classnames_default()("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),onClick:openFileDialog},(0,i18n_build_module.__)("Upload")),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink());return renderPlaceholder(content)}}));if(mediaUpload){const content=(0,react.createElement)(react.Fragment,null,renderDropZone(),(0,react.createElement)(form_file_upload.Z,{variant:"primary",className:classnames_default()("block-editor-media-placeholder__button","block-editor-media-placeholder__upload-button"),onChange:onUpload,accept:accept,multiple:!!multiple},(0,i18n_build_module.__)("Upload")),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink());return renderPlaceholder(content)}return renderPlaceholder(uploadMediaLibraryButton)})())}MediaPlaceholder.__docgenInfo={description:"",methods:[],displayName:"MediaPlaceholder",props:{value:{defaultValue:{value:"{}",computed:!1},required:!1},labels:{defaultValue:{value:"{}",computed:!1},required:!1},multiple:{defaultValue:{value:"false",computed:!1},required:!1},handleUpload:{defaultValue:{value:"true",computed:!1},required:!1},onFilesPreUpload:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var media_placeholder=(0,with_filters.Z)("editor.MediaPlaceholder")(MediaPlaceholder),serialize=__webpack_require__("./packages/element/build-module/serialize.js");function getDefaultUseItems(autocompleter){return filterValue=>{const[items,setItems]=(0,react.useState)([]);return(0,react.useLayoutEffect)((()=>{const{options:options,isDebounced:isDebounced}=autocompleter,loadOptions=(0,debounce.D)((()=>{const promise=Promise.resolve("function"==typeof options?options(filterValue):options).then((optionsData=>{if(promise.canceled)return;const keyedOptions=optionsData.map(((optionData,optionIndex)=>({key:`${autocompleter.name}-${optionIndex}`,value:optionData,label:autocompleter.getOptionLabel(optionData),keywords:autocompleter.getOptionKeywords?autocompleter.getOptionKeywords(optionData):[],isDisabled:!!autocompleter.isOptionDisabled&&autocompleter.isOptionDisabled(optionData)}))),search=new RegExp("(?:\\b|\\s|^)"+(0,strings.h)(filterValue),"i");setItems(function filterOptions(search,options=[],maxResults=10){const filtered=[];for(let i=0;i<options.length;i++){const option=options[i];let{keywords:keywords=[]}=option;if("string"==typeof option.label&&(keywords=[...keywords,option.label]),keywords.some((keyword=>search.test(remove_accents_default()(keyword))))&&(filtered.push(option),filtered.length===maxResults))break}return filtered}(search,keyedOptions))}));return promise}),isDebounced?250:0),promise=loadOptions();return()=>{loadOptions.cancel(),promise&&(promise.canceled=!0)}}),[filterValue]),[items]}}function getAutoCompleterUI(autocompleter){const useItems=autocompleter.useItems?autocompleter.useItems:getDefaultUseItems(autocompleter);return function AutocompleterUI({filterValue:filterValue,instanceId:instanceId,listBoxId:listBoxId,className:className,selectedIndex:selectedIndex,onChangeOptions:onChangeOptions,onSelect:onSelect,onReset:onReset,reset:reset,contentRef:contentRef}){const[items]=useItems(filterValue),popoverAnchor=(0,rich_text_build_module.Wb)({editableContentElement:contentRef.current}),[needsA11yCompat,setNeedsA11yCompat]=(0,react.useState)(!1),popoverRef=(0,react.useRef)(null),popoverRefs=(0,use_merge_refs.Z)([popoverRef,(0,use_ref_effect.Z)((node=>{contentRef.current&&setNeedsA11yCompat(node.ownerDocument!==contentRef.current.ownerDocument)}),[contentRef])]);!function useOnClickOutside(ref,handler){(0,react.useEffect)((()=>{const listener=event=>{ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("mousedown",listener),document.addEventListener("touchstart",listener),()=>{document.removeEventListener("mousedown",listener),document.removeEventListener("touchstart",listener)}}),[handler])}(popoverRef,reset);const debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500);if((0,react.useLayoutEffect)((()=>{onChangeOptions(items),function announce(options){debouncedSpeak&&(options.length?debouncedSpeak(filterValue?(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",options.length),options.length):(0,i18n_build_module.gB)((0,i18n_build_module._n)("Initial %d result loaded. Type to filter all available results. Use up and down arrow keys to navigate.","Initial %d results loaded. Type to filter all available results. Use up and down arrow keys to navigate.",options.length),options.length),"assertive"):debouncedSpeak((0,i18n_build_module.__)("No results."),"assertive"))}(items)}),[items]),0===items.length)return null;const ListBox=({Component:Component="div"})=>(0,react.createElement)(Component,{id:listBoxId,role:"listbox",className:"components-autocomplete__results"},items.map(((option,index)=>(0,react.createElement)(build_module_button.ZP,{key:option.key,id:`components-autocomplete-item-${instanceId}-${option.key}`,role:"option","aria-selected":index===selectedIndex,disabled:option.isDisabled,className:classnames_default()("components-autocomplete__result",className,{"is-selected":index===selectedIndex}),onClick:()=>onSelect(option)},option.label))));return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(popover.ZP,{focusOnMount:!1,onClose:onReset,placement:"top-start",className:"components-autocomplete__popover",anchor:popoverAnchor,ref:popoverRefs},(0,react.createElement)(ListBox,null)),contentRef.current&&needsA11yCompat&&(0,react_dom.createPortal)((0,react.createElement)(ListBox,{Component:visually_hidden_component.Z}),contentRef.current.ownerDocument.body))}}const getNodeText=node=>{if(null===node)return"";switch(typeof node){case"string":case"number":return node.toString();case"boolean":default:return"";case"object":if(node instanceof Array)return node.map(getNodeText).join("");if("props"in node)return getNodeText(node.props.children)}return""},EMPTY_FILTERED_OPTIONS=[];function useAutocomplete({record:record,onChange:onChange,onReplace:onReplace,completers:completers,contentRef:contentRef}){const instanceId=(0,use_instance_id.Z)(useAutocomplete),[selectedIndex,setSelectedIndex]=(0,react.useState)(0),[filteredOptions,setFilteredOptions]=(0,react.useState)(EMPTY_FILTERED_OPTIONS),[filterValue,setFilterValue]=(0,react.useState)(""),[autocompleter,setAutocompleter]=(0,react.useState)(null),[AutocompleterUI,setAutocompleterUI]=(0,react.useState)(null),backspacing=(0,react.useRef)(!1);function select(option){const{getOptionCompletion:getOptionCompletion}=autocompleter||{};if(!option.isDisabled){if(getOptionCompletion){const completion=getOptionCompletion(option.value,filterValue),completionObject=(obj=>null!==obj&&"object"==typeof obj&&"action"in obj&&void 0!==obj.action&&"value"in obj&&void 0!==obj.value)(completion)?completion:{action:"insert-at-caret",value:completion};if("replace"===completionObject.action)return void onReplace([completionObject.value]);"insert-at-caret"===completionObject.action&&function insertCompletion(replacement){if(null===autocompleter)return;const end=record.start,start=end-autocompleter.triggerPrefix.length-filterValue.length,toInsert=(0,rich_text_build_module.Ue)({html:(0,serialize.ZP)(replacement)});onChange((0,rich_text_build_module.$T)(record,toInsert,start,end))}(completionObject.value)}reset()}}function reset(){setSelectedIndex(0),setFilteredOptions(EMPTY_FILTERED_OPTIONS),setFilterValue(""),setAutocompleter(null),setAutocompleterUI(null)}const textContent=(0,react.useMemo)((()=>(0,rich_text_build_module.zb)(record)?(0,rich_text_build_module.FB)((0,rich_text_build_module.tP)(record,0)):""),[record]);(0,react.useEffect)((()=>{if(!textContent)return void(autocompleter&&reset());const completer=completers.reduce(((lastTrigger,currentCompleter)=>textContent.lastIndexOf(currentCompleter.triggerPrefix)>(null!==lastTrigger?textContent.lastIndexOf(lastTrigger.triggerPrefix):-1)?currentCompleter:lastTrigger),null);if(!completer)return void(autocompleter&&reset());const{allowContext:allowContext,triggerPrefix:triggerPrefix}=completer,triggerIndex=textContent.lastIndexOf(triggerPrefix),textWithoutTrigger=textContent.slice(triggerIndex+triggerPrefix.length);if(textWithoutTrigger.length>50)return;const mismatch=0===filteredOptions.length,wordsFromTrigger=textWithoutTrigger.split(/\s/),hasOneTriggerWord=1===wordsFromTrigger.length,matchingWhileBackspacing=backspacing.current&&wordsFromTrigger.length<=3;if(mismatch&&!matchingWhileBackspacing&&!hasOneTriggerWord)return void(autocompleter&&reset());const textAfterSelection=(0,rich_text_build_module.FB)((0,rich_text_build_module.tP)(record,void 0,(0,rich_text_build_module.FB)(record).length));if(allowContext&&!allowContext(textContent.slice(0,triggerIndex),textAfterSelection))return void(autocompleter&&reset());if(/^\s/.test(textWithoutTrigger)||/\s\s+$/.test(textWithoutTrigger))return void(autocompleter&&reset());if(!/[\u0000-\uFFFF]*$/.test(textWithoutTrigger))return void(autocompleter&&reset());const safeTrigger=(0,strings.h)(completer.triggerPrefix),text=remove_accents_default()(textContent),match=text.slice(text.lastIndexOf(completer.triggerPrefix)).match(new RegExp(`${safeTrigger}([\0-￿]*)$`)),query=match&&match[1];setAutocompleter(completer),setAutocompleterUI((()=>completer!==autocompleter?getAutoCompleterUI(completer):AutocompleterUI)),setFilterValue(null===query?"":query)}),[textContent]);const{key:selectedKey=""}=filteredOptions[selectedIndex]||{},{className:className}=autocompleter||{},isExpanded=!!autocompleter&&filteredOptions.length>0,listBoxId=isExpanded?`components-autocomplete-listbox-${instanceId}`:void 0;return{listBoxId:listBoxId,activeId:isExpanded?`components-autocomplete-item-${instanceId}-${selectedKey}`:null,onKeyDown:function handleKeyDown(event){if(backspacing.current="Backspace"===event.key,autocompleter&&0!==filteredOptions.length&&!event.defaultPrevented&&!event.isComposing&&229!==event.keyCode){switch(event.key){case"ArrowUp":{const newIndex=(0===selectedIndex?filteredOptions.length:selectedIndex)-1;setSelectedIndex(newIndex),(0,build_module_platform.R)()&&(0,a11y_build_module.D)(getNodeText(filteredOptions[newIndex].label),"assertive");break}case"ArrowDown":{const newIndex=(selectedIndex+1)%filteredOptions.length;setSelectedIndex(newIndex),(0,build_module_platform.R)()&&(0,a11y_build_module.D)(getNodeText(filteredOptions[newIndex].label),"assertive");break}case"Escape":setAutocompleter(null),setAutocompleterUI(null),event.preventDefault();break;case"Enter":select(filteredOptions[selectedIndex]);break;case"ArrowLeft":case"ArrowRight":return void reset();default:return}event.preventDefault()}},popover:void 0!==record.start&&AutocompleterUI&&(0,react.createElement)(AutocompleterUI,{className:className,filterValue:filterValue,instanceId:instanceId,listBoxId:listBoxId,selectedIndex:selectedIndex,onChangeOptions:function onChangeOptions(options){setSelectedIndex(options.length===filteredOptions.length?selectedIndex:0),setFilteredOptions(options)},onSelect:select,value:record,contentRef:contentRef,reset:reset})}}function useAutocompleteProps(options){const ref=(0,react.useRef)(null),onKeyDownRef=(0,react.useRef)(),{record:record}=options,previousRecord=function useLastDifferentValue(value){const history=(0,react.useRef)(new Set);return history.current.add(value),history.current.size>2&&history.current.delete(Array.from(history.current)[0]),Array.from(history.current)[0]}(record),{popover:popover,listBoxId:listBoxId,activeId:activeId,onKeyDown:onKeyDown}=useAutocomplete({...options,contentRef:ref});onKeyDownRef.current=onKeyDown;const mergedRefs=(0,use_merge_refs.Z)([ref,(0,use_ref_effect.Z)((element=>{function _onKeyDown(event){onKeyDownRef.current?.(event)}return element.addEventListener("keydown",_onKeyDown),()=>{element.removeEventListener("keydown",_onKeyDown)}}),[])]);return record.text!==previousRecord?.text?{ref:mergedRefs,children:popover,"aria-autocomplete":listBoxId?"list":void 0,"aria-owns":listBoxId,"aria-activedescendant":activeId}:{ref:mergedRefs}}function Autocomplete({children:children,isSelected:isSelected,...options}){const{popover:popover,...props}=useAutocomplete(options);return(0,react.createElement)(react.Fragment,null,children(props),isSelected&&popover)}Autocomplete.__docgenInfo={description:"",methods:[],displayName:"Autocomplete"};const block_noop=()=>{};var autocompleters_block=function createBlockCompleter(){return{name:"blocks",className:"block-editor-autocompleters__block",triggerPrefix:"/",useItems(filterValue){const{rootClientId:rootClientId,selectedBlockName:selectedBlockName,prioritizedBlocks:prioritizedBlocks}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId:getSelectedBlockClientId,getBlockName:getBlockName,getBlockListSettings:getBlockListSettings,getBlockRootClientId:getBlockRootClientId}=select(store),selectedBlockClientId=getSelectedBlockClientId(),_rootClientId=getBlockRootClientId(selectedBlockClientId);return{selectedBlockName:selectedBlockClientId?getBlockName(selectedBlockClientId):null,rootClientId:_rootClientId,prioritizedBlocks:getBlockListSettings(_rootClientId)?.prioritizedInserterBlocks}}),[]),[items,categories,collections]=use_block_types_state(rootClientId,block_noop),filteredItems=(0,react.useMemo)((()=>(filterValue.trim()?searchBlockItems(items,categories,collections,filterValue):orderInserterBlockItems(orderBy(items,"frecency","desc"),prioritizedBlocks)).filter((item=>item.name!==selectedBlockName)).slice(0,9)),[filterValue,selectedBlockName,items,categories,collections,prioritizedBlocks]),options=(0,react.useMemo)((()=>filteredItems.map((blockItem=>{const{title:title,icon:icon,isDisabled:isDisabled}=blockItem;return{key:`block-${blockItem.id}`,value:blockItem,label:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_icon,{key:"icon",icon:icon,showColors:!0}),title),isDisabled:isDisabled}}))),[filteredItems]);return[options]},allowContext(before,after){return!(/\S/.test(before)||/\S/.test(after))},getOptionCompletion(inserterItem){const{name:name,initialAttributes:initialAttributes,innerBlocks:innerBlocks,syncStatus:syncStatus,content:content}=inserterItem;return{action:"replace",value:"unsynced"===syncStatus?(0,build_module.Qc)(content,{__unstableSkipMigrationLogs:!0}):(0,build_module.j4)(name,initialAttributes,(0,build_module.ne)(innerBlocks))}}}}(),add_query_args=__webpack_require__("./packages/url/build-module/add-query-args.js");var library_post=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z"}));var autocompleters_link=function createLinkCompleter(){return{name:"links",className:"block-editor-autocompleters__link",triggerPrefix:"[[",options:async letters=>{let options=await(0,api_fetch_build_module.Z)({path:(0,add_query_args.f)("/wp/v2/search",{per_page:10,search:letters,type:"post",order_by:"menu_order"})});return options=options.filter((option=>""!==option.title)),options},getOptionKeywords(item){return[...item.title.split(/\s+/)]},getOptionLabel(item){return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_icon.Z,{key:"icon",icon:"page"===item.subtype?page.Z:library_post}),item.title)},getOptionCompletion(item){return(0,react.createElement)("a",{href:item.url},item.title)}}}();const autocomplete_EMPTY_ARRAY=[];function useCompleters({completers:completers=autocomplete_EMPTY_ARRAY}){const{name:name}=useBlockEditContext();return(0,react.useMemo)((()=>{let filteredCompleters=[...completers,autocompleters_link];return(name===(0,build_module.UT)()||(0,build_module.Dx)(name,"__experimentalSlashInserter",!1))&&(filteredCompleters=[...filteredCompleters,autocompleters_block]),(0,hooks_build_module.H7)("editor.Autocomplete.completers")&&(filteredCompleters===completers&&(filteredCompleters=filteredCompleters.map((completer=>({...completer})))),filteredCompleters=(0,hooks_build_module.O)("editor.Autocomplete.completers",filteredCompleters,name)),filteredCompleters}),[completers,name])}function BlockEditorAutocomplete(props){return(0,react.createElement)(Autocomplete,{...props,completers:useCompleters(props)})}BlockEditorAutocomplete.__docgenInfo={description:"Wrap the default Autocomplete component with one that supports a filter hook\nfor customizing its list of autocompleters.\n\n@type {import('react').FC}",methods:[],displayName:"BlockEditorAutocomplete"};const format_toolbar_POPOVER_PROPS={placement:"bottom-start"},FormatToolbar=()=>(0,react.createElement)(react.Fragment,null,["bold","italic","link","unknown"].map((format=>(0,react.createElement)(slot_fill.g7,{name:`RichText.ToolbarControls.${format}`,key:format}))),(0,react.createElement)(slot_fill.g7,{name:"RichText.ToolbarControls"},(fills=>{if(!fills.length)return null;const hasActive=fills.map((([{props:props}])=>props)).some((({isActive:isActive})=>isActive));return(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(dropdown_menu.Z,{icon:chevron_down.Z,label:(0,i18n_build_module.__)("More"),toggleProps:{...toggleProps,className:classnames_default()(toggleProps.className,{"is-pressed":hasActive}),describedBy:(0,i18n_build_module.__)("Displays more block tools")},controls:orderBy(fills.map((([{props:props}])=>props)),"title"),popoverProps:format_toolbar_POPOVER_PROPS})))})));FormatToolbar.__docgenInfo={description:"",methods:[],displayName:"FormatToolbar"};var format_toolbar=FormatToolbar,toolbar=__webpack_require__("./packages/components/build-module/toolbar/toolbar/index.js");function getAllToolbarItemsIn(container){return Array.from(container.querySelectorAll("[data-toolbar-item]"))}function useToolbarFocus({toolbarRef:toolbarRef,focusOnMount:focusOnMount,isAccessibleToolbar:isAccessibleToolbar,defaultIndex:defaultIndex,onIndexChange:onIndexChange,shouldUseKeyboardFocusShortcut:shouldUseKeyboardFocusShortcut,focusEditorOnEscape:focusEditorOnEscape}){const[initialFocusOnMount]=(0,react.useState)(focusOnMount),[initialIndex]=(0,react.useState)(defaultIndex),focusToolbar=(0,react.useCallback)((()=>{!function focusFirstTabbableIn(container){const[firstTabbable]=dom_build_module.T_.tabbable.find(container);firstTabbable&&firstTabbable.focus({preventScroll:!0})}(toolbarRef.current)}),[toolbarRef]);(0,keyboard_shortcuts_build_module.bx)("core/block-editor/focus-toolbar",(()=>{shouldUseKeyboardFocusShortcut&&focusToolbar()})),(0,react.useEffect)((()=>{initialFocusOnMount&&focusToolbar()}),[isAccessibleToolbar,initialFocusOnMount,focusToolbar]),(0,react.useEffect)((()=>{const navigableToolbarRef=toolbarRef.current;let raf=0;return initialFocusOnMount||(raf=window.requestAnimationFrame((()=>{const items=getAllToolbarItemsIn(navigableToolbarRef),index=initialIndex||0;items[index]&&function hasFocusWithin(container){return container.contains(container.ownerDocument.activeElement)}(navigableToolbarRef)&&items[index].focus({preventScroll:!0})}))),()=>{if(window.cancelAnimationFrame(raf),!onIndexChange||!navigableToolbarRef)return;const index=getAllToolbarItemsIn(navigableToolbarRef).findIndex((item=>0===item.tabIndex));onIndexChange(index)}}),[initialIndex,initialFocusOnMount,toolbarRef]);const{lastFocus:lastFocus}=(0,use_select.Z)((select=>{const{getLastFocus:getLastFocus}=select(store);return{lastFocus:getLastFocus()}}),[]);(0,react.useEffect)((()=>{const navigableToolbarRef=toolbarRef.current;if(focusEditorOnEscape){const handleKeyDown=event=>{event.keyCode===keycodes_build_module.hY&&lastFocus?.current&&(event.preventDefault(),lastFocus.current.focus())};return navigableToolbarRef.addEventListener("keydown",handleKeyDown),()=>{navigableToolbarRef.removeEventListener("keydown",handleKeyDown)}}}),[focusEditorOnEscape,lastFocus,toolbarRef])}function NavigableToolbar({children:children,focusOnMount:focusOnMount,focusEditorOnEscape:focusEditorOnEscape=!1,shouldUseKeyboardFocusShortcut:shouldUseKeyboardFocusShortcut=!0,__experimentalInitialIndex:initialIndex,__experimentalOnIndexChange:onIndexChange,...props}){const toolbarRef=(0,react.useRef)(),isAccessibleToolbar=function useIsAccessibleToolbar(toolbarRef){const[isAccessibleToolbar,setIsAccessibleToolbar]=(0,react.useState)(!0),determineIsAccessibleToolbar=(0,react.useCallback)((()=>{const onlyToolbarItem=function hasOnlyToolbarItem(elements){return!elements.some((element=>!("toolbarItem"in element.dataset)))}(dom_build_module.T_.tabbable.find(toolbarRef.current));onlyToolbarItem||(0,deprecated_build_module.Z)("Using custom components as toolbar controls",{since:"5.6",alternative:"ToolbarItem, ToolbarButton or ToolbarDropdownMenu components",link:"https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols"}),setIsAccessibleToolbar(onlyToolbarItem)}),[toolbarRef]);return(0,react.useLayoutEffect)((()=>{const observer=new window.MutationObserver(determineIsAccessibleToolbar);return observer.observe(toolbarRef.current,{childList:!0,subtree:!0}),()=>observer.disconnect()}),[determineIsAccessibleToolbar,isAccessibleToolbar,toolbarRef]),isAccessibleToolbar}(toolbarRef);return useToolbarFocus({toolbarRef:toolbarRef,focusOnMount:focusOnMount,isAccessibleToolbar:isAccessibleToolbar,defaultIndex:initialIndex,onIndexChange:onIndexChange,shouldUseKeyboardFocusShortcut:shouldUseKeyboardFocusShortcut,focusEditorOnEscape:focusEditorOnEscape}),isAccessibleToolbar?(0,react.createElement)(toolbar.Z,{label:props["aria-label"],ref:toolbarRef,...props},children):(0,react.createElement)(menu.ZP,{orientation:"horizontal",role:"toolbar",ref:toolbarRef,...props},children)}function InlineSelectionToolbar({editableContentElement:editableContentElement,activeFormats:activeFormats}){const lastFormat=activeFormats[activeFormats.length-1],lastFormatType=lastFormat?.type,settings=(0,use_select.Z)((select=>select(rich_text_build_module.h).getFormatType(lastFormatType)),[lastFormatType]),popoverAnchor=(0,rich_text_build_module.Wb)({editableContentElement:editableContentElement,settings:settings});return(0,react.createElement)(InlineToolbar,{popoverAnchor:popoverAnchor})}function InlineToolbar({popoverAnchor:popoverAnchor}){return(0,react.createElement)(popover.ZP,{placement:"top",focusOnMount:!1,anchor:popoverAnchor,className:"block-editor-rich-text__inline-format-toolbar",__unstableSlotName:"block-toolbar"},(0,react.createElement)(NavigableToolbar,{className:"block-editor-rich-text__inline-format-toolbar-group","aria-label":(0,i18n_build_module.__)("Format tools")},(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(format_toolbar,null))))}NavigableToolbar.__docgenInfo={description:"",methods:[],displayName:"NavigableToolbar",props:{focusEditorOnEscape:{defaultValue:{value:"false",computed:!1},required:!1},shouldUseKeyboardFocusShortcut:{defaultValue:{value:"true",computed:!1},required:!1}}};const FormatToolbarContainer=({inline:inline,editableContentElement:editableContentElement,value:value})=>{const hasInlineToolbar=(0,use_select.Z)((select=>select(store).getSettings().hasInlineToolbar),[]);if(inline)return(0,react.createElement)(InlineToolbar,{popoverAnchor:editableContentElement});if(hasInlineToolbar){const activeFormats=(0,rich_text_build_module.DL)(value);return(0,rich_text_build_module.zb)(value)&&!activeFormats.length?null:(0,react.createElement)(InlineSelectionToolbar,{editableContentElement:editableContentElement,activeFormats:activeFormats})}return(0,react.createElement)(block_controls,{group:"inline"},(0,react.createElement)(format_toolbar,null))};FormatToolbarContainer.__docgenInfo={description:"",methods:[],displayName:"FormatToolbarContainer"};var format_toolbar_container=FormatToolbarContainer;function useUndoAutomaticChange(){const{didAutomaticChange:didAutomaticChange,getSettings:getSettings}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((element=>{function onKeyDown(event){const{keyCode:keyCode}=event;if(event.defaultPrevented)return;if(keyCode!==keycodes_build_module.yY&&keyCode!==keycodes_build_module.ZH&&keyCode!==keycodes_build_module.hY)return;const{__experimentalUndo:__experimentalUndo}=getSettings();__experimentalUndo&&didAutomaticChange()&&(event.preventDefault(),__experimentalUndo())}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function addActiveFormats(value,activeFormats){if(activeFormats?.length){let index=value.formats.length;for(;index--;)value.formats[index]=[...activeFormats,...value.formats[index]||[]]}}function getMultilineTag(multiline){if(!0===multiline||"p"===multiline||"li"===multiline)return!0===multiline?"p":multiline}function getAllowedFormats({allowedFormats:allowedFormats,disableFormats:disableFormats}){return disableFormats?getAllowedFormats.EMPTY_ARRAY:allowedFormats}function splitValue({value:value,pastedBlocks:pastedBlocks=[],onReplace:onReplace,onSplit:onSplit}){if(!onReplace||!onSplit)return;const{start:start=0,end:end=0}=value,valueWithEnsuredSelection={...value,start:start,end:end},blocks=[],[before,after]=(0,rich_text_build_module.Vl)(valueWithEnsuredSelection),hasPastedBlocks=pastedBlocks.length>0;let lastPastedBlockIndex=-1;const isAfterOriginal=(0,rich_text_build_module.xb)(before)&&!(0,rich_text_build_module.xb)(after);hasPastedBlocks&&(0,rich_text_build_module.xb)(before)||(blocks.push(onSplit((0,rich_text_build_module.Jz)({value:before}),!isAfterOriginal)),lastPastedBlockIndex+=1),hasPastedBlocks&&(blocks.push(...pastedBlocks),lastPastedBlockIndex+=pastedBlocks.length),hasPastedBlocks&&(0,rich_text_build_module.xb)(after)||blocks.push(onSplit((0,rich_text_build_module.Jz)({value:after}),isAfterOriginal));onReplace(blocks,hasPastedBlocks?lastPastedBlockIndex:1,hasPastedBlocks?-1:0)}function usePasteHandler(props){const propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function _onPaste(event){const{isSelected:isSelected,disableFormats:disableFormats,onChange:onChange,value:value,formatTypes:formatTypes,tagName:tagName,onReplace:onReplace,onSplit:onSplit,__unstableEmbedURLOnPaste:__unstableEmbedURLOnPaste,pastePlainText:pastePlainText}=propsRef.current;if(!isSelected)return;const{plainText:plainText,html:html,files:files}=getPasteEventData(event);if(event.preventDefault(),window.console.log("Received HTML:\n\n",html),window.console.log("Received plain text:\n\n",plainText),disableFormats)return void onChange((0,rich_text_build_module.$T)(value,plainText));if("true"===event.clipboardData.getData("rich-text")){const pastedValue=(0,rich_text_build_module.Ue)({html:html});return addActiveFormats(pastedValue,value.activeFormats),void onChange((0,rich_text_build_module.$T)(value,pastedValue))}if(pastePlainText)return void onChange((0,rich_text_build_module.$T)(value,(0,rich_text_build_module.Ue)({text:plainText})));if(files?.length){window.console.log("Received items:\n\n",files);const fromTransforms=(0,build_module.Xn)("from"),blocks=files.reduce(((accumulator,file)=>{const transformation=(0,build_module.MC)(fromTransforms,(transform=>"files"===transform.type&&transform.isMatch([file])));return transformation&&accumulator.push(transformation.transform([file])),accumulator}),[]).flat();if(!blocks.length)return;return void(onReplace&&(0,rich_text_build_module.xb)(value)?onReplace(blocks):splitValue({value:value,pastedBlocks:blocks,onReplace:onReplace,onSplit:onSplit}))}let mode=onReplace&&onSplit?"AUTO":"INLINE";const trimmedPlainText=plainText.trim();__unstableEmbedURLOnPaste&&(0,rich_text_build_module.xb)(value)&&(0,is_url.P)(trimmedPlainText)&&/^https?:/.test(trimmedPlainText)&&(mode="BLOCKS");const content=(0,build_module.ag)({HTML:html,plainText:plainText,mode:mode,tagName:tagName});if("string"==typeof content){const transformed=formatTypes.reduce(((accumlator,{__unstablePasteRule:__unstablePasteRule})=>(__unstablePasteRule&&accumlator===value&&(accumlator=__unstablePasteRule(value,{html:html,plainText:plainText})),accumlator)),value);if(transformed!==value)onChange(transformed);else{const valueToInsert=(0,rich_text_build_module.Ue)({html:content});addActiveFormats(valueToInsert,value.activeFormats),onChange((0,rich_text_build_module.$T)(value,valueToInsert))}}else content.length>0&&(onReplace&&(0,rich_text_build_module.xb)(value)?onReplace(content,content.length-1,-1):splitValue({value:value,pastedBlocks:content,onReplace:onReplace,onSplit:onSplit}))}return element.addEventListener("paste",_onPaste),()=>{element.removeEventListener("paste",_onPaste)}}),[])}getAllowedFormats.EMPTY_ARRAY=[];const wrapSelectionSettings=["`",'"',"'","“”","‘’"];function useBeforeInputRules(props){const{__unstableMarkLastChangeAsPersistent:__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange:__unstableMarkAutomaticChange}=(0,use_dispatch.Z)(store),propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function onInput(event){const{inputType:inputType,data:data}=event,{value:value,onChange:onChange}=propsRef.current;if("insertText"!==inputType)return;if((0,rich_text_build_module.zb)(value))return;const pair=(0,hooks_build_module.O)("blockEditor.wrapSelectionSettings",wrapSelectionSettings).find((([startChar,endChar])=>startChar===data||endChar===data));if(!pair)return;const[startChar,endChar=startChar]=pair,start=value.start,end=value.end+startChar.length;let newValue=(0,rich_text_build_module.$T)(value,startChar,start,start);newValue=(0,rich_text_build_module.$T)(newValue,endChar,end,end),__unstableMarkLastChangeAsPersistent(),onChange(newValue),__unstableMarkAutomaticChange();const init={};for(const key in event)init[key]=event[key];init.data=endChar;const{ownerDocument:ownerDocument}=element,{defaultView:defaultView}=ownerDocument,newEvent=new defaultView.InputEvent("input",init);window.queueMicrotask((()=>{event.target.dispatchEvent(newEvent)})),event.preventDefault()}return element.addEventListener("beforeinput",onInput),()=>{element.removeEventListener("beforeinput",onInput)}}),[])}function findSelection(blocks){let i=blocks.length;for(;i--;){const attributeKey=retrieveSelectedAttribute(blocks[i].attributes);if(attributeKey)return blocks[i].attributes[attributeKey]=blocks[i].attributes[attributeKey].replace(START_OF_SELECTED_AREA,""),[blocks[i].clientId,attributeKey,0,0];const nestedSelection=findSelection(blocks[i].innerBlocks);if(nestedSelection)return nestedSelection}return[]}function useInputRules(props){const{__unstableMarkLastChangeAsPersistent:__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange:__unstableMarkAutomaticChange}=(0,use_dispatch.Z)(store),propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function inputRule(){const{getValue:getValue,onReplace:onReplace,selectionChange:selectionChange}=propsRef.current;if(!onReplace)return;const value=getValue(),{start:start,text:text}=value;if(" "!==text.slice(start-1,start))return;const trimmedTextBefore=text.slice(0,start).trim(),prefixTransforms=(0,build_module.Xn)("from").filter((({type:type})=>"prefix"===type)),transformation=(0,build_module.MC)(prefixTransforms,(({prefix:prefix})=>trimmedTextBefore===prefix));if(!transformation)return;const content=(0,rich_text_build_module.Jz)({value:(0,rich_text_build_module.$T)(value,START_OF_SELECTED_AREA,0,start)}),block=transformation.transform(content);return selectionChange(...findSelection([block])),onReplace([block]),__unstableMarkAutomaticChange(),!0}function onInput(event){const{inputType:inputType,type:type}=event,{getValue:getValue,onChange:onChange,__unstableAllowPrefixTransformations:__unstableAllowPrefixTransformations,formatTypes:formatTypes}=propsRef.current;if("insertText"!==inputType&&"compositionend"!==type)return;if(__unstableAllowPrefixTransformations&&inputRule&&inputRule())return;const value=getValue(),transformed=formatTypes.reduce(((accumlator,{__unstableInputRule:__unstableInputRule})=>(__unstableInputRule&&(accumlator=__unstableInputRule(accumlator)),accumlator)),function preventEventDiscovery(value){const{start:start,text:text}=value;return start<18||"tales of gutenberg"!==text.slice(start-18,start).toLowerCase()?value:(0,rich_text_build_module.$T)(value," 🐡🐢🦀🐤🦋🐘🐧🐹🦁🦄🦍🐼🐿🎃🐴🐝🐆🦕🦔🌱🍇π🍌🐉💧🥨🌌🍂🍠🥦🥚🥝🎟🥥🥒🛵🥖🍒🍯🎾🎲🐺🐚🐮⌛️")}(function replacePrecedingSpaces(value){if(!(0,rich_text_build_module.zb)(value))return value;const{text:text,start:start}=value,lastTwoCharacters=text.slice(start-2,start);return"  "===lastTwoCharacters?(0,rich_text_build_module.$T)(value," ",start-2,start):"  "===lastTwoCharacters?(0,rich_text_build_module.$T)(value," ",start-2,start):value}(value)));transformed!==value&&(__unstableMarkLastChangeAsPersistent(),onChange({...transformed,activeFormats:value.activeFormats}),__unstableMarkAutomaticChange())}return element.addEventListener("input",onInput),element.addEventListener("compositionend",onInput),()=>{element.removeEventListener("input",onInput),element.removeEventListener("compositionend",onInput)}}),[])}function useDelete(props){const propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function onKeyDown(event){const{keyCode:keyCode}=event;if(event.defaultPrevented)return;const{value:value,onMerge:onMerge,onRemove:onRemove}=propsRef.current;if(keyCode===keycodes_build_module.yY||keyCode===keycodes_build_module.ZH){const{start:start,end:end,text:text}=value,isReverse=keyCode===keycodes_build_module.ZH,hasActiveFormats=value.activeFormats&&!!value.activeFormats.length;if(!(0,rich_text_build_module.zb)(value)||hasActiveFormats||isReverse&&0!==start||!isReverse&&end!==text.length)return;onMerge?onMerge(!isReverse):onRemove&&(0,rich_text_build_module.xb)(value)&&isReverse&&onRemove(!isReverse),event.preventDefault()}}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function useEnter(props){const registry=(0,use_registry.Z)(),{__unstableMarkAutomaticChange:__unstableMarkAutomaticChange}=(0,use_dispatch.Z)(store),propsRef=(0,react.useRef)(props);return propsRef.current=props,(0,use_ref_effect.Z)((element=>{function onKeyDown(event){if(event.defaultPrevented)return;if(event.keyCode!==keycodes_build_module.K5)return;const{removeEditorOnlyFormats:removeEditorOnlyFormats,value:value,onReplace:onReplace,onSplit:onSplit,onChange:onChange,disableLineBreaks:disableLineBreaks,onSplitAtEnd:onSplitAtEnd,onSplitAtDoubleLineEnd:onSplitAtDoubleLineEnd}=propsRef.current;event.preventDefault();const _value={...value};_value.formats=removeEditorOnlyFormats(value);const canSplit=onReplace&&onSplit;if(onReplace){const transforms=(0,build_module.Xn)("from").filter((({type:type})=>"enter"===type)),transformation=(0,build_module.MC)(transforms,(item=>item.regExp.test(_value.text)));transformation&&(onReplace([transformation.transform({content:_value.text})]),__unstableMarkAutomaticChange())}const{text:text,start:start,end:end}=_value;event.shiftKey?disableLineBreaks||onChange((0,rich_text_build_module.$T)(_value,"\n")):canSplit?splitValue({value:_value,onReplace:onReplace,onSplit:onSplit}):onSplitAtEnd&&start===end&&end===text.length?onSplitAtEnd():onSplitAtDoubleLineEnd&&start===end&&end===text.length&&"\n\n"===text.slice(-2)?registry.batch((()=>{_value.start=_value.end-2,onChange((0,rich_text_build_module.Od)(_value)),onSplitAtDoubleLineEnd()})):disableLineBreaks||onChange((0,rich_text_build_module.$T)(_value,"\n"))}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function formatTypesSelector(select){return select(rich_text_build_module.h).getFormatTypes()}const interactiveContentTags=new Set(["a","audio","button","details","embed","iframe","input","label","select","textarea","video"]);function getPrefixedSelectKeys(selected,prefix){return selected[prefix]?selected[prefix]:Object.keys(selected).filter((key=>key.startsWith(prefix+"."))).reduce(((accumulator,key)=>(accumulator[key.slice(prefix.length+1)]=selected[key],accumulator)),{})}function useShortcuts(keyboardShortcuts){return(0,use_ref_effect.Z)((element=>{function onKeyDown(event){for(const keyboardShortcut of keyboardShortcuts.current)keyboardShortcut(event)}return element.addEventListener("keydown",onKeyDown),()=>{element.removeEventListener("keydown",onKeyDown)}}),[])}function useInputEvents(inputEvents){return(0,use_ref_effect.Z)((element=>{function onInput(event){for(const keyboardShortcut of inputEvents.current)keyboardShortcut(event)}return element.addEventListener("input",onInput),()=>{element.removeEventListener("input",onInput)}}),[])}function useInsertReplacementText(){const{__unstableMarkLastChangeAsPersistent:__unstableMarkLastChangeAsPersistent}=(0,use_dispatch.Z)(store);return(0,use_ref_effect.Z)((element=>{function onInput(event){"insertReplacementText"===event.inputType&&__unstableMarkLastChangeAsPersistent()}return element.addEventListener("beforeinput",onInput),()=>{element.removeEventListener("beforeinput",onInput)}}),[])}function useFirefoxCompat(){const{isMultiSelecting:isMultiSelecting}=(0,use_select.Z)(store);return(0,use_ref_effect.Z)((element=>{function onFocus(){if(!isMultiSelecting())return;const parentEditable=element.parentElement.closest('[contenteditable="true"]');parentEditable&&parentEditable.focus()}return element.addEventListener("focus",onFocus),()=>{element.removeEventListener("focus",onFocus)}}),[])}const format_edit_DEFAULT_BLOCK_CONTEXT={},usesContextKey=Symbol("usesContext");function format_edit_Edit({onChange:onChange,onFocus:onFocus,value:value,forwardedRef:forwardedRef,settings:settings}){const{name:name,edit:EditFunction,[usesContextKey]:usesContext}=settings,blockContext=(0,react.useContext)(block_context),context=(0,react.useMemo)((()=>usesContext?Object.fromEntries(Object.entries(blockContext).filter((([key])=>usesContext.includes(key)))):format_edit_DEFAULT_BLOCK_CONTEXT),[usesContext,blockContext]);if(!EditFunction)return null;const activeFormat=(0,rich_text_build_module.Ye)(value,name),isActive=void 0!==activeFormat,activeObject=(0,rich_text_build_module.Jj)(value),isObjectActive=void 0!==activeObject&&activeObject.type===name;return(0,react.createElement)(EditFunction,{key:name,isActive:isActive,activeAttributes:isActive&&activeFormat.attributes||{},isObjectActive:isObjectActive,activeObjectAttributes:isObjectActive&&activeObject.attributes||{},value:value,onChange:onChange,onFocus:onFocus,contentRef:forwardedRef,context:context})}function FormatEdit({formatTypes:formatTypes,...props}){return formatTypes.map((settings=>(0,react.createElement)(format_edit_Edit,{settings:settings,...props,key:settings.name})))}const Content=({value:value,tagName:Tag,multiline:multiline,...props})=>{Array.isArray(value)&&((0,deprecated_build_module.Z)("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),value=build_module.pI.toHTML(value));const MultilineTag=getMultilineTag(multiline);!value&&MultilineTag&&(value=`<${MultilineTag}></${MultilineTag}>`);const content=(0,react.createElement)(raw_html.Z,null,value);if(Tag){const{format:format,...restProps}=props;return(0,react.createElement)(Tag,{...restProps},content)}return content};function RichTextMultiline({children:children,identifier:identifier,tagName:TagName="div",value:value="",onChange:onChange,multiline:multiline,...props},forwardedRef){(0,deprecated_build_module.Z)("wp.blockEditor.RichText multiline prop",{since:"6.1",version:"6.3",alternative:"nested blocks (InnerBlocks)",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/nested-blocks-inner-blocks/"});const{clientId:clientId}=useBlockEditContext(),{selectionChange:selectionChange}=(0,use_dispatch.Z)(store),multilineTagName=getMultilineTag(multiline),values=`</${multilineTagName}>${value=value||`<${multilineTagName}></${multilineTagName}>`}<${multilineTagName}>`.split(`</${multilineTagName}><${multilineTagName}>`);function _onChange(newValues){onChange(`<${multilineTagName}>${newValues.join(`</${multilineTagName}><${multilineTagName}>`)}</${multilineTagName}>`)}return values.shift(),values.pop(),(0,react.createElement)(TagName,{ref:forwardedRef},values.map(((_value,index)=>(0,react.createElement)(RichTextWrapper,{key:index,identifier:`${identifier}-${index}`,tagName:multilineTagName,value:_value,onChange:newValue=>{const newValues=values.slice();newValues[index]=newValue,_onChange(newValues)},isSelected:void 0,onSplit:v=>v,onReplace:array=>{const newValues=values.slice();newValues.splice(index,1,...array),_onChange(newValues),selectionChange(clientId,`${identifier}-${index+1}`,0,0)},onMerge:forward=>{const newValues=values.slice();let offset=0;if(forward){if(!newValues[index+1])return;newValues.splice(index,2,newValues[index]+newValues[index+1]),offset=newValues[index].length-1}else{if(!newValues[index-1])return;newValues.splice(index-1,2,newValues[index-1]+newValues[index]),offset=newValues[index-1].length-1}_onChange(newValues),selectionChange(clientId,`${identifier}-${index-(forward?0:1)}`,offset,offset)},...props}))))}Content.__docgenInfo={description:"",methods:[],displayName:"Content"},RichTextMultiline.__docgenInfo={description:"",methods:[],displayName:"RichTextMultiline",props:{tagName:{defaultValue:{value:"'div'",computed:!1},required:!1},value:{defaultValue:{value:"''",computed:!1},required:!1}}};var multiline=(0,react.forwardRef)(RichTextMultiline);const keyboardShortcutContext=(0,react.createContext)(),inputEventContext=(0,react.createContext)();function RichTextWrapper({children:children,tagName:tagName="div",value:adjustedValue="",onChange:adjustedOnChange,isSelected:originalIsSelected,multiline:multiline,inlineToolbar:inlineToolbar,wrapperClassName:wrapperClassName,autocompleters:autocompleters,onReplace:onReplace,placeholder:placeholder,allowedFormats:allowedFormats,withoutInteractiveFormatting:withoutInteractiveFormatting,onRemove:onRemove,onMerge:onMerge,onSplit:onSplit,__unstableOnSplitAtEnd:onSplitAtEnd,__unstableOnSplitAtDoubleLineEnd:onSplitAtDoubleLineEnd,identifier:identifier,preserveWhiteSpace:preserveWhiteSpace,__unstablePastePlainText:pastePlainText,__unstableEmbedURLOnPaste:__unstableEmbedURLOnPaste,__unstableDisableFormats:disableFormats,disableLineBreaks:disableLineBreaks,__unstableAllowPrefixTransformations:__unstableAllowPrefixTransformations,...props},forwardedRef){props=function removeNativeProps(props){const{__unstableMobileNoFocusOnMount:__unstableMobileNoFocusOnMount,deleteEnter:deleteEnter,placeholderTextColor:placeholderTextColor,textAlign:textAlign,selectionColor:selectionColor,tagsToEliminate:tagsToEliminate,disableEditingMenu:disableEditingMenu,fontSize:fontSize,fontFamily:fontFamily,fontWeight:fontWeight,fontStyle:fontStyle,minWidth:minWidth,maxWidth:maxWidth,setRef:setRef,disableSuggestions:disableSuggestions,disableAutocorrection:disableAutocorrection,...restProps}=props;return restProps}(props);const anchorRef=(0,react.useRef)(),{clientId:clientId}=useBlockEditContext(),{selectionStart:selectionStart,selectionEnd:selectionEnd,isSelected:isSelected}=(0,use_select.Z)((select=>{const{getSelectionStart:getSelectionStart,getSelectionEnd:getSelectionEnd}=select(store),selectionStart=getSelectionStart(),selectionEnd=getSelectionEnd();let isSelected;return void 0===originalIsSelected?isSelected=selectionStart.clientId===clientId&&selectionEnd.clientId===clientId&&selectionStart.attributeKey===identifier:originalIsSelected&&(isSelected=selectionStart.clientId===clientId),{selectionStart:isSelected?selectionStart.offset:void 0,selectionEnd:isSelected?selectionEnd.offset:void 0,isSelected:isSelected}})),{getSelectionStart:getSelectionStart,getSelectionEnd:getSelectionEnd,getBlockRootClientId:getBlockRootClientId}=(0,use_select.Z)(store),{selectionChange:selectionChange}=(0,use_dispatch.Z)(store),adjustedAllowedFormats=getAllowedFormats({allowedFormats:allowedFormats,disableFormats:disableFormats}),hasFormats=!adjustedAllowedFormats||adjustedAllowedFormats.length>0,onSelectionChange=(0,react.useCallback)(((start,end)=>{const selection={},unset=void 0===start&&void 0===end;if("number"==typeof start||unset){if(void 0===end&&getBlockRootClientId(clientId)!==getBlockRootClientId(getSelectionEnd().clientId))return;selection.start={clientId:clientId,attributeKey:identifier,offset:start}}if("number"==typeof end||unset){if(void 0===start&&getBlockRootClientId(clientId)!==getBlockRootClientId(getSelectionStart().clientId))return;selection.end={clientId:clientId,attributeKey:identifier,offset:end}}selectionChange(selection)}),[clientId,identifier]),{formatTypes:formatTypes,prepareHandlers:prepareHandlers,valueHandlers:valueHandlers,changeHandlers:changeHandlers,dependencies:dependencies}=function useFormatTypes({clientId:clientId,identifier:identifier,withoutInteractiveFormatting:withoutInteractiveFormatting,allowedFormats:allowedFormats}){const allFormatTypes=(0,use_select.Z)(formatTypesSelector,[]),formatTypes=(0,react.useMemo)((()=>allFormatTypes.filter((({name:name,interactive:interactive,tagName:tagName})=>!(allowedFormats&&!allowedFormats.includes(name)||withoutInteractiveFormatting&&(interactive||interactiveContentTags.has(tagName)))))),[allFormatTypes,allowedFormats,withoutInteractiveFormatting]),keyedSelected=(0,use_select.Z)((select=>formatTypes.reduce(((accumulator,type)=>{return type.__experimentalGetPropsForEditableTreePreparation?{...accumulator,...(selected=type.__experimentalGetPropsForEditableTreePreparation(select,{richTextIdentifier:identifier,blockClientId:clientId}),prefix=type.name,"object"!=typeof selected?{[prefix]:selected}:Object.fromEntries(Object.entries(selected).map((([key,value])=>[`${prefix}.${key}`,value]))))}:accumulator;var selected,prefix}),{})),[formatTypes,clientId,identifier]),dispatch=(0,use_dispatch.Z)(),prepareHandlers=[],valueHandlers=[],changeHandlers=[],dependencies=[];for(const key in keyedSelected)dependencies.push(keyedSelected[key]);return formatTypes.forEach((type=>{if(type.__experimentalCreatePrepareEditableTree){const handler=type.__experimentalCreatePrepareEditableTree(getPrefixedSelectKeys(keyedSelected,type.name),{richTextIdentifier:identifier,blockClientId:clientId});type.__experimentalCreateOnChangeEditableValue?valueHandlers.push(handler):prepareHandlers.push(handler)}if(type.__experimentalCreateOnChangeEditableValue){let dispatchers={};type.__experimentalGetPropsForEditableTreeChangeHandler&&(dispatchers=type.__experimentalGetPropsForEditableTreeChangeHandler(dispatch,{richTextIdentifier:identifier,blockClientId:clientId}));const selected=getPrefixedSelectKeys(keyedSelected,type.name);changeHandlers.push(type.__experimentalCreateOnChangeEditableValue({..."object"==typeof selected?selected:{},...dispatchers},{richTextIdentifier:identifier,blockClientId:clientId}))}})),{formatTypes:formatTypes,prepareHandlers:prepareHandlers,valueHandlers:valueHandlers,changeHandlers:changeHandlers,dependencies:dependencies}}({clientId:clientId,identifier:identifier,withoutInteractiveFormatting:withoutInteractiveFormatting,allowedFormats:adjustedAllowedFormats});function removeEditorOnlyFormats(value){return formatTypes.forEach((formatType=>{formatType.__experimentalCreatePrepareEditableTree&&(value=(0,rich_text_build_module.Ir)(value,formatType.name,0,value.text.length))})),value.formats}const{value:value,getValue:getValue,onChange:onChange,ref:richTextRef}=(0,rich_text_build_module.o2)({value:adjustedValue,onChange(html,{__unstableFormats:__unstableFormats,__unstableText:__unstableText}){adjustedOnChange(html),Object.values(changeHandlers).forEach((changeHandler=>{changeHandler(__unstableFormats,__unstableText)}))},selectionStart:selectionStart,selectionEnd:selectionEnd,onSelectionChange:onSelectionChange,placeholder:placeholder,__unstableIsSelected:isSelected,__unstableDisableFormats:disableFormats,preserveWhiteSpace:preserveWhiteSpace,__unstableDependencies:[...dependencies,tagName],__unstableAfterParse:function addEditorOnlyFormats(value){return valueHandlers.reduce(((accumulator,fn)=>fn(accumulator,value.text)),value.formats)},__unstableBeforeSerialize:removeEditorOnlyFormats,__unstableAddInvisibleFormats:function addInvisibleFormats(value){return prepareHandlers.reduce(((accumulator,fn)=>fn(accumulator,value.text)),value.formats)}}),autocompleteProps=function useBlockEditorAutocompleteProps(props){return useAutocompleteProps({...props,completers:useCompleters(props)})}({onReplace:onReplace,completers:autocompleters,record:value,onChange:onChange});!function useMarkPersistent({html:html,value:value}){const previousText=(0,react.useRef)(),hasActiveFormats=value.activeFormats&&!!value.activeFormats.length,{__unstableMarkLastChangeAsPersistent:__unstableMarkLastChangeAsPersistent}=(0,use_dispatch.Z)(store);(0,react.useLayoutEffect)((()=>{if(previousText.current){if(previousText.current!==value.text){const timeout=window.setTimeout((()=>{__unstableMarkLastChangeAsPersistent()}),1e3);return previousText.current=value.text,()=>{window.clearTimeout(timeout)}}__unstableMarkLastChangeAsPersistent()}else previousText.current=value.text}),[html,hasActiveFormats])}({html:adjustedValue,value:value});const keyboardShortcuts=(0,react.useRef)(new Set),inputEvents=(0,react.useRef)(new Set);function onFocus(){anchorRef.current?.focus()}const TagName=tagName;return(0,react.createElement)(react.Fragment,null,isSelected&&(0,react.createElement)(keyboardShortcutContext.Provider,{value:keyboardShortcuts},(0,react.createElement)(inputEventContext.Provider,{value:inputEvents},(0,react.createElement)(popover.ZP.__unstableSlotNameProvider,{value:"__unstable-block-tools-after"},children&&children({value:value,onChange:onChange,onFocus:onFocus}),(0,react.createElement)(FormatEdit,{value:value,onChange:onChange,onFocus:onFocus,formatTypes:formatTypes,forwardedRef:anchorRef})))),isSelected&&hasFormats&&(0,react.createElement)(format_toolbar_container,{inline:inlineToolbar,editableContentElement:anchorRef.current,value:value}),(0,react.createElement)(TagName,{role:"textbox","aria-multiline":!disableLineBreaks,"aria-label":placeholder,...props,...autocompleteProps,ref:(0,use_merge_refs.Z)([forwardedRef,autocompleteProps.ref,props.ref,richTextRef,useBeforeInputRules({value:value,onChange:onChange}),useInputRules({getValue:getValue,onChange:onChange,__unstableAllowPrefixTransformations:__unstableAllowPrefixTransformations,formatTypes:formatTypes,onReplace:onReplace,selectionChange:selectionChange}),useInsertReplacementText(),(0,use_ref_effect.Z)((node=>{function onKeydown(event){(keycodes_build_module.vd.primary(event,"z")||keycodes_build_module.vd.primary(event,"y")||keycodes_build_module.vd.primaryShift(event,"z"))&&event.preventDefault()}return node.addEventListener("keydown",onKeydown),()=>{node.removeEventListener("keydown",onKeydown)}}),[]),useShortcuts(keyboardShortcuts),useInputEvents(inputEvents),useUndoAutomaticChange(),usePasteHandler({isSelected:isSelected,disableFormats:disableFormats,onChange:onChange,value:value,formatTypes:formatTypes,tagName:tagName,onReplace:onReplace,onSplit:onSplit,__unstableEmbedURLOnPaste:__unstableEmbedURLOnPaste,pastePlainText:pastePlainText}),useDelete({value:value,onMerge:onMerge,onRemove:onRemove}),useEnter({removeEditorOnlyFormats:removeEditorOnlyFormats,value:value,onReplace:onReplace,onSplit:onSplit,onChange:onChange,disableLineBreaks:disableLineBreaks,onSplitAtEnd:onSplitAtEnd,onSplitAtDoubleLineEnd:onSplitAtDoubleLineEnd}),useFirefoxCompat(),anchorRef]),contentEditable:!0,suppressContentEditableWarning:!0,className:classnames_default()("block-editor-rich-text__editable",props.className,"rich-text"),tabIndex:0===props.tabIndex?null:props.tabIndex}))}const ForwardedRichTextWrapper=(0,react.forwardRef)(RichTextWrapper);function RichTextSwitcher(props,ref){let value=props.value,onChange=props.onChange;Array.isArray(value)&&((0,deprecated_build_module.Z)("wp.blockEditor.RichText value prop as children type",{since:"6.1",version:"6.3",alternative:"value prop as string",link:"https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/"}),value=build_module.pI.toHTML(props.value),onChange=newValue=>props.onChange(build_module.pI.fromDOM((0,rich_text_build_module._b)(document,newValue).childNodes)));const Component=props.multiline?multiline:ForwardedRichTextWrapper,instanceId=(0,use_instance_id.Z)(RichTextSwitcher);return(0,react.createElement)(Component,{...props,identifier:props.identifier||instanceId,value:value,onChange:onChange,ref:ref})}const ForwardedRichTextContainer=(0,react.forwardRef)(RichTextSwitcher);ForwardedRichTextContainer.Content=Content,ForwardedRichTextContainer.isEmpty=value=>!value||0===value.length;var rich_text=ForwardedRichTextContainer;RichTextWrapper.__docgenInfo={description:"",methods:[],displayName:"RichTextWrapper",props:{tagName:{defaultValue:{value:"'div'",computed:!1},required:!1},value:{defaultValue:{value:"''",computed:!1},required:!1}}},RichTextSwitcher.__docgenInfo={description:"",methods:[],displayName:"RichTextSwitcher"};const EditableText=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(rich_text,{ref:ref,...props,__unstableDisableFormats:!0})));EditableText.Content=({value:value="",tagName:Tag="div",...props})=>(0,react.createElement)(Tag,{...props},value);var editable_text=EditableText;var plain_text=(0,react.forwardRef)((({__experimentalVersion:__experimentalVersion,...props},ref)=>{if(2===__experimentalVersion)return(0,react.createElement)(editable_text,{ref:ref,...props});const{className:className,onChange:onChange,...remainingProps}=props;return(0,react.createElement)(react_autosize_textarea_lib.Z,{ref:ref,className:classnames_default()("block-editor-plain-text",className),onChange:event=>onChange(event.target.value),...remainingProps})}));function RichTextShortcut({character:character,type:type,onUse:onUse}){const keyboardShortcuts=(0,react.useContext)(keyboardShortcutContext),onUseRef=(0,react.useRef)();return onUseRef.current=onUse,(0,react.useEffect)((()=>{function callback(event){keycodes_build_module.vd[type](event,character)&&(onUseRef.current(),event.preventDefault())}return keyboardShortcuts.current.add(callback),()=>{keyboardShortcuts.current.delete(callback)}}),[character,type]),null}function RichTextToolbarButton({name:name,shortcutType:shortcutType,shortcutCharacter:shortcutCharacter,...props}){let shortcut,fillName="RichText.ToolbarControls";return name&&(fillName+=`.${name}`),shortcutType&&shortcutCharacter&&(shortcut=keycodes_build_module.E_[shortcutType](shortcutCharacter)),(0,react.createElement)(slot_fill.de,{name:fillName},(0,react.createElement)(toolbar_button.Z,{...props,shortcut:shortcut}))}function __unstableRichTextInputEvent({inputType:inputType,onInput:onInput}){const callbacks=(0,react.useContext)(inputEventContext),onInputRef=(0,react.useRef)();return onInputRef.current=onInput,(0,react.useEffect)((()=>{function callback(event){event.inputType===inputType&&(onInputRef.current(),event.preventDefault())}return callbacks.current.add(callback),()=>{callbacks.current.delete(callback)}}),[inputType]),null}RichTextToolbarButton.__docgenInfo={description:"",methods:[],displayName:"RichTextToolbarButton"};var library_close=__webpack_require__("./packages/icons/build-module/library/close.js");const NEW_TAB_REL=["noreferrer","noopener"],image_url_input_ui_icon=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M0,0h24v24H0V0z",fill:"none"}),(0,react.createElement)(svg.y$,{d:"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z"}),(0,react.createElement)(svg.y$,{d:"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z"})),ImageURLInputUI=({linkDestination:linkDestination,onChangeUrl:onChangeUrl,url:url,mediaType:mediaType="image",mediaUrl:mediaUrl,mediaLink:mediaLink,linkTarget:linkTarget,linkClass:linkClass,rel:rel})=>{const[isOpen,setIsOpen]=(0,react.useState)(!1),[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),[isEditingLink,setIsEditingLink]=(0,react.useState)(!1),[urlInput,setUrlInput]=(0,react.useState)(null),autocompleteRef=(0,react.useRef)(null),stopEditLink=()=>{setIsEditingLink(!1)},getLinkDestinations=()=>{const linkDestinations=[{linkDestination:"media",title:(0,i18n_build_module.__)("Media File"),url:"image"===mediaType?mediaUrl:void 0,icon:image_url_input_ui_icon}];return"image"===mediaType&&mediaLink&&linkDestinations.push({linkDestination:"attachment",title:(0,i18n_build_module.__)("Attachment Page"),url:"image"===mediaType?mediaLink:void 0,icon:(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M0 0h24v24H0V0z",fill:"none"}),(0,react.createElement)(svg.y$,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}))}),linkDestinations},advancedOptions=(0,react.createElement)(v_stack_component.Z,{spacing:"3"},(0,react.createElement)(toggle_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Open in new tab"),onChange:value=>{const updatedLinkTarget=(value=>{const newLinkTarget=value?"_blank":void 0;let updatedRel;if(newLinkTarget){const rels=(null!=rel?rel:"").split(" ");NEW_TAB_REL.forEach((relVal=>{rels.includes(relVal)||rels.push(relVal)})),updatedRel=rels.join(" ")}else{const rels=(null!=rel?rel:"").split(" ").filter((relVal=>!1===NEW_TAB_REL.includes(relVal)));updatedRel=rels.length?rels.join(" "):void 0}return{linkTarget:newLinkTarget,rel:updatedRel}})(value);onChangeUrl(updatedLinkTarget)},checked:"_blank"===linkTarget}),(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Link rel"),value:null!=rel?rel:"",onChange:value=>{onChangeUrl({rel:value})}}),(0,react.createElement)(text_control.Z,{__nextHasNoMarginBottom:!0,label:(0,i18n_build_module.__)("Link CSS Class"),value:linkClass||"",onChange:value=>{onChangeUrl({linkClass:value})}})),linkEditorValue=null!==urlInput?urlInput:url,urlLabel=(getLinkDestinations().find((destination=>destination.linkDestination===linkDestination))||{}).title;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toolbar_button.Z,{icon:library_link.Z,className:"components-toolbar__control",label:url?(0,i18n_build_module.__)("Edit link"):(0,i18n_build_module.__)("Insert link"),"aria-expanded":isOpen,onClick:()=>{setIsOpen(!0)},ref:setPopoverAnchor,isActive:!!url}),isOpen&&(0,react.createElement)(url_popover,{anchor:popoverAnchor,onFocusOutside:event=>{const autocompleteElement=autocompleteRef.current;autocompleteElement&&autocompleteElement.contains(event.target)||(setIsOpen(!1),setUrlInput(null),stopEditLink())},onClose:()=>{setUrlInput(null),stopEditLink(),setIsOpen(!1)},renderSettings:()=>advancedOptions,additionalControls:!linkEditorValue&&(0,react.createElement)(menu.ZP,null,getLinkDestinations().map((link=>(0,react.createElement)(menu_item.Z,{key:link.linkDestination,icon:link.icon,onClick:()=>{setUrlInput(null),(value=>{const linkDestinations=getLinkDestinations();let linkDestinationInput;linkDestinationInput=value?(linkDestinations.find((destination=>destination.url===value))||{linkDestination:"custom"}).linkDestination:"none",onChangeUrl({linkDestination:linkDestinationInput,href:value})})(link.url),stopEditLink()}},link.title))))},(!url||isEditingLink)&&(0,react.createElement)(url_popover.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:linkEditorValue,onChangeInputValue:setUrlInput,onSubmit:event=>{if(urlInput){const selectedDestination=getLinkDestinations().find((destination=>destination.url===urlInput))?.linkDestination||"custom";onChangeUrl({href:urlInput,linkDestination:selectedDestination})}stopEditLink(),setUrlInput(null),event.preventDefault()},autocompleteRef:autocompleteRef}),url&&!isEditingLink&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(url_popover.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",url:url,onEditLinkClick:()=>{"media"!==linkDestination&&"attachment"!==linkDestination||setUrlInput(""),setIsEditingLink(!0)},urlLabel:urlLabel}),(0,react.createElement)(build_module_button.ZP,{icon:library_close.Z,label:(0,i18n_build_module.__)("Remove link"),onClick:()=>{onChangeUrl({linkDestination:"none",href:""})}}))))};ImageURLInputUI.__docgenInfo={description:"",methods:[],displayName:"ImageURLInputUI",props:{mediaType:{defaultValue:{value:"'image'",computed:!1},required:!1}}};const SkipToSelectedBlock=({selectedBlockClientId:selectedBlockClientId})=>{const ref=useBlockRef(selectedBlockClientId);return selectedBlockClientId?(0,react.createElement)(build_module_button.ZP,{variant:"secondary",className:"block-editor-skip-to-selected-block",onClick:()=>{ref.current.focus()}},(0,i18n_build_module.__)("Skip to the selected block")):null};SkipToSelectedBlock.__docgenInfo={description:"",methods:[],displayName:"SkipToSelectedBlock"};var skip_to_selected_block=(0,with_select.Z)((select=>({selectedBlockClientId:select(store).getBlockSelectionStart()})))(SkipToSelectedBlock),wordcount_build_module=__webpack_require__("./packages/wordcount/build-module/index.js"),copy=__webpack_require__("./packages/icons/build-module/library/copy.js");function MultiSelectionInspector({blocks:blocks}){const words=(0,wordcount_build_module.Q)((0,build_module.qC)(blocks),"words");return(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card"},(0,react.createElement)(block_icon,{icon:copy.Z,showColors:!0}),(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card-content"},(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card-title"},(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d Block","%d Blocks",blocks.length),blocks.length)),(0,react.createElement)("div",{className:"block-editor-multi-selection-inspector__card-description"},(0,i18n_build_module.gB)((0,i18n_build_module._n)("%d word selected.","%d words selected.",words),words))))}MultiSelectionInspector.__docgenInfo={description:"",methods:[],displayName:"MultiSelectionInspector"};var multi_selection_inspector=(0,with_select.Z)((select=>{const{getMultiSelectedBlocks:getMultiSelectedBlocks}=select(store);return{blocks:getMultiSelectedBlocks()}}))(MultiSelectionInspector);function VariationsButtons({className:className,onSelectVariation:onSelectVariation,selectedValue:selectedValue,variations:variations}){return(0,react.createElement)("fieldset",{className:className},(0,react.createElement)(visually_hidden_component.Z,{as:"legend"},(0,i18n_build_module.__)("Transform to variation")),variations.map((variation=>(0,react.createElement)(build_module_button.ZP,{key:variation.name,icon:(0,react.createElement)(block_icon,{icon:variation.icon,showColors:!0}),isPressed:selectedValue===variation.name,label:selectedValue===variation.name?variation.title:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Transform to %s"),variation.title),onClick:()=>onSelectVariation(variation.name),"aria-label":variation.title,showTooltip:!0}))))}function VariationsDropdown({className:className,onSelectVariation:onSelectVariation,selectedValue:selectedValue,variations:variations}){const selectOptions=variations.map((({name:name,title:title,description:description})=>({value:name,label:title,info:description})));return(0,react.createElement)(dropdown_menu.Z,{className:className,label:(0,i18n_build_module.__)("Transform to variation"),text:(0,i18n_build_module.__)("Transform to variation"),popoverProps:{position:"bottom center",className:`${className}__popover`},icon:chevron_down.Z,toggleProps:{iconPosition:"right"}},(()=>(0,react.createElement)("div",{className:`${className}__container`},(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_items_choice.Z,{choices:selectOptions,value:selectedValue,onSelect:onSelectVariation})))))}function __experimentalBlockVariationTransforms({blockClientId:blockClientId}){const{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),{activeBlockVariation:activeBlockVariation,variations:variations}=(0,use_select.Z)((select=>{const{getActiveBlockVariation:getActiveBlockVariation,getBlockVariations:getBlockVariations}=select(build_module.h),{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes}=select(store),name=blockClientId&&getBlockName(blockClientId);return{activeBlockVariation:getActiveBlockVariation(name,getBlockAttributes(blockClientId)),variations:name&&getBlockVariations(name,"transform")}}),[blockClientId]),selectedValue=activeBlockVariation?.name,hasUniqueIcons=(0,react.useMemo)((()=>{const variationIcons=new Set;return!!variations&&(variations.forEach((variation=>{variation.icon&&variationIcons.add(variation.icon?.src||variation.icon)})),variationIcons.size===variations.length)}),[variations]);if(!variations?.length)return null;const Component=hasUniqueIcons?VariationsButtons:VariationsDropdown;return(0,react.createElement)(Component,{className:"block-editor-block-variation-transforms",onSelectVariation:variationName=>{updateBlockAttributes(blockClientId,{...variations.find((({name:name})=>name===variationName)).attributes})},selectedValue:selectedValue,variations:variations})}__experimentalBlockVariationTransforms.__docgenInfo={description:"",methods:[],displayName:"__experimentalBlockVariationTransforms"};var block_variation_transforms=__experimentalBlockVariationTransforms;function replaceActiveStyle(className,activeStyle,newStyle){const list=new TokenList(className);return activeStyle&&list.remove("is-style-"+activeStyle.name),list.add("is-style-"+newStyle.name),list.value}function getDefaultStyle(styles){return styles?.find((style=>style.isDefault))}function BlockStylesPreviewPanel({genericPreviewBlock:genericPreviewBlock,style:style,className:className,activeStyle:activeStyle}){const example=(0,build_module.ck)(genericPreviewBlock.name)?.example,styleClassName=replaceActiveStyle(className,activeStyle,style),previewBlocks=(0,react.useMemo)((()=>({...genericPreviewBlock,title:style.label||style.name,description:style.description,initialAttributes:{...genericPreviewBlock.attributes,className:styleClassName+" block-editor-block-styles__block-preview-container"},example:example})),[genericPreviewBlock,styleClassName]);return(0,react.createElement)(preview_panel,{item:previewBlocks})}function useStylesForBlocks({clientId:clientId,onSwitch:onSwitch}){const{styles:styles,block:block,blockType:blockType,className:className}=(0,use_select.Z)((select=>{const{getBlock:getBlock}=select(store),block=getBlock(clientId);if(!block)return{};const blockType=(0,build_module.ck)(block.name),{getBlockStyles:getBlockStyles}=select(build_module.h);return{block:block,blockType:blockType,styles:getBlockStyles(block.name),className:block.attributes.className||""}}),[clientId]),{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),stylesToRender=function getRenderedStyles(styles){return styles&&0!==styles.length?getDefaultStyle(styles)?styles:[{name:"default",label:(0,i18n_build_module._x)("Default","block style"),isDefault:!0},...styles]:[]}(styles),activeStyle=function getActiveStyle(styles,className){for(const style of new TokenList(className).values()){if(-1===style.indexOf("is-style-"))continue;const potentialStyleName=style.substring(9),activeStyle=styles?.find((({name:name})=>name===potentialStyleName));if(activeStyle)return activeStyle}return getDefaultStyle(styles)}(stylesToRender,className),genericPreviewBlock=function useGenericPreviewBlock(block,type){return(0,react.useMemo)((()=>{const example=type?.example,blockName=type?.name;return example&&blockName?(0,build_module.Wf)(blockName,{attributes:example.attributes,innerBlocks:example.innerBlocks}):block?(0,build_module.Wm)(block):void 0}),[type?.example?block?.name:block,type])}(block,blockType);return{onSelect:style=>{const styleClassName=replaceActiveStyle(className,activeStyle,style);updateBlockAttributes(clientId,{className:styleClassName}),onSwitch()},stylesToRender:stylesToRender,activeStyle:activeStyle,genericPreviewBlock:genericPreviewBlock,className:className}}BlockStylesPreviewPanel.__docgenInfo={description:"",methods:[],displayName:"BlockStylesPreviewPanel"};const block_styles_noop=()=>{};function BlockStyles({clientId:clientId,onSwitch:onSwitch=block_styles_noop,onHoverClassName:onHoverClassName=block_styles_noop}){const{onSelect:onSelect,stylesToRender:stylesToRender,activeStyle:activeStyle,genericPreviewBlock:genericPreviewBlock,className:previewClassName}=useStylesForBlocks({clientId:clientId,onSwitch:onSwitch}),[hoveredStyle,setHoveredStyle]=(0,react.useState)(null),isMobileViewport=(0,use_viewport_match.Z)("medium","<");if(!stylesToRender||0===stylesToRender.length)return null;const debouncedSetHoveredStyle=(0,debounce.D)(setHoveredStyle,250),styleItemHandler=item=>{var _item$name;hoveredStyle!==item?(debouncedSetHoveredStyle(item),onHoverClassName(null!==(_item$name=item?.name)&&void 0!==_item$name?_item$name:null)):debouncedSetHoveredStyle.cancel()};return(0,react.createElement)("div",{className:"block-editor-block-styles"},(0,react.createElement)("div",{className:"block-editor-block-styles__variants"},stylesToRender.map((style=>{const buttonText=style.label||style.name;return(0,react.createElement)(build_module_button.ZP,{__next40pxDefaultSize:!0,className:classnames_default()("block-editor-block-styles__item",{"is-active":activeStyle.name===style.name}),key:style.name,variant:"secondary",label:buttonText,onMouseEnter:()=>styleItemHandler(style),onFocus:()=>styleItemHandler(style),onMouseLeave:()=>styleItemHandler(null),onBlur:()=>styleItemHandler(null),onClick:()=>(style=>{onSelect(style),onHoverClassName(null),setHoveredStyle(null),debouncedSetHoveredStyle.cancel()})(style),"aria-current":activeStyle.name===style.name},(0,react.createElement)(truncate_component.Z,{numberOfLines:1,className:"block-editor-block-styles__item-text"},buttonText))}))),hoveredStyle&&!isMobileViewport&&(0,react.createElement)(popover.ZP,{placement:"left-start",offset:34,focusOnMount:!1},(0,react.createElement)("div",{className:"block-editor-block-styles__preview-panel",onMouseLeave:()=>styleItemHandler(null)},(0,react.createElement)(BlockStylesPreviewPanel,{activeStyle:activeStyle,className:previewClassName,genericPreviewBlock:genericPreviewBlock,style:hoveredStyle}))))}BlockStyles.__docgenInfo={description:"",methods:[],displayName:"BlockStyles",props:{onSwitch:{defaultValue:{value:"() => {}",computed:!1},required:!1},onHoverClassName:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var block_styles=BlockStyles;function DefaultStylePicker({blockName:blockName}){const{preferredStyle:preferredStyle,onUpdatePreferredStyleVariations:onUpdatePreferredStyleVariations,styles:styles}=(0,use_select.Z)((select=>{var _preferredStyleVariat;const preferredStyleVariations=select(store).getSettings().__experimentalPreferredStyleVariations;return{preferredStyle:preferredStyleVariations?.value?.[blockName],onUpdatePreferredStyleVariations:null!==(_preferredStyleVariat=preferredStyleVariations?.onChange)&&void 0!==_preferredStyleVariat?_preferredStyleVariat:null,styles:select(build_module.h).getBlockStyles(blockName)}}),[blockName]),selectOptions=(0,react.useMemo)((()=>[{label:(0,i18n_build_module.__)("Not set"),value:""},...styles.map((({label:label,name:name})=>({label:label,value:name})))]),[styles]),defaultStyleName=(0,react.useMemo)((()=>getDefaultStyle(styles)?.name),[styles]),selectOnChange=(0,react.useCallback)((blockStyle=>{onUpdatePreferredStyleVariations(blockName,blockStyle)}),[blockName,onUpdatePreferredStyleVariations]);return preferredStyle&&preferredStyle!==defaultStyleName?onUpdatePreferredStyleVariations&&(0,react.createElement)("div",{className:"default-style-picker__default-switcher"},(0,react.createElement)(select_control.Z,{__nextHasNoMarginBottom:!0,options:selectOptions,value:preferredStyle||"",label:(0,i18n_build_module.__)("Default Style"),onChange:selectOnChange})):null}DefaultStylePicker.__docgenInfo={description:"",methods:[],displayName:"DefaultStylePicker"};var library_cog=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),styles=__webpack_require__("./packages/icons/build-module/library/styles.js");var list_view=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"}));const TAB_SETTINGS={name:"settings",title:(0,i18n_build_module.__)("Settings"),value:"settings",icon:library_cog,className:"block-editor-block-inspector__tab-item"},TAB_STYLES={name:"styles",title:(0,i18n_build_module.__)("Styles"),value:"styles",icon:styles.Z,className:"block-editor-block-inspector__tab-item"},TAB_LIST_VIEW={name:"list",title:(0,i18n_build_module.__)("List View"),value:"list-view",icon:list_view,className:"block-editor-block-inspector__tab-item"},AdvancedControls=()=>{const fills=(0,use_slot_fills.Z)(InspectorAdvancedControls.slotName);return Boolean(fills&&fills.length)?(0,react.createElement)(body.ZP,{className:"block-editor-block-inspector__advanced",title:(0,i18n_build_module.__)("Advanced"),initialOpen:!1},(0,react.createElement)(inspector_controls.Slot,{group:"advanced"})):null};AdvancedControls.__docgenInfo={description:"",methods:[],displayName:"AdvancedControls"};var advanced_controls_panel=AdvancedControls;const PositionControlsPanel=()=>{const[initialOpen,setInitialOpen]=(0,react.useState)(),{multiSelectedBlocks:multiSelectedBlocks}=(0,use_select.Z)((select=>{const{getBlocksByClientId:getBlocksByClientId,getSelectedBlockClientIds:getSelectedBlockClientIds}=select(store);return{multiSelectedBlocks:getBlocksByClientId(getSelectedBlockClientIds())}}),[]);return(0,react.useLayoutEffect)((()=>{void 0===initialOpen&&setInitialOpen(multiSelectedBlocks.some((({attributes:attributes})=>!!attributes?.style?.position?.type)))}),[initialOpen,multiSelectedBlocks,setInitialOpen]),(0,react.createElement)(body.ZP,{className:"block-editor-block-inspector__position",title:(0,i18n_build_module.__)("Position"),initialOpen:null!=initialOpen&&initialOpen},(0,react.createElement)(inspector_controls.Slot,{group:"position"}))},PositionControls=()=>{const fills=(0,use_slot_fills.Z)(inspector_controls_groups.position.Slot.__unstableName);return Boolean(fills&&fills.length)?(0,react.createElement)(PositionControlsPanel,null):null};PositionControls.__docgenInfo={description:"",methods:[],displayName:"PositionControls"};var position_controls_panel=PositionControls;function InspectorControlsTabsHint(){const isInspectorControlsTabsHintVisible=(0,use_select.Z)((select=>{var _select$get;return null===(_select$get=select(build_module_store.h).get("core","isInspectorControlsTabsHintVisible"))||void 0===_select$get||_select$get}),[]),ref=(0,react.useRef)(),{set:setPreference}=(0,use_dispatch.Z)(build_module_store.h);return isInspectorControlsTabsHintVisible?(0,react.createElement)("div",{ref:ref,className:"block-editor-inspector-controls-tabs__hint"},(0,react.createElement)("div",{className:"block-editor-inspector-controls-tabs__hint-content"},(0,i18n_build_module.__)("Looking for other block settings? They've moved to the styles tab.")),(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inspector-controls-tabs__hint-dismiss",icon:library_close.Z,iconSize:"16",label:(0,i18n_build_module.__)("Dismiss hint"),onClick:()=>{const previousElement=dom_build_module.T_.tabbable.findPrevious(ref.current);previousElement?.focus(),setPreference("core","isInspectorControlsTabsHintVisible",!1)},showTooltip:!1})):null}InspectorControlsTabsHint.__docgenInfo={description:"",methods:[],displayName:"InspectorControlsTabsHint"};const SettingsTab=({showAdvancedControls:showAdvancedControls=!1})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls.Slot,null),(0,react.createElement)(position_controls_panel,null),showAdvancedControls&&(0,react.createElement)("div",null,(0,react.createElement)(advanced_controls_panel,null)),(0,react.createElement)(InspectorControlsTabsHint,null));SettingsTab.__docgenInfo={description:"",methods:[],displayName:"SettingsTab",props:{showAdvancedControls:{defaultValue:{value:"false",computed:!1},required:!1}}};var settings_tab=SettingsTab;const StylesTab=({blockName:blockName,clientId:clientId,hasBlockStyles:hasBlockStyles})=>(0,react.createElement)(react.Fragment,null,hasBlockStyles&&(0,react.createElement)("div",null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Styles")},(0,react.createElement)(block_styles,{clientId:clientId}),(0,build_module.zb)(blockName,"defaultStylePicker",!0)&&(0,react.createElement)(DefaultStylePicker,{blockName:blockName}))),(0,react.createElement)(inspector_controls.Slot,{group:"color",label:(0,i18n_build_module.__)("Color"),className:"color-block-support-panel__inner-wrapper"}),(0,react.createElement)(inspector_controls.Slot,{group:"background",label:(0,i18n_build_module.__)("Background")}),(0,react.createElement)(inspector_controls.Slot,{group:"filter"}),(0,react.createElement)(inspector_controls.Slot,{group:"typography",label:(0,i18n_build_module.__)("Typography")}),(0,react.createElement)(inspector_controls.Slot,{group:"dimensions",label:(0,i18n_build_module.__)("Dimensions")}),(0,react.createElement)(inspector_controls.Slot,{group:"border",label:(0,i18n_build_module.__)("Border")}),(0,react.createElement)(inspector_controls.Slot,{group:"styles"}));StylesTab.__docgenInfo={description:"",methods:[],displayName:"StylesTab"};var styles_tab=StylesTab;const allowlist=["core/navigation"];var use_is_list_view_tab_disabled=blockName=>!allowlist.includes(blockName);function InspectorControlsTabs({blockName:blockName,clientId:clientId,hasBlockStyles:hasBlockStyles,tabs:tabs}){const initialTabName=use_is_list_view_tab_disabled(blockName)?void 0:TAB_LIST_VIEW.name;return(0,react.createElement)(tab_panel.Z,{className:"block-editor-block-inspector__tabs",tabs:tabs,initialTabName:initialTabName,key:clientId},(tab=>tab.name===TAB_SETTINGS.name?(0,react.createElement)(settings_tab,{showAdvancedControls:!!blockName}):tab.name===TAB_STYLES.name?(0,react.createElement)(styles_tab,{blockName:blockName,clientId:clientId,hasBlockStyles:hasBlockStyles}):tab.name===TAB_LIST_VIEW.name?(0,react.createElement)(inspector_controls.Slot,{group:"list"}):void 0))}InspectorControlsTabs.__docgenInfo={description:"",methods:[],displayName:"InspectorControlsTabs"};const use_inspector_controls_tabs_EMPTY_ARRAY=[];function useInspectorControlsTabs(blockName){const tabs=[],{border:borderGroup,color:colorGroup,default:defaultGroup,dimensions:dimensionsGroup,list:listGroup,position:positionGroup,styles:stylesGroup,typography:typographyGroup}=inspector_controls_groups,listViewDisabled=use_is_list_view_tab_disabled(blockName),listFills=(0,use_slot_fills.Z)(listGroup.Slot.__unstableName),hasListFills=!listViewDisabled&&!!listFills&&listFills.length,hasStyleFills=[...(0,use_slot_fills.Z)(borderGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(colorGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(dimensionsGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(stylesGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(typographyGroup.Slot.__unstableName)||[]].length,advancedFills=(0,use_slot_fills.Z)(InspectorAdvancedControls.slotName)||[],settingsFills=[...(0,use_slot_fills.Z)(defaultGroup.Slot.__unstableName)||[],...(0,use_slot_fills.Z)(positionGroup.Slot.__unstableName)||[],...hasListFills&&hasStyleFills>1?advancedFills:[]];hasListFills&&tabs.push(TAB_LIST_VIEW),settingsFills.length&&tabs.push(TAB_SETTINGS),hasStyleFills&&tabs.push(TAB_STYLES);const showTabs=function getShowTabs(blockName,tabSettings={}){return void 0!==tabSettings[blockName]?tabSettings[blockName]:void 0===tabSettings.default||tabSettings.default}(blockName,(0,use_select.Z)((select=>select(store).getSettings().blockInspectorTabs),[]));return showTabs?tabs:use_inspector_controls_tabs_EMPTY_ARRAY}const{createPrivateSlotFill:createPrivateSlotFill}=unlock(private_apis.YH),{Fill:block_info_slot_fill_Fill,Slot:block_info_slot_fill_Slot}=createPrivateSlotFill("BlockInformation"),BlockInfo=props=>useDisplayBlockControls()?(0,react.createElement)(block_info_slot_fill_Fill,{...props}):null;BlockInfo.Slot=props=>(0,react.createElement)(block_info_slot_fill_Slot,{...props}),BlockInfo.__docgenInfo={description:"",methods:[{name:"Slot",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null}],displayName:"BlockInfo"};var block_info_slot_fill=BlockInfo;function BlockQuickNavigation({clientIds:clientIds}){return clientIds.length?(0,react.createElement)(v_stack_component.Z,{spacing:1},clientIds.map((clientId=>(0,react.createElement)(BlockQuickNavigationItem,{key:clientId,clientId:clientId})))):null}function BlockQuickNavigationItem({clientId:clientId}){const{name:name,icon:icon,isSelected:isSelected}=(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes,isBlockSelected:isBlockSelected,hasSelectedInnerBlock:hasSelectedInnerBlock}=select(store),{getBlockType:getBlockType}=select(build_module.h),blockType=getBlockType(getBlockName(clientId)),attributes=getBlockAttributes(clientId);return{name:blockType&&(0,build_module.Iu)(blockType,attributes,"list-view"),icon:blockType?.icon,isSelected:isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,!0)}}),[clientId]),{selectBlock:selectBlock}=(0,use_dispatch.Z)(store);return(0,react.createElement)(build_module_button.ZP,{isPressed:isSelected,onClick:()=>selectBlock(clientId)},(0,react.createElement)(component.Z,null,(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(block_icon,{icon:icon})),(0,react.createElement)(flex_block_component.Z,{style:{textAlign:"left"}},(0,react.createElement)(truncate_component.Z,null,name))))}function BlockInspectorLockedBlocks({topLevelLockedBlock:topLevelLockedBlock}){const contentClientIds=(0,use_select.Z)((select=>{const{getClientIdsOfDescendants:getClientIdsOfDescendants,getBlockName:getBlockName,getBlockEditingMode:getBlockEditingMode}=select(store);return getClientIdsOfDescendants(topLevelLockedBlock).filter((clientId=>"core/list-item"!==getBlockName(clientId)&&"contentOnly"===getBlockEditingMode(clientId)))}),[topLevelLockedBlock]),blockInformation=useBlockDisplayInformation(topLevelLockedBlock);return(0,react.createElement)("div",{className:"block-editor-block-inspector"},(0,react.createElement)(block_card,{...blockInformation,className:blockInformation.isSynced&&"is-synced"}),(0,react.createElement)(block_variation_transforms,{blockClientId:topLevelLockedBlock}),(0,react.createElement)(block_info_slot_fill.Slot,null),(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Content")},(0,react.createElement)(BlockQuickNavigation,{clientIds:contentClientIds})))}BlockQuickNavigation.__docgenInfo={description:"",methods:[],displayName:"BlockQuickNavigation"};const BlockInspector=({showNoBlockSelectedMessage:showNoBlockSelectedMessage=!0})=>{const{count:count,selectedBlockName:selectedBlockName,selectedBlockClientId:selectedBlockClientId,blockType:blockType,topLevelLockedBlock:topLevelLockedBlock}=(0,use_select.Z)((select=>{const{getSelectedBlockClientId:getSelectedBlockClientId,getSelectedBlockCount:getSelectedBlockCount,getBlockName:getBlockName,__unstableGetContentLockingParent:__unstableGetContentLockingParent,getTemplateLock:getTemplateLock}=select(store),_selectedBlockClientId=getSelectedBlockClientId(),_selectedBlockName=_selectedBlockClientId&&getBlockName(_selectedBlockClientId),_blockType=_selectedBlockName&&(0,build_module.ck)(_selectedBlockName);return{count:getSelectedBlockCount(),selectedBlockClientId:_selectedBlockClientId,selectedBlockName:_selectedBlockName,blockType:_blockType,topLevelLockedBlock:__unstableGetContentLockingParent(_selectedBlockClientId)||("contentOnly"===getTemplateLock(_selectedBlockClientId)?_selectedBlockClientId:void 0)}}),[]),availableTabs=useInspectorControlsTabs(blockType?.name),showTabs=availableTabs?.length>1,blockInspectorAnimationSettings=function useBlockInspectorAnimationSettings(blockType,selectedBlockClientId){return(0,use_select.Z)((select=>{if(blockType){const globalBlockInspectorAnimationSettings=select(store).getSettings().blockInspectorAnimation,animationParent=globalBlockInspectorAnimationSettings?.animationParent,{getSelectedBlockClientId:getSelectedBlockClientId,getBlockParentsByBlockName:getBlockParentsByBlockName}=select(store);return getBlockParentsByBlockName(getSelectedBlockClientId(),animationParent,!0)[0]||blockType.name===animationParent?globalBlockInspectorAnimationSettings?.[blockType.name]:null}return null}),[selectedBlockClientId,blockType])}(blockType,selectedBlockClientId);if(count>1)return(0,react.createElement)("div",{className:"block-editor-block-inspector"},(0,react.createElement)(multi_selection_inspector,null),showTabs?(0,react.createElement)(InspectorControlsTabs,{tabs:availableTabs}):(0,react.createElement)(react.Fragment,null,(0,react.createElement)(inspector_controls.Slot,null),(0,react.createElement)(inspector_controls.Slot,{group:"color",label:(0,i18n_build_module.__)("Color"),className:"color-block-support-panel__inner-wrapper"}),(0,react.createElement)(inspector_controls.Slot,{group:"typography",label:(0,i18n_build_module.__)("Typography")}),(0,react.createElement)(inspector_controls.Slot,{group:"dimensions",label:(0,i18n_build_module.__)("Dimensions")}),(0,react.createElement)(inspector_controls.Slot,{group:"border",label:(0,i18n_build_module.__)("Border")}),(0,react.createElement)(inspector_controls.Slot,{group:"styles"})));const isSelectedBlockUnregistered=selectedBlockName===(0,build_module.qy)();return blockType&&selectedBlockClientId&&!isSelectedBlockUnregistered?topLevelLockedBlock?(0,react.createElement)(BlockInspectorLockedBlocks,{topLevelLockedBlock:topLevelLockedBlock}):(0,react.createElement)(BlockInspectorSingleBlockWrapper,{animate:blockInspectorAnimationSettings,wrapper:children=>(0,react.createElement)(AnimatedContainer,{blockInspectorAnimationSettings:blockInspectorAnimationSettings,selectedBlockClientId:selectedBlockClientId},children)},(0,react.createElement)(BlockInspectorSingleBlock,{clientId:selectedBlockClientId,blockName:blockType.name})):showNoBlockSelectedMessage?(0,react.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,i18n_build_module.__)("No block selected.")):null},BlockInspectorSingleBlockWrapper=({animate:animate,wrapper:wrapper,children:children})=>animate?wrapper(children):children,AnimatedContainer=({blockInspectorAnimationSettings:blockInspectorAnimationSettings,selectedBlockClientId:selectedBlockClientId,children:children})=>{const animationOrigin=blockInspectorAnimationSettings&&"leftToRight"===blockInspectorAnimationSettings.enterDirection?-50:50;return(0,react.createElement)(motion.E.div,{animate:{x:0,opacity:1,transition:{ease:"easeInOut",duration:.14}},initial:{x:animationOrigin,opacity:0},key:selectedBlockClientId},children)},BlockInspectorSingleBlock=({clientId:clientId,blockName:blockName})=>{const availableTabs=useInspectorControlsTabs(blockName),showTabs=availableTabs?.length>1,hasBlockStyles=(0,use_select.Z)((select=>{const{getBlockStyles:getBlockStyles}=select(build_module.h),blockStyles=getBlockStyles(blockName);return blockStyles&&blockStyles.length>0}),[blockName]),blockInformation=useBlockDisplayInformation(clientId);return(0,react.createElement)("div",{className:"block-editor-block-inspector"},(0,react.createElement)(block_card,{...blockInformation,className:blockInformation.isSynced&&"is-synced"}),(0,react.createElement)(block_variation_transforms,{blockClientId:clientId}),(0,react.createElement)(block_info_slot_fill.Slot,null),showTabs&&(0,react.createElement)(InspectorControlsTabs,{hasBlockStyles:hasBlockStyles,clientId:clientId,blockName:blockName,tabs:availableTabs}),!showTabs&&(0,react.createElement)(react.Fragment,null,hasBlockStyles&&(0,react.createElement)("div",null,(0,react.createElement)(body.ZP,{title:(0,i18n_build_module.__)("Styles")},(0,react.createElement)(block_styles,{clientId:clientId}),(0,build_module.zb)(blockName,"defaultStylePicker",!0)&&(0,react.createElement)(DefaultStylePicker,{blockName:blockName}))),(0,react.createElement)(inspector_controls.Slot,null),(0,react.createElement)(inspector_controls.Slot,{group:"list"}),(0,react.createElement)(inspector_controls.Slot,{group:"color",label:(0,i18n_build_module.__)("Color"),className:"color-block-support-panel__inner-wrapper"}),(0,react.createElement)(inspector_controls.Slot,{group:"typography",label:(0,i18n_build_module.__)("Typography")}),(0,react.createElement)(inspector_controls.Slot,{group:"dimensions",label:(0,i18n_build_module.__)("Dimensions")}),(0,react.createElement)(inspector_controls.Slot,{group:"border",label:(0,i18n_build_module.__)("Border")}),(0,react.createElement)(inspector_controls.Slot,{group:"styles"}),(0,react.createElement)(inspector_controls.Slot,{group:"background",label:(0,i18n_build_module.__)("Background")}),(0,react.createElement)(position_controls_panel,null),(0,react.createElement)("div",null,(0,react.createElement)(advanced_controls_panel,null))),(0,react.createElement)(skip_to_selected_block,{key:"back"}))};BlockInspector.__docgenInfo={description:"",methods:[],displayName:"BlockInspector",props:{showNoBlockSelectedMessage:{defaultValue:{value:"true",computed:!1},required:!1}}};var block_inspector=BlockInspector;function useBlockDisplayTitle({clientId:clientId,maximumLength:maximumLength,context:context}){const{attributes:attributes,name:name,reusableBlockTitle:reusableBlockTitle}=(0,use_select.Z)((select=>{if(!clientId)return{};const{getBlockName:getBlockName,getBlockAttributes:getBlockAttributes,__experimentalGetReusableBlockTitle:__experimentalGetReusableBlockTitle}=select(store),blockName=getBlockName(clientId);if(!blockName)return{};const isReusable=(0,build_module.vr)((0,build_module.ck)(blockName));return{attributes:getBlockAttributes(clientId),name:blockName,reusableBlockTitle:isReusable&&__experimentalGetReusableBlockTitle(getBlockAttributes(clientId).ref)}}),[clientId]),blockInformation=useBlockDisplayInformation(clientId);if(!name||!blockInformation)return null;const blockType=(0,build_module.ck)(name),blockLabel=blockType?(0,build_module.Iu)(blockType,attributes,context):null,label=reusableBlockTitle||blockLabel,blockTitle=label&&label!==blockType.title?label:blockInformation.title;if(maximumLength&&maximumLength>0&&blockTitle.length>maximumLength){const omission="...";return blockTitle.slice(0,maximumLength-omission.length)+omission}return blockTitle}function BlockTitle({clientId:clientId,maximumLength:maximumLength,context:context}){return useBlockDisplayTitle({clientId:clientId,maximumLength:maximumLength,context:context})}const COMMON_PROPS={placement:"top-start"},DEFAULT_PROPS={...COMMON_PROPS,flip:!1,shift:!0},RESTRICTED_HEIGHT_PROPS={...COMMON_PROPS,flip:!0,shift:!1};function getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky){if(!contentElement||!selectedBlockElement)return DEFAULT_PROPS;const scrollTop=scrollContainer?.scrollTop||0,blockRect=selectedBlockElement.getBoundingClientRect(),topOfContentElementInViewport=scrollTop+contentElement.getBoundingClientRect().top,viewportHeight=contentElement.ownerDocument.documentElement.clientHeight,restrictedTopArea=topOfContentElementInViewport+toolbarHeight,hasSpaceForToolbarAbove=blockRect.top>restrictedTopArea,isBlockTallerThanViewport=blockRect.height>viewportHeight-toolbarHeight;return isSticky||!hasSpaceForToolbarAbove&&!isBlockTallerThanViewport?RESTRICTED_HEIGHT_PROPS:DEFAULT_PROPS}function useBlockToolbarPopoverProps({contentElement:contentElement,clientId:clientId}){const selectedBlockElement=useBlockElement(clientId),[toolbarHeight,setToolbarHeight]=(0,react.useState)(0),{blockIndex:blockIndex,isSticky:isSticky}=(0,use_select.Z)((select=>{const{getBlockIndex:getBlockIndex,getBlockAttributes:getBlockAttributes}=select(store);return{blockIndex:getBlockIndex(clientId),isSticky:hasStickyOrFixedPositionValue(getBlockAttributes(clientId))}}),[clientId]),scrollContainer=(0,react.useMemo)((()=>{if(contentElement)return(0,get_scroll_container.Z)(contentElement)}),[contentElement]),[props,setProps]=(0,react.useState)((()=>getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky))),popoverRef=(0,use_ref_effect.Z)((popoverNode=>{setToolbarHeight(popoverNode.offsetHeight)}),[]),updateProps=(0,react.useCallback)((()=>setProps(getProps(contentElement,selectedBlockElement,scrollContainer,toolbarHeight,isSticky))),[contentElement,selectedBlockElement,scrollContainer,toolbarHeight]);return(0,react.useLayoutEffect)(updateProps,[blockIndex,updateProps]),(0,react.useLayoutEffect)((()=>{if(!contentElement||!selectedBlockElement)return;const contentView=contentElement?.ownerDocument?.defaultView;let resizeObserver;contentView?.addEventHandler?.("resize",updateProps);const blockView=selectedBlockElement?.ownerDocument?.defaultView;return blockView.ResizeObserver&&(resizeObserver=new blockView.ResizeObserver(updateProps),resizeObserver.observe(selectedBlockElement)),()=>{contentView?.removeEventHandler?.("resize",updateProps),resizeObserver&&resizeObserver.disconnect()}}),[updateProps,contentElement,selectedBlockElement]),{...props,ref:popoverRef}}function useSelectedBlockToolProps(clientId){const selectedBlockProps=(0,use_select.Z)((select=>{const{getBlockRootClientId:getBlockRootClientId,getBlockParents:getBlockParents,__experimentalGetBlockListSettingsForBlocks:__experimentalGetBlockListSettingsForBlocks,isBlockInsertionPointVisible:isBlockInsertionPointVisible,getBlockInsertionPoint:getBlockInsertionPoint,getBlockOrder:getBlockOrder,hasMultiSelection:hasMultiSelection,getLastMultiSelectedBlockClientId:getLastMultiSelectedBlockClientId}=select(store),blockParentsClientIds=getBlockParents(clientId),parentBlockListSettings=__experimentalGetBlockListSettingsForBlocks(blockParentsClientIds),capturingClientId=blockParentsClientIds.find((parentClientId=>parentBlockListSettings[parentClientId]?.__experimentalCaptureToolbars));let isInsertionPointVisible=!1;if(isBlockInsertionPointVisible()){const insertionPoint=getBlockInsertionPoint();isInsertionPointVisible=getBlockOrder(insertionPoint.rootClientId)[insertionPoint.index]===clientId}return{capturingClientId:capturingClientId,isInsertionPointVisible:isInsertionPointVisible,lastClientId:hasMultiSelection()?getLastMultiSelectedBlockClientId():null,rootClientId:getBlockRootClientId(clientId)}}),[clientId]);return selectedBlockProps}function EmptyBlockInserter({clientId:clientId,__unstableContentRef:__unstableContentRef}){const{capturingClientId:capturingClientId,isInsertionPointVisible:isInsertionPointVisible,lastClientId:lastClientId,rootClientId:rootClientId}=useSelectedBlockToolProps(clientId),popoverProps=useBlockToolbarPopoverProps({contentElement:__unstableContentRef?.current,clientId:clientId});return(0,react.createElement)(block_popover,{clientId:capturingClientId||clientId,__unstableCoverTarget:!0,bottomClientId:lastClientId,className:classnames_default()("block-editor-block-list__block-side-inserter-popover",{"is-insertion-point-visible":isInsertionPointVisible}),__unstableContentRef:__unstableContentRef,resize:!1,shift:!1,...popoverProps},(0,react.createElement)("div",{className:"block-editor-block-list__empty-block-inserter"},(0,react.createElement)(inserter,{position:"bottom right",rootClientId:rootClientId,clientId:clientId,__experimentalIsQuick:!0})))}EmptyBlockInserter.__docgenInfo={description:"",methods:[],displayName:"EmptyBlockInserter"};const BlockDraggable=({children:children,clientIds:clientIds,cloneClassname:cloneClassname,onDragStart:onDragStart,onDragEnd:onDragEnd})=>{const{srcRootClientId:srcRootClientId,isDraggable:isDraggable,icon:icon}=(0,use_select.Z)((select=>{const{canMoveBlocks:canMoveBlocks,getBlockRootClientId:getBlockRootClientId,getBlockName:getBlockName,getBlockAttributes:getBlockAttributes}=select(store),{getBlockType:getBlockType,getActiveBlockVariation:getActiveBlockVariation}=select(build_module.h),rootClientId=getBlockRootClientId(clientIds[0]),blockName=getBlockName(clientIds[0]),variation=getActiveBlockVariation(blockName,getBlockAttributes(clientIds[0]));return{srcRootClientId:rootClientId,isDraggable:canMoveBlocks(clientIds,rootClientId),icon:variation?.icon||getBlockType(blockName)?.icon}}),[clientIds]),isDragging=(0,react.useRef)(!1),[startScrolling,scrollOnDragOver,stopScrolling]=function useScrollWhenDragging(){const dragStartY=(0,react.useRef)(null),velocityY=(0,react.useRef)(null),scrollParentY=(0,react.useRef)(null),scrollEditorInterval=(0,react.useRef)(null);return(0,react.useEffect)((()=>()=>{scrollEditorInterval.current&&(clearInterval(scrollEditorInterval.current),scrollEditorInterval.current=null)}),[]),[(0,react.useCallback)((event=>{dragStartY.current=event.clientY,scrollParentY.current=(0,get_scroll_container.Z)(event.target),scrollEditorInterval.current=setInterval((()=>{if(scrollParentY.current&&velocityY.current){const newTop=scrollParentY.current.scrollTop+velocityY.current;scrollParentY.current.scroll({top:newTop})}}),25)}),[]),(0,react.useCallback)((event=>{if(!scrollParentY.current)return;const scrollParentHeight=scrollParentY.current.offsetHeight,offsetDragStartPosition=dragStartY.current-scrollParentY.current.offsetTop,offsetDragPosition=event.clientY-scrollParentY.current.offsetTop;if(event.clientY>offsetDragStartPosition){const moveableDistance=Math.max(scrollParentHeight-offsetDragStartPosition-50,0),dragDistance=Math.max(offsetDragPosition-offsetDragStartPosition-50,0),distancePercentage=0===moveableDistance||0===dragDistance?0:dragDistance/moveableDistance;velocityY.current=25*distancePercentage}else if(event.clientY<offsetDragStartPosition){const moveableDistance=Math.max(offsetDragStartPosition-50,0),dragDistance=Math.max(offsetDragStartPosition-offsetDragPosition-50,0),distancePercentage=0===moveableDistance||0===dragDistance?0:dragDistance/moveableDistance;velocityY.current=-25*distancePercentage}else velocityY.current=0}),[]),()=>{dragStartY.current=null,scrollParentY.current=null,scrollEditorInterval.current&&(clearInterval(scrollEditorInterval.current),scrollEditorInterval.current=null)}]}(),{startDraggingBlocks:startDraggingBlocks,stopDraggingBlocks:stopDraggingBlocks}=(0,use_dispatch.Z)(store);if((0,react.useEffect)((()=>()=>{isDragging.current&&stopDraggingBlocks()}),[]),!isDraggable)return children({draggable:!1});const transferData={type:"block",srcClientIds:clientIds,srcRootClientId:srcRootClientId};return(0,react.createElement)(draggable.Z,{cloneClassname:cloneClassname,__experimentalTransferDataType:"wp-blocks",transferData:transferData,onDragStart:event=>{window.requestAnimationFrame((()=>{startDraggingBlocks(clientIds),isDragging.current=!0,startScrolling(event),onDragStart&&onDragStart()}))},onDragOver:scrollOnDragOver,onDragEnd:()=>{stopDraggingBlocks(),isDragging.current=!1,stopScrolling(),onDragEnd&&onDragEnd()},__experimentalDragComponent:(0,react.createElement)(BlockDraggableChip,{count:clientIds.length,icon:icon})},(({onDraggableStart:onDraggableStart,onDraggableEnd:onDraggableEnd})=>children({draggable:!0,onDragStart:onDraggableStart,onDragEnd:onDraggableEnd})))};BlockDraggable.__docgenInfo={description:"",methods:[],displayName:"BlockDraggable"};var block_draggable=BlockDraggable,chevron_up=__webpack_require__("./packages/icons/build-module/library/chevron-up.js");const getMovementDirection=(moveDirection,orientation)=>"up"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?"right":"left":"up":"down"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?"left":"right":"down":null;function getBlockMoverDescription(selectedCount,type,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(selectedCount>1)return function getMultiBlockMoverDescription(selectedCount,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(isFirst&&isLast)return(0,i18n_build_module.__)("All blocks are selected, and cannot be moved");if(dir>0&&!isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d down by one place"),selectedCount,position);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d left by one place"),selectedCount,position);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d right by one place"),selectedCount,position)}if(dir>0&&isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved down as they are already at the bottom");if("left"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved right as they are already are at the rightmost position")}if(dir<0&&!isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d up by one place"),selectedCount,position);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d left by one place"),selectedCount,position);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$d blocks from position %2$d right by one place"),selectedCount,position)}if(dir<0&&isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved up as they are already at the top");if("left"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved left as they are already are at the leftmost position");if("right"===movementDirection)return(0,i18n_build_module.__)("Blocks cannot be moved right as they are already are at the rightmost position")}}(selectedCount,firstIndex,isFirst,isLast,dir,orientation);if(isFirst&&isLast)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %s is the only block, and cannot be moved"),type);if(dir>0&&!isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d down to position %3$d"),type,position,position+1);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d left to position %3$d"),type,position,position+1);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d right to position %3$d"),type,position,position+1)}if(dir>0&&isLast){const movementDirection=getMovementDirection("down",orientation);if("down"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the end of the content and can’t be moved down"),type);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the end of the content and can’t be moved left"),type);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the end of the content and can’t be moved right"),type)}if(dir<0&&!isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d up to position %3$d"),type,position,position-1);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d left to position %3$d"),type,position,position-1);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Move %1$s block from position %2$d right to position %3$d"),type,position,position-1)}if(dir<0&&isFirst){const movementDirection=getMovementDirection("up",orientation);if("up"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the beginning of the content and can’t be moved up"),type);if("left"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the beginning of the content and can’t be moved left"),type);if("right"===movementDirection)return(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$s is at the beginning of the content and can’t be moved right"),type)}}const getArrowIcon=(direction,orientation)=>"up"===direction?"horizontal"===orientation?(0,i18n_build_module.dZ)()?chevron_right.Z:chevron_left.Z:chevron_up.Z:"down"===direction?"horizontal"===orientation?(0,i18n_build_module.dZ)()?chevron_left.Z:chevron_right.Z:chevron_down.Z:null,getMovementDirectionLabel=(moveDirection,orientation)=>"up"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?(0,i18n_build_module.__)("Move right"):(0,i18n_build_module.__)("Move left"):(0,i18n_build_module.__)("Move up"):"down"===moveDirection?"horizontal"===orientation?(0,i18n_build_module.dZ)()?(0,i18n_build_module.__)("Move left"):(0,i18n_build_module.__)("Move right"):(0,i18n_build_module.__)("Move down"):null,BlockMoverButton=(0,react.forwardRef)((({clientIds:clientIds,direction:direction,orientation:moverOrientation,...props},ref)=>{const instanceId=(0,use_instance_id.Z)(BlockMoverButton),normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds],blocksCount=normalizedClientIds.length,{blockType:blockType,isDisabled:isDisabled,rootClientId:rootClientId,isFirst:isFirst,isLast:isLast,firstIndex:firstIndex,orientation:orientation="vertical"}=(0,use_select.Z)((select=>{const{getBlockIndex:getBlockIndex,getBlockRootClientId:getBlockRootClientId,getBlockOrder:getBlockOrder,getBlock:getBlock,getBlockListSettings:getBlockListSettings}=select(store),firstClientId=normalizedClientIds[0],blockRootClientId=getBlockRootClientId(firstClientId),firstBlockIndex=getBlockIndex(firstClientId),lastBlockIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]),blockOrder=getBlockOrder(blockRootClientId),block=getBlock(firstClientId),isFirstBlock=0===firstBlockIndex,isLastBlock=lastBlockIndex===blockOrder.length-1,{orientation:blockListOrientation}=getBlockListSettings(blockRootClientId)||{};return{blockType:block?(0,build_module.ck)(block.name):null,isDisabled:"up"===direction?isFirstBlock:isLastBlock,rootClientId:blockRootClientId,firstIndex:firstBlockIndex,isFirst:isFirstBlock,isLast:isLastBlock,orientation:moverOrientation||blockListOrientation}}),[clientIds,direction]),{moveBlocksDown:moveBlocksDown,moveBlocksUp:moveBlocksUp}=(0,use_dispatch.Z)(store),moverFunction="up"===direction?moveBlocksUp:moveBlocksDown,descriptionId=`block-editor-block-mover-button__description-${instanceId}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{ref:ref,className:classnames_default()("block-editor-block-mover-button",`is-${direction}-button`),icon:getArrowIcon(direction,orientation),label:getMovementDirectionLabel(direction,orientation),"aria-describedby":descriptionId,...props,onClick:isDisabled?null:event=>{moverFunction(clientIds,rootClientId),props.onClick&&props.onClick(event)},disabled:isDisabled,__experimentalIsFocusable:!0}),(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},getBlockMoverDescription(blocksCount,blockType&&blockType.title,firstIndex,isFirst,isLast,"up"===direction?-1:1,orientation)))})),BlockMoverUpButton=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(BlockMoverButton,{direction:"up",ref:ref,...props}))),BlockMoverDownButton=(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(BlockMoverButton,{direction:"down",ref:ref,...props})));function BlockMover({clientIds:clientIds,hideDragHandle:hideDragHandle}){const{canMove:canMove,rootClientId:rootClientId,isFirst:isFirst,isLast:isLast,orientation:orientation}=(0,use_select.Z)((select=>{const{getBlockIndex:getBlockIndex,getBlockListSettings:getBlockListSettings,canMoveBlocks:canMoveBlocks,getBlockOrder:getBlockOrder,getBlockRootClientId:getBlockRootClientId}=select(store),normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds],firstClientId=normalizedClientIds[0],_rootClientId=getBlockRootClientId(firstClientId),firstIndex=getBlockIndex(firstClientId),lastIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]),blockOrder=getBlockOrder(_rootClientId);return{canMove:canMoveBlocks(clientIds,_rootClientId),rootClientId:_rootClientId,isFirst:0===firstIndex,isLast:lastIndex===blockOrder.length-1,orientation:getBlockListSettings(_rootClientId)?.orientation}}),[clientIds]);if(!canMove||isFirst&&isLast&&!rootClientId)return null;const dragHandleLabel=(0,i18n_build_module.__)("Drag");return(0,react.createElement)(toolbar_group.Z,{className:classnames_default()("block-editor-block-mover",{"is-horizontal":"horizontal"===orientation})},!hideDragHandle&&(0,react.createElement)(block_draggable,{clientIds:clientIds},(draggableProps=>(0,react.createElement)(build_module_button.ZP,{icon:drag_handle.Z,className:"block-editor-block-mover__drag-handle","aria-hidden":"true",label:dragHandleLabel,tabIndex:"-1",...draggableProps}))),(0,react.createElement)("div",{className:"block-editor-block-mover__move-button-container"},(0,react.createElement)(toolbar_item.Z,null,(itemProps=>(0,react.createElement)(BlockMoverUpButton,{clientIds:clientIds,...itemProps}))),(0,react.createElement)(toolbar_item.Z,null,(itemProps=>(0,react.createElement)(BlockMoverDownButton,{clientIds:clientIds,...itemProps})))))}BlockMover.__docgenInfo={description:"",methods:[],displayName:"BlockMover"};var block_mover=BlockMover;function BlockSelectionButton({clientId:clientId,rootClientId:rootClientId}){const blockInformation=useBlockDisplayInformation(clientId),selected=(0,use_select.Z)((select=>{const{getBlock:getBlock,getBlockIndex:getBlockIndex,hasBlockMovingClientId:hasBlockMovingClientId,getBlockListSettings:getBlockListSettings,__unstableGetEditorMode:__unstableGetEditorMode}=select(store),index=getBlockIndex(clientId),{name:name,attributes:attributes}=getBlock(clientId);return{index:index,name:name,attributes:attributes,blockMovingMode:hasBlockMovingClientId(),orientation:getBlockListSettings(rootClientId)?.orientation,editorMode:__unstableGetEditorMode()}}),[clientId,rootClientId]),{index:index,name:name,attributes:attributes,blockMovingMode:blockMovingMode,orientation:orientation,editorMode:editorMode}=selected,{setNavigationMode:setNavigationMode,removeBlock:removeBlock}=(0,use_dispatch.Z)(store),ref=(0,react.useRef)(),blockType=(0,build_module.ck)(name),label=(0,build_module.DK)(blockType,attributes,index+1,orientation);(0,react.useEffect)((()=>{ref.current.focus(),(0,a11y_build_module.D)(label)}),[label]);const blockElement=useBlockElement(clientId),{hasBlockMovingClientId:hasBlockMovingClientId,getBlockIndex:getBlockIndex,getBlockRootClientId:getBlockRootClientId,getClientIdsOfDescendants:getClientIdsOfDescendants,getSelectedBlockClientId:getSelectedBlockClientId,getMultiSelectedBlocksEndClientId:getMultiSelectedBlocksEndClientId,getPreviousBlockClientId:getPreviousBlockClientId,getNextBlockClientId:getNextBlockClientId}=(0,use_select.Z)(store),{selectBlock:selectBlock,clearSelectedBlock:clearSelectedBlock,setBlockMovingClientId:setBlockMovingClientId,moveBlockToPosition:moveBlockToPosition}=(0,use_dispatch.Z)(store);const classNames=classnames_default()("block-editor-block-list__block-selection-button",{"is-block-moving-mode":!!blockMovingMode}),dragHandleLabel=(0,i18n_build_module.__)("Drag");return(0,react.createElement)("div",{className:classNames},(0,react.createElement)(component.Z,{justify:"center",className:"block-editor-block-list__block-selection-button__content"},(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(block_icon,{icon:blockInformation?.icon,showColors:!0})),(0,react.createElement)(flex_item_component.Z,null,"zoom-out"===editorMode&&(0,react.createElement)(block_mover,{clientIds:[clientId],hideDragHandle:!0}),"navigation"===editorMode&&(0,react.createElement)(block_draggable,{clientIds:[clientId]},(draggableProps=>(0,react.createElement)(build_module_button.ZP,{icon:drag_handle.Z,className:"block-selection-button_drag-handle","aria-hidden":"true",label:dragHandleLabel,tabIndex:"-1",...draggableProps})))),(0,react.createElement)(flex_item_component.Z,null,(0,react.createElement)(build_module_button.ZP,{ref:ref,onClick:"navigation"===editorMode?()=>setNavigationMode(!1):void 0,onKeyDown:function onKeyDown(event){const{keyCode:keyCode}=event,isUp=keyCode===keycodes_build_module.UP,isDown=keyCode===keycodes_build_module.WV,isLeft=keyCode===keycodes_build_module.RL,isRight=keyCode===keycodes_build_module.pX,isTab=keyCode===keycodes_build_module.Mf,isEscape=keyCode===keycodes_build_module.hY,isEnter=keyCode===keycodes_build_module.K5,isSpace=keyCode===keycodes_build_module.L_,isShift=event.shiftKey;if(keyCode===keycodes_build_module.ZH||keyCode===keycodes_build_module.yY)return removeBlock(clientId),void event.preventDefault();const selectedBlockClientId=getSelectedBlockClientId(),selectionEndClientId=getMultiSelectedBlocksEndClientId(),selectionBeforeEndClientId=getPreviousBlockClientId(selectionEndClientId||selectedBlockClientId),selectionAfterEndClientId=getNextBlockClientId(selectionEndClientId||selectedBlockClientId),navigateUp=isTab&&isShift||isUp,navigateDown=isTab&&!isShift||isDown,navigateOut=isLeft,navigateIn=isRight;let focusedBlockUid;if(navigateUp)focusedBlockUid=selectionBeforeEndClientId;else if(navigateDown)focusedBlockUid=selectionAfterEndClientId;else if(navigateOut){var _getBlockRootClientId;focusedBlockUid=null!==(_getBlockRootClientId=getBlockRootClientId(selectedBlockClientId))&&void 0!==_getBlockRootClientId?_getBlockRootClientId:selectedBlockClientId}else if(navigateIn){var _getClientIdsOfDescen;focusedBlockUid=null!==(_getClientIdsOfDescen=getClientIdsOfDescendants(selectedBlockClientId)[0])&&void 0!==_getClientIdsOfDescen?_getClientIdsOfDescen:selectedBlockClientId}const startingBlockClientId=hasBlockMovingClientId();if(isEscape&&startingBlockClientId&&!event.defaultPrevented&&(setBlockMovingClientId(null),event.preventDefault()),(isEnter||isSpace)&&startingBlockClientId){const sourceRoot=getBlockRootClientId(startingBlockClientId),destRoot=getBlockRootClientId(selectedBlockClientId),sourceBlockIndex=getBlockIndex(startingBlockClientId);let destinationBlockIndex=getBlockIndex(selectedBlockClientId);sourceBlockIndex<destinationBlockIndex&&sourceRoot===destRoot&&(destinationBlockIndex-=1),moveBlockToPosition(startingBlockClientId,sourceRoot,destRoot,destinationBlockIndex),selectBlock(startingBlockClientId),setBlockMovingClientId(null)}if((!startingBlockClientId||selectedBlockClientId!==startingBlockClientId||!navigateIn)&&(navigateDown||navigateUp||navigateOut||navigateIn))if(focusedBlockUid)event.preventDefault(),selectBlock(focusedBlockUid);else if(isTab&&selectedBlockClientId){let nextTabbable;if(navigateDown){nextTabbable=blockElement;do{nextTabbable=dom_build_module.T_.tabbable.findNext(nextTabbable)}while(nextTabbable&&blockElement.contains(nextTabbable));nextTabbable||(nextTabbable=blockElement.ownerDocument.defaultView.frameElement,nextTabbable=dom_build_module.T_.tabbable.findNext(nextTabbable))}else nextTabbable=dom_build_module.T_.tabbable.findPrevious(blockElement);nextTabbable&&(event.preventDefault(),nextTabbable.focus(),clearSelectedBlock())}},label:label,showTooltip:!1,className:"block-selection-button_select-button"},(0,react.createElement)(BlockTitle,{clientId:clientId,maximumLength:35})))))}BlockSelectionButton.__docgenInfo={description:"Block selection button component, displaying the label of the block. If the block\ndescends from a root block, a button is displayed enabling the user to select\nthe root block.\n\n@param {string} props          Component props.\n@param {string} props.clientId Client ID of block.\n\n@return {Component} The component to be rendered.",methods:[],displayName:"BlockSelectionButton"};var block_selection_button=BlockSelectionButton;const{clearTimeout:utils_clearTimeout,setTimeout:utils_setTimeout}=window,DEBOUNCE_TIMEOUT=200;function useDebouncedShowGestures({ref:ref,isFocused:isFocused,highlightParent:highlightParent,debounceTimeout:debounceTimeout=DEBOUNCE_TIMEOUT}){const{getSelectedBlockClientId:getSelectedBlockClientId,getBlockRootClientId:getBlockRootClientId}=(0,use_select.Z)(store),{toggleBlockHighlight:toggleBlockHighlight}=(0,use_dispatch.Z)(store),timeoutRef=(0,react.useRef)(),isDistractionFree=(0,use_select.Z)((select=>select(store).getSettings().isDistractionFree),[]),handleOnChange=nextIsFocused=>{if(nextIsFocused&&isDistractionFree)return;const selectedBlockClientId=getSelectedBlockClientId(),clientId=highlightParent?getBlockRootClientId(selectedBlockClientId):selectedBlockClientId;toggleBlockHighlight(clientId,nextIsFocused)},shouldHideGestures=()=>{const isHovered=ref?.current&&ref.current.matches(":hover");return!isFocused&&!isHovered},clearTimeoutRef=()=>{const timeout=timeoutRef.current;timeout&&utils_clearTimeout&&utils_clearTimeout(timeout)};return(0,react.useEffect)((()=>()=>{handleOnChange(!1),clearTimeoutRef()}),[]),{debouncedShowGestures:event=>{event&&event.stopPropagation(),clearTimeoutRef(),handleOnChange(!0)},debouncedHideGestures:event=>{event&&event.stopPropagation(),clearTimeoutRef(),timeoutRef.current=utils_setTimeout((()=>{shouldHideGestures()&&handleOnChange(!1)}),debounceTimeout)}}}function useShowHoveredOrFocusedGestures({ref:ref,highlightParent:highlightParent=!1,debounceTimeout:debounceTimeout=DEBOUNCE_TIMEOUT}){const[isFocused,setIsFocused]=(0,react.useState)(!1),{debouncedShowGestures:debouncedShowGestures,debouncedHideGestures:debouncedHideGestures}=useDebouncedShowGestures({ref:ref,debounceTimeout:debounceTimeout,isFocused:isFocused,highlightParent:highlightParent}),registerRef=(0,react.useRef)(!1),isFocusedWithin=()=>ref?.current&&ref.current.contains(ref.current.ownerDocument.activeElement);return(0,react.useEffect)((()=>{const node=ref.current,handleOnFocus=()=>{isFocusedWithin()&&(setIsFocused(!0),debouncedShowGestures())},handleOnBlur=()=>{isFocusedWithin()||(setIsFocused(!1),debouncedHideGestures())};return node&&!registerRef.current&&(node.addEventListener("focus",handleOnFocus,!0),node.addEventListener("blur",handleOnBlur,!0),registerRef.current=!0),()=>{node&&(node.removeEventListener("focus",handleOnFocus),node.removeEventListener("blur",handleOnBlur))}}),[ref,registerRef,setIsFocused,debouncedShowGestures,debouncedHideGestures]),{onMouseMove:debouncedShowGestures,onMouseLeave:debouncedHideGestures}}function BlockParentSelector(){const{selectBlock:selectBlock}=(0,use_dispatch.Z)(store),{firstParentClientId:firstParentClientId,isVisible:isVisible}=(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockParents:getBlockParents,getSelectedBlockClientId:getSelectedBlockClientId,getBlockEditingMode:getBlockEditingMode}=select(store),{hasBlockSupport:hasBlockSupport}=select(build_module.h),parents=getBlockParents(getSelectedBlockClientId()),_firstParentClientId=parents[parents.length-1],parentBlockName=getBlockName(_firstParentClientId),_parentBlockType=(0,build_module.ck)(parentBlockName);return{firstParentClientId:_firstParentClientId,isVisible:_firstParentClientId&&"default"===getBlockEditingMode(_firstParentClientId)&&hasBlockSupport(_parentBlockType,"__experimentalParentSelector",!0)}}),[]),blockInformation=useBlockDisplayInformation(firstParentClientId),nodeRef=(0,react.useRef)(),showHoveredOrFocusedGestures=useShowHoveredOrFocusedGestures({ref:nodeRef,highlightParent:!0});return isVisible?(0,react.createElement)("div",{className:"block-editor-block-parent-selector",key:firstParentClientId,ref:nodeRef,...showHoveredOrFocusedGestures},(0,react.createElement)(toolbar_button.Z,{className:"block-editor-block-parent-selector__button",onClick:()=>selectBlock(firstParentClientId),label:(0,i18n_build_module.gB)((0,i18n_build_module.__)("Select parent block: %s"),blockInformation?.title),showTooltip:!0,icon:(0,react.createElement)(block_icon,{icon:blockInformation?.icon})})):null}function PreviewBlockPopover({blocks:blocks}){return(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__parent"},(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__container"},(0,react.createElement)(popover.ZP,{className:"block-editor-block-switcher__preview__popover",placement:"bottom-start",focusOnMount:!1},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview"},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview-title"},(0,i18n_build_module.__)("Preview")),(0,react.createElement)(block_preview,{viewportWidth:500,blocks:blocks})))))}BlockParentSelector.__docgenInfo={description:'Block parent selector component, displaying the hierarchy of the\ncurrent block selection as a single icon to "go up" a level.\n\n@return {Component} Parent block selector.',methods:[],displayName:"BlockParentSelector"},PreviewBlockPopover.__docgenInfo={description:"",methods:[],displayName:"PreviewBlockPopover"};const block_variation_transformations_EMPTY_OBJECT={};const BlockVariationTransformations=({transformations:transformations,onSelect:onSelect,blocks:blocks})=>{const[hoveredTransformItemName,setHoveredTransformItemName]=(0,react.useState)();return(0,react.createElement)(react.Fragment,null,hoveredTransformItemName&&(0,react.createElement)(PreviewBlockPopover,{blocks:(0,build_module.Wm)(blocks[0],transformations.find((({name:name})=>name===hoveredTransformItemName)).attributes)}),transformations?.map((item=>(0,react.createElement)(BlockVariationTranformationItem,{key:item.name,item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName}))))};function BlockVariationTranformationItem({item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName}){const{name:name,icon:icon,title:title}=item;return(0,react.createElement)(menu_item.Z,{className:(0,build_module.hq)(name),onClick:event=>{event.preventDefault(),onSelect(name)},onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name)},(0,react.createElement)(block_icon,{icon:icon,showColors:!0}),title)}BlockVariationTransformations.__docgenInfo={description:"",methods:[],displayName:"BlockVariationTransformations"};var block_variation_transformations=BlockVariationTransformations;const BlockTransformationsMenu=({className:className,possibleBlockTransformations:possibleBlockTransformations,possibleBlockVariationTransformations:possibleBlockVariationTransformations,onSelect:onSelect,onSelectVariation:onSelectVariation,blocks:blocks})=>{const[hoveredTransformItemName,setHoveredTransformItemName]=(0,react.useState)(),{priorityTextTransformations:priorityTextTransformations,restTransformations:restTransformations}=function useGroupedTransforms(possibleBlockTransformations){const priorityContentTranformationBlocks={"core/paragraph":1,"core/heading":2,"core/list":3,"core/quote":4},transformations=(0,react.useMemo)((()=>{const priorityTextTranformsNames=Object.keys(priorityContentTranformationBlocks);return possibleBlockTransformations.reduce(((accumulator,item)=>{const{name:name}=item;return priorityTextTranformsNames.includes(name)?accumulator.priorityTextTransformations.push(item):accumulator.restTransformations.push(item),accumulator}),{priorityTextTransformations:[],restTransformations:[]})}),[possibleBlockTransformations]);return transformations.priorityTextTransformations.sort((({name:currentName},{name:nextName})=>priorityContentTranformationBlocks[currentName]<priorityContentTranformationBlocks[nextName]?-1:1)),transformations}(possibleBlockTransformations),hasBothContentTransformations=priorityTextTransformations.length&&restTransformations.length,restTransformItems=!!restTransformations.length&&(0,react.createElement)(RestTransformationItems,{restTransformations:restTransformations,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName});return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Transform to"),className:className},hoveredTransformItemName&&(0,react.createElement)(PreviewBlockPopover,{blocks:(0,build_module.m4)(blocks,hoveredTransformItemName)}),!!possibleBlockVariationTransformations?.length&&(0,react.createElement)(block_variation_transformations,{transformations:possibleBlockVariationTransformations,blocks:blocks,onSelect:onSelectVariation}),priorityTextTransformations.map((item=>(0,react.createElement)(BlockTranformationItem,{key:item.name,item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName}))),!hasBothContentTransformations&&restTransformItems),!!hasBothContentTransformations&&(0,react.createElement)(menu_group.Z,{className:className},restTransformItems))};function RestTransformationItems({restTransformations:restTransformations,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName}){return restTransformations.map((item=>(0,react.createElement)(BlockTranformationItem,{key:item.name,item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName})))}function BlockTranformationItem({item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName}){const{name:name,icon:icon,title:title,isDisabled:isDisabled}=item;return(0,react.createElement)(menu_item.Z,{className:(0,build_module.hq)(name),onClick:event=>{event.preventDefault(),onSelect(name)},disabled:isDisabled,onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name)},(0,react.createElement)(block_icon,{icon:icon,showColors:!0}),title)}BlockTransformationsMenu.__docgenInfo={description:"",methods:[],displayName:"BlockTransformationsMenu"};var block_transformations_menu=BlockTransformationsMenu;const menu_items_noop=()=>{};function BlockStylesMenuItems({clientId:clientId,onSwitch:onSwitch=menu_items_noop}){const{onSelect:onSelect,stylesToRender:stylesToRender,activeStyle:activeStyle}=useStylesForBlocks({clientId:clientId,onSwitch:onSwitch});return stylesToRender&&0!==stylesToRender.length?(0,react.createElement)(react.Fragment,null,stylesToRender.map((style=>{const menuItemText=style.label||style.name;return(0,react.createElement)(menu_item.Z,{key:style.name,icon:activeStyle.name===style.name?library_check.Z:null,onClick:()=>onSelect(style)},(0,react.createElement)(text_component.Z,{as:"span",limit:18,ellipsizeMode:"tail",truncate:!0},menuItemText))}))):null}function BlockStylesMenu({hoveredBlock:hoveredBlock,onSwitch:onSwitch}){const{clientId:clientId}=hoveredBlock;return(0,react.createElement)(menu_group.Z,{label:(0,i18n_build_module.__)("Styles"),className:"block-editor-block-switcher__styles__menugroup"},(0,react.createElement)(BlockStylesMenuItems,{clientId:clientId,onSwitch:onSwitch}))}BlockStylesMenuItems.__docgenInfo={description:"",methods:[],displayName:"BlockStylesMenuItems",props:{onSwitch:{defaultValue:{value:"() => {}",computed:!1},required:!1}}},BlockStylesMenu.__docgenInfo={description:"",methods:[],displayName:"BlockStylesMenu"};const getMatchingBlockByName=(block,selectedBlockName,consumedBlocks=new Set)=>{const{clientId:clientId,name:name,innerBlocks:innerBlocks=[]}=block;if(!consumedBlocks.has(clientId)){if(name===selectedBlockName)return block;for(const innerBlock of innerBlocks){const match=getMatchingBlockByName(innerBlock,selectedBlockName,consumedBlocks);if(match)return match}}},transformMatchingBlock=(match,selectedBlock)=>{const retainedBlockAttributes=((name,attributes)=>{const contentAttributes=(0,build_module.A$)(name,"content");return contentAttributes?.length?contentAttributes.reduce(((_accumulator,attribute)=>(attributes[attribute]&&(_accumulator[attribute]=attributes[attribute]),_accumulator)),{}):attributes})(selectedBlock.name,selectedBlock.attributes);match.attributes={...match.attributes,...retainedBlockAttributes}};var use_transformed_patterns=(patterns,selectedBlocks)=>(0,react.useMemo)((()=>patterns.reduce(((accumulator,_pattern)=>{const transformedBlocks=((selectedBlocks,patternBlocks)=>{const _patternBlocks=patternBlocks.map((block=>(0,build_module.Wm)(block))),consumedBlocks=new Set;for(const selectedBlock of selectedBlocks){let isMatch=!1;for(const patternBlock of _patternBlocks){const match=getMatchingBlockByName(patternBlock,selectedBlock.name,consumedBlocks);if(match){isMatch=!0,consumedBlocks.add(match.clientId),transformMatchingBlock(match,selectedBlock);break}}if(!isMatch)return}return _patternBlocks})(selectedBlocks,_pattern.blocks);return transformedBlocks&&accumulator.push({..._pattern,transformedBlocks:transformedBlocks}),accumulator}),[])),[patterns,selectedBlocks]);const{CompositeV2:pattern_transformations_menu_Composite,CompositeItemV2:pattern_transformations_menu_CompositeItem,useCompositeStoreV2:pattern_transformations_menu_useCompositeStore}=unlock(private_apis.YH);function PatternTransformationsMenu({blocks:blocks,patterns:statePatterns,onSelect:onSelect}){const[showTransforms,setShowTransforms]=(0,react.useState)(!1),patterns=use_transformed_patterns(statePatterns,blocks);return patterns.length?(0,react.createElement)(menu_group.Z,{className:"block-editor-block-switcher__pattern__transforms__menugroup"},showTransforms&&(0,react.createElement)(PreviewPatternsPopover,{patterns:patterns,onSelect:onSelect}),(0,react.createElement)(menu_item.Z,{onClick:event=>{event.preventDefault(),setShowTransforms(!showTransforms)},icon:chevron_right.Z},(0,i18n_build_module.__)("Patterns"))):null}function PreviewPatternsPopover({patterns:patterns,onSelect:onSelect}){return(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__parent"},(0,react.createElement)("div",{className:"block-editor-block-switcher__popover__preview__container"},(0,react.createElement)(popover.ZP,{className:"block-editor-block-switcher__preview__popover",position:"bottom right"},(0,react.createElement)("div",{className:"block-editor-block-switcher__preview is-pattern-list-preview"},(0,react.createElement)(pattern_transformations_menu_BlockPatternsList,{patterns:patterns,onSelect:onSelect})))))}function pattern_transformations_menu_BlockPatternsList({patterns:patterns,onSelect:onSelect}){const composite=pattern_transformations_menu_useCompositeStore();return(0,react.createElement)(pattern_transformations_menu_Composite,{store:composite,role:"listbox",className:"block-editor-block-switcher__preview-patterns-container","aria-label":(0,i18n_build_module.__)("Patterns list")},patterns.map((pattern=>(0,react.createElement)(pattern_transformations_menu_BlockPattern,{key:pattern.name,pattern:pattern,onSelect:onSelect}))))}function pattern_transformations_menu_BlockPattern({pattern:pattern,onSelect:onSelect}){const baseClassName="block-editor-block-switcher__preview-patterns-container",descriptionId=(0,use_instance_id.Z)(pattern_transformations_menu_BlockPattern,`${baseClassName}-list__item-description`);return(0,react.createElement)("div",{className:`${baseClassName}-list__list-item`},(0,react.createElement)(pattern_transformations_menu_CompositeItem,{render:(0,react.createElement)("div",{role:"option","aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:void 0,className:`${baseClassName}-list__item`}),onClick:()=>onSelect(pattern.transformedBlocks)},(0,react.createElement)(block_preview,{blocks:pattern.transformedBlocks,viewportWidth:pattern.viewportWidth||500}),(0,react.createElement)("div",{className:`${baseClassName}-list__item-title`},pattern.title)),!!pattern.description&&(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},pattern.description))}PatternTransformationsMenu.__docgenInfo={description:"",methods:[],displayName:"PatternTransformationsMenu"};var pattern_transformations_menu=PatternTransformationsMenu;const BlockSwitcherDropdownMenu=({clientIds:clientIds,blocks:blocks})=>{const{replaceBlocks:replaceBlocks,multiSelect:multiSelect,updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),blockInformation=useBlockDisplayInformation(blocks[0].clientId),{possibleBlockTransformations:possibleBlockTransformations,canRemove:canRemove,hasBlockStyles:hasBlockStyles,icon:icon,patterns:patterns}=(0,use_select.Z)((select=>{const{getBlockRootClientId:getBlockRootClientId,getBlockTransformItems:getBlockTransformItems,__experimentalGetPatternTransformItems:__experimentalGetPatternTransformItems,canRemoveBlocks:canRemoveBlocks}=select(store),{getBlockStyles:getBlockStyles,getBlockType:getBlockType}=select(build_module.h),rootClientId=getBlockRootClientId(Array.isArray(clientIds)?clientIds[0]:clientIds),[{name:firstBlockName}]=blocks,_isSingleBlockSelected=1===blocks.length,styles=_isSingleBlockSelected&&getBlockStyles(firstBlockName);let _icon;if(_isSingleBlockSelected)_icon=blockInformation?.icon;else{_icon=1===new Set(blocks.map((({name:name})=>name))).size?getBlockType(firstBlockName)?.icon:copy.Z}return{possibleBlockTransformations:getBlockTransformItems(blocks,rootClientId),canRemove:canRemoveBlocks(clientIds,rootClientId),hasBlockStyles:!!styles?.length,icon:_icon,patterns:__experimentalGetPatternTransformItems(blocks,rootClientId)}}),[clientIds,blocks,blockInformation?.icon]),blockVariationTransformations=function useBlockVariationTransforms({clientIds:clientIds,blocks:blocks}){const{activeBlockVariation:activeBlockVariation,blockVariationTransformations:blockVariationTransformations}=(0,use_select.Z)((select=>{const{getBlockRootClientId:getBlockRootClientId,getBlockAttributes:getBlockAttributes,canRemoveBlocks:canRemoveBlocks}=select(store),{getActiveBlockVariation:getActiveBlockVariation,getBlockVariations:getBlockVariations}=select(build_module.h),rootClientId=getBlockRootClientId(Array.isArray(clientIds)?clientIds[0]:clientIds),canRemove=canRemoveBlocks(clientIds,rootClientId);if(1!==blocks.length||!canRemove)return block_variation_transformations_EMPTY_OBJECT;const[firstBlock]=blocks;return{blockVariationTransformations:getBlockVariations(firstBlock.name,"transform"),activeBlockVariation:getActiveBlockVariation(firstBlock.name,getBlockAttributes(firstBlock.clientId))}}),[clientIds,blocks]);return(0,react.useMemo)((()=>blockVariationTransformations?.filter((({name:name})=>name!==activeBlockVariation?.name))),[blockVariationTransformations,activeBlockVariation])}({clientIds:clientIds,blocks:blocks}),blockTitle=useBlockDisplayTitle({clientId:Array.isArray(clientIds)?clientIds[0]:clientIds,maximumLength:35}),isSingleBlock=1===blocks.length,isReusable=isSingleBlock&&(0,build_module.vr)(blocks[0]),isTemplate=isSingleBlock&&(0,build_module.zQ)(blocks[0]);function selectForMultipleBlocks(insertedBlocks){insertedBlocks.length>1&&multiSelect(insertedBlocks[0].clientId,insertedBlocks[insertedBlocks.length-1].clientId)}const hasPossibleBlockTransformations=!!possibleBlockTransformations.length&&canRemove&&!isTemplate,hasPossibleBlockVariationTransformations=!!blockVariationTransformations?.length,hasPatternTransformation=!!patterns?.length&&canRemove;if(!hasBlockStyles&&!hasPossibleBlockTransformations&&!hasPossibleBlockVariationTransformations)return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_button.Z,{disabled:!0,className:"block-editor-block-switcher__no-switcher-icon",title:blockTitle,icon:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_icon,{icon:icon,showColors:!0}),(isReusable||isTemplate)&&(0,react.createElement)("span",{className:"block-editor-block-switcher__toggle-text"},blockTitle))}));const blockSwitcherLabel=isSingleBlock?blockTitle:(0,i18n_build_module.__)("Multiple blocks selected"),blockSwitcherDescription=isSingleBlock?(0,i18n_build_module.__)("Change block type or style"):(0,i18n_build_module.gB)((0,i18n_build_module._n)("Change type of %d block","Change type of %d blocks",blocks.length),blocks.length),hasBlockOrBlockVariationTransforms=hasPossibleBlockTransformations||hasPossibleBlockVariationTransformations,showDropDown=hasBlockStyles||hasBlockOrBlockVariationTransforms||hasPatternTransformation;return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(dropdown_menu.Z,{className:"block-editor-block-switcher",label:blockSwitcherLabel,popoverProps:{placement:"bottom-start",className:"block-editor-block-switcher__popover"},icon:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_icon,{icon:icon,className:"block-editor-block-switcher__toggle",showColors:!0}),(isReusable||isTemplate)&&(0,react.createElement)("span",{className:"block-editor-block-switcher__toggle-text"},blockTitle)),toggleProps:{describedBy:blockSwitcherDescription,...toggleProps},menuProps:{orientation:"both"}},(({onClose:onClose})=>showDropDown&&(0,react.createElement)("div",{className:"block-editor-block-switcher__container"},hasPatternTransformation&&(0,react.createElement)(pattern_transformations_menu,{blocks:blocks,patterns:patterns,onSelect:transformedBlocks=>{!function onPatternTransform(transformedBlocks){replaceBlocks(clientIds,transformedBlocks),selectForMultipleBlocks(transformedBlocks)}(transformedBlocks),onClose()}}),hasBlockOrBlockVariationTransforms&&(0,react.createElement)(block_transformations_menu,{className:"block-editor-block-switcher__transforms__menugroup",possibleBlockTransformations:possibleBlockTransformations,possibleBlockVariationTransformations:blockVariationTransformations,blocks:blocks,onSelect:name=>{!function onBlockTransform(name){const newBlocks=(0,build_module.m4)(blocks,name);replaceBlocks(clientIds,newBlocks),selectForMultipleBlocks(newBlocks)}(name),onClose()},onSelectVariation:name=>{!function onBlockVariationTransform(name){updateBlockAttributes(blocks[0].clientId,{...blockVariationTransformations.find((({name:variationName})=>variationName===name)).attributes})}(name),onClose()}}),hasBlockStyles&&(0,react.createElement)(BlockStylesMenu,{hoveredBlock:blocks[0],onSwitch:onClose})))))))},BlockSwitcher=({clientIds:clientIds})=>{const blocks=(0,use_select.Z)((select=>select(store).getBlocksByClientId(clientIds)),[clientIds]);return!blocks.length||blocks.some((block=>!block))?null:(0,react.createElement)(BlockSwitcherDropdownMenu,{clientIds:clientIds,blocks:blocks})};BlockSwitcher.__docgenInfo={description:"",methods:[],displayName:"BlockSwitcher"};var block_switcher=BlockSwitcher;BlockSwitcherDropdownMenu.__docgenInfo={description:"",methods:[],displayName:"BlockSwitcherDropdownMenu"};const{Fill:__unstableBlockToolbarLastItem,Slot:block_toolbar_last_item_Slot}=(0,slot_fill.up)("__unstableBlockToolbarLastItem");__unstableBlockToolbarLastItem.Slot=block_toolbar_last_item_Slot;var block_toolbar_last_item=__unstableBlockToolbarLastItem,use_copy_to_clipboard=__webpack_require__("./packages/compose/build-module/hooks/use-copy-to-clipboard/index.js");const supports_styleSupportKeys=[...["typography.lineHeight","typography.fontSize","typography.__experimentalFontStyle","typography.__experimentalFontWeight","typography.__experimentalFontFamily","typography.textColumns","typography.__experimentalTextDecoration","typography.__experimentalTextTransform","typography.__experimentalWritingMode","typography.__experimentalLetterSpacing"],"__experimentalBorder","color","spacing"];const STYLE_ATTRIBUTES={align:nameOrType=>(0,build_module.zb)(nameOrType,"align"),borderColor:nameOrType=>function supports_hasBorderSupport(nameOrType,feature="any"){if("web"!==platform.Z.OS)return!1;const support=(0,build_module.Dx)(nameOrType,"__experimentalBorder");return!0===support||("any"===feature?!!(support?.color||support?.radius||support?.width||support?.style):!!support?.[feature])}(nameOrType,"color"),backgroundColor:nameOrType=>{const colorSupport=(0,build_module.Dx)(nameOrType,"color");return colorSupport&&!1!==colorSupport.background},textColor:nameOrType=>{const colorSupport=(0,build_module.Dx)(nameOrType,"color");return colorSupport&&!1!==colorSupport.text},gradient:nameOrType=>{const colorSupport=(0,build_module.Dx)(nameOrType,"color");return null!==colorSupport&&"object"==typeof colorSupport&&!!colorSupport.gradients},className:nameOrType=>(0,build_module.zb)(nameOrType,"customClassName",!0),fontFamily:nameOrType=>(0,build_module.zb)(nameOrType,"typography.__experimentalFontFamily"),fontSize:nameOrType=>(0,build_module.zb)(nameOrType,"typography.fontSize"),layout:nameOrType=>(0,build_module.zb)(nameOrType,"layout"),style:nameOrType=>supports_styleSupportKeys.some((key=>(0,build_module.zb)(nameOrType,key)))};function getStyleAttributes(sourceBlock,targetBlock){return Object.entries(STYLE_ATTRIBUTES).reduce(((attributes,[attributeKey,hasSupport])=>(hasSupport(sourceBlock.name)&&hasSupport(targetBlock.name)&&(attributes[attributeKey]=sourceBlock.attributes[attributeKey]),attributes)),{})}function recursivelyUpdateBlockAttributes(targetBlocks,sourceBlocks,updateBlockAttributes){for(let index=0;index<Math.min(sourceBlocks.length,targetBlocks.length);index+=1)updateBlockAttributes(targetBlocks[index].clientId,getStyleAttributes(sourceBlocks[index],targetBlocks[index])),recursivelyUpdateBlockAttributes(targetBlocks[index].innerBlocks,sourceBlocks[index].innerBlocks,updateBlockAttributes)}function usePasteStyles(){const registry=(0,use_registry.Z)(),{updateBlockAttributes:updateBlockAttributes}=(0,use_dispatch.Z)(store),{createSuccessNotice:createSuccessNotice,createWarningNotice:createWarningNotice,createErrorNotice:createErrorNotice}=(0,use_dispatch.Z)(notices_build_module.h);return(0,react.useCallback)((async targetBlocks=>{let html="";try{if(!window.navigator.clipboard)return void createErrorNotice((0,i18n_build_module.__)("Unable to paste styles. This feature is only available on secure (https) sites in supporting browsers."),{type:"snackbar"});html=await window.navigator.clipboard.readText()}catch(error){return void createErrorNotice((0,i18n_build_module.__)("Unable to paste styles. Please allow browser clipboard permissions before continuing."),{type:"snackbar"})}if(!html||!function hasSerializedBlocks(text){try{const blocks=(0,build_module.Qc)(text,{__unstableSkipMigrationLogs:!0,__unstableSkipAutop:!0});return 1!==blocks.length||"core/freeform"!==blocks[0].name}catch(err){return!1}}(html))return void createWarningNotice((0,i18n_build_module.__)("Unable to paste styles. Block styles couldn't be found within the copied content."),{type:"snackbar"});const copiedBlocks=(0,build_module.Qc)(html);if(1===copiedBlocks.length?registry.batch((()=>{recursivelyUpdateBlockAttributes(targetBlocks,targetBlocks.map((()=>copiedBlocks[0])),updateBlockAttributes)})):registry.batch((()=>{recursivelyUpdateBlockAttributes(targetBlocks,copiedBlocks,updateBlockAttributes)})),1===targetBlocks.length){const title=(0,build_module.ck)(targetBlocks[0].name)?.title;createSuccessNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)("Pasted styles to %s."),title),{type:"snackbar"})}else createSuccessNotice((0,i18n_build_module.gB)((0,i18n_build_module.__)("Pasted styles to %d blocks."),targetBlocks.length),{type:"snackbar"})}),[registry.batch,updateBlockAttributes,createSuccessNotice,createWarningNotice,createErrorNotice])}function BlockActions({clientIds:clientIds,children:children,__experimentalUpdateSelection:updateSelection}){const{canInsertBlockType:canInsertBlockType,getBlockRootClientId:getBlockRootClientId,getBlocksByClientId:getBlocksByClientId,canMoveBlocks:canMoveBlocks,canRemoveBlocks:canRemoveBlocks}=(0,use_select.Z)(store),{getDefaultBlockName:getDefaultBlockName,getGroupingBlockName:getGroupingBlockName}=(0,use_select.Z)(build_module.h),blocks=getBlocksByClientId(clientIds),rootClientId=getBlockRootClientId(clientIds[0]),canCopyStyles=blocks.every((block=>!!block&&((0,build_module.zb)(block.name,"color")||(0,build_module.zb)(block.name,"typography")))),canDuplicate=blocks.every((block=>!!block&&(0,build_module.zb)(block.name,"multiple",!0)&&canInsertBlockType(block.name,rootClientId))),canInsertDefaultBlock=canInsertBlockType(getDefaultBlockName(),rootClientId),canMove=canMoveBlocks(clientIds,rootClientId),canRemove=canRemoveBlocks(clientIds,rootClientId),{removeBlocks:removeBlocks,replaceBlocks:replaceBlocks,duplicateBlocks:duplicateBlocks,insertAfterBlock:insertAfterBlock,insertBeforeBlock:insertBeforeBlock,flashBlock:flashBlock,setBlockMovingClientId:setBlockMovingClientId,setNavigationMode:setNavigationMode,selectBlock:selectBlock}=(0,use_dispatch.Z)(store),notifyCopy=useNotifyCopy(),pasteStyles=usePasteStyles();return children({canCopyStyles:canCopyStyles,canDuplicate:canDuplicate,canInsertDefaultBlock:canInsertDefaultBlock,canMove:canMove,canRemove:canRemove,rootClientId:rootClientId,blocks:blocks,onDuplicate(){return duplicateBlocks(clientIds,updateSelection)},onRemove(){return removeBlocks(clientIds,updateSelection)},onInsertBefore(){const clientId=Array.isArray(clientIds)?clientIds[0]:clientId;insertBeforeBlock(clientId)},onInsertAfter(){const clientId=Array.isArray(clientIds)?clientIds[clientIds.length-1]:clientId;insertAfterBlock(clientId)},onMoveTo(){setNavigationMode(!0),selectBlock(clientIds[0]),setBlockMovingClientId(clientIds[0])},onGroup(){if(!blocks.length)return;const groupingBlockName=getGroupingBlockName(),newBlocks=(0,build_module.m4)(blocks,groupingBlockName);newBlocks&&replaceBlocks(clientIds,newBlocks)},onUngroup(){if(!blocks.length)return;const innerBlocks=blocks[0].innerBlocks;innerBlocks.length&&replaceBlocks(clientIds,innerBlocks)},onCopy(){const selectedBlockClientIds=blocks.map((({clientId:clientId})=>clientId));1===blocks.length&&flashBlock(selectedBlockClientIds[0]),notifyCopy("copy",selectedBlockClientIds)},async onPasteStyles(){await pasteStyles(blocks)}})}function BlockHTMLConvertButton({clientId:clientId}){const block=(0,use_select.Z)((select=>select(store).getBlock(clientId)),[clientId]),{replaceBlocks:replaceBlocks}=(0,use_dispatch.Z)(store);return block&&"core/html"===block.name?(0,react.createElement)(menu_item.Z,{onClick:()=>replaceBlocks(clientId,(0,build_module.AF)({HTML:(0,build_module.Jo)(block)}))},(0,i18n_build_module.__)("Convert to Blocks")):null}BlockHTMLConvertButton.__docgenInfo={description:"",methods:[],displayName:"BlockHTMLConvertButton"};var block_html_convert_button=BlockHTMLConvertButton;const{Fill:__unstableBlockSettingsMenuFirstItem,Slot:block_settings_menu_first_item_Slot}=(0,slot_fill.up)("__unstableBlockSettingsMenuFirstItem");__unstableBlockSettingsMenuFirstItem.Slot=block_settings_menu_first_item_Slot;var block_settings_menu_first_item=__unstableBlockSettingsMenuFirstItem;const block_settings_dropdown_POPOVER_PROPS={className:"block-editor-block-settings-menu__popover",placement:"bottom-start"};function CopyMenuItem({blocks:blocks,onCopy:onCopy,label:label}){const ref=(0,use_copy_to_clipboard.Z)((()=>(0,build_module.qC)(blocks)),onCopy),copyMenuItemBlocksLabel=blocks.length>1?(0,i18n_build_module.__)("Copy blocks"):(0,i18n_build_module.__)("Copy"),copyMenuItemLabel=label||copyMenuItemBlocksLabel;return(0,react.createElement)(menu_item.Z,{ref:ref},copyMenuItemLabel)}function ParentSelectorMenuItem({parentClientId:parentClientId,parentBlockType:parentBlockType}){const isSmallViewport=(0,use_viewport_match.Z)("medium","<"),{selectBlock:selectBlock}=(0,use_dispatch.Z)(store),menuItemRef=(0,react.useRef)(),gesturesProps=useShowHoveredOrFocusedGestures({ref:menuItemRef,highlightParent:!0});return isSmallViewport?(0,react.createElement)(menu_item.Z,{...gesturesProps,ref:menuItemRef,icon:(0,react.createElement)(block_icon,{icon:parentBlockType.icon}),onClick:()=>selectBlock(parentClientId)},(0,i18n_build_module.gB)((0,i18n_build_module.__)("Select parent block (%s)"),parentBlockType.title)):null}function BlockSettingsDropdown({block:block,clientIds:clientIds,__experimentalSelectBlock:__experimentalSelectBlock,children:children,__unstableDisplayLocation:__unstableDisplayLocation,...props}){const currentClientId=block?.clientId,blockClientIds=Array.isArray(clientIds)?clientIds:[clientIds],count=blockClientIds.length,firstBlockClientId=blockClientIds[0],{firstParentClientId:firstParentClientId,onlyBlock:onlyBlock,parentBlockType:parentBlockType,previousBlockClientId:previousBlockClientId,selectedBlockClientIds:selectedBlockClientIds}=(0,use_select.Z)((select=>{const{getBlockCount:getBlockCount,getBlockName:getBlockName,getBlockRootClientId:getBlockRootClientId,getPreviousBlockClientId:getPreviousBlockClientId,getSelectedBlockClientIds:getSelectedBlockClientIds,getBlockAttributes:getBlockAttributes}=select(store),{getActiveBlockVariation:getActiveBlockVariation}=select(build_module.h),_firstParentClientId=getBlockRootClientId(firstBlockClientId),parentBlockName=_firstParentClientId&&getBlockName(_firstParentClientId);return{firstParentClientId:_firstParentClientId,onlyBlock:1===getBlockCount(_firstParentClientId),parentBlockType:_firstParentClientId&&(getActiveBlockVariation(parentBlockName,getBlockAttributes(_firstParentClientId))||(0,build_module.ck)(parentBlockName)),previousBlockClientId:getPreviousBlockClientId(firstBlockClientId),selectedBlockClientIds:getSelectedBlockClientIds()}}),[firstBlockClientId]),{getBlockOrder:getBlockOrder,getSelectedBlockClientIds:getSelectedBlockClientIds}=(0,use_select.Z)(store),openedBlockSettingsMenu=(0,use_select.Z)((select=>unlock(select(store)).getOpenedBlockSettingsMenu()),[]),{setOpenedBlockSettingsMenu:setOpenedBlockSettingsMenu}=unlock((0,use_dispatch.Z)(store)),shortcuts=(0,use_select.Z)((select=>{const{getShortcutRepresentation:getShortcutRepresentation}=select(keyboard_shortcuts_build_module.h);return{duplicate:getShortcutRepresentation("core/block-editor/duplicate"),remove:getShortcutRepresentation("core/block-editor/remove"),insertAfter:getShortcutRepresentation("core/block-editor/insert-after"),insertBefore:getShortcutRepresentation("core/block-editor/insert-before")}}),[]),isMatch=(0,keyboard_shortcuts_build_module.sx)(),hasSelectedBlocks=selectedBlockClientIds.length>0,updateSelectionAfterDuplicate=(0,react.useCallback)((async clientIdsPromise=>{if(__experimentalSelectBlock){const ids=await clientIdsPromise;ids&&ids[0]&&__experimentalSelectBlock(ids[0],!1)}}),[__experimentalSelectBlock]),updateSelectionAfterRemove=(0,react.useCallback)((()=>{if(__experimentalSelectBlock){let blockToFocus=previousBlockClientId||firstParentClientId;blockToFocus||(blockToFocus=getBlockOrder()[0]);const shouldUpdateSelection=hasSelectedBlocks&&0===getSelectedBlockClientIds().length;__experimentalSelectBlock(blockToFocus,shouldUpdateSelection)}}),[__experimentalSelectBlock,previousBlockClientId,firstParentClientId,getBlockOrder,hasSelectedBlocks,getSelectedBlockClientIds]),removeBlockLabel=1===count?(0,i18n_build_module.__)("Delete"):(0,i18n_build_module.__)("Delete blocks"),parentBlockIsSelected=selectedBlockClientIds?.includes(firstParentClientId),open=currentClientId?openedBlockSettingsMenu===currentClientId||!1:void 0,onToggle=(0,react.useCallback)((localOpen=>{localOpen&&openedBlockSettingsMenu!==currentClientId?setOpenedBlockSettingsMenu(currentClientId):!localOpen&&openedBlockSettingsMenu&&openedBlockSettingsMenu===currentClientId&&setOpenedBlockSettingsMenu(void 0)}),[currentClientId,openedBlockSettingsMenu,setOpenedBlockSettingsMenu]);return(0,react.createElement)(BlockActions,{clientIds:clientIds,__experimentalUpdateSelection:!__experimentalSelectBlock},(({canCopyStyles:canCopyStyles,canDuplicate:canDuplicate,canInsertDefaultBlock:canInsertDefaultBlock,canMove:canMove,canRemove:canRemove,onDuplicate:onDuplicate,onInsertAfter:onInsertAfter,onInsertBefore:onInsertBefore,onRemove:onRemove,onCopy:onCopy,onPasteStyles:onPasteStyles,onMoveTo:onMoveTo,blocks:blocks})=>(0,react.createElement)(dropdown_menu.Z,{icon:more_vertical.Z,label:(0,i18n_build_module.__)("Options"),className:"block-editor-block-settings-menu",popoverProps:block_settings_dropdown_POPOVER_PROPS,open:open,onToggle:onToggle,noIcons:!0,menuProps:{onKeyDown(event){event.defaultPrevented||(isMatch("core/block-editor/remove",event)&&canRemove?(event.preventDefault(),updateSelectionAfterRemove(onRemove())):isMatch("core/block-editor/duplicate",event)&&canDuplicate?(event.preventDefault(),updateSelectionAfterDuplicate(onDuplicate())):isMatch("core/block-editor/insert-after",event)&&canInsertDefaultBlock?(event.preventDefault(),setOpenedBlockSettingsMenu(void 0),onInsertAfter()):isMatch("core/block-editor/insert-before",event)&&canInsertDefaultBlock&&(event.preventDefault(),setOpenedBlockSettingsMenu(void 0),onInsertBefore()))}},...props},(({onClose:onClose})=>(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(block_settings_menu_first_item.Slot,{fillProps:{onClose:onClose}}),!parentBlockIsSelected&&!!firstParentClientId&&(0,react.createElement)(ParentSelectorMenuItem,{parentClientId:firstParentClientId,parentBlockType:parentBlockType}),1===count&&(0,react.createElement)(block_html_convert_button,{clientId:firstBlockClientId}),(0,react.createElement)(CopyMenuItem,{blocks:blocks,onCopy:onCopy}),canDuplicate&&(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onDuplicate,updateSelectionAfterDuplicate),shortcut:shortcuts.duplicate},(0,i18n_build_module.__)("Duplicate")),canInsertDefaultBlock&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onInsertBefore),shortcut:shortcuts.insertBefore},(0,i18n_build_module.__)("Add before")),(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onInsertAfter),shortcut:shortcuts.insertAfter},(0,i18n_build_module.__)("Add after")))),canCopyStyles&&(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(CopyMenuItem,{blocks:blocks,onCopy:onCopy,label:(0,i18n_build_module.__)("Copy styles")}),(0,react.createElement)(menu_item.Z,{onClick:onPasteStyles},(0,i18n_build_module.__)("Paste styles"))),(0,react.createElement)(block_settings_menu_controls.Slot,{fillProps:{onClose:onClose,canMove:canMove,onMoveTo:onMoveTo,onlyBlock:onlyBlock,count:count,firstBlockClientId:firstBlockClientId},clientIds:clientIds,__unstableDisplayLocation:__unstableDisplayLocation}),"function"==typeof children?children({onClose:onClose}):react.Children.map((child=>(0,react.cloneElement)(child,{onClose:onClose}))),canRemove&&(0,react.createElement)(menu_group.Z,null,(0,react.createElement)(menu_item.Z,{onClick:(0,pipe.Z)(onClose,onRemove,updateSelectionAfterRemove),shortcut:shortcuts.remove},removeBlockLabel)))))))}BlockSettingsDropdown.__docgenInfo={description:"",methods:[],displayName:"BlockSettingsDropdown"};var block_settings_dropdown=BlockSettingsDropdown;function BlockSettingsMenu({clientIds:clientIds,...props}){return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_item.Z,null,(toggleProps=>(0,react.createElement)(block_settings_dropdown,{clientIds:clientIds,toggleProps:toggleProps,...props}))))}BlockSettingsMenu.__docgenInfo={description:"",methods:[],displayName:"BlockSettingsMenu"};var block_settings_menu=BlockSettingsMenu;function BlockLockToolbar({clientId:clientId,wrapperRef:wrapperRef}){const{canEdit:canEdit,canMove:canMove,canRemove:canRemove,canLock:canLock}=useBlockLock(clientId),[isModalOpen,toggleModal]=(0,react.useReducer)((isActive=>!isActive),!1),lockButtonRef=(0,react.useRef)(null),isFirstRender=(0,react.useRef)(!0),shouldHideBlockLockUI=!canLock||canEdit&&canMove&&canRemove;return(0,react.useEffect)((()=>{isFirstRender.current?isFirstRender.current=!1:!isModalOpen&&shouldHideBlockLockUI&&dom_build_module.T_.focusable.find(wrapperRef.current,{sequential:!1}).find((element=>"BUTTON"===element.tagName&&element!==lockButtonRef.current))?.focus()}),[isModalOpen,shouldHideBlockLockUI,wrapperRef]),shouldHideBlockLockUI?null:(0,react.createElement)(react.Fragment,null,(0,react.createElement)(toolbar_group.Z,{className:"block-editor-block-lock-toolbar"},(0,react.createElement)(toolbar_button.Z,{ref:lockButtonRef,icon:library_lock,label:(0,i18n_build_module.__)("Unlock"),onClick:toggleModal,"aria-expanded":isModalOpen,"aria-haspopup":"dialog"})),isModalOpen&&(0,react.createElement)(BlockLockModal,{clientId:clientId,onClose:toggleModal}))}BlockLockToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockLockToolbar"};var library_group=__webpack_require__("./packages/icons/build-module/library/group.js"),row=__webpack_require__("./packages/icons/build-module/library/row.js"),stack=__webpack_require__("./packages/icons/build-module/library/stack.js");const layouts={group:{type:"constrained"},row:{type:"flex",flexWrap:"nowrap"},stack:{type:"flex",orientation:"vertical"}};function BlockGroupToolbar(){const{blocksSelection:blocksSelection,clientIds:clientIds,groupingBlockName:groupingBlockName,isGroupable:isGroupable}=useConvertToGroupButtonProps(),{replaceBlocks:replaceBlocks}=(0,use_dispatch.Z)(store),{canRemove:canRemove,variations:variations}=(0,use_select.Z)((select=>{const{canRemoveBlocks:canRemoveBlocks}=select(store),{getBlockVariations:getBlockVariations}=select(build_module.h);return{canRemove:canRemoveBlocks(clientIds),variations:getBlockVariations(groupingBlockName,"transform")}}),[clientIds,groupingBlockName]),onConvertToGroup=layout=>{const newBlocks=(0,build_module.m4)(blocksSelection,groupingBlockName);"string"!=typeof layout&&(layout="group"),newBlocks&&newBlocks.length>0&&(newBlocks[0].attributes.layout=layouts[layout],replaceBlocks(clientIds,newBlocks))};if(!isGroupable||!canRemove)return null;const canInsertRow=!!variations.find((({name:name})=>"group-row"===name)),canInsertStack=!!variations.find((({name:name})=>"group-stack"===name));return(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_button.Z,{icon:library_group.Z,label:(0,i18n_build_module._x)("Group","verb"),onClick:onConvertToGroup}),canInsertRow&&(0,react.createElement)(toolbar_button.Z,{icon:row.Z,label:(0,i18n_build_module._x)("Row","single horizontal line"),onClick:()=>onConvertToGroup("row")}),canInsertStack&&(0,react.createElement)(toolbar_button.Z,{icon:stack.Z,label:(0,i18n_build_module._x)("Stack","verb"),onClick:()=>onConvertToGroup("stack")}))}BlockGroupToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockGroupToolbar"};var convert_to_group_buttons_toolbar=BlockGroupToolbar;function BlockEditVisuallyButton({clientIds:clientIds}){const clientId=1===clientIds.length?clientIds[0]:void 0,canEditVisually=(0,use_select.Z)((select=>!!clientId&&"html"===select(store).getBlockMode(clientId)),[clientId]),{toggleBlockMode:toggleBlockMode}=(0,use_dispatch.Z)(store);return canEditVisually?(0,react.createElement)(toolbar_group.Z,null,(0,react.createElement)(toolbar_button.Z,{onClick:()=>{toggleBlockMode(clientId)}},(0,i18n_build_module.__)("Edit visually"))):null}BlockEditVisuallyButton.__docgenInfo={description:"",methods:[],displayName:"BlockEditVisuallyButton"};var block_name_context=(0,react.createContext)("");const BlockToolbar=({hideDragHandle:hideDragHandle})=>{const{blockClientIds:blockClientIds,blockType:blockType,isValid:isValid,isVisual:isVisual,blockEditingMode:blockEditingMode}=(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockMode:getBlockMode,getSelectedBlockClientIds:getSelectedBlockClientIds,isBlockValid:isBlockValid,getBlockRootClientId:getBlockRootClientId,getBlockEditingMode:getBlockEditingMode}=select(store),selectedBlockClientIds=getSelectedBlockClientIds(),selectedBlockClientId=selectedBlockClientIds[0],blockRootClientId=getBlockRootClientId(selectedBlockClientId);return{blockClientIds:selectedBlockClientIds,blockType:selectedBlockClientId&&(0,build_module.ck)(getBlockName(selectedBlockClientId)),rootClientId:blockRootClientId,isValid:selectedBlockClientIds.every((id=>isBlockValid(id))),isVisual:selectedBlockClientIds.every((id=>"visual"===getBlockMode(id))),blockEditingMode:getBlockEditingMode(selectedBlockClientId)}}),[]),toolbarWrapperRef=(0,react.useRef)(null),nodeRef=(0,react.useRef)(),showHoveredOrFocusedGestures=useShowHoveredOrFocusedGestures({ref:nodeRef}),isLargeViewport=!(0,use_viewport_match.Z)("medium","<");if(blockType&&!(0,build_module.zb)(blockType,"__experimentalToolbar",!0))return null;if(0===blockClientIds.length)return null;const shouldShowVisualToolbar=isValid&&isVisual,isMultiToolbar=blockClientIds.length>1,isSynced=(0,build_module.vr)(blockType)||(0,build_module.zQ)(blockType),classes=classnames_default()("block-editor-block-toolbar",{"is-synced":isSynced});return(0,react.createElement)("div",{className:classes,ref:toolbarWrapperRef},!isMultiToolbar&&isLargeViewport&&"default"===blockEditingMode&&(0,react.createElement)(BlockParentSelector,null),(shouldShowVisualToolbar||isMultiToolbar)&&"default"===blockEditingMode&&(0,react.createElement)("div",{ref:nodeRef,...showHoveredOrFocusedGestures},(0,react.createElement)(toolbar_group.Z,{className:"block-editor-block-toolbar__block-controls"},(0,react.createElement)(block_switcher,{clientIds:blockClientIds}),!isMultiToolbar&&(0,react.createElement)(BlockLockToolbar,{clientId:blockClientIds[0],wrapperRef:toolbarWrapperRef}),(0,react.createElement)(block_mover,{clientIds:blockClientIds,hideDragHandle:hideDragHandle}))),shouldShowVisualToolbar&&isMultiToolbar&&(0,react.createElement)(convert_to_group_buttons_toolbar,null),shouldShowVisualToolbar&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(block_controls.Slot,{group:"parent",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{group:"block",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{group:"inline",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_controls.Slot,{group:"other",className:"block-editor-block-toolbar__slot"}),(0,react.createElement)(block_name_context.Provider,{value:blockType?.name},(0,react.createElement)(block_toolbar_last_item.Slot,null))),(0,react.createElement)(BlockEditVisuallyButton,{clientIds:blockClientIds}),"default"===blockEditingMode&&(0,react.createElement)(block_settings_menu,{clientIds:blockClientIds}))};BlockToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockToolbar"};var block_toolbar=BlockToolbar;function useHasBlockControls(group="default"){const Slot=block_controls_groups[group]?.Slot,fills=(0,use_slot_fills.Z)(Slot?.__unstableName);return Slot?!!fills?.length:("undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&"undefined"!=typeof SCRIPT_DEBUG&&!0===SCRIPT_DEBUG&&(0,warning_build_module.Z)(`Unknown BlockControls group "${group}" provided.`),null)}function BlockContextualToolbar({focusOnMount:focusOnMount,isFixed:isFixed,...props}){const{blockType:blockType,blockEditingMode:blockEditingMode,hasParents:hasParents,showParentSelector:showParentSelector,selectedBlockClientId:selectedBlockClientId}=(0,use_select.Z)((select=>{const{getBlockName:getBlockName,getBlockParents:getBlockParents,getSelectedBlockClientIds:getSelectedBlockClientIds,getBlockEditingMode:getBlockEditingMode}=select(store),{getBlockType:getBlockType}=select(build_module.h),selectedBlockClientIds=getSelectedBlockClientIds(),_selectedBlockClientId=selectedBlockClientIds[0],parents=getBlockParents(_selectedBlockClientId),firstParentClientId=parents[parents.length-1],parentBlockType=getBlockType(getBlockName(firstParentClientId));return{selectedBlockClientId:_selectedBlockClientId,blockType:_selectedBlockClientId&&getBlockType(getBlockName(_selectedBlockClientId)),blockEditingMode:getBlockEditingMode(_selectedBlockClientId),hasParents:parents.length,showParentSelector:parentBlockType&&"default"===getBlockEditingMode(firstParentClientId)&&(0,build_module.zb)(parentBlockType,"__experimentalParentSelector",!0)&&selectedBlockClientIds.length<=1&&"default"===getBlockEditingMode(_selectedBlockClientId)}}),[]),isToolbarEnabled=blockType&&(0,build_module.zb)(blockType,"__experimentalToolbar",!0),hasAnyBlockControls=function useHasAnyBlockControls(){let hasAnyBlockControls=!1;for(const group in block_controls_groups)useHasBlockControls(group)&&(hasAnyBlockControls=!0);return hasAnyBlockControls}();if(!isToolbarEnabled||"default"!==blockEditingMode&&!hasAnyBlockControls)return null;const classes=classnames_default()("block-editor-block-contextual-toolbar",{"has-parent":hasParents&&showParentSelector,"is-fixed":isFixed});return(0,react.createElement)(NavigableToolbar,{focusOnMount:focusOnMount,focusEditorOnEscape:!0,className:classes,"aria-label":(0,i18n_build_module.__)("Block tools"),variant:isFixed?"unstyled":void 0,key:selectedBlockClientId,...props},(0,react.createElement)(block_toolbar,{hideDragHandle:isFixed}))}function useShouldContextualToolbarShow(){const isLargeViewport=(0,use_viewport_match.Z)("medium"),{shouldShowContextualToolbar:shouldShowContextualToolbar,canFocusHiddenToolbar:canFocusHiddenToolbar,fixedToolbarCanBeFocused:fixedToolbarCanBeFocused}=(0,use_select.Z)((select=>{const{__unstableGetEditorMode:__unstableGetEditorMode,isMultiSelecting:isMultiSelecting,isTyping:isTyping,isBlockInterfaceHidden:isBlockInterfaceHidden,getBlock:getBlock,getSettings:getSettings,isNavigationMode:isNavigationMode,getSelectedBlockClientId:getSelectedBlockClientId,getFirstMultiSelectedBlockClientId:getFirstMultiSelectedBlockClientId}=unlock(select(store)),isEditMode="edit"===__unstableGetEditorMode(),hasFixedToolbar=getSettings().hasFixedToolbar,isDistractionFree=getSettings().isDistractionFree,selectedBlockId=getFirstMultiSelectedBlockClientId()||getSelectedBlockClientId(),hasSelectedBlockId=!!selectedBlockId,isEmptyDefaultBlock=(0,build_module.ZP)(getBlock(selectedBlockId)||{}),_shouldShowContextualToolbar=isEditMode&&!hasFixedToolbar&&(!isDistractionFree||isNavigationMode())&&isLargeViewport&&!isMultiSelecting()&&!isTyping()&&hasSelectedBlockId&&!isEmptyDefaultBlock&&!isBlockInterfaceHidden();return{shouldShowContextualToolbar:_shouldShowContextualToolbar,canFocusHiddenToolbar:isEditMode&&hasSelectedBlockId&&!_shouldShowContextualToolbar&&!hasFixedToolbar&&!isDistractionFree&&!isEmptyDefaultBlock,fixedToolbarCanBeFocused:(hasFixedToolbar||!isLargeViewport)&&selectedBlockId}}),[isLargeViewport]);return{shouldShowContextualToolbar:shouldShowContextualToolbar,canFocusHiddenToolbar:canFocusHiddenToolbar,fixedToolbarCanBeFocused:fixedToolbarCanBeFocused}}function SelectedBlockTools({clientId:clientId,showEmptyBlockSideInserter:showEmptyBlockSideInserter,__unstableContentRef:__unstableContentRef}){const{capturingClientId:capturingClientId,isInsertionPointVisible:isInsertionPointVisible,lastClientId:lastClientId,rootClientId:rootClientId}=useSelectedBlockToolProps(clientId),{shouldShowBreadcrumb:shouldShowBreadcrumb}=(0,use_select.Z)((select=>{const{hasMultiSelection:hasMultiSelection,__unstableGetEditorMode:__unstableGetEditorMode}=select(store),editorMode=__unstableGetEditorMode();return{shouldShowBreadcrumb:!hasMultiSelection()&&("navigation"===editorMode||"zoom-out"===editorMode)}}),[]),isToolbarForced=(0,react.useRef)(!1),{shouldShowContextualToolbar:shouldShowContextualToolbar,canFocusHiddenToolbar:canFocusHiddenToolbar}=useShouldContextualToolbarShow(),{stopTyping:stopTyping}=(0,use_dispatch.Z)(store);(0,keyboard_shortcuts_build_module.bx)("core/block-editor/focus-toolbar",(()=>{isToolbarForced.current=!0,stopTyping(!0)}),{isDisabled:!canFocusHiddenToolbar}),(0,react.useEffect)((()=>{isToolbarForced.current=!1}));const initialToolbarItemIndexRef=(0,react.useRef)();(0,react.useEffect)((()=>{initialToolbarItemIndexRef.current=void 0}),[clientId]);const popoverProps=useBlockToolbarPopoverProps({contentElement:__unstableContentRef?.current,clientId:clientId});return showEmptyBlockSideInserter?null:shouldShowBreadcrumb||shouldShowContextualToolbar?(0,react.createElement)(block_popover,{clientId:capturingClientId||clientId,bottomClientId:lastClientId,className:classnames_default()("block-editor-block-list__block-popover",{"is-insertion-point-visible":isInsertionPointVisible}),resize:!1,...popoverProps},shouldShowContextualToolbar&&(0,react.createElement)(BlockContextualToolbar,{focusOnMount:isToolbarForced.current,__experimentalInitialIndex:initialToolbarItemIndexRef.current,__experimentalOnIndexChange:index=>{initialToolbarItemIndexRef.current=index}}),shouldShowBreadcrumb&&(0,react.createElement)(block_selection_button,{clientId:clientId,rootClientId:rootClientId})):null}BlockContextualToolbar.__docgenInfo={description:"",methods:[],displayName:"BlockContextualToolbar"},SelectedBlockTools.__docgenInfo={description:"",methods:[],displayName:"SelectedBlockTools"};var zoom_out_mode_inserters=function ZoomOutModeInserters({__unstableContentRef:__unstableContentRef}){const[isReady,setIsReady]=(0,react.useState)(!1),blockOrder=(0,use_select.Z)((select=>select(store).getBlockOrder()),[]);return(0,react.useEffect)((()=>{const timeout=setTimeout((()=>{setIsReady(!0)}),500);return()=>{clearTimeout(timeout)}}),[]),isReady?blockOrder.map(((clientId,index)=>index===blockOrder.length-1?null:(0,react.createElement)(inbetween,{key:clientId,previousClientId:clientId,nextClientId:blockOrder[index+1],__unstableContentRef:__unstableContentRef},(0,react.createElement)("div",{className:"block-editor-block-list__insertion-point-inserter is-with-inserter"},(0,react.createElement)(inserter,{position:"bottom center",clientId:blockOrder[index+1],__experimentalIsQuick:!0}))))):null};function block_tools_selector(select){const{getSelectedBlockClientId:getSelectedBlockClientId,getFirstMultiSelectedBlockClientId:getFirstMultiSelectedBlockClientId,getBlock:getBlock,getSettings:getSettings,__unstableGetEditorMode:__unstableGetEditorMode,isTyping:isTyping}=select(store),clientId=getSelectedBlockClientId()||getFirstMultiSelectedBlockClientId(),{name:name="",attributes:attributes={}}=getBlock(clientId)||{};return{clientId:clientId,hasFixedToolbar:getSettings().hasFixedToolbar,hasSelectedBlock:clientId&&name,isTyping:isTyping(),isZoomOutMode:"zoom-out"===__unstableGetEditorMode(),showEmptyBlockSideInserter:clientId&&!isTyping()&&"edit"===__unstableGetEditorMode()&&(0,build_module.ZP)({name:name,attributes:attributes})}}function BlockTools({children:children,__unstableContentRef:__unstableContentRef,...props}){const isLargeViewport=(0,use_viewport_match.Z)("medium"),{clientId:clientId,hasFixedToolbar:hasFixedToolbar,hasSelectedBlock:hasSelectedBlock,isTyping:isTyping,isZoomOutMode:isZoomOutMode,showEmptyBlockSideInserter:showEmptyBlockSideInserter}=(0,use_select.Z)(block_tools_selector,[]),isMatch=(0,keyboard_shortcuts_build_module.sx)(),{getSelectedBlockClientIds:getSelectedBlockClientIds,getBlockRootClientId:getBlockRootClientId}=(0,use_select.Z)(store),{duplicateBlocks:duplicateBlocks,removeBlocks:removeBlocks,insertAfterBlock:insertAfterBlock,insertBeforeBlock:insertBeforeBlock,clearSelectedBlock:clearSelectedBlock,selectBlock:selectBlock,moveBlocksUp:moveBlocksUp,moveBlocksDown:moveBlocksDown}=(0,use_dispatch.Z)(store);const blockToolbarRef=use_popover_scroll(__unstableContentRef),blockToolbarAfterRef=use_popover_scroll(__unstableContentRef),isTopToolbar=!isZoomOutMode&&hasFixedToolbar&&isLargeViewport;return(0,react.createElement)("div",{...props,onKeyDown:function onKeyDown(event){if(!event.defaultPrevented)if(isMatch("core/block-editor/move-up",event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);moveBlocksUp(clientIds,rootClientId)}}else if(isMatch("core/block-editor/move-down",event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);moveBlocksDown(clientIds,rootClientId)}}else if(isMatch("core/block-editor/duplicate",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),duplicateBlocks(clientIds))}else if(isMatch("core/block-editor/remove",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),removeBlocks(clientIds))}else if(isMatch("core/block-editor/insert-after",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),insertAfterBlock(clientIds[clientIds.length-1]))}else if(isMatch("core/block-editor/insert-before",event)){const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),insertBeforeBlock(clientIds[0]))}else if(isMatch("core/block-editor/unselect",event)){if(event.target.closest("[role=toolbar]"))return;const clientIds=getSelectedBlockClientIds();clientIds.length&&(event.preventDefault(),clientIds.length>1?selectBlock(clientIds[0]):clearSelectedBlock(),event.target.ownerDocument.defaultView.getSelection().removeAllRanges(),__unstableContentRef?.current.focus())}}},(0,react.createElement)(insertion_point_InsertionPointOpenRef.Provider,{value:(0,react.useRef)(!1)},!isTyping&&(0,react.createElement)(InsertionPoint,{__unstableContentRef:__unstableContentRef}),!isLargeViewport&&(0,react.createElement)(BlockContextualToolbar,{isFixed:!0}),showEmptyBlockSideInserter&&(0,react.createElement)(EmptyBlockInserter,{__unstableContentRef:__unstableContentRef,clientId:clientId}),!showEmptyBlockSideInserter&&hasSelectedBlock&&(0,react.createElement)(SelectedBlockTools,{__unstableContentRef:__unstableContentRef,clientId:clientId}),!isTopToolbar&&(0,react.createElement)(popover.ZP.Slot,{name:"block-toolbar",ref:blockToolbarRef}),children,(0,react.createElement)(popover.ZP.Slot,{name:"__unstable-block-tools-after",ref:blockToolbarAfterRef}),isZoomOutMode&&(0,react.createElement)(zoom_out_mode_inserters,{__unstableContentRef:__unstableContentRef})))}BlockTools.__docgenInfo={description:"Renders block tools (the block toolbar, select/navigation mode toolbar, the\ninsertion point and a slot for the inline rich text toolbar). Must be wrapped\naround the block content and editor styles wrapper or iframe.\n\n@param {Object} $0                      Props.\n@param {Object} $0.children             The block content and style container.\n@param {Object} $0.__unstableContentRef Ref holding the content scroll container.",methods:[],displayName:"BlockTools"};const RenderedRefsContext=(0,react.createContext)({});function RecursionProvider({children:children,uniqueId:uniqueId,blockName:blockName=""}){const previouslyRenderedBlocks=(0,react.useContext)(RenderedRefsContext),{name:name}=useBlockEditContext();blockName=blockName||name;const newRenderedBlocks=(0,react.useMemo)((()=>function addToBlockType(renderedBlocks,blockName,uniqueId){const result={...renderedBlocks,[blockName]:renderedBlocks[blockName]?new Set(renderedBlocks[blockName]):new Set};return result[blockName].add(uniqueId),result}(previouslyRenderedBlocks,blockName,uniqueId)),[previouslyRenderedBlocks,blockName,uniqueId]);return(0,react.createElement)(RenderedRefsContext.Provider,{value:newRenderedBlocks},children)}function useHasRecursion(uniqueId,blockName=""){const previouslyRenderedBlocks=(0,react.useContext)(RenderedRefsContext),{name:name}=useBlockEditContext();return blockName=blockName||name,Boolean(previouslyRenderedBlocks[blockName]?.has(uniqueId))}RecursionProvider.__docgenInfo={description:"A React context provider for use with the `useHasRecursion` hook to prevent recursive\nrenders.\n\nWrap block content with this provider and provide the same `uniqueId` prop as used\nwith `useHasRecursion`.\n\n@param {Object}      props\n@param {*}           props.uniqueId  Any value that acts as a unique identifier for a block instance.\n@param {string}      props.blockName Optional block name.\n@param {JSX.Element} props.children  React children.\n\n@return {JSX.Element} A React element.",methods:[],displayName:"RecursionProvider",props:{blockName:{defaultValue:{value:"''",computed:!1},required:!1}}};var index_es=__webpack_require__("./node_modules/use-lilius/build/index.es.js"),startOfDay=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),subMonths=__webpack_require__("./node_modules/date-fns/esm/subMonths/index.js"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),addMonths=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),isSameMonth=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),isEqual=__webpack_require__("./node_modules/date-fns/esm/isEqual/index.js"),isSameDay=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),addDays=__webpack_require__("./node_modules/date-fns/esm/addDays/index.js"),subWeeks=__webpack_require__("./node_modules/date-fns/esm/subWeeks/index.js"),addWeeks=__webpack_require__("./node_modules/date-fns/esm/addWeeks/index.js"),startOfWeek=__webpack_require__("./node_modules/date-fns/esm/startOfWeek/index.js"),endOfWeek=__webpack_require__("./node_modules/date-fns/esm/endOfWeek/index.js"),arrow_left=__webpack_require__("./packages/icons/build-module/library/arrow-left.js");const styles_Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e105ri6r5"})({name:"1khn195",styles:"box-sizing:border-box"}),Navigator=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"e105ri6r4"})("margin-bottom:",(0,space.D)(4),";"),NavigatorHeading=(0,emotion_styled_base_browser_esm.Z)(heading_component.Z,{target:"e105ri6r3"})("font-size:",config_values.Z.fontSize,";font-weight:",config_values.Z.fontWeight,";strong{font-weight:",config_values.Z.fontWeightHeading,";}"),Calendar=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e105ri6r2"})("column-gap:",(0,space.D)(2),";display:grid;grid-template-columns:0.5fr repeat( 5, 1fr ) 0.5fr;justify-items:center;row-gap:",(0,space.D)(2),";"),DayOfWeek=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e105ri6r1"})("color:",colors_values.D.gray[700],";font-size:",config_values.Z.fontSize,";line-height:",config_values.Z.fontLineHeightBase,";&:nth-of-type( 1 ){justify-self:start;}&:nth-of-type( 7 ){justify-self:end;}"),DayButton=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{shouldForwardProp:prop=>!["column","isSelected","isToday","hasEvents"].includes(prop),target:"e105ri6r0"})("grid-column:",(props=>props.column),";position:relative;justify-content:center;",(props=>1===props.column&&"\n\t\tjustify-self: start;\n\t\t")," ",(props=>7===props.column&&"\n\t\tjustify-self: end;\n\t\t")," ",(props=>props.disabled&&"\n\t\tpointer-events: none;\n\t\t")," &&&{border-radius:100%;height:",(0,space.D)(7),";width:",(0,space.D)(7),";",(props=>props.isSelected&&`\n\t\t\tbackground: ${colors_values.D.theme.accent};\n\t\t\tcolor: ${colors_values.D.white};\n\t\t\t`)," ",(props=>!props.isSelected&&props.isToday&&`\n\t\t\tbackground: ${colors_values.D.gray[200]};\n\t\t\t`),";}",(props=>props.hasEvents&&`\n\t\t::before {\n\t\t\tbackground: ${props.isSelected?colors_values.D.white:colors_values.D.theme.accent};\n\t\t\tborder-radius: 2px;\n\t\t\tbottom: 0;\n\t\t\tcontent: " ";\n\t\t\theight: 4px;\n\t\t\tleft: 50%;\n\t\t\tmargin-left: -2px;\n\t\t\tposition: absolute;\n\t\t\twidth: 4px;\n\t\t}\n\t\t`),";");var toDate=__webpack_require__("./node_modules/date-fns/esm/toDate/index.js");function inputToDate(input){return"string"==typeof input?new Date(input):(0,toDate.Z)(input)}function DatePicker({currentDate:currentDate,onChange:onChange,events:events=[],isInvalidDate:isInvalidDate,onMonthPreviewed:onMonthPreviewed,startOfWeek:weekStartsOn=0}){const date=currentDate?inputToDate(currentDate):new Date,{calendar:calendar,viewing:viewing,setSelected:setSelected,setViewing:setViewing,isSelected:isSelected,viewPreviousMonth:viewPreviousMonth,viewNextMonth:viewNextMonth}=(0,index_es.YA)({selected:[(0,startOfDay.Z)(date)],viewing:(0,startOfDay.Z)(date),weekStartsOn:weekStartsOn}),[focusable,setFocusable]=(0,react.useState)((0,startOfDay.Z)(date)),[isFocusWithinCalendar,setIsFocusWithinCalendar]=(0,react.useState)(!1),[prevCurrentDate,setPrevCurrentDate]=(0,react.useState)(currentDate);return currentDate!==prevCurrentDate&&(setPrevCurrentDate(currentDate),setSelected([(0,startOfDay.Z)(date)]),setViewing((0,startOfDay.Z)(date)),setFocusable((0,startOfDay.Z)(date))),(0,react.createElement)(styles_Wrapper,{className:"components-datetime__date",role:"application","aria-label":(0,i18n_build_module.__)("Calendar")},(0,react.createElement)(Navigator,null,(0,react.createElement)(build_module_button.ZP,{icon:(0,i18n_build_module.dZ)()?arrow_right.Z:arrow_left.Z,variant:"tertiary","aria-label":(0,i18n_build_module.__)("View previous month"),onClick:()=>{viewPreviousMonth(),setFocusable((0,subMonths.Z)(focusable,1)),onMonthPreviewed?.((0,format.Z)((0,subMonths.Z)(viewing,1),"yyyy-MM-dd'T'HH:mm:ss"))}}),(0,react.createElement)(NavigatorHeading,{level:3},(0,react.createElement)("strong",null,(0,date_build_module.K_)("F",viewing,-viewing.getTimezoneOffset()))," ",(0,date_build_module.K_)("Y",viewing,-viewing.getTimezoneOffset())),(0,react.createElement)(build_module_button.ZP,{icon:(0,i18n_build_module.dZ)()?arrow_left.Z:arrow_right.Z,variant:"tertiary","aria-label":(0,i18n_build_module.__)("View next month"),onClick:()=>{viewNextMonth(),setFocusable((0,addMonths.Z)(focusable,1)),onMonthPreviewed?.((0,format.Z)((0,addMonths.Z)(viewing,1),"yyyy-MM-dd'T'HH:mm:ss"))}})),(0,react.createElement)(Calendar,{onFocus:()=>setIsFocusWithinCalendar(!0),onBlur:()=>setIsFocusWithinCalendar(!1)},calendar[0][0].map((day=>(0,react.createElement)(DayOfWeek,{key:day.toString()},(0,date_build_module.K_)("D",day,-day.getTimezoneOffset())))),calendar[0].map((week=>week.map(((day,index)=>(0,isSameMonth.Z)(day,viewing)?(0,react.createElement)(Day,{key:day.toString(),day:day,column:index+1,isSelected:isSelected(day),isFocusable:(0,isEqual.Z)(day,focusable),isFocusAllowed:isFocusWithinCalendar,isToday:(0,isSameDay.Z)(day,new Date),isInvalid:!!isInvalidDate&&isInvalidDate(day),numEvents:events.filter((event=>(0,isSameDay.Z)(event.date,day))).length,onClick:()=>{setSelected([day]),setFocusable(day),onChange?.((0,format.Z)(new Date(day.getFullYear(),day.getMonth(),day.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()),"yyyy-MM-dd'T'HH:mm:ss"))},onKeyDown:event=>{let nextFocusable;"ArrowLeft"===event.key&&(nextFocusable=(0,addDays.Z)(day,(0,i18n_build_module.dZ)()?1:-1)),"ArrowRight"===event.key&&(nextFocusable=(0,addDays.Z)(day,(0,i18n_build_module.dZ)()?-1:1)),"ArrowUp"===event.key&&(nextFocusable=(0,subWeeks.Z)(day,1)),"ArrowDown"===event.key&&(nextFocusable=(0,addWeeks.Z)(day,1)),"PageUp"===event.key&&(nextFocusable=(0,subMonths.Z)(day,1)),"PageDown"===event.key&&(nextFocusable=(0,addMonths.Z)(day,1)),"Home"===event.key&&(nextFocusable=(0,startOfWeek.Z)(day)),"End"===event.key&&(nextFocusable=(0,startOfDay.Z)((0,endOfWeek.Z)(day))),nextFocusable&&(event.preventDefault(),setFocusable(nextFocusable),(0,isSameMonth.Z)(nextFocusable,viewing)||(setViewing(nextFocusable),onMonthPreviewed?.((0,format.Z)(nextFocusable,"yyyy-MM-dd'T'HH:mm:ss"))))}}):null))))))}function Day({day:day,column:column,isSelected:isSelected,isFocusable:isFocusable,isFocusAllowed:isFocusAllowed,isToday:isToday,isInvalid:isInvalid,numEvents:numEvents,onClick:onClick,onKeyDown:onKeyDown}){const ref=(0,react.useRef)();return(0,react.useEffect)((()=>{ref.current&&isFocusable&&isFocusAllowed&&ref.current.focus()}),[isFocusable]),(0,react.createElement)(DayButton,{ref:ref,className:"components-datetime__date__day",disabled:isInvalid,tabIndex:isFocusable?0:-1,"aria-label":getDayLabel(day,isSelected,numEvents),column:column,isSelected:isSelected,isToday:isToday,hasEvents:numEvents>0,onClick:onClick,onKeyDown:onKeyDown},(0,date_build_module.K_)("j",day,-day.getTimezoneOffset()))}function getDayLabel(date,isSelected,numEvents){const{formats:formats}=(0,date_build_module.Gw)(),localizedDate=(0,date_build_module.K_)(formats.date,date,-date.getTimezoneOffset());return isSelected&&numEvents>0?(0,i18n_build_module.gB)((0,i18n_build_module._n)("%1$s. Selected. There is %2$d event","%1$s. Selected. There are %2$d events",numEvents),localizedDate,numEvents):isSelected?(0,i18n_build_module.gB)((0,i18n_build_module.__)("%1$s. Selected"),localizedDate):numEvents>0?(0,i18n_build_module.gB)((0,i18n_build_module._n)("%1$s. There is %2$d event","%1$s. There are %2$d events",numEvents),localizedDate,numEvents):localizedDate}DatePicker.__docgenInfo={description:"DatePicker is a React component that renders a calendar for date selection.\n\n```jsx\nimport { DatePicker } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst MyDatePicker = () => {\n  const [ date, setDate ] = useState( new Date() );\n\n  return (\n    <DatePicker\n      currentDate={ date }\n      onChange={ ( newDate ) => setDate( newDate ) }\n    />\n  );\n};\n```",methods:[],displayName:"DatePicker",props:{events:{defaultValue:{value:"[]",computed:!1},required:!1},startOfWeek:{defaultValue:{value:"0",computed:!1},required:!1}}};var date=DatePicker,startOfMinute=__webpack_require__("./node_modules/date-fns/esm/startOfMinute/index.js"),set=__webpack_require__("./node_modules/date-fns/esm/set/index.js"),setHours=__webpack_require__("./node_modules/date-fns/esm/setHours/index.js"),setMonth=__webpack_require__("./node_modules/date-fns/esm/setMonth/index.js"),input_control_styles=__webpack_require__("./packages/components/build-module/input-control/styles/input-control-styles.js");const time_styles_Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2319"})("box-sizing:border-box;font-size:",config_values.Z.fontSize,";"),Fieldset=(0,emotion_styled_base_browser_esm.Z)("fieldset",{target:"evcr2318"})("border:0;margin:0 0 ",(0,space.D)(4)," 0;padding:0;&:last-child{margin-bottom:0;}"),TimeWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2317"})({name:"pd0mhc",styles:"direction:ltr;display:flex"}),baseInput=(0,emotion_react_browser_esm.iv)("&&& ",input_control_styles.II,"{padding-left:",(0,space.D)(2),";padding-right:",(0,space.D)(2),";text-align:center;}","","",""),HoursInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2316"})(baseInput," width:",(0,space.D)(9),";&&& ",input_control_styles.II,"{padding-right:0;}&&& ",input_control_styles.Kg,"{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0;}"),TimeSeparator=(0,emotion_styled_base_browser_esm.Z)("span",{target:"evcr2315"})("border-top:",config_values.Z.borderWidth," solid ",colors_values.D.gray[700],";border-bottom:",config_values.Z.borderWidth," solid ",colors_values.D.gray[700],";line-height:calc(\n\t\t",config_values.Z.controlHeight," - ",config_values.Z.borderWidth," * 2\n\t);display:inline-block;"),MinutesInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2314"})(baseInput," width:",(0,space.D)(9),";&&& ",input_control_styles.II,"{padding-left:0;}&&& ",input_control_styles.Kg,"{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0;}"),MonthSelectWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2313"})({name:"1ff36h2",styles:"flex-grow:1"}),DayInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2312"})(baseInput," width:",(0,space.D)(9),";"),YearInput=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"evcr2311"})(baseInput," width:",(0,space.D)(14),";"),TimeZone=(0,emotion_styled_base_browser_esm.Z)("div",{target:"evcr2310"})({name:"ebu3jh",styles:"text-decoration:underline dotted"}),timezone_TimeZone=()=>{const{timezone:timezone}=(0,date_build_module.Gw)(),userTimezoneOffset=(new Date).getTimezoneOffset()/60*-1;if(Number(timezone.offset)===userTimezoneOffset)return null;const offsetSymbol=Number(timezone.offset)>=0?"+":"",zoneAbbr=""!==timezone.abbr&&isNaN(Number(timezone.abbr))?timezone.abbr:`UTC${offsetSymbol}${timezone.offset}`,timezoneDetail="UTC"===timezone.string?(0,i18n_build_module.__)("Coordinated Universal Time"):`(${zoneAbbr}) ${timezone.string.replace("_"," ")}`;return(0,react.createElement)(tooltip.Z,{placement:"top",text:timezoneDetail},(0,react.createElement)(TimeZone,{className:"components-datetime__timezone"},zoneAbbr))};timezone_TimeZone.__docgenInfo={description:"Displays timezone information when user timezone is different from site\ntimezone.",methods:[],displayName:"TimeZone"};var timezone=timezone_TimeZone,actions=__webpack_require__("./packages/components/build-module/input-control/reducer/actions.js");function from12hTo24h(hours,isPm){return isPm?(hours%12+12)%24:hours%12}function buildPadInputStateReducer(pad){return(state,action)=>{const nextState={...state};return action.type!==actions.g&&action.type!==actions.Oh&&action.type!==actions.LX||void 0!==nextState.value&&(nextState.value=nextState.value.toString().padStart(pad,"0")),nextState}}function TimePicker({is12Hour:is12Hour,currentTime:currentTime,onChange:onChange}){const[date,setDate]=(0,react.useState)((()=>currentTime?(0,startOfMinute.Z)(inputToDate(currentTime)):new Date));(0,react.useEffect)((()=>{setDate(currentTime?(0,startOfMinute.Z)(inputToDate(currentTime)):new Date)}),[currentTime]);const{day:day,month:month,year:year,minutes:minutes,hours:hours,am:am}=(0,react.useMemo)((()=>({day:(0,format.Z)(date,"dd"),month:(0,format.Z)(date,"MM"),year:(0,format.Z)(date,"yyyy"),minutes:(0,format.Z)(date,"mm"),hours:(0,format.Z)(date,is12Hour?"hh":"HH"),am:(0,format.Z)(date,"a")})),[date,is12Hour]),buildNumberControlChangeCallback=method=>(value,{event:event})=>{var _ownerDocument$defaul;const HTMLInputElementInstance=null!==(_ownerDocument$defaul=event.target?.ownerDocument.defaultView?.HTMLInputElement)&&void 0!==_ownerDocument$defaul?_ownerDocument$defaul:HTMLInputElement;if(!(event.target instanceof HTMLInputElementInstance))return;if(!event.target.validity.valid)return;let numberValue=Number(value);"hours"===method&&is12Hour&&(numberValue=from12hTo24h(numberValue,"PM"===am));const newDate=(0,set.Z)(date,{[method]:numberValue});setDate(newDate),onChange?.((0,format.Z)(newDate,"yyyy-MM-dd'T'HH:mm:ss"))};function buildAmPmChangeCallback(value){return()=>{if(am===value)return;const parsedHours=parseInt(hours,10),newDate=(0,setHours.Z)(date,from12hTo24h(parsedHours,"PM"===value));setDate(newDate),onChange?.((0,format.Z)(newDate,"yyyy-MM-dd'T'HH:mm:ss"))}}const dayField=(0,react.createElement)(DayInput,{className:"components-datetime__time-field components-datetime__time-field-day",label:(0,i18n_build_module.__)("Day"),hideLabelFromVision:!0,__next40pxDefaultSize:!0,value:day,step:1,min:1,max:31,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("date")}),monthField=(0,react.createElement)(MonthSelectWrapper,null,(0,react.createElement)(select_control.Z,{className:"components-datetime__time-field components-datetime__time-field-month",label:(0,i18n_build_module.__)("Month"),hideLabelFromVision:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,value:month,options:[{value:"01",label:(0,i18n_build_module.__)("January")},{value:"02",label:(0,i18n_build_module.__)("February")},{value:"03",label:(0,i18n_build_module.__)("March")},{value:"04",label:(0,i18n_build_module.__)("April")},{value:"05",label:(0,i18n_build_module.__)("May")},{value:"06",label:(0,i18n_build_module.__)("June")},{value:"07",label:(0,i18n_build_module.__)("July")},{value:"08",label:(0,i18n_build_module.__)("August")},{value:"09",label:(0,i18n_build_module.__)("September")},{value:"10",label:(0,i18n_build_module.__)("October")},{value:"11",label:(0,i18n_build_module.__)("November")},{value:"12",label:(0,i18n_build_module.__)("December")}],onChange:value=>{const newDate=(0,setMonth.Z)(date,Number(value)-1);setDate(newDate),onChange?.((0,format.Z)(newDate,"yyyy-MM-dd'T'HH:mm:ss"))}}));return(0,react.createElement)(time_styles_Wrapper,{className:"components-datetime__time"},(0,react.createElement)(Fieldset,null,(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend",className:"components-datetime__time-legend"},(0,i18n_build_module.__)("Time")),(0,react.createElement)(h_stack_component.Z,{className:"components-datetime__time-wrapper"},(0,react.createElement)(TimeWrapper,{className:"components-datetime__time-field components-datetime__time-field-time"},(0,react.createElement)(HoursInput,{className:"components-datetime__time-field-hours-input",label:(0,i18n_build_module.__)("Hours"),hideLabelFromVision:!0,__next40pxDefaultSize:!0,value:hours,step:1,min:is12Hour?1:0,max:is12Hour?12:23,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("hours"),__unstableStateReducer:buildPadInputStateReducer(2)}),(0,react.createElement)(TimeSeparator,{className:"components-datetime__time-separator","aria-hidden":"true"},":"),(0,react.createElement)(MinutesInput,{className:"components-datetime__time-field-minutes-input",label:(0,i18n_build_module.__)("Minutes"),hideLabelFromVision:!0,__next40pxDefaultSize:!0,value:minutes,step:1,min:0,max:59,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("minutes"),__unstableStateReducer:buildPadInputStateReducer(2)})),is12Hour&&(0,react.createElement)(button_group.Z,{className:"components-datetime__time-field components-datetime__time-field-am-pm"},(0,react.createElement)(build_module_button.ZP,{className:"components-datetime__time-am-button",variant:"AM"===am?"primary":"secondary",__next40pxDefaultSize:!0,onClick:buildAmPmChangeCallback("AM")},(0,i18n_build_module.__)("AM")),(0,react.createElement)(build_module_button.ZP,{className:"components-datetime__time-pm-button",variant:"PM"===am?"primary":"secondary",__next40pxDefaultSize:!0,onClick:buildAmPmChangeCallback("PM")},(0,i18n_build_module.__)("PM"))),(0,react.createElement)(spacer_component.Z,null),(0,react.createElement)(timezone,null))),(0,react.createElement)(Fieldset,null,(0,react.createElement)(base_control.ZP.VisualLabel,{as:"legend",className:"components-datetime__time-legend"},(0,i18n_build_module.__)("Date")),(0,react.createElement)(h_stack_component.Z,{className:"components-datetime__time-wrapper"},is12Hour?(0,react.createElement)(react.Fragment,null,monthField,dayField):(0,react.createElement)(react.Fragment,null,dayField,monthField),(0,react.createElement)(YearInput,{className:"components-datetime__time-field components-datetime__time-field-year",label:(0,i18n_build_module.__)("Year"),hideLabelFromVision:!0,__next40pxDefaultSize:!0,value:year,step:1,min:1,max:9999,required:!0,spinControls:"none",isPressEnterToChange:!0,isDragEnabled:!1,isShiftStepEnabled:!1,onChange:buildNumberControlChangeCallback("year"),__unstableStateReducer:buildPadInputStateReducer(4)}))))}TimePicker.__docgenInfo={description:"TimePicker is a React component that renders a clock for time selection.\n\n```jsx\nimport { TimePicker } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst MyTimePicker = () => {\n  const [ time, setTime ] = useState( new Date() );\n\n  return (\n    <TimePicker\n      currentTime={ date }\n      onChange={ ( newTime ) => setTime( newTime ) }\n      is12Hour\n    />\n  );\n};\n```",methods:[],displayName:"TimePicker"};var time=TimePicker;const date_time_styles_Wrapper=(0,emotion_styled_base_browser_esm.Z)(v_stack_component.Z,{target:"e1p5onf00"})({name:"1khn195",styles:"box-sizing:border-box"}),date_time_noop=()=>{};function UnforwardedDateTimePicker({currentDate:currentDate,is12Hour:is12Hour,isInvalidDate:isInvalidDate,onMonthPreviewed:onMonthPreviewed=date_time_noop,onChange:onChange,events:events,startOfWeek:startOfWeek},ref){return(0,react.createElement)(date_time_styles_Wrapper,{ref:ref,className:"components-datetime",spacing:4},(0,react.createElement)(react.Fragment,null,(0,react.createElement)(time,{currentTime:currentDate,onChange:onChange,is12Hour:is12Hour}),(0,react.createElement)(date,{currentDate:currentDate,onChange:onChange,isInvalidDate:isInvalidDate,events:events,onMonthPreviewed:onMonthPreviewed,startOfWeek:startOfWeek})))}var date_time=(0,react.forwardRef)(UnforwardedDateTimePicker);UnforwardedDateTimePicker.__docgenInfo={description:"",methods:[],displayName:"UnforwardedDateTimePicker",props:{onMonthPreviewed:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var build_module_date_time=date_time;function InspectorPopoverHeader({title:title,help:help,actions:actions=[],onClose:onClose}){return(0,react.createElement)(v_stack_component.Z,{className:"block-editor-inspector-popover-header",spacing:4},(0,react.createElement)(h_stack_component.Z,{alignment:"center"},(0,react.createElement)(heading_component.Z,{className:"block-editor-inspector-popover-header__heading",level:2,size:13},title),(0,react.createElement)(spacer_component.Z,null),actions.map((({label:label,icon:icon,onClick:onClick})=>(0,react.createElement)(build_module_button.ZP,{key:label,className:"block-editor-inspector-popover-header__action",label:label,icon:icon,variant:!icon&&"tertiary",onClick:onClick},!icon&&label))),onClose&&(0,react.createElement)(build_module_button.ZP,{className:"block-editor-inspector-popover-header__action",label:(0,i18n_build_module.__)("Close"),icon:close_small.Z,onClick:onClose})),help&&(0,react.createElement)(text_component.Z,null,help))}function PublishDateTimePicker({onClose:onClose,onChange:onChange,...additionalProps},ref){return(0,react.createElement)("div",{ref:ref,className:"block-editor-publish-date-time-picker"},(0,react.createElement)(InspectorPopoverHeader,{title:(0,i18n_build_module.__)("Publish"),actions:[{label:(0,i18n_build_module.__)("Now"),onClick:()=>onChange?.(null)}],onClose:onClose}),(0,react.createElement)(build_module_date_time,{startOfWeek:(0,date_build_module.Gw)().l10n.startOfWeek,onChange:onChange,...additionalProps}))}InspectorPopoverHeader.__docgenInfo={description:"",methods:[],displayName:"InspectorPopoverHeader",props:{actions:{defaultValue:{value:"[]",computed:!1},required:!1}}},PublishDateTimePicker.__docgenInfo={description:"",methods:[],displayName:"PublishDateTimePicker"};var publish_date_time_picker=(0,react.forwardRef)(PublishDateTimePicker);const ELEMENT_CLASS_NAMES={button:"wp-element-button",caption:"wp-element-caption"},__experimentalGetElementClassName=element=>ELEMENT_CLASS_NAMES[element]?ELEMENT_CLASS_NAMES[element]:"";function matchesAttributes(blockAttributes,variation){return Object.entries(variation).every((([key,value])=>"object"==typeof value&&"object"==typeof blockAttributes[key]?matchesAttributes(blockAttributes[key],value):blockAttributes[key]===value))}const __experimentalGetMatchingVariation=(blockAttributes,variations)=>{if(!variations||!blockAttributes)return;const matches=variations.filter((({attributes:attributes})=>!(!attributes||!Object.keys(attributes).length)&&matchesAttributes(blockAttributes,attributes)));return 1===matches.length?matches[0]:void 0},BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS={__experimentalBorder:"border",color:"color",spacing:"spacing",typography:"typography"};function compileStyleValue(uncompiledValue){if(uncompiledValue?.startsWith?.("var:")){return`var(--wp--${uncompiledValue.slice(4).split("|").join("--")})`}return uncompiledValue}function flattenTree(input={},prefix,token){let result=[];return Object.keys(input).forEach((key=>{const newKey=prefix+kebabCase(key.replace("/","-")),newLeaf=input[key];if(newLeaf instanceof Object){const newPrefix=newKey+token;result=[...result,...flattenTree(newLeaf,newPrefix,token)]}else result.push(`${newKey}: ${newLeaf}`)})),result}const getFeatureDeclarations=(selectors,styles)=>{const declarations={};return Object.entries(selectors).forEach((([feature,selector])=>{if("root"===feature||!styles?.[feature])return;const isShorthand="string"==typeof selector;if(isShorthand||Object.entries(selector).forEach((([subfeature,subfeatureSelector])=>{if("root"===subfeature||!styles?.[feature][subfeature])return;const newDeclarations=getStylesDeclarations({[feature]:{[subfeature]:styles[feature][subfeature]}});declarations[subfeatureSelector]=[...declarations[subfeatureSelector]||[],...newDeclarations],delete styles[feature][subfeature]})),isShorthand||selector.root){const featureSelector=isShorthand?selector:selector.root,newDeclarations=getStylesDeclarations({[feature]:styles[feature]});declarations[featureSelector]=[...declarations[featureSelector]||[],...newDeclarations],delete styles[feature]}})),declarations};function getStylesDeclarations(blockStyles={},selector="",useRootPaddingAlign,tree={},isTemplate=!0){const isRoot=ROOT_BLOCK_SELECTOR===selector,output=Object.entries(build_module.$L).reduce(((declarations,[key,{value:value,properties:properties,useEngine:useEngine,rootOnly:rootOnly}])=>{if(rootOnly&&!isRoot)return declarations;const pathToValue=value;if("elements"===pathToValue[0]||useEngine)return declarations;const styleValue=getValueFromObjectPath(blockStyles,pathToValue);if("--wp--style--root--padding"===key&&("string"==typeof styleValue||!useRootPaddingAlign))return declarations;if(properties&&"string"!=typeof styleValue)Object.entries(properties).forEach((entry=>{const[name,prop]=entry;if(!getValueFromObjectPath(styleValue,[prop],!1))return;const cssProperty=name.startsWith("--")?name:kebabCase(name);declarations.push(`${cssProperty}: ${compileStyleValue(getValueFromObjectPath(styleValue,[prop]))}`)}));else if(getValueFromObjectPath(blockStyles,pathToValue,!1)){const cssProperty=key.startsWith("--")?key:kebabCase(key);declarations.push(`${cssProperty}: ${compileStyleValue(getValueFromObjectPath(blockStyles,pathToValue))}`)}return declarations}),[]);return(0,style_engine_build_module.R)(blockStyles).forEach((rule=>{if(isRoot&&(useRootPaddingAlign||!isTemplate)&&rule.key.startsWith("padding"))return;const cssProperty=rule.key.startsWith("--")?rule.key:kebabCase(rule.key);let ruleValue=rule.value;if("string"!=typeof ruleValue&&ruleValue?.ref){const refPath=ruleValue.ref.split(".");if(ruleValue=getValueFromObjectPath(tree,refPath),!ruleValue||ruleValue?.ref)return}"font-size"===cssProperty&&(ruleValue=getTypographyFontSizeValue({size:ruleValue},getFluidTypographyOptionsFromSettings(tree?.settings))),output.push(`${cssProperty}: ${ruleValue}`)})),output}function getLayoutStyles({layoutDefinitions:layoutDefinitions=LAYOUT_DEFINITIONS,style:style,selector:selector,hasBlockGapSupport:hasBlockGapSupport,hasFallbackGapSupport:hasFallbackGapSupport,fallbackGapValue:fallbackGapValue}){let ruleset="",gapValue=hasBlockGapSupport?getGapCSSValue(style?.spacing?.blockGap):"";if(hasFallbackGapSupport&&(selector===ROOT_BLOCK_SELECTOR?gapValue=gapValue||"0.5em":!hasBlockGapSupport&&fallbackGapValue&&(gapValue=fallbackGapValue)),gapValue&&layoutDefinitions&&(Object.values(layoutDefinitions).forEach((({className:className,name:name,spacingStyles:spacingStyles})=>{(hasBlockGapSupport||"flex"===name||"grid"===name)&&spacingStyles?.length&&spacingStyles.forEach((spacingStyle=>{const declarations=[];if(spacingStyle.rules&&Object.entries(spacingStyle.rules).forEach((([cssProperty,cssValue])=>{declarations.push(`${cssProperty}: ${cssValue||gapValue}`)})),declarations.length){let combinedSelector="";combinedSelector=hasBlockGapSupport?selector===ROOT_BLOCK_SELECTOR?`:where(${selector} .${className})${spacingStyle?.selector||""}`:`${selector}-${className}${spacingStyle?.selector||""}`:selector===ROOT_BLOCK_SELECTOR?`:where(.${className}${spacingStyle?.selector||""})`:`:where(${selector}.${className}${spacingStyle?.selector||""})`,ruleset+=`${combinedSelector} { ${declarations.join("; ")}; }`}}))})),selector===ROOT_BLOCK_SELECTOR&&hasBlockGapSupport&&(ruleset+=`${selector} { --wp--style--block-gap: ${gapValue}; }`)),selector===ROOT_BLOCK_SELECTOR&&layoutDefinitions){const validDisplayModes=["block","flex","grid"];Object.values(layoutDefinitions).forEach((({className:className,displayMode:displayMode,baseStyles:baseStyles})=>{displayMode&&validDisplayModes.includes(displayMode)&&(ruleset+=`${selector} .${className} { display:${displayMode}; }`),baseStyles?.length&&baseStyles.forEach((baseStyle=>{const declarations=[];if(baseStyle.rules&&Object.entries(baseStyle.rules).forEach((([cssProperty,cssValue])=>{declarations.push(`${cssProperty}: ${cssValue}`)})),declarations.length){ruleset+=`${`${selector} .${className}${baseStyle?.selector||""}`} { ${declarations.join("; ")}; }`}}))}))}return ruleset}const STYLE_KEYS=["border","color","dimensions","spacing","typography","filter","outline","shadow"];function pickStyleKeys(treeToPickFrom){if(!treeToPickFrom)return{};const clonedEntries=Object.entries(treeToPickFrom).filter((([key])=>STYLE_KEYS.includes(key))).map((([key,style])=>[key,JSON.parse(JSON.stringify(style))]));return Object.fromEntries(clonedEntries)}const getNodesWithSettings=(tree,blockSelectors)=>{var _tree$settings$blocks;const nodes=[];if(!tree?.settings)return nodes;const pickPresets=treeToPickFrom=>{let presets={};return PRESET_METADATA.forEach((({path:path})=>{const value=getValueFromObjectPath(treeToPickFrom,path,!1);!1!==value&&(presets=setImmutably(presets,path,value))})),presets},presets=pickPresets(tree.settings),custom=tree.settings?.custom;return(Object.keys(presets).length>0||custom)&&nodes.push({presets:presets,custom:custom,selector:ROOT_BLOCK_SELECTOR}),Object.entries(null!==(_tree$settings$blocks=tree.settings?.blocks)&&void 0!==_tree$settings$blocks?_tree$settings$blocks:{}).forEach((([blockName,node])=>{const blockPresets=pickPresets(node),blockCustom=node.custom;(Object.keys(blockPresets).length>0||blockCustom)&&nodes.push({presets:blockPresets,custom:blockCustom,selector:blockSelectors[blockName]?.selector})})),nodes},toCustomProperties=(tree,blockSelectors)=>{const settings=getNodesWithSettings(tree,blockSelectors);let ruleset="";return settings.forEach((({presets:presets,custom:custom,selector:selector})=>{const declarations=function getPresetsDeclarations(blockPresets={},mergedSettings){return PRESET_METADATA.reduce(((declarations,{path:path,valueKey:valueKey,valueFunc:valueFunc,cssVarInfix:cssVarInfix})=>{const presetByOrigin=getValueFromObjectPath(blockPresets,path,[]);return["default","theme","custom"].forEach((origin=>{presetByOrigin[origin]&&presetByOrigin[origin].forEach((value=>{valueKey&&!valueFunc?declarations.push(`--wp--preset--${cssVarInfix}--${kebabCase(value.slug)}: ${value[valueKey]}`):valueFunc&&"function"==typeof valueFunc&&declarations.push(`--wp--preset--${cssVarInfix}--${kebabCase(value.slug)}: ${valueFunc(value,mergedSettings)}`)}))})),declarations}),[])}(presets,tree?.settings),customProps=flattenTree(custom,"--wp--custom--","--");customProps.length>0&&declarations.push(...customProps),declarations.length>0&&(ruleset+=`${selector}{${declarations.join(";")};}`)})),ruleset},toStyles=(tree,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles=!1,isTemplate=!0)=>{const nodesWithStyles=((tree,blockSelectors)=>{var _tree$styles$blocks;const nodes=[];if(!tree?.styles)return nodes;const styles=pickStyleKeys(tree.styles);return styles&&nodes.push({styles:styles,selector:ROOT_BLOCK_SELECTOR}),Object.entries(build_module.qO).forEach((([name,selector])=>{tree.styles?.elements?.[name]&&nodes.push({styles:tree.styles?.elements?.[name],selector:selector})})),Object.entries(null!==(_tree$styles$blocks=tree.styles?.blocks)&&void 0!==_tree$styles$blocks?_tree$styles$blocks:{}).forEach((([blockName,node])=>{var _node$elements;const blockStyles=pickStyleKeys(node);if(node?.variations){const variations={};Object.keys(node.variations).forEach((variation=>{variations[variation]=pickStyleKeys(node.variations[variation])})),blockStyles.variations=variations}blockStyles&&blockSelectors?.[blockName]?.selector&&nodes.push({duotoneSelector:blockSelectors[blockName].duotoneSelector,fallbackGapValue:blockSelectors[blockName].fallbackGapValue,hasLayoutSupport:blockSelectors[blockName].hasLayoutSupport,selector:blockSelectors[blockName].selector,styles:blockStyles,featureSelectors:blockSelectors[blockName].featureSelectors,styleVariationSelectors:blockSelectors[blockName].styleVariationSelectors}),Object.entries(null!==(_node$elements=node?.elements)&&void 0!==_node$elements?_node$elements:{}).forEach((([elementName,value])=>{value&&blockSelectors?.[blockName]&&build_module.qO[elementName]&&nodes.push({styles:value,selector:blockSelectors[blockName]?.selector.split(",").map((sel=>build_module.qO[elementName].split(",").map((elementSelector=>sel+" "+elementSelector)))).join(",")})}))})),nodes})(tree,blockSelectors),nodesWithSettings=getNodesWithSettings(tree,blockSelectors),useRootPaddingAlign=tree?.settings?.useRootPaddingAwareAlignments,{contentSize:contentSize,wideSize:wideSize}=tree?.settings?.layout||{};let ruleset="body {margin: 0;";if(contentSize&&(ruleset+=` --wp--style--global--content-size: ${contentSize};`),wideSize&&(ruleset+=` --wp--style--global--wide-size: ${wideSize};`),useRootPaddingAlign&&isTemplate&&(ruleset+="padding-right: 0; padding-left: 0; padding-top: var(--wp--style--root--padding-top); padding-bottom: var(--wp--style--root--padding-bottom) }\n\t\t\t.has-global-padding { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding:not(.wp-block-block)) { padding-right: 0; padding-left: 0; }\n\t\t\t.has-global-padding > .alignfull { margin-right: calc(var(--wp--style--root--padding-right) * -1); margin-left: calc(var(--wp--style--root--padding-left) * -1); }\n\t\t\t.has-global-padding :where(.has-global-padding:not(.wp-block-block)) > .alignfull { margin-right: 0; margin-left: 0; }\n\t\t\t.has-global-padding > .alignfull:where(:not(.has-global-padding):not(.is-layout-flex):not(.is-layout-grid)) > :where(.wp-block:not(.alignfull),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: var(--wp--style--root--padding-right); padding-left: var(--wp--style--root--padding-left); }\n\t\t\t.has-global-padding :where(.has-global-padding) > .alignfull:where(:not(.has-global-padding)) > :where(.wp-block:not(.alignfull),p,h1,h2,h3,h4,h5,h6,ul,ol) { padding-right: 0; padding-left: 0;"),ruleset+="}",nodesWithStyles.forEach((({selector:selector,duotoneSelector:duotoneSelector,styles:styles,fallbackGapValue:fallbackGapValue,hasLayoutSupport:hasLayoutSupport,featureSelectors:featureSelectors,styleVariationSelectors:styleVariationSelectors})=>{if(featureSelectors){const featureDeclarations=getFeatureDeclarations(featureSelectors,styles);Object.entries(featureDeclarations).forEach((([cssSelector,declarations])=>{if(declarations.length){const rules=declarations.join(";");ruleset+=`${cssSelector}{${rules};}`}}))}if(styleVariationSelectors&&Object.entries(styleVariationSelectors).forEach((([styleVariationName,styleVariationSelector])=>{const styleVariations=styles?.variations?.[styleVariationName];if(styleVariations){if(featureSelectors){const featureDeclarations=getFeatureDeclarations(featureSelectors,styleVariations);Object.entries(featureDeclarations).forEach((([baseSelector,declarations])=>{if(declarations.length){const cssSelector=function concatFeatureVariationSelectorString(featureSelector,styleVariationSelector){const featureSelectors=featureSelector.split(","),combinedSelectors=[];return featureSelectors.forEach((selector=>{combinedSelectors.push(`${styleVariationSelector.trim()}${selector.trim()}`)})),combinedSelectors.join(", ")}(baseSelector,styleVariationSelector),rules=declarations.join(";");ruleset+=`${cssSelector}{${rules};}`}}))}const styleVariationDeclarations=getStylesDeclarations(styleVariations,styleVariationSelector,useRootPaddingAlign,tree);styleVariationDeclarations.length&&(ruleset+=`${styleVariationSelector}{${styleVariationDeclarations.join(";")};}`)}})),duotoneSelector){const duotoneStyles={};styles?.filter&&(duotoneStyles.filter=styles.filter,delete styles.filter);const duotoneDeclarations=getStylesDeclarations(duotoneStyles);duotoneDeclarations.length&&(ruleset+=`${duotoneSelector}{${duotoneDeclarations.join(";")};}`)}disableLayoutStyles||ROOT_BLOCK_SELECTOR!==selector&&!hasLayoutSupport||(ruleset+=getLayoutStyles({style:styles,selector:selector,hasBlockGapSupport:hasBlockGapSupport,hasFallbackGapSupport:hasFallbackGapSupport,fallbackGapValue:fallbackGapValue}));const declarations=getStylesDeclarations(styles,selector,useRootPaddingAlign,tree,isTemplate);declarations?.length&&(ruleset+=`${selector}{${declarations.join(";")};}`);const pseudoSelectorStyles=Object.entries(styles).filter((([key])=>key.startsWith(":")));pseudoSelectorStyles?.length&&pseudoSelectorStyles.forEach((([pseudoKey,pseudoStyle])=>{const pseudoDeclarations=getStylesDeclarations(pseudoStyle);if(!pseudoDeclarations?.length)return;const pseudoRule=`${selector.split(",").map((sel=>sel+pseudoKey)).join(",")}{${pseudoDeclarations.join(";")};}`;ruleset+=pseudoRule}))})),ruleset+=".wp-site-blocks > .alignleft { float: left; margin-right: 2em; }",ruleset+=".wp-site-blocks > .alignright { float: right; margin-left: 2em; }",ruleset+=".wp-site-blocks > .aligncenter { justify-content: center; margin-left: auto; margin-right: auto; }",hasBlockGapSupport){const gapValue=getGapCSSValue(tree?.styles?.spacing?.blockGap)||"0.5em";ruleset+=`:where(.wp-site-blocks) > * { margin-block-start: ${gapValue}; margin-block-end: 0; }`,ruleset+=":where(.wp-site-blocks) > :first-child:first-child { margin-block-start: 0; }",ruleset+=":where(.wp-site-blocks) > :last-child:last-child { margin-block-end: 0; }"}return nodesWithSettings.forEach((({selector:selector,presets:presets})=>{ROOT_BLOCK_SELECTOR===selector&&(selector="");const classes=function getPresetsClasses(blockSelector="*",blockPresets={}){return PRESET_METADATA.reduce(((declarations,{path:path,cssVarInfix:cssVarInfix,classes:classes})=>{if(!classes)return declarations;const presetByOrigin=getValueFromObjectPath(blockPresets,path,[]);return["default","theme","custom"].forEach((origin=>{presetByOrigin[origin]&&presetByOrigin[origin].forEach((({slug:slug})=>{classes.forEach((({classSuffix:classSuffix,propertyName:propertyName})=>{const classSelectorToUse=`.has-${kebabCase(slug)}-${classSuffix}`,selectorToUse=blockSelector.split(",").map((selector=>`${selector}${classSelectorToUse}`)).join(","),value=`var(--wp--preset--${cssVarInfix}--${kebabCase(slug)})`;declarations+=`${selectorToUse}{${propertyName}: ${value} !important;}`}))}))})),declarations}),"")}(selector,presets);classes.length>0&&(ruleset+=classes)})),ruleset};function toSvgFilters(tree,blockSelectors){return getNodesWithSettings(tree,blockSelectors).flatMap((({presets:presets})=>function getPresetsSvgFilters(blockPresets={}){return PRESET_METADATA.filter((metadata=>"duotone"===metadata.path.at(-1))).flatMap((metadata=>{const presetByOrigin=getValueFromObjectPath(blockPresets,metadata.path,{});return["default","theme"].filter((origin=>presetByOrigin[origin])).flatMap((origin=>presetByOrigin[origin].map((preset=>getDuotoneFilter(`wp-duotone-${preset.slug}`,preset.colors))))).join("")}))}(presets)))}const getBlockSelectors=(blockTypes,getBlockStyles)=>{const result={};return blockTypes.forEach((blockType=>{const name=blockType.name,selector=getBlockCSSSelector(blockType);let duotoneSelector=getBlockCSSSelector(blockType,"filter.duotone");if(!duotoneSelector){const rootSelector=getBlockCSSSelector(blockType),duotoneSupport=(0,build_module.Dx)(blockType,"color.__experimentalDuotone",!1);duotoneSelector=duotoneSupport&&scopeSelector(rootSelector,duotoneSupport)}const hasLayoutSupport=!!blockType?.supports?.layout||!!blockType?.supports?.__experimentalLayout,fallbackGapValue=blockType?.supports?.spacing?.blockGap?.__experimentalDefault,blockStyleVariations=getBlockStyles(name),styleVariationSelectors={};blockStyleVariations?.length&&blockStyleVariations.forEach((variation=>{const styleVariationSelector=`.is-style-${variation.name}${selector}`;styleVariationSelectors[variation.name]=styleVariationSelector}));const featureSelectors=((blockType,rootSelector)=>{if(blockType?.selectors&&Object.keys(blockType.selectors).length>0)return blockType.selectors;const config={root:rootSelector};return Object.entries(BLOCK_SUPPORT_FEATURE_LEVEL_SELECTORS).forEach((([featureKey,featureName])=>{const featureSelector=getBlockCSSSelector(blockType,featureKey);featureSelector&&(config[featureName]=featureSelector)})),config})(blockType,selector);result[name]={duotoneSelector:duotoneSelector,fallbackGapValue:fallbackGapValue,featureSelectors:Object.keys(featureSelectors).length?featureSelectors:void 0,hasLayoutSupport:hasLayoutSupport,name:name,selector:selector,styleVariationSelectors:Object.keys(styleVariationSelectors).length?styleVariationSelectors:void 0}})),result};function processCSSNesting(css,blockSelector){let processedCSS="";return css.split("&").forEach((part=>{if(!part.includes("{"))processedCSS+=`${blockSelector}{${part.trim()}}`;else{const splittedPart=part.replace("}","").split("{");if(2!==splittedPart.length)return;const[nestedSelector,cssValue]=splittedPart,combinedSelector=nestedSelector.startsWith(" ")?scopeSelector(blockSelector,nestedSelector):function appendToSelector(selector,toAppend){return selector.includes(",")?selector.split(",").map((sel=>sel+toAppend)).join(","):selector+toAppend}(blockSelector,nestedSelector);processedCSS+=`${combinedSelector}{${cssValue.trim()}}`}})),processedCSS}function useGlobalStylesOutputWithConfig(mergedConfig={}){const[blockGap]=useGlobalSetting("spacing.blockGap"),hasBlockGapSupport=null!==blockGap,hasFallbackGapSupport=!hasBlockGapSupport,disableLayoutStyles=(0,use_select.Z)((select=>{const{getSettings:getSettings}=select(store);return!!getSettings().disableLayoutStyles})),blockContext=(0,react.useContext)(block_context),isTemplate=void 0!==blockContext?.templateSlug,getBlockStyles=(0,use_select.Z)((select=>select(build_module.h).getBlockStyles),[]);return(0,react.useMemo)((()=>{var _mergedConfig$styles$;if(!mergedConfig?.styles||!mergedConfig?.settings)return[];mergedConfig=function updateConfigWithSeparator(config){return config.styles?.blocks?.["core/separator"]&&config.styles?.blocks?.["core/separator"].color?.background&&!config.styles?.blocks?.["core/separator"].color?.text&&!config.styles?.blocks?.["core/separator"].border?.color?{...config,styles:{...config.styles,blocks:{...config.styles.blocks,"core/separator":{...config.styles.blocks["core/separator"],color:{...config.styles.blocks["core/separator"].color,text:config.styles?.blocks["core/separator"].color.background}}}}}:config}(mergedConfig);const blockSelectors=getBlockSelectors((0,build_module.U8)(),getBlockStyles),customProperties=toCustomProperties(mergedConfig,blockSelectors),globalStyles=toStyles(mergedConfig,blockSelectors,hasBlockGapSupport,hasFallbackGapSupport,disableLayoutStyles,isTemplate),svgs=toSvgFilters(mergedConfig,blockSelectors),styles=[{css:customProperties,isGlobalStyles:!0},{css:globalStyles,isGlobalStyles:!0},{css:null!==(_mergedConfig$styles$=mergedConfig.styles.css)&&void 0!==_mergedConfig$styles$?_mergedConfig$styles$:"",isGlobalStyles:!0},{assets:svgs,__unstableType:"svg",isGlobalStyles:!0}];return(0,build_module.U8)().forEach((blockType=>{if(mergedConfig.styles.blocks[blockType.name]?.css){const selector=blockSelectors[blockType.name].selector;styles.push({css:processCSSNesting(mergedConfig.styles.blocks[blockType.name]?.css,selector),isGlobalStyles:!0})}})),[styles,mergedConfig.settings]}),[hasBlockGapSupport,hasFallbackGapSupport,mergedConfig,disableLayoutStyles])}function useGlobalStylesOutput(){const{merged:mergedConfig}=(0,react.useContext)(GlobalStylesContext);return useGlobalStylesOutputWithConfig(mergedConfig)}var library_shadow=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M12 8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6.5c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zM12.8 3h-1.5v3h1.5V3zm-1.6 18h1.5v-3h-1.5v3zm6.8-9.8v1.5h3v-1.5h-3zm-12 0H3v1.5h3v-1.5zm9.7 5.6 2.1 2.1 1.1-1.1-2.1-2.1-1.1 1.1zM8.3 7.2 6.2 5.1 5.1 6.2l2.1 2.1 1.1-1.1zM5.1 17.8l1.1 1.1 2.1-2.1-1.1-1.1-2.1 2.1zM18.9 6.2l-1.1-1.1-2.1 2.1 1.1 1.1 2.1-2.1z"}));function useHasEffectsPanel(settings){return useHasShadowControl(settings)}function useHasShadowControl(settings){return!!settings?.shadow}function EffectsToolsPanel({resetAllFilter:resetAllFilter,onChange:onChange,value:value,panelId:panelId,children:children}){return(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module.__)("Effects"),resetAll:()=>{const updatedValue=resetAllFilter(value);onChange(updatedValue)},panelId:panelId},children)}const effects_panel_DEFAULT_CONTROLS={shadow:!0};function EffectsPanel({as:Wrapper=EffectsToolsPanel,value:value,onChange:onChange,inheritedValue:inheritedValue=value,settings:settings,panelId:panelId,defaultControls:defaultControls=effects_panel_DEFAULT_CONTROLS}){const hasShadowEnabled=useHasShadowControl(settings),shadow=(rawValue=inheritedValue?.shadow,getValueFromVariable({settings:settings},"",rawValue));var rawValue;const setShadow=newValue=>{onChange(setImmutably(value,["shadow"],newValue))},resetAllFilter=(0,react.useCallback)((previousValue=>({...previousValue,shadow:void 0})),[]);return(0,react.createElement)(Wrapper,{resetAllFilter:resetAllFilter,value:value,onChange:onChange,panelId:panelId},hasShadowEnabled&&(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Shadow"),hasValue:()=>!!value?.shadow,onDeselect:()=>setShadow(void 0),isShownByDefault:defaultControls.shadow,panelId:panelId},(0,react.createElement)(item_group_component.Z,{isBordered:!0,isSeparated:!0},(0,react.createElement)(ShadowPopover,{shadow:shadow,onShadowChange:setShadow,settings:settings}))))}const ShadowPopover=({shadow:shadow,onShadowChange:onShadowChange,settings:settings})=>(0,react.createElement)(dropdown.Z,{popoverProps:{placement:"left-start",offset:36,shift:!0},className:"block-editor-global-styles-effects-panel__shadow-dropdown",renderToggle:({onToggle:onToggle,isOpen:isOpen})=>{const toggleProps={onClick:onToggle,className:classnames_default()({"is-open":isOpen}),"aria-expanded":isOpen};return(0,react.createElement)(build_module_button.ZP,{...toggleProps},(0,react.createElement)(h_stack_component.Z,{justify:"flex-start"},(0,react.createElement)(build_module_icon.Z,{className:"block-editor-global-styles-effects-panel__toggle-icon",icon:library_shadow,size:24}),(0,react.createElement)(flex_item_component.Z,null,(0,i18n_build_module.__)("Shadow"))))},renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"medium"},(0,react.createElement)(ShadowPopoverContainer,{shadow:shadow,onShadowChange:onShadowChange,settings:settings}))});function ShadowPopoverContainer({shadow:shadow,onShadowChange:onShadowChange,settings:settings}){const defaultShadows=settings?.shadow?.presets?.default,themeShadows=settings?.shadow?.presets?.theme,defaultPresetsEnabled=settings?.shadow?.defaultPresets,shadows=[...defaultPresetsEnabled?defaultShadows:[],...themeShadows||[]];return(0,react.createElement)("div",{className:"block-editor-global-styles-effects-panel__shadow-popover-container"},(0,react.createElement)(v_stack_component.Z,{spacing:4},(0,react.createElement)(heading_component.Z,{level:5},(0,i18n_build_module.__)("Shadow")),(0,react.createElement)(ShadowPresets,{presets:shadows,activeShadow:shadow,onSelect:onShadowChange})))}function ShadowPresets({presets:presets,activeShadow:activeShadow,onSelect:onSelect}){return presets?(0,react.createElement)(grid_component.Z,{columns:6,gap:0,align:"center",justify:"center"},presets.map((({name:name,slug:slug,shadow:shadow})=>(0,react.createElement)(ShadowIndicator,{key:slug,label:name,isActive:shadow===activeShadow,onSelect:()=>onSelect(shadow===activeShadow?void 0:shadow),shadow:shadow})))):null}function ShadowIndicator({label:label,isActive:isActive,onSelect:onSelect,shadow:shadow}){return(0,react.createElement)("div",{className:"block-editor-global-styles-effects-panel__shadow-indicator-wrapper"},(0,react.createElement)(build_module_button.ZP,{className:"block-editor-global-styles-effects-panel__shadow-indicator",onClick:onSelect,label:label,style:{boxShadow:shadow},showTooltip:!0},isActive&&(0,react.createElement)(build_module_icon.Z,{icon:library_check.Z})))}function useHasImageSettingsPanel(name,value,inheritedValue){return"core/image"===name&&inheritedValue?.lightbox?.allowEditing||!!value?.lightbox}function ImageSettingsPanel({onChange:onChange,value:value,inheritedValue:inheritedValue,panelId:panelId}){const resetLightbox=()=>{onChange(void 0)};let lightboxChecked=!1;return inheritedValue?.lightbox?.enabled&&(lightboxChecked=inheritedValue.lightbox.enabled),(0,react.createElement)(react.Fragment,null,(0,react.createElement)(tools_panel_component.Z,{label:(0,i18n_build_module._x)("Settings","Image settings"),resetAll:resetLightbox,panelId:panelId},(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>!!value?.lightbox,label:(0,i18n_build_module.__)("Expand on click"),onDeselect:resetLightbox,isShownByDefault:!0,panelId:panelId},(0,react.createElement)(toggle_control.Z,{label:(0,i18n_build_module.__)("Expand on click"),checked:lightboxChecked,onChange:newSetting=>{onChange({enabled:newSetting})}}))))}EffectsPanel.__docgenInfo={description:"",methods:[],displayName:"EffectsPanel",props:{as:{defaultValue:{value:"function EffectsToolsPanel({\n  resetAllFilter,\n  onChange,\n  value,\n  panelId,\n  children\n}) {\n  const resetAll = () => {\n    const updatedValue = resetAllFilter(value);\n    onChange(updatedValue);\n  };\n  return createElement(ToolsPanel, {\n    label: __('Effects'),\n    resetAll: resetAll,\n    panelId: panelId\n  }, children);\n}",computed:!1},required:!1},inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1},defaultControls:{defaultValue:{value:"{\n  shadow: true\n}",computed:!1},required:!1}}},ImageSettingsPanel.__docgenInfo={description:"",methods:[],displayName:"ImageSettingsPanel"};var textarea_control=__webpack_require__("./packages/components/build-module/textarea-control/index.js");function AdvancedPanel({value:value,onChange:onChange,inheritedValue:inheritedValue=value}){const[cssError,setCSSError]=(0,react.useState)(null),customCSS=inheritedValue?.css;return(0,react.createElement)(v_stack_component.Z,{spacing:3},(0,react.createElement)(textarea_control.Z,{label:(0,i18n_build_module.__)("Additional CSS"),__nextHasNoMarginBottom:!0,value:customCSS,onChange:newValue=>function handleOnChange(newValue){if(onChange({...value,css:newValue}),cssError){const[transformed]=transform_styles([{css:newValue}],".editor-styles-wrapper");transformed&&setCSSError(null)}}(newValue),onBlur:function handleOnBlur(event){if(!event?.target?.value)return void setCSSError(null);const[transformed]=transform_styles([{css:event.target.value}],".editor-styles-wrapper");setCSSError(null===transformed?(0,i18n_build_module.__)("There is an error with your CSS structure."):null)},className:"block-editor-global-styles-advanced-panel__custom-css-input",spellCheck:!1}),cssError&&(0,react.createElement)(tooltip.Z,{text:cssError},(0,react.createElement)("div",{className:"block-editor-global-styles-advanced-panel__custom-css-validation-wrapper"},(0,react.createElement)(build_module_icon.Z,{icon:library_info,className:"block-editor-global-styles-advanced-panel__custom-css-validation-icon"}))))}function addValuesForElement(element,values,innerBlocks){if(null==element||!1===element)return;if(Array.isArray(element))return addValuesForElements(element,values,innerBlocks);switch(typeof element){case"string":case"number":return}const{type:type,props:props}=element;switch(type){case react.StrictMode:case react.Fragment:return addValuesForElements(props.children,values,innerBlocks);case raw_html.Z:return;case inner_blocks.Content:return addValuesForBlocks(values,innerBlocks);case Content:return void values.push(props.value)}switch(typeof type){case"string":return void 0!==props.children?addValuesForElements(props.children,values,innerBlocks):void 0;case"function":return addValuesForElement(type.prototype&&"function"==typeof type.prototype.render?new type(props).render():type(props),values,innerBlocks)}}function addValuesForElements(children,...args){children=Array.isArray(children)?children:[children];for(let i=0;i<children.length;i++)addValuesForElement(children[i],...args)}function addValuesForBlocks(values,blocks){for(let i=0;i<blocks.length;i++){const{name:name,attributes:attributes,innerBlocks:innerBlocks}=blocks[i];addValuesForElement((0,build_module.Q0)(name,attributes,(0,react.createElement)(inner_blocks.Content,null)),values,innerBlocks)}}AdvancedPanel.__docgenInfo={description:"",methods:[],displayName:"AdvancedPanel",props:{inheritedValue:{defaultValue:{value:"value",computed:!0},required:!1}}};var resizable_box=__webpack_require__("./packages/components/build-module/resizable-box/index.js");function ResizableBoxPopover({clientId:clientId,resizableBoxProps:resizableBoxProps,...props}){return(0,react.createElement)(block_popover,{clientId:clientId,__unstableCoverTarget:!0,__unstablePopoverSlot:"__unstable-block-tools-after",shift:!1,...props},(0,react.createElement)(resizable_box.Z,{...resizableBoxProps}))}ResizableBoxPopover.__docgenInfo={description:"",methods:[],displayName:"ResizableBoxPopover"};const DEFAULT_INIT_WINDOW_SIZE=30;const RovingTabIndexContext=(0,react.createContext)(void 0),RovingTabIndexProvider=RovingTabIndexContext.Provider;function RovingTabIndex({children:children}){const[lastFocusedElement,setLastFocusedElement]=(0,react.useState)(),providerValue=(0,react.useMemo)((()=>({lastFocusedElement:lastFocusedElement,setLastFocusedElement:setLastFocusedElement})),[lastFocusedElement]);return(0,react.createElement)(RovingTabIndexProvider,{value:providerValue},children)}function getRowFocusables(rowElement){return dom_build_module.T_.focusable.find(rowElement,{sequential:!0}).filter((focusable=>focusable.closest('[role="row"]')===rowElement))}function UnforwardedTreeGrid({children:children,onExpandRow:onExpandRow=(()=>{}),onCollapseRow:onCollapseRow=(()=>{}),onFocusRow:onFocusRow=(()=>{}),applicationAriaLabel:applicationAriaLabel,...props},ref){const onKeyDown=(0,react.useCallback)((event=>{const{keyCode:keyCode,metaKey:metaKey,ctrlKey:ctrlKey,altKey:altKey}=event;if(metaKey||ctrlKey||altKey||![keycodes_build_module.UP,keycodes_build_module.WV,keycodes_build_module.RL,keycodes_build_module.pX,keycodes_build_module.Sd,keycodes_build_module.uR].includes(keyCode))return;event.stopPropagation();const{activeElement:activeElement}=document,{currentTarget:treeGridElement}=event;if(!activeElement||!treeGridElement.contains(activeElement))return;const activeRow=activeElement.closest('[role="row"]');if(!activeRow)return;const focusablesInRow=getRowFocusables(activeRow),currentColumnIndex=focusablesInRow.indexOf(activeElement),canExpandCollapse=0===currentColumnIndex,cannotFocusNextColumn=canExpandCollapse&&("false"===activeRow.getAttribute("data-expanded")||"false"===activeRow.getAttribute("aria-expanded"))&&keyCode===keycodes_build_module.pX;if([keycodes_build_module.RL,keycodes_build_module.pX].includes(keyCode)){let nextIndex;if(nextIndex=keyCode===keycodes_build_module.RL?Math.max(0,currentColumnIndex-1):Math.min(currentColumnIndex+1,focusablesInRow.length-1),canExpandCollapse){if(keyCode===keycodes_build_module.RL){var _activeRow$getAttribu;if("true"===activeRow.getAttribute("data-expanded")||"true"===activeRow.getAttribute("aria-expanded"))return onCollapseRow(activeRow),void event.preventDefault();const level=Math.max(parseInt(null!==(_activeRow$getAttribu=activeRow?.getAttribute("aria-level"))&&void 0!==_activeRow$getAttribu?_activeRow$getAttribu:"1",10)-1,1),rows=Array.from(treeGridElement.querySelectorAll('[role="row"]'));let parentRow=activeRow;for(let i=rows.indexOf(activeRow);i>=0;i--){const ariaLevel=rows[i].getAttribute("aria-level");if(null!==ariaLevel&&parseInt(ariaLevel,10)===level){parentRow=rows[i];break}}getRowFocusables(parentRow)?.[0]?.focus()}if(keyCode===keycodes_build_module.pX){if("false"===activeRow.getAttribute("data-expanded")||"false"===activeRow.getAttribute("aria-expanded"))return onExpandRow(activeRow),void event.preventDefault();const focusableItems=getRowFocusables(activeRow);focusableItems.length>0&&focusableItems[nextIndex]?.focus()}return void event.preventDefault()}if(cannotFocusNextColumn)return;focusablesInRow[nextIndex].focus(),event.preventDefault()}else if([keycodes_build_module.UP,keycodes_build_module.WV].includes(keyCode)){const rows=Array.from(treeGridElement.querySelectorAll('[role="row"]')),currentRowIndex=rows.indexOf(activeRow);let nextRowIndex;if(nextRowIndex=keyCode===keycodes_build_module.UP?Math.max(0,currentRowIndex-1):Math.min(currentRowIndex+1,rows.length-1),nextRowIndex===currentRowIndex)return void event.preventDefault();const focusablesInNextRow=getRowFocusables(rows[nextRowIndex]);if(!focusablesInNextRow||!focusablesInNextRow.length)return void event.preventDefault();focusablesInNextRow[Math.min(currentColumnIndex,focusablesInNextRow.length-1)].focus(),onFocusRow(event,activeRow,rows[nextRowIndex]),event.preventDefault()}else if([keycodes_build_module.Sd,keycodes_build_module.uR].includes(keyCode)){const rows=Array.from(treeGridElement.querySelectorAll('[role="row"]')),currentRowIndex=rows.indexOf(activeRow);let nextRowIndex;if(nextRowIndex=keyCode===keycodes_build_module.Sd?0:rows.length-1,nextRowIndex===currentRowIndex)return void event.preventDefault();const focusablesInNextRow=getRowFocusables(rows[nextRowIndex]);if(!focusablesInNextRow||!focusablesInNextRow.length)return void event.preventDefault();focusablesInNextRow[Math.min(currentColumnIndex,focusablesInNextRow.length-1)].focus(),onFocusRow(event,activeRow,rows[nextRowIndex]),event.preventDefault()}}),[onExpandRow,onCollapseRow,onFocusRow]);return(0,react.createElement)(RovingTabIndex,null,(0,react.createElement)("div",{role:"application","aria-label":applicationAriaLabel},(0,react.createElement)("table",{...props,role:"treegrid",onKeyDown:onKeyDown,ref:ref},(0,react.createElement)("tbody",null,children))))}RovingTabIndex.__docgenInfo={description:"Provider for adding roving tab index behaviors to tree grid structures.\n\n@see https://github.com/WordPress/gutenberg/blob/HEAD/packages/components/src/tree-grid/README.md",methods:[],displayName:"RovingTabIndex"};var tree_grid=(0,react.forwardRef)(UnforwardedTreeGrid);function UnforwardedTreeGridRow({children:children,level:level,positionInSet:positionInSet,setSize:setSize,isExpanded:isExpanded,...props},ref){return(0,react.createElement)("tr",{...props,ref:ref,role:"row","aria-level":level,"aria-posinset":positionInSet,"aria-setsize":setSize,"aria-expanded":isExpanded},children)}UnforwardedTreeGrid.__docgenInfo={description:"Renders both a table and tbody element, used to create a tree hierarchy.",methods:[],displayName:"UnforwardedTreeGrid",props:{onExpandRow:{defaultValue:{value:"() => {}",computed:!1},required:!1},onCollapseRow:{defaultValue:{value:"() => {}",computed:!1},required:!1},onFocusRow:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var tree_grid_row=(0,react.forwardRef)(UnforwardedTreeGridRow);UnforwardedTreeGridRow.__docgenInfo={description:"Internal dependencies",methods:[],displayName:"UnforwardedTreeGridRow"};var roving_tab_index_item=(0,react.forwardRef)((function UnforwardedRovingTabIndexItem({children:children,as:Component,...props},forwardedRef){const localRef=(0,react.useRef)(),ref=forwardedRef||localRef,{lastFocusedElement:lastFocusedElement,setLastFocusedElement:setLastFocusedElement}=(0,react.useContext)(RovingTabIndexContext);let tabIndex;lastFocusedElement&&(tabIndex=lastFocusedElement===("current"in ref?ref.current:void 0)?0:-1);const allProps={ref:ref,tabIndex:tabIndex,onFocus:event=>setLastFocusedElement?.(event.target),...props};return"function"==typeof children?children(allProps):Component?(0,react.createElement)(Component,{...allProps},children):null}));function UnforwardedTreeGridItem({children:children,...props},ref){return(0,react.createElement)(roving_tab_index_item,{ref:ref,...props},children)}var item=(0,react.forwardRef)(UnforwardedTreeGridItem);function UnforwardedTreeGridCell({children:children,withoutGridItem:withoutGridItem=!1,...props},ref){return(0,react.createElement)("td",{...props,role:"gridcell"},withoutGridItem?(0,react.createElement)(react.Fragment,null,children):(0,react.createElement)(item,{ref:ref},children))}UnforwardedTreeGridItem.__docgenInfo={description:"",methods:[],displayName:"UnforwardedTreeGridItem"};var cell=(0,react.forwardRef)(UnforwardedTreeGridCell);UnforwardedTreeGridCell.__docgenInfo={description:"",methods:[],displayName:"UnforwardedTreeGridCell",props:{withoutGridItem:{defaultValue:{value:"false",computed:!1},required:!1}}};const ListViewContext=(0,react.createContext)({}),useListViewContext=()=>(0,react.useContext)(ListViewContext);function AriaReferencedText({children:children,...props}){const ref=(0,react.useRef)();return(0,react.useEffect)((()=>{ref.current&&(ref.current.textContent=ref.current.textContent)}),[children]),(0,react.createElement)("div",{hidden:!0,...props,ref:ref},children)}AriaReferencedText.__docgenInfo={description:"A component specifically designed to be used as an element referenced\nby ARIA attributes such as `aria-labelledby` or `aria-describedby`.\n\n@param {Object}                    props          Props.\n@param {import('react').ReactNode} props.children",methods:[],displayName:"AriaReferencedText"};const Appender=(0,react.forwardRef)((({nestingLevel:nestingLevel,blockCount:blockCount,clientId:clientId,...props},ref)=>{const{insertedBlock:insertedBlock,setInsertedBlock:setInsertedBlock}=useListViewContext(),instanceId=(0,use_instance_id.Z)(Appender),hideInserter=(0,use_select.Z)((select=>{const{getTemplateLock:getTemplateLock,__unstableGetEditorMode:__unstableGetEditorMode}=select(store);return!!getTemplateLock(clientId)||"zoom-out"===__unstableGetEditorMode()}),[clientId]),blockTitle=useBlockDisplayTitle({clientId:clientId,context:"list-view"}),insertedBlockTitle=useBlockDisplayTitle({clientId:insertedBlock?.clientId,context:"list-view"});if((0,react.useEffect)((()=>{insertedBlockTitle?.length&&(0,a11y_build_module.D)((0,i18n_build_module.gB)((0,i18n_build_module.__)("%s block inserted"),insertedBlockTitle),"assertive")}),[insertedBlockTitle]),hideInserter)return null;const descriptionId=`list-view-appender__${instanceId}`,description=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Append to %1$s block at position %2$d, Level %3$d"),blockTitle,blockCount+1,nestingLevel);return(0,react.createElement)("div",{className:"list-view-appender"},(0,react.createElement)(inserter,{ref:ref,rootClientId:clientId,position:"bottom right",isAppender:!0,selectBlockOnInsert:!1,shouldDirectInsert:!1,__experimentalIsQuick:!0,...props,toggleProps:{"aria-describedby":descriptionId},onSelectOrClose:maybeInsertedBlock=>{maybeInsertedBlock?.clientId&&setInsertedBlock(maybeInsertedBlock)}}),(0,react.createElement)(AriaReferencedText,{id:descriptionId},description))})),AnimatedTreeGridRow=(0,react_spring_web_esm.animated)(tree_grid_row);var leaf=(0,react.forwardRef)((({isSelected:isSelected,position:position,level:level,rowCount:rowCount,children:children,className:className,path:path,...props},ref)=>{const animationRef=use_moving_animation({isSelected:isSelected,adjustScrolling:!1,enableAnimation:!0,triggerAnimationOnChange:path}),mergedRef=(0,use_merge_refs.Z)([ref,animationRef]);return(0,react.createElement)(AnimatedTreeGridRow,{ref:mergedRef,className:classnames_default()("block-editor-list-view-leaf",className),level:level,positionInSet:position,setSize:rowCount,isExpanded:void 0,...props},children)}));var pin_small=(0,react.createElement)(svg.Wj,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{d:"M10.97 10.159a3.382 3.382 0 0 0-2.857.955l1.724 1.723-2.836 2.913L7 17h1.25l2.913-2.837 1.723 1.723a3.38 3.38 0 0 0 .606-.825c.33-.63.446-1.343.35-2.032L17 10.695 13.305 7l-2.334 3.159Z"}));var lock_small=(0,react.createElement)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react.createElement)(svg.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"}));function ListViewExpander({onClick:onClick}){return(0,react.createElement)("span",{className:"block-editor-list-view__expander",onClick:event=>onClick(event,{forceToggle:!0}),"aria-hidden":"true","data-testid":"list-view-expander"},(0,react.createElement)(build_module_icon.Z,{icon:(0,i18n_build_module.dZ)()?chevron_left_small:chevron_right_small.Z}))}ListViewExpander.__docgenInfo={description:"",methods:[],displayName:"ListViewExpander"};const MAX_IMAGES=3;function getImage(block){if("core/image"===block.name)return block.attributes?.url?{url:block.attributes.url,alt:block.attributes.alt,clientId:block.clientId}:void 0}function getImagesFromBlock(block,isExpanded){const img=getImage(block);return img?[img]:isExpanded?[]:function getImagesFromGallery(block){if("core/gallery"!==block.name||!block.innerBlocks)return[];const images=[];for(const innerBlock of block.innerBlocks){const img=getImage(innerBlock);if(img&&images.push(img),images.length>=MAX_IMAGES)return images}return images}(block)}function ListViewBlockSelectButton({className:className,block:{clientId:clientId},onClick:onClick,onToggleExpanded:onToggleExpanded,tabIndex:tabIndex,onFocus:onFocus,onDragStart:onDragStart,onDragEnd:onDragEnd,draggable:draggable,isExpanded:isExpanded,ariaLabel:ariaLabel,ariaDescribedBy:ariaDescribedBy,updateFocusAndSelection:updateFocusAndSelection},ref){const blockInformation=useBlockDisplayInformation(clientId),blockTitle=useBlockDisplayTitle({clientId:clientId,context:"list-view"}),{isLocked:isLocked}=useBlockLock(clientId),{canInsertBlockType:canInsertBlockType,getSelectedBlockClientIds:getSelectedBlockClientIds,getPreviousBlockClientId:getPreviousBlockClientId,getBlockRootClientId:getBlockRootClientId,getBlockOrder:getBlockOrder,getBlocksByClientId:getBlocksByClientId,canRemoveBlocks:canRemoveBlocks}=(0,use_select.Z)(store),{duplicateBlocks:duplicateBlocks,multiSelect:multiSelect,removeBlocks:removeBlocks}=(0,use_dispatch.Z)(store),isMatch=(0,keyboard_shortcuts_build_module.sx)(),isSticky="sticky"===blockInformation?.positionType,images=function useListViewImages({clientId:clientId,isExpanded:isExpanded}){const{block:block}=(0,use_select.Z)((select=>({block:select(store).getBlock(clientId)})),[clientId]);return(0,react.useMemo)((()=>getImagesFromBlock(block,isExpanded)),[block,isExpanded])}({clientId:clientId,isExpanded:isExpanded}),{rootClientId:rootClientId}=useListViewContext(),positionLabel=blockInformation?.positionLabel?(0,i18n_build_module.gB)((0,i18n_build_module.__)("Position: %1$s"),blockInformation.positionLabel):"";function getBlocksToUpdate(){const selectedBlockClientIds=getSelectedBlockClientIds(),isUpdatingSelectedBlocks=selectedBlockClientIds.includes(clientId),firstBlockClientId=isUpdatingSelectedBlocks?selectedBlockClientIds[0]:clientId,firstBlockRootClientId=getBlockRootClientId(firstBlockClientId);return{blocksToUpdate:isUpdatingSelectedBlocks?selectedBlockClientIds:[clientId],firstBlockClientId:firstBlockClientId,firstBlockRootClientId:firstBlockRootClientId,selectedBlockClientIds:selectedBlockClientIds}}return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{className:classnames_default()("block-editor-list-view-block-select-button",className),onClick:onClick,onKeyDown:async function onKeyDownHandler(event){if(event.keyCode===keycodes_build_module.K5||event.keyCode===keycodes_build_module.L_)onClick(event);else if(event.keyCode===keycodes_build_module.ZH||event.keyCode===keycodes_build_module.yY||isMatch("core/block-editor/remove",event)){var _getPreviousBlockClie;const{blocksToUpdate:blocksToDelete,firstBlockClientId:firstBlockClientId,firstBlockRootClientId:firstBlockRootClientId,selectedBlockClientIds:selectedBlockClientIds}=getBlocksToUpdate();if(!canRemoveBlocks(blocksToDelete,firstBlockRootClientId))return;let blockToFocus=null!==(_getPreviousBlockClie=getPreviousBlockClientId(firstBlockClientId))&&void 0!==_getPreviousBlockClie?_getPreviousBlockClie:firstBlockRootClientId;removeBlocks(blocksToDelete,!1);const shouldUpdateSelection=selectedBlockClientIds.length>0&&0===getSelectedBlockClientIds().length;blockToFocus||(blockToFocus=getBlockOrder()[0]),updateFocusAndSelection(blockToFocus,shouldUpdateSelection)}else if(isMatch("core/block-editor/duplicate",event)){if(event.defaultPrevented)return;event.preventDefault();const{blocksToUpdate:blocksToUpdate,firstBlockRootClientId:firstBlockRootClientId}=getBlocksToUpdate(),canDuplicate=getBlocksByClientId(blocksToUpdate).every((block=>!!block&&(0,build_module.zb)(block.name,"multiple",!0)&&canInsertBlockType(block.name,firstBlockRootClientId)));if(canDuplicate){const updatedBlocks=await duplicateBlocks(blocksToUpdate,!1);updatedBlocks?.length&&updateFocusAndSelection(updatedBlocks[0],!1)}}else if(isMatch("core/block-editor/select-all",event)){if(event.defaultPrevented)return;event.preventDefault();const{firstBlockRootClientId:firstBlockRootClientId,selectedBlockClientIds:selectedBlockClientIds}=getBlocksToUpdate(),blockClientIds=getBlockOrder(firstBlockRootClientId);if(!blockClientIds.length)return;if((0,is_shallow_equal_build_module.ZP)(selectedBlockClientIds,blockClientIds)&&firstBlockRootClientId&&firstBlockRootClientId!==rootClientId)return void updateFocusAndSelection(firstBlockRootClientId,!0);multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1],null)}},ref:ref,tabIndex:tabIndex,onFocus:onFocus,onDragStart:event=>{event.dataTransfer.clearData(),onDragStart?.(event)},onDragEnd:onDragEnd,draggable:draggable,href:`#block-${clientId}`,"aria-label":ariaLabel,"aria-describedby":ariaDescribedBy,"aria-expanded":isExpanded},(0,react.createElement)(ListViewExpander,{onClick:onToggleExpanded}),(0,react.createElement)(block_icon,{icon:blockInformation?.icon,showColors:!0,context:"list-view"}),(0,react.createElement)(h_stack_component.Z,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1},(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__title"},(0,react.createElement)(truncate_component.Z,{ellipsizeMode:"auto"},blockTitle)),blockInformation?.anchor&&(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__anchor-wrapper"},(0,react.createElement)(truncate_component.Z,{className:"block-editor-list-view-block-select-button__anchor",ellipsizeMode:"auto"},blockInformation.anchor)),positionLabel&&isSticky&&(0,react.createElement)(tooltip.Z,{text:positionLabel},(0,react.createElement)(build_module_icon.Z,{icon:pin_small})),images.length?(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__images","aria-hidden":!0},images.map(((image,index)=>(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__image",key:image.clientId,style:{backgroundImage:`url(${image.url})`,zIndex:images.length-index}})))):null,isLocked&&(0,react.createElement)("span",{className:"block-editor-list-view-block-select-button__lock"},(0,react.createElement)(build_module_icon.Z,{icon:lock_small})))))}ListViewBlockSelectButton.__docgenInfo={description:"",methods:[],displayName:"ListViewBlockSelectButton"};var block_select_button=(0,react.forwardRef)(ListViewBlockSelectButton);const ListViewBlockContents=(0,react.forwardRef)((({onClick:onClick,onToggleExpanded:onToggleExpanded,block:block,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,isExpanded:isExpanded,selectedClientIds:selectedClientIds,...props},ref)=>{const{clientId:clientId}=block,{blockMovingClientId:blockMovingClientId,selectedBlockInBlockEditor:selectedBlockInBlockEditor}=(0,use_select.Z)((select=>{const{hasBlockMovingClientId:hasBlockMovingClientId,getSelectedBlockClientId:getSelectedBlockClientId}=select(store);return{blockMovingClientId:hasBlockMovingClientId(),selectedBlockInBlockEditor:getSelectedBlockClientId()}}),[]),{AdditionalBlockContent:AdditionalBlockContent,insertedBlock:insertedBlock,setInsertedBlock:setInsertedBlock}=useListViewContext(),isBlockMoveTarget=blockMovingClientId&&selectedBlockInBlockEditor===clientId,className=classnames_default()("block-editor-list-view-block-contents",{"is-dropping-before":isBlockMoveTarget}),draggableClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];return(0,react.createElement)(react.Fragment,null,AdditionalBlockContent&&(0,react.createElement)(AdditionalBlockContent,{block:block,insertedBlock:insertedBlock,setInsertedBlock:setInsertedBlock}),(0,react.createElement)(block_draggable,{clientIds:draggableClientIds},(({draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd})=>(0,react.createElement)(block_select_button,{ref:ref,className:className,block:block,onClick:onClick,onToggleExpanded:onToggleExpanded,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd,isExpanded:isExpanded,...props}))))}));var block_contents=ListViewBlockContents;function focusListItem(focusClientId,treeGridElementRef){const getFocusElement=()=>{const row=treeGridElementRef.current?.querySelector(`[role=row][data-block="${focusClientId}"]`);return row?dom_build_module.T_.focusable.find(row)[0]:null};let focusElement=getFocusElement();focusElement?focusElement.focus():window.requestAnimationFrame((()=>{focusElement=getFocusElement(),focusElement&&focusElement.focus()}))}function ListViewBlock({block:{clientId:clientId},isDragged:isDragged,isSelected:isSelected,isBranchSelected:isBranchSelected,selectBlock:selectBlock,position:position,level:level,rowCount:rowCount,siblingBlockCount:siblingBlockCount,showBlockMovers:showBlockMovers,path:path,isExpanded:isExpanded,selectedClientIds:selectedClientIds,isSyncedBranch:isSyncedBranch}){const cellRef=(0,react.useRef)(null),rowRef=(0,react.useRef)(null),[isHovered,setIsHovered]=(0,react.useState)(!1),{isLocked:isLocked,canEdit:canEdit}=useBlockLock(clientId),isFirstSelectedBlock=isSelected&&selectedClientIds[0]===clientId,isLastSelectedBlock=isSelected&&selectedClientIds[selectedClientIds.length-1]===clientId,{toggleBlockHighlight:toggleBlockHighlight}=(0,use_dispatch.Z)(store),blockInformation=useBlockDisplayInformation(clientId),blockTitle=blockInformation?.name||blockInformation?.title||(0,i18n_build_module.__)("Untitled"),{block:block,blockName:blockName,blockEditingMode:blockEditingMode}=(0,use_select.Z)((select=>{const{getBlock:getBlock,getBlockName:getBlockName,getBlockEditingMode:getBlockEditingMode}=select(store);return{block:getBlock(clientId),blockName:getBlockName(clientId),blockEditingMode:getBlockEditingMode(clientId)}}),[clientId]),showBlockActions=(0,build_module.zb)(blockName,"__experimentalToolbar",!0)&&"default"===blockEditingMode,descriptionId=`list-view-block-select-button__${(0,use_instance_id.Z)(ListViewBlock)}`,blockPositionDescription=((position,siblingCount,level)=>(0,i18n_build_module.gB)((0,i18n_build_module.__)("Block %1$d of %2$d, Level %3$d"),position,siblingCount,level))(position,siblingBlockCount,level),blockAriaLabel=isLocked?(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s (locked)"),blockTitle):blockTitle,settingsAriaLabel=(0,i18n_build_module.gB)((0,i18n_build_module.__)("Options for %s"),blockTitle),{expand:expand,collapse:collapse,BlockSettingsMenu:BlockSettingsMenu,listViewInstanceId:listViewInstanceId,expandedState:expandedState,setInsertedBlock:setInsertedBlock,treeGridElementRef:treeGridElementRef}=useListViewContext(),hasRenderedMovers=showBlockMovers&&siblingBlockCount>0,moverCellClassName=classnames_default()("block-editor-list-view-block__mover-cell",{"is-visible":isHovered||isSelected}),listViewBlockSettingsClassName=classnames_default()("block-editor-list-view-block__menu-cell",{"is-visible":isHovered||isFirstSelectedBlock}),onMouseEnter=(0,react.useCallback)((()=>{setIsHovered(!0),toggleBlockHighlight(clientId,!0)}),[clientId,setIsHovered,toggleBlockHighlight]),onMouseLeave=(0,react.useCallback)((()=>{setIsHovered(!1),toggleBlockHighlight(clientId,!1)}),[clientId,setIsHovered,toggleBlockHighlight]),selectEditorBlock=(0,react.useCallback)((event=>{selectBlock(event,clientId),event.preventDefault()}),[clientId,selectBlock]),updateFocusAndSelection=(0,react.useCallback)(((focusClientId,shouldSelectBlock)=>{shouldSelectBlock&&selectBlock(void 0,focusClientId,null,null),focusListItem(focusClientId,treeGridElementRef)}),[selectBlock,treeGridElementRef]),toggleExpanded=(0,react.useCallback)((event=>{event.preventDefault(),event.stopPropagation(),!0===isExpanded?collapse(clientId):!1===isExpanded&&expand(clientId)}),[clientId,expand,collapse,isExpanded]);let colSpan;hasRenderedMovers?colSpan=2:showBlockActions||(colSpan=3);const classes=classnames_default()({"is-selected":isSelected,"is-first-selected":isFirstSelectedBlock,"is-last-selected":isLastSelectedBlock,"is-branch-selected":isBranchSelected,"is-synced-branch":isSyncedBranch,"is-dragging":isDragged,"has-single-cell":!showBlockActions,"is-synced":blockInformation?.isSynced}),dropdownClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];!function useListViewScrollIntoView({isSelected:isSelected,selectedClientIds:selectedClientIds,rowItemRef:rowItemRef}){const isSingleSelection=1===selectedClientIds.length;(0,react.useLayoutEffect)((()=>{if(!isSelected||!isSingleSelection||!rowItemRef.current)return;const scrollContainer=(0,get_scroll_container.Z)(rowItemRef.current),{ownerDocument:ownerDocument}=rowItemRef.current;if(scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement||!scrollContainer)return;const rowRect=rowItemRef.current.getBoundingClientRect(),scrollContainerRect=scrollContainer.getBoundingClientRect();(rowRect.top<scrollContainerRect.top||rowRect.bottom>scrollContainerRect.bottom)&&rowItemRef.current.scrollIntoView()}),[isSelected,isSingleSelection,rowItemRef])}({isSelected:isSelected,rowItemRef:rowRef,selectedClientIds:selectedClientIds});const currentlyEditingBlockInCanvas=isSelected&&1===selectedClientIds.length;return(0,react.createElement)(leaf,{className:classes,onKeyDown:event=>{event.keyCode===keycodes_build_module.hY&&!event.defaultPrevented&&selectedClientIds.length>0&&(event.stopPropagation(),event.preventDefault(),selectBlock(event,void 0))},onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,onFocus:onMouseEnter,onBlur:onMouseLeave,level:level,position:position,rowCount:rowCount,path:path,id:`list-view-${listViewInstanceId}-block-${clientId}`,"data-block":clientId,"data-expanded":canEdit?isExpanded:void 0,ref:rowRef},(0,react.createElement)(cell,{className:"block-editor-list-view-block__contents-cell",colSpan:colSpan,ref:cellRef,"aria-selected":!!isSelected},(({ref:ref,tabIndex:tabIndex,onFocus:onFocus})=>(0,react.createElement)("div",{className:"block-editor-list-view-block__contents-container"},(0,react.createElement)(block_contents,{block:block,onClick:selectEditorBlock,onToggleExpanded:toggleExpanded,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,ref:ref,tabIndex:currentlyEditingBlockInCanvas?0:tabIndex,onFocus:onFocus,isExpanded:canEdit?isExpanded:void 0,selectedClientIds:selectedClientIds,ariaLabel:blockAriaLabel,ariaDescribedBy:descriptionId,updateFocusAndSelection:updateFocusAndSelection}),(0,react.createElement)(AriaReferencedText,{id:descriptionId},blockPositionDescription)))),hasRenderedMovers&&(0,react.createElement)(react.Fragment,null,(0,react.createElement)(cell,{className:moverCellClassName,withoutGridItem:!0},(0,react.createElement)(item,null,(({ref:ref,tabIndex:tabIndex,onFocus:onFocus})=>(0,react.createElement)(BlockMoverUpButton,{orientation:"vertical",clientIds:[clientId],ref:ref,tabIndex:tabIndex,onFocus:onFocus}))),(0,react.createElement)(item,null,(({ref:ref,tabIndex:tabIndex,onFocus:onFocus})=>(0,react.createElement)(BlockMoverDownButton,{orientation:"vertical",clientIds:[clientId],ref:ref,tabIndex:tabIndex,onFocus:onFocus}))))),showBlockActions&&BlockSettingsMenu&&(0,react.createElement)(cell,{className:listViewBlockSettingsClassName,"aria-selected":!!isSelected},(({ref:ref,tabIndex:tabIndex,onFocus:onFocus})=>(0,react.createElement)(BlockSettingsMenu,{clientIds:dropdownClientIds,block:block,icon:more_vertical.Z,label:settingsAriaLabel,toggleProps:{ref:ref,className:"block-editor-list-view-block__menu",tabIndex:tabIndex,onFocus:onFocus},disableOpenOnArrowDown:!0,expand:expand,expandedState:expandedState,setInsertedBlock:setInsertedBlock,__experimentalSelectBlock:updateFocusAndSelection}))))}ListViewBlock.__docgenInfo={description:"",methods:[],displayName:"ListViewBlock"};var list_view_block=(0,react.memo)(ListViewBlock);function countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault){var _expandedState$block$;const isDragged=draggedClientIds?.includes(block.clientId);if(isDragged)return 0;return(null!==(_expandedState$block$=expandedState[block.clientId])&&void 0!==_expandedState$block$?_expandedState$block$:isExpandedByDefault)?1+block.innerBlocks.reduce(countReducer(expandedState,draggedClientIds,isExpandedByDefault),0):1}const countReducer=(expandedState,draggedClientIds,isExpandedByDefault)=>(count,block)=>{var _expandedState$block$2;const isDragged=draggedClientIds?.includes(block.clientId);if(isDragged)return count;return(null!==(_expandedState$block$2=expandedState[block.clientId])&&void 0!==_expandedState$block$2?_expandedState$block$2:isExpandedByDefault)&&block.innerBlocks.length>0?count+countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault):count+1},branch_noop=()=>{};function ListViewBranch(props){const{blocks:blocks,selectBlock:selectBlock=branch_noop,showBlockMovers:showBlockMovers,selectedClientIds:selectedClientIds,level:level=1,path:path="",isBranchDragged:isBranchDragged=!1,isBranchSelected:isBranchSelected=!1,listPosition:listPosition=0,fixedListWindow:fixedListWindow,isExpanded:isExpanded,parentId:parentId,shouldShowInnerBlocks:shouldShowInnerBlocks=!0,isSyncedBranch:isSyncedBranch=!1,showAppender:showAppenderProp=!0}=props,parentBlockInformation=useBlockDisplayInformation(parentId),syncedBranch=isSyncedBranch||!!parentBlockInformation?.isSynced,canParentExpand=(0,use_select.Z)((select=>!parentId||select(store).canEditBlock(parentId)),[parentId]),{expandedState:expandedState,draggedClientIds:draggedClientIds}=useListViewContext();if(!canParentExpand)return null;const showAppender=showAppenderProp&&1===level,filteredBlocks=blocks.filter(Boolean),blockCount=filteredBlocks.length,rowCount=showAppender?blockCount+1:blockCount;let nextPosition=listPosition;return(0,react.createElement)(react.Fragment,null,filteredBlocks.map(((block,index)=>{var _expandedState$client;const{clientId:clientId,innerBlocks:innerBlocks}=block;index>0&&(nextPosition+=countBlocks(filteredBlocks[index-1],expandedState,draggedClientIds,isExpanded));const{itemInView:itemInView}=fixedListWindow,blockInView=itemInView(nextPosition),position=index+1,updatedPath=path.length>0?`${path}_${position}`:`${position}`,hasNestedBlocks=!!innerBlocks?.length,shouldExpand=hasNestedBlocks&&shouldShowInnerBlocks?null!==(_expandedState$client=expandedState[clientId])&&void 0!==_expandedState$client?_expandedState$client:isExpanded:void 0,isDragged=!!draggedClientIds?.includes(clientId),isSelected=((clientId,selectedBlockClientIds)=>Array.isArray(selectedBlockClientIds)&&selectedBlockClientIds.length?-1!==selectedBlockClientIds.indexOf(clientId):selectedBlockClientIds===clientId)(clientId,selectedClientIds),isSelectedBranch=isBranchSelected||isSelected&&hasNestedBlocks,showBlock=isDragged||blockInView||isBranchDragged||isSelected&&clientId===selectedClientIds[0];return(0,react.createElement)(async_mode_provider_context.ZP,{key:clientId,value:!isSelected},showBlock&&(0,react.createElement)(list_view_block,{block:block,selectBlock:selectBlock,isSelected:isSelected,isBranchSelected:isSelectedBranch,isDragged:isDragged||isBranchDragged,level:level,position:position,rowCount:rowCount,siblingBlockCount:blockCount,showBlockMovers:showBlockMovers,path:updatedPath,isExpanded:shouldExpand,listPosition:nextPosition,selectedClientIds:selectedClientIds,isSyncedBranch:syncedBranch}),!showBlock&&(0,react.createElement)("tr",null,(0,react.createElement)("td",{className:"block-editor-list-view-placeholder"})),hasNestedBlocks&&shouldExpand&&(0,react.createElement)(ListViewBranch,{parentId:clientId,blocks:innerBlocks,selectBlock:selectBlock,showBlockMovers:showBlockMovers,level:level+1,path:updatedPath,listPosition:nextPosition+1,fixedListWindow:fixedListWindow,isBranchSelected:isSelectedBranch,isBranchDragged:isDragged||isBranchDragged,selectedClientIds:selectedClientIds,isExpanded:isExpanded,isSyncedBranch:syncedBranch}))})),showAppender&&(0,react.createElement)(tree_grid_row,{level:level,setSize:rowCount,positionInSet:rowCount,isExpanded:!0},(0,react.createElement)(cell,null,(treeGridCellProps=>(0,react.createElement)(Appender,{clientId:parentId,nestingLevel:level,blockCount:blockCount,...treeGridCellProps})))))}ListViewBranch.__docgenInfo={description:"",methods:[],displayName:"ListViewBranch"};var branch=(0,react.memo)(ListViewBranch);function ListViewDropIndicator({listViewRef:listViewRef,blockDropTarget:blockDropTarget}){const{rootClientId:rootClientId,clientId:clientId,dropPosition:dropPosition}=blockDropTarget||{},[rootBlockElement,blockElement]=(0,react.useMemo)((()=>{if(!listViewRef.current)return[];return[rootClientId?listViewRef.current.querySelector(`[data-block="${rootClientId}"]`):void 0,clientId?listViewRef.current.querySelector(`[data-block="${clientId}"]`):void 0]}),[rootClientId,clientId]),targetElement=blockElement||rootBlockElement,rtl=(0,i18n_build_module.dZ)(),getDropIndicatorIndent=(0,react.useCallback)((targetElementRect=>{if(!rootBlockElement)return 0;const rootBlockIconRect=rootBlockElement.querySelector(".block-editor-block-icon").getBoundingClientRect();return rtl?targetElementRect.right-rootBlockIconRect.left:rootBlockIconRect.right-targetElementRect.left}),[rootBlockElement,rtl]),getDropIndicatorWidth=(0,react.useCallback)(((targetElementRect,indent)=>{if(!targetElement)return 0;let width=targetElement.offsetWidth;const scrollContainer=(0,get_scroll_container.Z)(targetElement,"horizontal"),ownerDocument=targetElement.ownerDocument,windowScroll=scrollContainer===ownerDocument.body||scrollContainer===ownerDocument.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect(),distanceBetweenContainerAndTarget=(0,i18n_build_module.dZ)()?scrollContainerRect.right-targetElementRect.right:targetElementRect.left-scrollContainerRect.left,scrollContainerWidth=scrollContainer.clientWidth;if(scrollContainerWidth<width+distanceBetweenContainerAndTarget&&(width=scrollContainerWidth-distanceBetweenContainerAndTarget),!rtl&&targetElementRect.left+indent<scrollContainerRect.left)return width-=scrollContainerRect.left-targetElementRect.left,width;if(rtl&&targetElementRect.right-indent>scrollContainerRect.right)return width-=targetElementRect.right-scrollContainerRect.right,width}return width-indent}),[rtl,targetElement]),style=(0,react.useMemo)((()=>{if(!targetElement)return{};const targetElementRect=targetElement.getBoundingClientRect(),indent=getDropIndicatorIndent(targetElementRect);return{width:getDropIndicatorWidth(targetElementRect,indent)}}),[getDropIndicatorIndent,getDropIndicatorWidth,targetElement]),popoverAnchor=(0,react.useMemo)((()=>{if(targetElement&&("top"===dropPosition||"bottom"===dropPosition||"inside"===dropPosition))return{contextElement:targetElement,getBoundingClientRect(){const rect=targetElement.getBoundingClientRect(),indent=getDropIndicatorIndent(rect);let left=rtl?rect.left:rect.left+indent,top=0,bottom=0;const scrollContainer=(0,get_scroll_container.Z)(targetElement,"horizontal"),doc=targetElement.ownerDocument,windowScroll=scrollContainer===doc.body||scrollContainer===doc.documentElement;if(scrollContainer&&!windowScroll){const scrollContainerRect=scrollContainer.getBoundingClientRect(),scrollbarWidth=rtl?scrollContainer.offsetWidth-scrollContainer.clientWidth:0;left<scrollContainerRect.left+scrollbarWidth&&(left=scrollContainerRect.left+scrollbarWidth)}"top"===dropPosition?(top=rect.top,bottom=rect.top):(top=rect.bottom,bottom=rect.bottom);const width=getDropIndicatorWidth(rect,indent),height=bottom-top;return new window.DOMRect(left,top,width,height)}}}),[targetElement,dropPosition,getDropIndicatorIndent,getDropIndicatorWidth,rtl]);return targetElement?(0,react.createElement)(popover.ZP,{animate:!1,anchor:popoverAnchor,focusOnMount:!1,className:"block-editor-list-view-drop-indicator",variant:"unstyled"},(0,react.createElement)("div",{style:style,className:"block-editor-list-view-drop-indicator__line"})):null}function useBlockSelection(){const{clearSelectedBlock:clearSelectedBlock,multiSelect:multiSelect,selectBlock:selectBlock}=(0,use_dispatch.Z)(store),{getBlockName:getBlockName,getBlockParents:getBlockParents,getBlockSelectionStart:getBlockSelectionStart,getSelectedBlockClientIds:getSelectedBlockClientIds,hasMultiSelection:hasMultiSelection,hasSelectedBlock:hasSelectedBlock}=(0,use_select.Z)(store),{getBlockType:getBlockType}=(0,use_select.Z)(build_module.h);return{updateBlockSelection:(0,react.useCallback)((async(event,clientId,destinationClientId,focusPosition)=>{if(!event?.shiftKey&&event?.keyCode!==keycodes_build_module.hY)return void selectBlock(clientId,focusPosition);event.preventDefault();const isOnlyDeselection="keydown"===event.type&&event.keyCode===keycodes_build_module.hY,isKeyPress="keydown"===event.type&&(event.keyCode===keycodes_build_module.UP||event.keyCode===keycodes_build_module.WV||event.keyCode===keycodes_build_module.Sd||event.keyCode===keycodes_build_module.uR);if(!isKeyPress&&!hasSelectedBlock()&&!hasMultiSelection())return void selectBlock(clientId,null);const selectedBlocks=getSelectedBlockClientIds(),clientIdWithParents=[...getBlockParents(clientId),clientId];if((isOnlyDeselection||isKeyPress&&!selectedBlocks.some((blockId=>clientIdWithParents.includes(blockId))))&&await clearSelectedBlock(),!isOnlyDeselection){let startTarget=getBlockSelectionStart(),endTarget=clientId;isKeyPress&&(hasSelectedBlock()||hasMultiSelection()||(startTarget=clientId),destinationClientId&&(endTarget=destinationClientId));const startParents=getBlockParents(startTarget),endParents=getBlockParents(endTarget),{start:start,end:end}=function getCommonDepthClientIds(startId,endId,startParents,endParents){const startPath=[...startParents,startId],endPath=[...endParents,endId],depth=Math.min(startPath.length,endPath.length)-1;return{start:startPath[depth],end:endPath[depth]}}(startTarget,endTarget,startParents,endParents);await multiSelect(start,end,null)}const updatedSelectedBlocks=getSelectedBlockClientIds();if((event.keyCode===keycodes_build_module.Sd||event.keyCode===keycodes_build_module.uR)&&updatedSelectedBlocks.length>1)return;const selectionDiff=selectedBlocks.filter((blockId=>!updatedSelectedBlocks.includes(blockId)));let label;if(1===selectionDiff.length){const title=getBlockType(getBlockName(selectionDiff[0]))?.title;title&&(label=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s deselected."),title))}else selectionDiff.length>1&&(label=(0,i18n_build_module.gB)((0,i18n_build_module.__)("%s blocks deselected."),selectionDiff.length));label&&(0,a11y_build_module.D)(label,"assertive")}),[clearSelectedBlock,getBlockName,getBlockType,getBlockParents,getBlockSelectionStart,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock,multiSelect,selectBlock])}}ListViewDropIndicator.__docgenInfo={description:"",methods:[],displayName:"ListViewDropIndicator"};const NESTING_LEVEL_INDENTATION=28;function getNextNonDraggedBlock(blocksData,index){const nextBlockData=blocksData[index+1];return nextBlockData&&nextBlockData.isDraggedBlock?getNextNonDraggedBlock(blocksData,index+1):nextBlockData}const ALLOWED_DROP_EDGES=["top","bottom"];function getListViewDropTarget(blocksData,position,rtl=!1){let candidateEdge,candidateBlockData,candidateDistance,candidateRect,candidateBlockIndex;for(let i=0;i<blocksData.length;i++){const blockData=blocksData[i];if(blockData.isDraggedBlock)continue;const rect=blockData.element.getBoundingClientRect(),[distance,edge]=getDistanceToNearestEdge(position,rect,ALLOWED_DROP_EDGES),isCursorWithinBlock=isPointContainedByRect(position,rect);if(void 0===candidateDistance||distance<candidateDistance||isCursorWithinBlock){candidateDistance=distance;const index=blocksData.indexOf(blockData),previousBlockData=blocksData[index-1];if("top"===edge&&previousBlockData&&previousBlockData.rootClientId===blockData.rootClientId&&!previousBlockData.isDraggedBlock?(candidateBlockData=previousBlockData,candidateEdge="bottom",candidateRect=previousBlockData.element.getBoundingClientRect(),candidateBlockIndex=index-1):(candidateBlockData=blockData,candidateEdge=edge,candidateRect=rect,candidateBlockIndex=index),isCursorWithinBlock)break}}if(!candidateBlockData)return;const candidateBlockParents=function getCandidateBlockParents(candidateBlockData,blocksData){const candidateBlockParents=[];let currentBlockData=candidateBlockData;for(;currentBlockData;)candidateBlockParents.push({...currentBlockData}),currentBlockData=blocksData.find((blockData=>blockData.clientId===currentBlockData.rootClientId));return candidateBlockParents}(candidateBlockData,blocksData),isDraggingBelow="bottom"===candidateEdge;if(isDraggingBelow&&candidateBlockData.canInsertDraggedBlocksAsChild&&(candidateBlockData.innerBlockCount>0&&candidateBlockData.isExpanded||function isNestingGesture(point,rect,nestingLevel=1,rtl=!1){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;return(rtl?point.x<blockIndentPosition-NESTING_LEVEL_INDENTATION:point.x>blockIndentPosition+NESTING_LEVEL_INDENTATION)&&point.y<rect.bottom}(position,candidateRect,candidateBlockParents.length,rtl))){const newBlockIndex=candidateBlockData.isExpanded?0:candidateBlockData.innerBlockCount||0;return{rootClientId:candidateBlockData.clientId,blockIndex:newBlockIndex,dropPosition:"inside"}}if(isDraggingBelow&&candidateBlockData.rootClientId&&function isUpGesture(point,rect,nestingLevel=1,rtl=!1){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION;return rtl?point.x>blockIndentPosition:point.x<blockIndentPosition}(position,candidateRect,candidateBlockParents.length,rtl)){const nextBlock=getNextNonDraggedBlock(blocksData,candidateBlockIndex),currentLevel=candidateBlockData.nestingLevel,nextLevel=nextBlock?nextBlock.nestingLevel:1;if(currentLevel&&nextLevel){const desiredRelativeLevel=function getDesiredRelativeParentLevel(point,rect,nestingLevel=1,rtl=!1){const blockIndentPosition=rtl?rect.right-nestingLevel*NESTING_LEVEL_INDENTATION:rect.left+nestingLevel*NESTING_LEVEL_INDENTATION,distanceBetweenPointAndBlockIndentPosition=rtl?blockIndentPosition-point.x:point.x-blockIndentPosition,desiredParentLevel=Math.round(distanceBetweenPointAndBlockIndentPosition/NESTING_LEVEL_INDENTATION);return Math.abs(desiredParentLevel)}(position,candidateRect,candidateBlockParents.length,rtl),targetParentIndex=Math.max(Math.min(desiredRelativeLevel,currentLevel-nextLevel),0);if(candidateBlockParents[targetParentIndex]){let newBlockIndex=candidateBlockData.blockIndex;if(candidateBlockParents[targetParentIndex].nestingLevel===nextBlock?.nestingLevel)newBlockIndex=nextBlock?.blockIndex;else for(let i=candidateBlockIndex;i>=0;i--){const blockData=blocksData[i];if(blockData.rootClientId===candidateBlockParents[targetParentIndex].rootClientId){newBlockIndex=blockData.blockIndex+1;break}}return{rootClientId:candidateBlockParents[targetParentIndex].rootClientId,clientId:candidateBlockData.clientId,blockIndex:newBlockIndex,dropPosition:candidateEdge}}}}if(!candidateBlockData.canInsertDraggedBlocksAsSibling)return;const offset=isDraggingBelow?1:0;return{rootClientId:candidateBlockData.rootClientId,clientId:candidateBlockData.clientId,blockIndex:candidateBlockData.blockIndex+offset,dropPosition:candidateEdge}}const expanded=(state,action)=>Array.isArray(action.clientIds)?{...state,...action.clientIds.reduce(((newState,id)=>({...newState,[id]:"expand"===action.type})),{})}:state;function ListViewComponent({id:id,blocks:blocks,dropZoneElement:dropZoneElement,showBlockMovers:showBlockMovers=!1,isExpanded:isExpanded=!1,showAppender:showAppender=!1,blockSettingsMenu:BlockSettingsMenu=BlockSettingsDropdown,rootClientId:rootClientId,description:description,onSelect:onSelect,additionalBlockContent:AdditionalBlockContent},ref){blocks&&(0,deprecated_build_module.Z)("`blocks` property in `wp.blockEditor.__experimentalListView`",{since:"6.3",alternative:"`rootClientId` property"});const instanceId=(0,use_instance_id.Z)(ListViewComponent),{clientIdsTree:clientIdsTree,draggedClientIds:draggedClientIds,selectedClientIds:selectedClientIds}=function useListViewClientIds({blocks:blocks,rootClientId:rootClientId}){return(0,use_select.Z)((select=>{const{getDraggedBlockClientIds:getDraggedBlockClientIds,getSelectedBlockClientIds:getSelectedBlockClientIds,getEnabledClientIdsTree:getEnabledClientIdsTree}=unlock(select(store));return{selectedClientIds:getSelectedBlockClientIds(),draggedClientIds:getDraggedBlockClientIds(),clientIdsTree:null!=blocks?blocks:getEnabledClientIdsTree(rootClientId)}}),[blocks,rootClientId])}({blocks:blocks,rootClientId:rootClientId}),{getBlock:getBlock}=(0,use_select.Z)(store),{visibleBlockCount:visibleBlockCount,shouldShowInnerBlocks:shouldShowInnerBlocks}=(0,use_select.Z)((select=>{const{getGlobalBlockCount:getGlobalBlockCount,getClientIdsOfDescendants:getClientIdsOfDescendants,__unstableGetEditorMode:__unstableGetEditorMode}=select(store),draggedBlockCount=draggedClientIds?.length>0?getClientIdsOfDescendants(draggedClientIds).length+1:0;return{visibleBlockCount:getGlobalBlockCount()-draggedBlockCount,shouldShowInnerBlocks:"zoom-out"!==__unstableGetEditorMode()}}),[draggedClientIds]),{updateBlockSelection:updateBlockSelection}=useBlockSelection(),[expandedState,setExpandedState]=(0,react.useReducer)(expanded,{}),{ref:dropZoneRef,target:blockDropTarget}=function useListViewDropZone({dropZoneElement:dropZoneElement}){const{getBlockRootClientId:getBlockRootClientId,getBlockIndex:getBlockIndex,getBlockCount:getBlockCount,getDraggedBlockClientIds:getDraggedBlockClientIds,canInsertBlocks:canInsertBlocks}=(0,use_select.Z)(store),[target,setTarget]=(0,react.useState)(),{rootClientId:targetRootClientId,blockIndex:targetBlockIndex}=target||{},onBlockDrop=useOnBlockDrop(targetRootClientId,targetBlockIndex),rtl=(0,i18n_build_module.dZ)(),draggedBlockClientIds=getDraggedBlockClientIds(),throttled=(0,use_throttle.Z)((0,react.useCallback)(((event,currentTarget)=>{const position={x:event.clientX,y:event.clientY},isBlockDrag=!!draggedBlockClientIds?.length,newTarget=getListViewDropTarget(Array.from(currentTarget.querySelectorAll("[data-block]")).map((blockElement=>{const clientId=blockElement.dataset.block,isExpanded="true"===blockElement.dataset.expanded,isDraggedBlock=blockElement.classList.contains("is-dragging"),nestingLevel=parseInt(blockElement.getAttribute("aria-level"),10),rootClientId=getBlockRootClientId(clientId);return{clientId:clientId,isExpanded:isExpanded,rootClientId:rootClientId,blockIndex:getBlockIndex(clientId),element:blockElement,nestingLevel:nestingLevel||void 0,isDraggedBlock:!!isBlockDrag&&isDraggedBlock,innerBlockCount:getBlockCount(clientId),canInsertDraggedBlocksAsSibling:!isBlockDrag||canInsertBlocks(draggedBlockClientIds,rootClientId),canInsertDraggedBlocksAsChild:!isBlockDrag||canInsertBlocks(draggedBlockClientIds,clientId)}})),position,rtl);newTarget&&setTarget(newTarget)}),[canInsertBlocks,draggedBlockClientIds,getBlockCount,getBlockIndex,getBlockRootClientId,rtl]),200);return{ref:(0,use_drop_zone.Z)({dropZoneElement:dropZoneElement,onDrop(event){target&&onBlockDrop(event)},onDragLeave(){throttled.cancel(),setTarget(null)},onDragOver(event){throttled(event,event.currentTarget)},onDragEnd(){throttled.cancel(),setTarget(null)}}),target:target}}({dropZoneElement:dropZoneElement}),elementRef=(0,react.useRef)(),treeGridRef=(0,use_merge_refs.Z)([elementRef,dropZoneRef,ref]),[insertedBlock,setInsertedBlock]=(0,react.useState)(null),{setSelectedTreeId:setSelectedTreeId}=function useListViewExpandSelectedItem({firstSelectedBlockClientId:firstSelectedBlockClientId,setExpandedState:setExpandedState}){const[selectedTreeId,setSelectedTreeId]=(0,react.useState)(null),{selectedBlockParentClientIds:selectedBlockParentClientIds}=(0,use_select.Z)((select=>{const{getBlockParents:getBlockParents}=select(store);return{selectedBlockParentClientIds:getBlockParents(firstSelectedBlockClientId,!1)}}),[firstSelectedBlockClientId]);return(0,react.useEffect)((()=>{selectedTreeId!==firstSelectedBlockClientId&&selectedBlockParentClientIds?.length&&setExpandedState({type:"expand",clientIds:selectedBlockParentClientIds})}),[firstSelectedBlockClientId,selectedBlockParentClientIds,selectedTreeId,setExpandedState]),{setSelectedTreeId:setSelectedTreeId}}({firstSelectedBlockClientId:selectedClientIds[0],setExpandedState:setExpandedState}),selectEditorBlock=(0,react.useCallback)(((event,blockClientId,focusPosition)=>{updateBlockSelection(event,blockClientId,null,focusPosition),setSelectedTreeId(blockClientId),onSelect&&onSelect(getBlock(blockClientId))}),[setSelectedTreeId,updateBlockSelection,onSelect,getBlock]);(0,react.useEffect)((()=>{selectedClientIds?.length&&focusListItem(selectedClientIds[0],elementRef)}),[]);const expand=(0,react.useCallback)((clientId=>{clientId&&setExpandedState({type:"expand",clientIds:[clientId]})}),[setExpandedState]),collapse=(0,react.useCallback)((clientId=>{clientId&&setExpandedState({type:"collapse",clientIds:[clientId]})}),[setExpandedState]),expandRow=(0,react.useCallback)((row=>{expand(row?.dataset?.block)}),[expand]),collapseRow=(0,react.useCallback)((row=>{collapse(row?.dataset?.block)}),[collapse]),focusRow=(0,react.useCallback)(((event,startRow,endRow)=>{event.shiftKey&&updateBlockSelection(event,startRow?.dataset?.block,endRow?.dataset?.block)}),[updateBlockSelection]),contextValue=(0,react.useMemo)((()=>({draggedClientIds:draggedClientIds,expandedState:expandedState,expand:expand,collapse:collapse,BlockSettingsMenu:BlockSettingsMenu,listViewInstanceId:instanceId,AdditionalBlockContent:AdditionalBlockContent,insertedBlock:insertedBlock,setInsertedBlock:setInsertedBlock,treeGridElementRef:elementRef,rootClientId:rootClientId})),[draggedClientIds,expandedState,expand,collapse,BlockSettingsMenu,instanceId,AdditionalBlockContent,insertedBlock,setInsertedBlock,rootClientId]),[fixedListWindow]=function useFixedWindowList(elementRef,itemHeight,totalItems,options){var _options$initWindowSi,_options$useWindowing;const initWindowSize=null!==(_options$initWindowSi=options?.initWindowSize)&&void 0!==_options$initWindowSi?_options$initWindowSi:DEFAULT_INIT_WINDOW_SIZE,useWindowing=null===(_options$useWindowing=options?.useWindowing)||void 0===_options$useWindowing||_options$useWindowing,[fixedListWindow,setFixedListWindow]=(0,react.useState)({visibleItems:initWindowSize,start:0,end:initWindowSize,itemInView:index=>index>=0&&index<=initWindowSize});return(0,react.useLayoutEffect)((()=>{if(!useWindowing)return;const scrollContainer=(0,get_scroll_container.Z)(elementRef.current),measureWindow=initRender=>{var _options$windowOversc;if(!scrollContainer)return;const visibleItems=Math.ceil(scrollContainer.clientHeight/itemHeight),windowOverscan=initRender?visibleItems:null!==(_options$windowOversc=options?.windowOverscan)&&void 0!==_options$windowOversc?_options$windowOversc:visibleItems,firstViewableIndex=Math.floor(scrollContainer.scrollTop/itemHeight),start=Math.max(0,firstViewableIndex-windowOverscan),end=Math.min(totalItems-1,firstViewableIndex+visibleItems+windowOverscan);setFixedListWindow((lastWindow=>{const nextWindow={visibleItems:visibleItems,start:start,end:end,itemInView:index=>start<=index&&index<=end};return lastWindow.start!==nextWindow.start||lastWindow.end!==nextWindow.end||lastWindow.visibleItems!==nextWindow.visibleItems?nextWindow:lastWindow}))};measureWindow(!0);const debounceMeasureList=(0,debounce.D)((()=>{measureWindow()}),16);return scrollContainer?.addEventListener("scroll",debounceMeasureList),scrollContainer?.ownerDocument?.defaultView?.addEventListener("resize",debounceMeasureList),scrollContainer?.ownerDocument?.defaultView?.addEventListener("resize",debounceMeasureList),()=>{scrollContainer?.removeEventListener("scroll",debounceMeasureList),scrollContainer?.ownerDocument?.defaultView?.removeEventListener("resize",debounceMeasureList)}}),[itemHeight,elementRef,totalItems,options?.expandedState,options?.windowOverscan,useWindowing]),(0,react.useLayoutEffect)((()=>{if(!useWindowing)return;const scrollContainer=(0,get_scroll_container.Z)(elementRef.current),handleKeyDown=event=>{switch(event.keyCode){case keycodes_build_module.Sd:return scrollContainer?.scrollTo({top:0});case keycodes_build_module.uR:return scrollContainer?.scrollTo({top:totalItems*itemHeight});case keycodes_build_module.wx:return scrollContainer?.scrollTo({top:scrollContainer.scrollTop-fixedListWindow.visibleItems*itemHeight});case keycodes_build_module.Bi:return scrollContainer?.scrollTo({top:scrollContainer.scrollTop+fixedListWindow.visibleItems*itemHeight})}};return scrollContainer?.ownerDocument?.defaultView?.addEventListener("keydown",handleKeyDown),()=>{scrollContainer?.ownerDocument?.defaultView?.removeEventListener("keydown",handleKeyDown)}}),[totalItems,itemHeight,elementRef,fixedListWindow.visibleItems,useWindowing,options?.expandedState]),[fixedListWindow,setFixedListWindow]}(elementRef,36,visibleBlockCount,{expandedState:expandedState,useWindowing:!0,windowOverscan:40});if(!clientIdsTree.length&&!showAppender)return null;const describedById=description&&`block-editor-list-view-description-${instanceId}`;return(0,react.createElement)(async_mode_provider_context.ZP,{value:!0},(0,react.createElement)(ListViewDropIndicator,{listViewRef:elementRef,blockDropTarget:blockDropTarget}),description&&(0,react.createElement)(visually_hidden_component.Z,{id:describedById},description),(0,react.createElement)(tree_grid,{id:id,className:"block-editor-list-view-tree","aria-label":(0,i18n_build_module.__)("Block navigation structure"),ref:treeGridRef,onCollapseRow:collapseRow,onExpandRow:expandRow,onFocusRow:focusRow,applicationAriaLabel:(0,i18n_build_module.__)("Block navigation structure"),"aria-describedby":describedById},(0,react.createElement)(ListViewContext.Provider,{value:contextValue},(0,react.createElement)(branch,{blocks:clientIdsTree,parentId:rootClientId,selectBlock:selectEditorBlock,showBlockMovers:showBlockMovers,fixedListWindow:fixedListWindow,selectedClientIds:selectedClientIds,isExpanded:isExpanded,shouldShowInnerBlocks:shouldShowInnerBlocks,showAppender:showAppender}))))}const PrivateListView=(0,react.forwardRef)(ListViewComponent);(0,react.forwardRef)(((props,ref)=>(0,react.createElement)(PrivateListView,{ref:ref,...props,showAppender:!1,rootClientId:null,onSelect:null,additionalBlockContent:null,blockSettingsMenu:void 0})));function BlockRemovalWarningModal({rules:rules}){const{clientIds:clientIds,selectPrevious:selectPrevious,blockNamesForPrompt:blockNamesForPrompt}=(0,use_select.Z)((select=>unlock(select(store)).getRemovalPromptData())),{clearBlockRemovalPrompt:clearBlockRemovalPrompt,setBlockRemovalRules:setBlockRemovalRules,privateRemoveBlocks:privateRemoveBlocks}=unlock((0,use_dispatch.Z)(store));if((0,react.useEffect)((()=>(setBlockRemovalRules(rules),()=>{setBlockRemovalRules()})),[rules,setBlockRemovalRules]),!blockNamesForPrompt)return;return(0,react.createElement)(modal.Z,{title:(0,i18n_build_module.__)("Are you sure?"),onRequestClose:clearBlockRemovalPrompt},1===blockNamesForPrompt.length?(0,react.createElement)("p",null,rules[blockNamesForPrompt[0]]):(0,react.createElement)("ul",{style:{listStyleType:"disc",paddingLeft:"1rem"}},blockNamesForPrompt.map((name=>(0,react.createElement)("li",{key:name},rules[name])))),(0,react.createElement)("p",null,blockNamesForPrompt.length>1?(0,i18n_build_module.__)("Removing these blocks is not advised."):(0,i18n_build_module.__)("Removing this block is not advised.")),(0,react.createElement)(h_stack_component.Z,{justify:"right"},(0,react.createElement)(build_module_button.ZP,{variant:"tertiary",onClick:clearBlockRemovalPrompt},(0,i18n_build_module.__)("Cancel")),(0,react.createElement)(build_module_button.ZP,{variant:"primary",onClick:()=>{privateRemoveBlocks(clientIds,selectPrevious,!0),clearBlockRemovalPrompt()}},(0,i18n_build_module.__)("Delete"))))}ListViewComponent.__docgenInfo={description:"Show a hierarchical list of blocks.\n\n@param {Object}         props                        Components props.\n@param {string}         props.id                     An HTML element id for the root element of ListView.\n@param {Array}          props.blocks                 _deprecated_ Custom subset of block client IDs to be used instead of the default hierarchy.\n@param {?HTMLElement}   props.dropZoneElement        Optional element to be used as the drop zone.\n@param {?boolean}       props.showBlockMovers        Flag to enable block movers. Defaults to `false`.\n@param {?boolean}       props.isExpanded             Flag to determine whether nested levels are expanded by default. Defaults to `false`.\n@param {?boolean}       props.showAppender           Flag to show or hide the block appender. Defaults to `false`.\n@param {?ComponentType} props.blockSettingsMenu      Optional more menu substitution. Defaults to the standard `BlockSettingsDropdown` component.\n@param {string}         props.rootClientId           The client id of the root block from which we determine the blocks to show in the list.\n@param {string}         props.description            Optional accessible description for the tree grid component.\n@param {?Function}      props.onSelect               Optional callback to be invoked when a block is selected. Receives the block object that was selected.\n@param {?ComponentType} props.additionalBlockContent Component that renders additional block content UI.\n@param {Ref}            ref                          Forwarded ref",methods:[],displayName:"ListViewComponent",props:{showBlockMovers:{defaultValue:{value:"false",computed:!1},required:!1},isExpanded:{defaultValue:{value:"false",computed:!1},required:!1},showAppender:{defaultValue:{value:"false",computed:!1},required:!1},blockSettingsMenu:{defaultValue:{value:"BlockSettingsDropdown",computed:!0},required:!1}}},BlockRemovalWarningModal.__docgenInfo={description:"",methods:[],displayName:"BlockRemovalWarningModal"};const DEFAULT_ASPECT_RATIO_OPTIONS=[{label:(0,i18n_build_module._x)("Original","Aspect ratio option for dimensions control"),value:"auto"},{label:(0,i18n_build_module._x)("Square - 1:1","Aspect ratio option for dimensions control"),value:"1"},{label:(0,i18n_build_module._x)("Standard - 4:3","Aspect ratio option for dimensions control"),value:"4/3"},{label:(0,i18n_build_module._x)("Portrait - 3:4","Aspect ratio option for dimensions control"),value:"3/4"},{label:(0,i18n_build_module._x)("Classic - 3:2","Aspect ratio option for dimensions control"),value:"3/2"},{label:(0,i18n_build_module._x)("Classic Portrait - 2:3","Aspect ratio option for dimensions control"),value:"2/3"},{label:(0,i18n_build_module._x)("Wide - 16:9","Aspect ratio option for dimensions control"),value:"16/9"},{label:(0,i18n_build_module._x)("Tall - 9:16","Aspect ratio option for dimensions control"),value:"9/16"},{label:(0,i18n_build_module._x)("Custom","Aspect ratio option for dimensions control"),value:"custom",disabled:!0,hidden:!0}];function AspectRatioTool({panelId:panelId,value:value,onChange:onChange=(()=>{}),options:options=DEFAULT_ASPECT_RATIO_OPTIONS,defaultValue:defaultValue=DEFAULT_ASPECT_RATIO_OPTIONS[0].value,isShownByDefault:isShownByDefault=!0}){const displayValue=null!=value?value:"auto";return(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>displayValue!==defaultValue,label:(0,i18n_build_module.__)("Aspect ratio"),onDeselect:()=>onChange(void 0),isShownByDefault:isShownByDefault,panelId:panelId},(0,react.createElement)(select_control.Z,{label:(0,i18n_build_module.__)("Aspect ratio"),value:displayValue,options:options,onChange:onChange,size:"__unstable-large",__nextHasNoMarginBottom:!0}))}AspectRatioTool.__docgenInfo={description:"@typedef {Object} AspectRatioToolProps\n@property {string}                       [panelId]          ID of the panel this tool is associated with.\n@property {string}                       [value]            Current aspect ratio value.\n@property {AspectRatioToolPropsOnChange} [onChange]         Callback to update the aspect ratio value.\n@property {SelectControlProps[]}         [options]          Aspect ratio options.\n@property {string}                       [defaultValue]     Default aspect ratio value.\n@property {boolean}                      [isShownByDefault] Whether the tool is shown by default.",methods:[],displayName:"AspectRatioTool",props:{onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},options:{defaultValue:{value:"[{\n  label: _x('Original', 'Aspect ratio option for dimensions control'),\n  value: 'auto'\n}, {\n  label: _x('Square - 1:1', 'Aspect ratio option for dimensions control'),\n  value: '1'\n}, {\n  label: _x('Standard - 4:3', 'Aspect ratio option for dimensions control'),\n  value: '4/3'\n}, {\n  label: _x('Portrait - 3:4', 'Aspect ratio option for dimensions control'),\n  value: '3/4'\n}, {\n  label: _x('Classic - 3:2', 'Aspect ratio option for dimensions control'),\n  value: '3/2'\n}, {\n  label: _x('Classic Portrait - 2:3', 'Aspect ratio option for dimensions control'),\n  value: '2/3'\n}, {\n  label: _x('Wide - 16:9', 'Aspect ratio option for dimensions control'),\n  value: '16/9'\n}, {\n  label: _x('Tall - 9:16', 'Aspect ratio option for dimensions control'),\n  value: '9/16'\n}, {\n  label: _x('Custom', 'Aspect ratio option for dimensions control'),\n  value: 'custom',\n  disabled: true,\n  hidden: true\n}]",computed:!1},required:!1},defaultValue:{defaultValue:{value:"DEFAULT_ASPECT_RATIO_OPTIONS[0].value",computed:!0},required:!1},isShownByDefault:{defaultValue:{value:"true",computed:!1},required:!1}}};const DEFAULT_SCALE_OPTIONS=[{value:"fill",label:(0,i18n_build_module._x)("Fill","Scale option for dimensions control"),help:(0,i18n_build_module.__)("Fill the space by stretching the content.")},{value:"contain",label:(0,i18n_build_module._x)("Contain","Scale option for dimensions control"),help:(0,i18n_build_module.__)("Fit the content to the space without clipping.")},{value:"cover",label:(0,i18n_build_module._x)("Cover","Scale option for dimensions control"),help:(0,i18n_build_module.__)("Fill the space by clipping what doesn't fit.")},{value:"none",label:(0,i18n_build_module._x)("None","Scale option for dimensions control"),help:(0,i18n_build_module.__)("Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.")},{value:"scale-down",label:(0,i18n_build_module._x)("Scale down","Scale option for dimensions control"),help:(0,i18n_build_module.__)("Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.")}];function ScaleTool({panelId:panelId,value:value,onChange:onChange,options:options=DEFAULT_SCALE_OPTIONS,defaultValue:defaultValue=DEFAULT_SCALE_OPTIONS[0].value,isShownByDefault:isShownByDefault=!0}){const displayValue=null!=value?value:"fill",scaleHelp=(0,react.useMemo)((()=>options.reduce(((acc,option)=>(acc[option.value]=option.help,acc)),{})),[options]);return(0,react.createElement)(tools_panel_item_component.Z,{label:(0,i18n_build_module.__)("Scale"),isShownByDefault:isShownByDefault,hasValue:()=>displayValue!==defaultValue,onDeselect:()=>onChange(defaultValue),panelId:panelId},(0,react.createElement)(toggle_group_control_component.Z,{label:(0,i18n_build_module.__)("Scale"),isBlock:!0,help:scaleHelp[displayValue],value:displayValue,onChange:onChange,size:"__unstable-large"},options.map((option=>(0,react.createElement)(toggle_group_control_option_component.Z,{key:option.value,...option})))))}ScaleTool.__docgenInfo={description:"A tool to select the CSS object-fit property for the image.\n\n@param {ScaleToolProps} props\n\n@return {import('react').ReactElement} The scale tool.",methods:[],displayName:"ScaleTool",props:{options:{defaultValue:{value:"[{\n  value: 'fill',\n  label: _x('Fill', 'Scale option for dimensions control'),\n  help: __('Fill the space by stretching the content.')\n}, {\n  value: 'contain',\n  label: _x('Contain', 'Scale option for dimensions control'),\n  help: __('Fit the content to the space without clipping.')\n}, {\n  value: 'cover',\n  label: _x('Cover', 'Scale option for dimensions control'),\n  help: __(\"Fill the space by clipping what doesn't fit.\")\n}, {\n  value: 'none',\n  label: _x('None', 'Scale option for dimensions control'),\n  help: __('Do not adjust the sizing of the content. Content that is too large will be clipped, and content that is too small will have additional padding.')\n}, {\n  value: 'scale-down',\n  label: _x('Scale down', 'Scale option for dimensions control'),\n  help: __('Scale down the content to fit the space if it is too big. Content that is too small will have additional padding.')\n}]",computed:!1},required:!1},defaultValue:{defaultValue:{value:"DEFAULT_SCALE_OPTIONS[0].value",computed:!0},required:!1},isShownByDefault:{defaultValue:{value:"true",computed:!1},required:!1}}};const SingleColumnToolsPanelItem=(0,emotion_styled_base_browser_esm.Z)(tools_panel_item_component.Z,{target:"ef8pe3d0"})({name:"957xgf",styles:"grid-column:span 1"});function WidthHeightTool({panelId:panelId,value:value={},onChange:onChange=(()=>{}),units:units,isShownByDefault:isShownByDefault=!0}){var _value$width,_value$height;const width="auto"===value.width?"":null!==(_value$width=value.width)&&void 0!==_value$width?_value$width:"",height="auto"===value.height?"":null!==(_value$height=value.height)&&void 0!==_value$height?_value$height:"",onDimensionChange=dimension=>nextDimension=>{const nextValue={...value};nextDimension?nextValue[dimension]=nextDimension:delete nextValue[dimension],onChange(nextValue)};return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(SingleColumnToolsPanelItem,{label:(0,i18n_build_module.__)("Width"),isShownByDefault:isShownByDefault,hasValue:()=>""!==width,onDeselect:onDimensionChange("width"),panelId:panelId},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Width"),placeholder:(0,i18n_build_module.__)("Auto"),labelPosition:"top",units:units,min:0,value:width,onChange:onDimensionChange("width"),size:"__unstable-large"})),(0,react.createElement)(SingleColumnToolsPanelItem,{label:(0,i18n_build_module.__)("Height"),isShownByDefault:isShownByDefault,hasValue:()=>""!==height,onDeselect:onDimensionChange("height"),panelId:panelId},(0,react.createElement)(unit_control.ZP,{label:(0,i18n_build_module.__)("Height"),placeholder:(0,i18n_build_module.__)("Auto"),labelPosition:"top",units:units,min:0,value:height,onChange:onDimensionChange("height"),size:"__unstable-large"})))}function DimensionsTool({panelId:panelId,value:value={},onChange:onChange=(()=>{}),aspectRatioOptions:aspectRatioOptions,defaultAspectRatio:defaultAspectRatio="auto",scaleOptions:scaleOptions,defaultScale:defaultScale="fill",unitsOptions:unitsOptions}){const width=void 0===value.width||"auto"===value.width?null:value.width,height=void 0===value.height||"auto"===value.height?null:value.height,aspectRatio=void 0===value.aspectRatio||"auto"===value.aspectRatio?null:value.aspectRatio,scale=void 0===value.scale||"fill"===value.scale?null:value.scale,[lastScale,setLastScale]=(0,react.useState)(scale),[lastAspectRatio,setLastAspectRatio]=(0,react.useState)(aspectRatio),aspectRatioValue=width&&height?"custom":lastAspectRatio,showScaleControl=aspectRatio||width&&height;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(AspectRatioTool,{panelId:panelId,options:aspectRatioOptions,defaultValue:defaultAspectRatio,value:aspectRatioValue,onChange:nextAspectRatio=>{const nextValue={...value};setLastAspectRatio(nextAspectRatio="auto"===nextAspectRatio?null:nextAspectRatio),nextAspectRatio?nextValue.aspectRatio=nextAspectRatio:delete nextValue.aspectRatio,nextAspectRatio?lastScale?nextValue.scale=lastScale:(nextValue.scale=defaultScale,setLastScale(defaultScale)):delete nextValue.scale,"custom"!==nextAspectRatio&&width&&height&&delete nextValue.height,onChange(nextValue)}}),(0,react.createElement)(WidthHeightTool,{panelId:panelId,units:unitsOptions,value:{width:width,height:height},onChange:({width:nextWidth,height:nextHeight})=>{const nextValue={...value};nextHeight="auto"===nextHeight?null:nextHeight,(nextWidth="auto"===nextWidth?null:nextWidth)?nextValue.width=nextWidth:delete nextValue.width,nextHeight?nextValue.height=nextHeight:delete nextValue.height,nextWidth&&nextHeight?delete nextValue.aspectRatio:lastAspectRatio&&(nextValue.aspectRatio=lastAspectRatio),lastAspectRatio||!!nextWidth==!!nextHeight?lastScale?nextValue.scale=lastScale:(nextValue.scale=defaultScale,setLastScale(defaultScale)):delete nextValue.scale,onChange(nextValue)}}),showScaleControl&&(0,react.createElement)(ScaleTool,{panelId:panelId,options:scaleOptions,defaultValue:defaultScale,value:lastScale,onChange:nextScale=>{const nextValue={...value};setLastScale(nextScale="fill"===nextScale?null:nextScale),nextScale?nextValue.scale=nextScale:delete nextValue.scale,onChange(nextValue)}}))}WidthHeightTool.__docgenInfo={description:"Component that renders controls to edit the dimensions of an image or container.\n\n@param {WidthHeightToolProps} props The component props.\n\n@return {import('react').ReactElement} The width and height tool.",methods:[],displayName:"WidthHeightTool",props:{value:{defaultValue:{value:"{}",computed:!1},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},isShownByDefault:{defaultValue:{value:"true",computed:!1},required:!1}}},DimensionsTool.__docgenInfo={description:"Component that renders controls to edit the dimensions of an image or container.\n\n@param {DimensionsControlsProps} props The component props.\n\n@return {Element} The dimensions controls.",methods:[],displayName:"DimensionsTool",props:{value:{defaultValue:{value:"{}",computed:!1},required:!1},onChange:{defaultValue:{value:"() => {}",computed:!1},required:!1},defaultAspectRatio:{defaultValue:{value:"'auto'",computed:!1},required:!1},defaultScale:{defaultValue:{value:"'fill'",computed:!1},required:!1}}};var dimensions_tool=DimensionsTool;const DEFAULT_SIZE_OPTIONS=[{label:(0,i18n_build_module._x)("Thumbnail","Image size option for resolution control"),value:"thumbnail"},{label:(0,i18n_build_module._x)("Medium","Image size option for resolution control"),value:"medium"},{label:(0,i18n_build_module._x)("Large","Image size option for resolution control"),value:"large"},{label:(0,i18n_build_module._x)("Full Size","Image size option for resolution control"),value:"full"}];function ResolutionTool({panelId:panelId,value:value,onChange:onChange,options:options=DEFAULT_SIZE_OPTIONS,defaultValue:defaultValue=DEFAULT_SIZE_OPTIONS[0].value,isShownByDefault:isShownByDefault=!0}){const displayValue=null!=value?value:defaultValue;return(0,react.createElement)(tools_panel_item_component.Z,{hasValue:()=>displayValue!==defaultValue,label:(0,i18n_build_module.__)("Resolution"),onDeselect:()=>onChange(defaultValue),isShownByDefault:isShownByDefault,panelId:panelId},(0,react.createElement)(select_control.Z,{label:(0,i18n_build_module.__)("Resolution"),value:displayValue,options:options,onChange:onChange,help:(0,i18n_build_module.__)("Select the size of the source image."),size:"__unstable-large"}))}ResolutionTool.__docgenInfo={description:"",methods:[],displayName:"ResolutionTool",props:{options:{defaultValue:{value:"[{\n  label: _x('Thumbnail', 'Image size option for resolution control'),\n  value: 'thumbnail'\n}, {\n  label: _x('Medium', 'Image size option for resolution control'),\n  value: 'medium'\n}, {\n  label: _x('Large', 'Image size option for resolution control'),\n  value: 'large'\n}, {\n  label: _x('Full Size', 'Image size option for resolution control'),\n  value: 'full'\n}]",computed:!1},required:!1},defaultValue:{defaultValue:{value:"DEFAULT_SIZE_OPTIONS[0].value",computed:!0},required:!1},isShownByDefault:{defaultValue:{value:"true",computed:!1},required:!1}}};function ReusableBlocksRenameHint(){const isReusableBlocksRenameHint=(0,use_select.Z)((select=>{var _select$get2;return null===(_select$get2=select(build_module_store.h).get("core","isResuableBlocksrRenameHintVisible"))||void 0===_select$get2||_select$get2}),[]),ref=(0,react.useRef)(),{set:setPreference}=(0,use_dispatch.Z)(build_module_store.h);return isReusableBlocksRenameHint?(0,react.createElement)("div",{ref:ref,className:"reusable-blocks-menu-items__rename-hint"},(0,react.createElement)("div",{className:"reusable-blocks-menu-items__rename-hint-content"},(0,i18n_build_module.__)("Reusable blocks are now synced patterns. A synced pattern will behave in exactly the same way as a reusable block.")),(0,react.createElement)(build_module_button.ZP,{className:"reusable-blocks-menu-items__rename-hint-dismiss",icon:library_close.Z,iconSize:"16",label:(0,i18n_build_module.__)("Dismiss hint"),onClick:()=>{const previousElement=dom_build_module.T_.tabbable.findPrevious(ref.current);previousElement?.focus(),setPreference("core","isResuableBlocksrRenameHintVisible",!1)},showTooltip:!1})):null}ReusableBlocksRenameHint.__docgenInfo={description:"",methods:[],displayName:"ReusableBlocksRenameHint"};const privateApis={};lock(privateApis,{...global_styles_namespaceObject,ExperimentalBlockCanvas:ExperimentalBlockCanvas,ExperimentalBlockEditorProvider:ExperimentalBlockEditorProvider,getDuotoneFilter:getDuotoneFilter,getRichTextValues:function getRichTextValues(blocks=[]){build_module.dF.skipFilters=!0;const values=[];return addValuesForBlocks(values,blocks),build_module.dF.skipFilters=!1,values},kebabCase:kebabCase,PrivateInserter:ComposedPrivateInserter,PrivateListView:PrivateListView,ResizableBoxPopover:ResizableBoxPopover,BlockInfo:block_info_slot_fill,BlockContextualToolbar:BlockContextualToolbar,useShouldContextualToolbarShow:useShouldContextualToolbarShow,cleanEmptyObject:utils_cleanEmptyObject,useStyleOverride:useStyleOverride,BlockQuickNavigation:BlockQuickNavigation,LayoutStyle:LayoutStyle,BlockRemovalWarningModal:BlockRemovalWarningModal,useLayoutClasses:useLayoutClasses,useLayoutStyles:function useLayoutStyles(blockAttributes={},blockName,selector){const{layout:layout={},style:style={}}=blockAttributes,usedLayout=layout?.inherit||layout?.contentSize||layout?.wideSize?{...layout,type:"constrained"}:layout||{},fullLayoutType=getLayoutType(usedLayout?.type||"default"),[blockGapSupport]=use_settings_useSettings("spacing.blockGap"),hasBlockGapSupport=null!==blockGapSupport,css=fullLayoutType?.getLayoutStyle?.({blockName:blockName,selector:selector,layout:layout,style:style,hasBlockGapSupport:hasBlockGapSupport});return css},DimensionsTool:dimensions_tool,ResolutionTool:ResolutionTool,ReusableBlocksRenameHint:ReusableBlocksRenameHint,useReusableBlocksRenameHint:function useReusableBlocksRenameHint(){return(0,use_select.Z)((select=>{var _select$get;return null===(_select$get=select(build_module_store.h).get("core","isResuableBlocksrRenameHintVisible"))||void 0===_select$get||_select$get}),[])},usesContextKey:usesContextKey})},"./packages/components/build-module/border-box-control/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{gH:function(){return getBorderDiff},TZ:function(){return getCommonBorder},vw:function(){return getSplitBorders},Le:function(){return hasMixedBorders},Al:function(){return hasSplitBorders},n7:function(){return isCompleteBorder},lX:function(){return isDefinedBorder},TT:function(){return isEmptyBorder}});const UNITED_VALUE_REGEX=/^([\d.\-+]*)\s*(fr|cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%|cap|ic|rlh|vi|vb|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx|svw|lvw|dvw|svh|lvh|dvh|svi|lvi|dvi|svb|lvb|dvb|svmin|lvmin|dvmin|svmax|lvmax|dvmax)?$/;const sides=["top","right","bottom","left"],borderProps=["color","style","width"],isEmptyBorder=border=>!border||!borderProps.some((prop=>void 0!==border[prop])),isDefinedBorder=border=>{if(!border)return!1;if(hasSplitBorders(border)){return!sides.every((side=>isEmptyBorder(border[side])))}return!isEmptyBorder(border)},isCompleteBorder=border=>!!border&&borderProps.every((prop=>void 0!==border[prop])),hasSplitBorders=(border={})=>Object.keys(border).some((side=>-1!==sides.indexOf(side))),hasMixedBorders=borders=>{if(!hasSplitBorders(borders))return!1;const shorthandBorders=sides.map((side=>getShorthandBorderStyle(borders?.[side])));return!shorthandBorders.every((border=>border===shorthandBorders[0]))},getSplitBorders=border=>{if(border&&!isEmptyBorder(border))return{top:border,right:border,bottom:border,left:border}},getBorderDiff=(original,updated)=>{const diff={};return original.color!==updated.color&&(diff.color=updated.color),original.style!==updated.style&&(diff.style=updated.style),original.width!==updated.width&&(diff.width=updated.width),diff},getCommonBorder=borders=>{if(!borders)return;const colors=[],styles=[],widths=[];sides.forEach((side=>{colors.push(borders[side]?.color),styles.push(borders[side]?.style),widths.push(borders[side]?.width)}));const allColorsMatch=colors.every((value=>value===colors[0])),allStylesMatch=styles.every((value=>value===styles[0])),allWidthsMatch=widths.every((value=>value===widths[0]));return{color:allColorsMatch?colors[0]:void 0,style:allStylesMatch?styles[0]:void 0,width:allWidthsMatch?widths[0]:getMostCommonUnit(widths)}},getShorthandBorderStyle=(border,fallbackBorder)=>{if(isEmptyBorder(border))return fallbackBorder;const{color:fallbackColor,style:fallbackStyle,width:fallbackWidth}=fallbackBorder||{},{color:color=fallbackColor,style:style=fallbackStyle,width:width=fallbackWidth}=border;return[width,!!width&&"0"!==width||!!color?style||"solid":style,color].filter(Boolean).join(" ")},getMostCommonUnit=values=>function mode(values){if(0===values.length)return;const map={};let currentMode,maxCount=0;return values.forEach((value=>{map[value]=void 0===map[value]?1:map[value]+1,map[value]>maxCount&&(currentMode=value,maxCount=map[value])})),currentMode}(values.map((value=>void 0===value?void 0:function parseCSSUnitValue(toParse){const matched=toParse.trim().match(UNITED_VALUE_REGEX);if(!matched)return[void 0,void 0];const[,num,unit]=matched;let numParsed=parseFloat(num);return numParsed=Number.isNaN(numParsed)?void 0:numParsed,[numParsed,unit]}(`${value}`)[1])).filter((value=>void 0!==value)))},"./packages/components/build-module/button-group/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);function UnforwardedButtonGroup(props,ref){const{className:className,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-button-group",className);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{ref:ref,role:"group",className:classes,...restProps})}const ButtonGroup=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedButtonGroup);__webpack_exports__.Z=ButtonGroup,UnforwardedButtonGroup.__docgenInfo={description:"Internal dependencies",methods:[],displayName:"UnforwardedButtonGroup"}},"./packages/components/build-module/checkbox-control/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/deprecated/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/icons/build-module/library/reset.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/library/check.js"),_base_control__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/base-control/index.js");function CheckboxControl(props){const{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:label,className:className,heading:heading,checked:checked,indeterminate:indeterminate,help:help,id:idProp,onChange:onChange,...additionalProps}=props;heading&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__.Z)("`heading` prop in `CheckboxControl`",{alternative:"a separate element to implement a heading",since:"5.8"});const[showCheckedIcon,setShowCheckedIcon]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[showIndeterminateIcon,setShowIndeterminateIcon]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),ref=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)((node=>{node&&(node.indeterminate=!!indeterminate,setShowCheckedIcon(node.matches(":checked")),setShowIndeterminateIcon(node.matches(":indeterminate")))}),[checked,indeterminate]),id=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)(CheckboxControl,"inspector-checkbox-control",idProp);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_5__.ZP,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:heading,id:id,help:help,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-checkbox-control",className)},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"components-checkbox-control__input-container"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{ref:ref,id:id,className:"components-checkbox-control__input",type:"checkbox",value:"1",onChange:event=>onChange(event.target.checked),checked:checked,"aria-describedby":help?id+"__help":void 0,...additionalProps}),showIndeterminateIcon?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__.Z,className:"components-checkbox-control__indeterminate",role:"presentation"}):null,showCheckedIcon?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_6__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,className:"components-checkbox-control__checked",role:"presentation"}):null),label&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",{className:"components-checkbox-control__label",htmlFor:id},label))}CheckboxControl.__docgenInfo={description:"Checkboxes allow the user to select one or more items from a set.\n\n```jsx\nimport { CheckboxControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst MyCheckboxControl = () => {\n  const [ isChecked, setChecked ] = useState( true );\n  return (\n    <CheckboxControl\n      label=\"Is author\"\n      help=\"Is the user a author or not?\"\n      checked={ isChecked }\n      onChange={ setChecked }\n    />\n  );\n};\n```",methods:[],displayName:"CheckboxControl"},__webpack_exports__.C=CheckboxControl},"./packages/components/build-module/circular-option-picker/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{ZP:function(){return build_module_circular_option_picker}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js");const CircularOptionPickerContext=(0,react.createContext)({});var VUP7S67H=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/VUP7S67H.js"),_7PHIY4AC=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/7PHIY4AC.js"),icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),check=__webpack_require__("./packages/icons/build-module/library/check.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),CQCRBYV6=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/CQCRBYV6.js"),tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js");const OptionAsButton=(0,react.forwardRef)((function UnforwardedOptionAsButton(props,forwardedRef){const{isPressed:isPressed,...additionalProps}=props;return(0,react.createElement)(build_module_button.ZP,{...additionalProps,"aria-pressed":isPressed,ref:forwardedRef})}));const OptionAsOption=(0,react.forwardRef)((function UnforwardedOptionAsOption(props,forwardedRef){const{id:id,isSelected:isSelected,compositeStore:compositeStore,...additionalProps}=props,activeId=compositeStore.useState("activeId");return isSelected&&!activeId&&compositeStore.setActiveId(id),(0,react.createElement)(CQCRBYV6.A,{render:(0,react.createElement)(build_module_button.ZP,{...additionalProps,role:"option","aria-selected":!!isSelected,ref:forwardedRef}),store:compositeStore,id:id})}));function Option({className:className,isSelected:isSelected,selectedIconProps:selectedIconProps={},tooltipText:tooltipText,...additionalProps}){const{baseId:baseId,compositeStore:compositeStore}=(0,react.useContext)(CircularOptionPickerContext),commonProps={id:(0,use_instance_id.Z)(Option,baseId||"components-circular-option-picker__option"),className:"components-circular-option-picker__option",...additionalProps},optionControl=compositeStore?(0,react.createElement)(OptionAsOption,{...commonProps,compositeStore:compositeStore,isSelected:isSelected}):(0,react.createElement)(OptionAsButton,{...commonProps,isPressed:isSelected});return(0,react.createElement)("div",{className:classnames_default()(className,"components-circular-option-picker__option-wrapper")},tooltipText?(0,react.createElement)(tooltip.Z,{text:tooltipText},optionControl):optionControl,isSelected&&(0,react.createElement)(icon.Z,{icon:check.Z,...selectedIconProps}))}function OptionGroup({className:className,options:options,...additionalProps}){const role="aria-label"in additionalProps||"aria-labelledby"in additionalProps?"group":void 0;return(0,react.createElement)("div",{...additionalProps,role:role,className:classnames_default()("components-circular-option-picker__option-group","components-circular-option-picker__swatches",className)},options)}Option.__docgenInfo={description:"",methods:[],displayName:"Option",props:{selectedIconProps:{defaultValue:{value:"{}",computed:!1},required:!1}}},OptionGroup.__docgenInfo={description:"Internal dependencies",methods:[],displayName:"OptionGroup"};var dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js");function DropdownLinkAction({buttonProps:buttonProps,className:className,dropdownProps:dropdownProps,linkText:linkText}){return(0,react.createElement)(dropdown.Z,{className:classnames_default()("components-circular-option-picker__dropdown-link-action",className),renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react.createElement)(build_module_button.ZP,{"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,variant:"link",...buttonProps},linkText),...dropdownProps})}function ButtonAction({className:className,children:children,...additionalProps}){return(0,react.createElement)(build_module_button.ZP,{className:classnames_default()("components-circular-option-picker__clear",className),variant:"tertiary",...additionalProps},children)}function ListboxCircularOptionPicker(props){const{actions:actions,options:options,baseId:baseId,className:className,loop:loop=!0,children:children,...additionalProps}=props,compositeStore=(0,VUP7S67H.l)({focusLoop:loop,rtl:(0,build_module.dZ)()}),compositeContext={baseId:baseId,compositeStore:compositeStore};return(0,react.createElement)("div",{className:className},(0,react.createElement)(CircularOptionPickerContext.Provider,{value:compositeContext},(0,react.createElement)(_7PHIY4AC.b,{...additionalProps,id:baseId,store:compositeStore,role:"listbox"},options),children,actions))}function ButtonsCircularOptionPicker(props){const{actions:actions,options:options,children:children,baseId:baseId,...additionalProps}=props;return(0,react.createElement)("div",{...additionalProps,id:baseId},(0,react.createElement)(CircularOptionPickerContext.Provider,{value:{baseId:baseId}},options,children,actions))}function CircularOptionPicker(props){const{asButtons:asButtons,actions:actionsProp,options:optionsProp,children:children,className:className,...additionalProps}=props,baseId=(0,use_instance_id.Z)(CircularOptionPicker,"components-circular-option-picker",additionalProps.id),OptionPickerImplementation=asButtons?ButtonsCircularOptionPicker:ListboxCircularOptionPicker,actions=actionsProp?(0,react.createElement)("div",{className:"components-circular-option-picker__custom-clear-wrapper"},actionsProp):void 0,options=(0,react.createElement)("div",{className:"components-circular-option-picker__swatches"},optionsProp);return(0,react.createElement)(OptionPickerImplementation,{...additionalProps,baseId:baseId,className:classnames_default()("components-circular-option-picker",className),actions:actions,options:options},children)}DropdownLinkAction.__docgenInfo={description:"",methods:[],displayName:"DropdownLinkAction"},ButtonAction.__docgenInfo={description:"",methods:[],displayName:"ButtonAction"},CircularOptionPicker.Option=Option,CircularOptionPicker.OptionGroup=OptionGroup,CircularOptionPicker.ButtonAction=ButtonAction,CircularOptionPicker.DropdownLinkAction=DropdownLinkAction,CircularOptionPicker.__docgenInfo={description:"",methods:[],displayName:"CircularOptionPicker"};var build_module_circular_option_picker=CircularOptionPicker},"./packages/components/build-module/color-indicator/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);function UnforwardedColorIndicator(props,forwardedRef){const{className:className,colorValue:colorValue,...additionalProps}=props;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("component-color-indicator",className),style:{background:colorValue},ref:forwardedRef,...additionalProps})}const ColorIndicator=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedColorIndicator);__webpack_exports__.Z=ColorIndicator,UnforwardedColorIndicator.__docgenInfo={description:"Internal dependencies",methods:[],displayName:"UnforwardedColorIndicator"}},"./packages/components/build-module/color-palette/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{qK:function(){return CustomColorPickerDropdown}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),colord__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/colord/plugins/names.mjs"),colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/colord/plugins/a11y.mjs"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/i18n/build-module/index.js"),_dropdown__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/components/build-module/dropdown/index.js"),_color_picker__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/components/build-module/color-picker/legacy-adapter.js"),_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/circular-option-picker/index.js"),_v_stack__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/v-stack/component.js"),_truncate__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/components/build-module/truncate/component.js"),_styles__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/components/build-module/color-palette/styles.js"),_dropdown_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/components/build-module/dropdown/dropdown-content-wrapper.js"),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./packages/components/build-module/color-palette/utils.js");function SinglePalette({className:className,clearColor:clearColor,colors:colors,onChange:onChange,value:value,...additionalProps}){const colorOptions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>colors.map((({color:color,name:name},index)=>{const colordColor=(0,colord__WEBPACK_IMPORTED_MODULE_3__.Vi)(color),isSelected=value===color;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP.Option,{key:`${color}-${index}`,isSelected:isSelected,selectedIconProps:isSelected?{fill:colordColor.contrast()>colordColor.contrast("#000")?"#fff":"#000"}:{},tooltipText:name||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Color code: %s"),color),style:{backgroundColor:color,color:color},onClick:isSelected?clearColor:()=>onChange(color,index),"aria-label":name?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Color: %s"),name):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Color code: %s"),color)})}))),[colors,value,onChange,clearColor]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP.OptionGroup,{className:className,options:colorOptions,...additionalProps})}function MultiplePalettes({className:className,clearColor:clearColor,colors:colors,onChange:onChange,value:value,headingLevel:headingLevel}){const instanceId=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__.Z)(MultiplePalettes,"color-palette");return 0===colors.length?null:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_8__.Z,{spacing:3,className:className},colors.map((({name:name,colors:colorPalette},index)=>{const id=`${instanceId}-${index}`;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_8__.Z,{spacing:2,key:index},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_styles__WEBPACK_IMPORTED_MODULE_9__.A,{id:id,level:headingLevel},name),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(SinglePalette,{clearColor:clearColor,colors:colorPalette,onChange:newColor=>onChange(newColor,index),value:value,"aria-labelledby":id}))})))}function CustomColorPickerDropdown({isRenderedInSidebar:isRenderedInSidebar,popoverProps:receivedPopoverProps,...props}){const popoverProps=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({shift:!0,resize:!1,...isRenderedInSidebar?{placement:"left-start",offset:34}:{placement:"bottom",offset:8},...receivedPopoverProps})),[isRenderedInSidebar,receivedPopoverProps]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_dropdown__WEBPACK_IMPORTED_MODULE_10__.Z,{contentClassName:"components-color-palette__custom-color-dropdown-content",popoverProps:popoverProps,...props})}function UnforwardedColorPalette(props,forwardedRef){const{asButtons:asButtons,loop:loop,clearable:clearable=!0,colors:colors=[],disableCustomColors:disableCustomColors=!1,enableAlpha:enableAlpha=!1,onChange:onChange,value:value,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1,headingLevel:headingLevel=2,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledby,...additionalProps}=props,[normalizedColorValue,setNormalizedColorValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value),clearColor=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>onChange(void 0)),[onChange]),customColorPaletteCallbackRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((node=>{setNormalizedColorValue((0,_utils__WEBPACK_IMPORTED_MODULE_11__.SE)(value,node))}),[value]),hasMultipleColorOrigins=(0,_utils__WEBPACK_IMPORTED_MODULE_11__.v9)(colors),buttonLabelName=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_utils__WEBPACK_IMPORTED_MODULE_11__.OC)(value,colors,hasMultipleColorOrigins)),[value,colors,hasMultipleColorOrigins]),isHex=value?.startsWith("#"),displayValue=value?.replace(/^var\((.+)\)$/,"$1"),customColorAccessibleLabel=displayValue?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)('Custom color picker. The currently selected color is called "%1$s" and has a value of "%2$s".'),buttonLabelName,displayValue):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Custom color picker."),paletteCommonProps={clearColor:clearColor,onChange:onChange,value:value},actions=!!clearable&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP.ButtonAction,{onClick:clearColor},(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Clear"));let metaProps;if(asButtons)metaProps={asButtons:!0};else{const _metaProps={asButtons:!1,loop:loop};metaProps=ariaLabel?{..._metaProps,"aria-label":ariaLabel}:ariaLabelledby?{..._metaProps,"aria-labelledby":ariaLabelledby}:{..._metaProps,"aria-label":(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Custom color picker.")}}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_8__.Z,{spacing:3,ref:forwardedRef,...additionalProps},!disableCustomColors&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(CustomColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,renderContent:()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_dropdown_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_12__.Z,{paddingSize:"none"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_color_picker__WEBPACK_IMPORTED_MODULE_13__.A,{color:normalizedColorValue,onChange:color=>onChange(color),enableAlpha:enableAlpha})),renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"components-color-palette__custom-color-wrapper",spacing:0},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("button",{ref:customColorPaletteCallbackRef,className:"components-color-palette__custom-color-button","aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,"aria-label":customColorAccessibleLabel,style:{background:value},type:"button"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"components-color-palette__custom-color-text-wrapper",spacing:.5},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_truncate__WEBPACK_IMPORTED_MODULE_14__.Z,{className:"components-color-palette__custom-color-name"},value?buttonLabelName:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("No color selected")),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_truncate__WEBPACK_IMPORTED_MODULE_14__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-color-palette__custom-color-value",{"components-color-palette__custom-color-value--is-hex":isHex})},displayValue)))}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_6__.ZP,{...metaProps,actions:actions,options:hasMultipleColorOrigins?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(MultiplePalettes,{...paletteCommonProps,headingLevel:headingLevel,colors:colors,value:value}):(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(SinglePalette,{...paletteCommonProps,colors:colors,value:value})}))}(0,colord__WEBPACK_IMPORTED_MODULE_3__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_4__.Z,colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_5__.Z]);const ColorPalette=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedColorPalette);__webpack_exports__.ZP=ColorPalette,CustomColorPickerDropdown.__docgenInfo={description:"",methods:[],displayName:"CustomColorPickerDropdown"},UnforwardedColorPalette.__docgenInfo={description:"",methods:[],displayName:"UnforwardedColorPalette"}},"./packages/components/build-module/color-palette/styles.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return ColorHeading}});var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),_heading__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/heading/component.js");const ColorHeading=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.Z)(_heading__WEBPACK_IMPORTED_MODULE_1__.Z,{target:"ev9wop70"})({name:"13lxv2o",styles:"text-transform:uppercase;line-height:24px;font-weight:500;&&&{font-size:11px;margin-bottom:0;}"})},"./packages/components/build-module/color-palette/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{OC:function(){return extractColorNameFromCurrentValue},SE:function(){return normalizeColorValue},v9:function(){return isMultiplePaletteArray}});var colord__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/colord/plugins/names.mjs"),colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/colord/plugins/a11y.mjs"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js");(0,colord__WEBPACK_IMPORTED_MODULE_1__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_2__.Z,colord_plugins_a11y__WEBPACK_IMPORTED_MODULE_3__.Z]);const extractColorNameFromCurrentValue=(currentValue,colors=[],showMultiplePalettes=!1)=>{if(!currentValue)return"";const currentValueIsCssVariable=/^var\(/.test(currentValue),normalizedCurrentValue=currentValueIsCssVariable?currentValue:(0,colord__WEBPACK_IMPORTED_MODULE_1__.Vi)(currentValue).toHex(),colorPalettes=showMultiplePalettes?colors:[{colors:colors}];for(const{colors:paletteColors}of colorPalettes)for(const{name:colorName,color:colorValue}of paletteColors){if(normalizedCurrentValue===(currentValueIsCssVariable?colorValue:(0,colord__WEBPACK_IMPORTED_MODULE_1__.Vi)(colorValue).toHex()))return colorName}return(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Custom")},isMultiplePaletteArray=arr=>arr.length>0&&arr.every((colorObj=>{return obj=colorObj,Array.isArray(obj.colors)&&!("color"in obj);var obj})),normalizeColorValue=(value,element)=>{if(!/^var\(/.test(null!=value?value:"")||null===element)return value;const{ownerDocument:ownerDocument}=element,{defaultView:defaultView}=ownerDocument,computedBackgroundColor=defaultView?.getComputedStyle(element).backgroundColor;return computedBackgroundColor?(0,colord__WEBPACK_IMPORTED_MODULE_1__.Vi)(computedBackgroundColor).toHex():value}},"./packages/components/build-module/color-picker/legacy-adapter.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:function(){return LegacyAdapter}});var react=__webpack_require__("./node_modules/react/index.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),number_control=__webpack_require__("./packages/components/build-module/number-control/index.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js"),box_sizing=__webpack_require__("./packages/components/build-module/utils/box-sizing.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),input_control_styles=__webpack_require__("./packages/components/build-module/input-control/styles/input-control-styles.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const NumberControlWrapper=(0,emotion_styled_base_browser_esm.Z)(number_control.Z,{target:"ez9hsf47"})(input_control_styles.W2,"{width:",(0,space.D)(24),";}"),SelectControl=(0,emotion_styled_base_browser_esm.Z)(select_control.Z,{target:"ez9hsf46"})("margin-left:",(0,space.D)(-2),";width:5em;select:not( :focus )~",input_control_styles.Kg,input_control_styles.Kg,input_control_styles.Kg,"{border-color:transparent;}"),RangeControl=(0,emotion_styled_base_browser_esm.Z)(range_control.Z,{target:"ez9hsf45"})("flex:1;margin-right:",(0,space.D)(2),";"),interactiveHueStyles=`\n.react-colorful__interactive {\n\twidth: calc( 100% - ${(0,space.D)(2)} );\n\tmargin-left: ${(0,space.D)(1)};\n}`,AuxiliaryColorArtefactWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ez9hsf44"})("padding-top:",(0,space.D)(2),";padding-right:0;padding-left:0;padding-bottom:0;"),AuxiliaryColorArtefactHStackHeader=(0,emotion_styled_base_browser_esm.Z)(h_stack_component.Z,{target:"ez9hsf43"})("padding-left:",(0,space.D)(4),";padding-right:",(0,space.D)(4),";"),ColorInputWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"ez9hsf42"})("padding-top:",(0,space.D)(4),";padding-left:",(0,space.D)(4),";padding-right:",(0,space.D)(3),";padding-bottom:",(0,space.D)(5),";"),ColorfulWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ez9hsf41"})(box_sizing.p,";width:216px;.react-colorful{display:flex;flex-direction:column;align-items:center;width:216px;height:auto;}.react-colorful__saturation{width:100%;border-radius:0;height:216px;margin-bottom:",(0,space.D)(4),";border-bottom:none;}.react-colorful__hue,.react-colorful__alpha{width:184px;height:16px;border-radius:16px;margin-bottom:",(0,space.D)(2),";}.react-colorful__pointer{height:16px;width:16px;border:none;box-shadow:0 0 2px 0 rgba( 0, 0, 0, 0.25 );outline:2px solid transparent;}.react-colorful__pointer-fill{box-shadow:inset 0 0 0 ",config_values.Z.borderWidthFocus," #fff;}",interactiveHueStyles,";"),CopyButton=(0,emotion_styled_base_browser_esm.Z)(build_module_button.ZP,{target:"ez9hsf40"})("&&&&&{min-width:",(0,space.D)(6),";padding:0;>svg{margin-right:0;}}");var use_copy_to_clipboard=__webpack_require__("./packages/compose/build-module/hooks/use-copy-to-clipboard/index.js"),copy=__webpack_require__("./packages/icons/build-module/library/copy.js"),tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js");const ColorCopyButton=props=>{const{color:color,colorType:colorType}=props,[copiedColor,setCopiedColor]=(0,react.useState)(null),copyTimer=(0,react.useRef)(),copyRef=(0,use_copy_to_clipboard.Z)((()=>{switch(colorType){case"hsl":return color.toHslString();case"rgb":return color.toRgbString();default:return color.toHex()}}),(()=>{copyTimer.current&&clearTimeout(copyTimer.current),setCopiedColor(color.toHex()),copyTimer.current=setTimeout((()=>{setCopiedColor(null),copyTimer.current=void 0}),3e3)}));return(0,react.useEffect)((()=>()=>{copyTimer.current&&clearTimeout(copyTimer.current)}),[]),(0,react.createElement)(tooltip.Z,{delay:0,hideOnClick:!1,text:copiedColor===color.toHex()?(0,build_module.__)("Copied!"):(0,build_module.__)("Copy")},(0,react.createElement)(CopyButton,{isSmall:!0,ref:copyRef,icon:copy.Z,showTooltip:!1}))};ColorCopyButton.__docgenInfo={description:"",methods:[],displayName:"ColorCopyButton"};var text_component=__webpack_require__("./packages/components/build-module/text/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js");const InputWithSlider=({min:min,max:max,label:label,abbreviation:abbreviation,onChange:onChange,value:value})=>(0,react.createElement)(h_stack_component.Z,{spacing:4},(0,react.createElement)(NumberControlWrapper,{min:min,max:max,label:label,hideLabelFromVision:!0,value:value,onChange:newValue=>{onChange(newValue?"string"!=typeof newValue?newValue:parseInt(newValue,10):0)},prefix:(0,react.createElement)(spacer_component.Z,{as:text_component.Z,paddingLeft:(0,space.D)(4),color:colors_values.D.theme.accent,lineHeight:1},abbreviation),spinControls:"none",size:"__unstable-large"}),(0,react.createElement)(RangeControl,{__nextHasNoMarginBottom:!0,label:label,hideLabelFromVision:!0,min:min,max:max,value:value,onChange:onChange,withInputField:!1}));InputWithSlider.__docgenInfo={description:"",methods:[],displayName:"InputWithSlider"};const RgbInput=({color:color,onChange:onChange,enableAlpha:enableAlpha})=>{const{r:r,g:g,b:b,a:a}=color.toRgb();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(InputWithSlider,{min:0,max:255,label:"Red",abbreviation:"R",value:r,onChange:nextR=>onChange((0,colord.Vi)({r:nextR,g:g,b:b,a:a}))}),(0,react.createElement)(InputWithSlider,{min:0,max:255,label:"Green",abbreviation:"G",value:g,onChange:nextG=>onChange((0,colord.Vi)({r:r,g:nextG,b:b,a:a}))}),(0,react.createElement)(InputWithSlider,{min:0,max:255,label:"Blue",abbreviation:"B",value:b,onChange:nextB=>onChange((0,colord.Vi)({r:r,g:g,b:nextB,a:a}))}),enableAlpha&&(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Alpha",abbreviation:"A",value:Math.trunc(100*a),onChange:nextA=>onChange((0,colord.Vi)({r:r,g:g,b:b,a:nextA/100}))}))};RgbInput.__docgenInfo={description:"",methods:[],displayName:"RgbInput"};const HslInput=({color:color,onChange:onChange,enableAlpha:enableAlpha})=>{const{h:h,s:s,l:l,a:a}=color.toHsl();return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(InputWithSlider,{min:0,max:359,label:"Hue",abbreviation:"H",value:h,onChange:nextH=>{onChange((0,colord.Vi)({h:nextH,s:s,l:l,a:a}))}}),(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Saturation",abbreviation:"S",value:s,onChange:nextS=>{onChange((0,colord.Vi)({h:h,s:nextS,l:l,a:a}))}}),(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Lightness",abbreviation:"L",value:l,onChange:nextL=>{onChange((0,colord.Vi)({h:h,s:s,l:nextL,a:a}))}}),enableAlpha&&(0,react.createElement)(InputWithSlider,{min:0,max:100,label:"Alpha",abbreviation:"A",value:Math.trunc(100*a),onChange:nextA=>{onChange((0,colord.Vi)({h:h,s:s,l:l,a:nextA/100}))}}))};HslInput.__docgenInfo={description:"",methods:[],displayName:"HslInput"};var input_control=__webpack_require__("./packages/components/build-module/input-control/index.js");const HexInput=({color:color,onChange:onChange,enableAlpha:enableAlpha})=>(0,react.createElement)(input_control.gs,{prefix:(0,react.createElement)(spacer_component.Z,{as:text_component.Z,marginLeft:(0,space.D)(4),color:colors_values.D.theme.accent,lineHeight:1},"#"),value:color.toHex().slice(1).toUpperCase(),onChange:nextValue=>{if(!nextValue)return;const hexValue=nextValue.startsWith("#")?nextValue:"#"+nextValue;onChange((0,colord.Vi)(hexValue))},maxLength:enableAlpha?9:7,label:(0,build_module.__)("Hex color"),hideLabelFromVision:!0,size:"__unstable-large",__unstableStateReducer:(state,action)=>{const nativeEvent=action.payload?.event?.nativeEvent;if("insertFromPaste"!==nativeEvent?.inputType)return{...state};const value=state.value?.startsWith("#")?state.value.slice(1).toUpperCase():state.value?.toUpperCase();return{...state,value:value}},__unstableInputWidth:"9em"});HexInput.__docgenInfo={description:"",methods:[],displayName:"HexInput"};const ColorInput=({colorType:colorType,color:color,onChange:onChange,enableAlpha:enableAlpha})=>{const props={color:color,onChange:onChange,enableAlpha:enableAlpha};switch(colorType){case"hsl":return(0,react.createElement)(HslInput,{...props});case"rgb":return(0,react.createElement)(RgbInput,{...props});default:return(0,react.createElement)(HexInput,{...props})}};ColorInput.__docgenInfo={description:"",methods:[],displayName:"ColorInput"};var index_module=__webpack_require__("./node_modules/react-colorful/dist/index.module.js");const Picker=({color:color,enableAlpha:enableAlpha,onChange:onChange,onDragStart:onDragStart,onDragEnd:onDragEnd,containerEl:containerEl})=>{const Component=enableAlpha?index_module.ef:index_module.W_,rgbColor=(0,react.useMemo)((()=>color.toRgbString()),[color]);return(({containerEl:containerEl,onDragStart:onDragStart,onDragEnd:onDragEnd})=>{const isDragging=(0,react.useRef)(!1),leftWhileDragging=(0,react.useRef)(!1);(0,react.useEffect)((()=>{if(!containerEl||!onDragStart&&!onDragEnd)return;const interactiveElements=[containerEl.querySelector(".react-colorful__saturation"),containerEl.querySelector(".react-colorful__hue"),containerEl.querySelector(".react-colorful__alpha")].filter((el=>!!el));if(0===interactiveElements.length)return;const doc=containerEl.ownerDocument,onPointerUp=event=>{isDragging.current=!1,leftWhileDragging.current=!1,onDragEnd?.(event)},onPointerDown=event=>{isDragging.current=!0,onDragStart?.(event)},onPointerEnter=event=>{const noPointerButtonsArePressed=0===event.buttons;leftWhileDragging.current&&noPointerButtonsArePressed&&onPointerUp(event)};return interactiveElements.forEach((el=>el.addEventListener("pointerdown",onPointerDown))),doc.addEventListener("pointerup",onPointerUp),doc.addEventListener("pointerenter",onPointerEnter),doc.addEventListener("pointerleave",(()=>{leftWhileDragging.current=isDragging.current})),()=>{interactiveElements.forEach((el=>el.removeEventListener("pointerdown",onPointerDown))),doc.removeEventListener("pointerup",onPointerUp),doc.removeEventListener("pointerenter",onPointerEnter),doc.removeEventListener("pointerleave",onPointerUp)}}),[onDragStart,onDragEnd,containerEl])})({containerEl:containerEl,onDragStart:onDragStart,onDragEnd:onDragEnd}),(0,react.createElement)(Component,{color:rgbColor,onChange:nextColor=>{onChange((0,colord.Vi)(nextColor))}})};Picker.__docgenInfo={description:"",methods:[],displayName:"Picker"};var use_controlled_value=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-value.js");(0,colord.l7)([names.Z]);const options=[{label:"RGB",value:"rgb"},{label:"HSL",value:"hsl"},{label:"Hex",value:"hex"}],UnconnectedColorPicker=(props,forwardedRef)=>{const{enableAlpha:enableAlpha=!1,color:colorProp,onChange:onChange,defaultValue:defaultValue="#fff",copyFormat:copyFormat,onPickerDragStart:onPickerDragStart,onPickerDragEnd:onPickerDragEnd,...divProps}=(0,use_context_system.y)(props,"ColorPicker"),[containerEl,setContainerEl]=(0,react.useState)(null),[color,setColor]=(0,use_controlled_value.O)({onChange:onChange,value:colorProp,defaultValue:defaultValue}),safeColordColor=(0,react.useMemo)((()=>(0,colord.Vi)(color||"")),[color]),debouncedSetColor=(0,use_debounce.Z)(setColor),handleChange=(0,react.useCallback)((nextValue=>{debouncedSetColor(nextValue.toHex())}),[debouncedSetColor]),[colorType,setColorType]=(0,react.useState)(copyFormat||"hex");return(0,react.createElement)(ColorfulWrapper,{ref:(0,use_merge_refs.Z)([node=>{setContainerEl(node)},forwardedRef]),...divProps},(0,react.createElement)(Picker,{containerEl:containerEl,onChange:handleChange,color:safeColordColor,enableAlpha:enableAlpha,onDragStart:onPickerDragStart,onDragEnd:onPickerDragEnd}),(0,react.createElement)(AuxiliaryColorArtefactWrapper,null,(0,react.createElement)(AuxiliaryColorArtefactHStackHeader,{justify:"space-between"},(0,react.createElement)(SelectControl,{__nextHasNoMarginBottom:!0,options:options,value:colorType,onChange:nextColorType=>setColorType(nextColorType),label:(0,build_module.__)("Color format"),hideLabelFromVision:!0}),(0,react.createElement)(ColorCopyButton,{color:safeColordColor,colorType:copyFormat||colorType})),(0,react.createElement)(ColorInputWrapper,{direction:"column",gap:2},(0,react.createElement)(ColorInput,{colorType:colorType,color:safeColordColor,onChange:handleChange,enableAlpha:enableAlpha}))))};var color_picker_component=(0,context_connect.Iq)(UnconnectedColorPicker,"ColorPicker");function getColorFromLegacyProps(color){if(void 0!==color)return"string"==typeof color?color:color.hex?color.hex:void 0}UnconnectedColorPicker.__docgenInfo={description:"",methods:[],displayName:"UnconnectedColorPicker"};const transformColorStringToLegacyColor=(0,__webpack_require__("./node_modules/memize/dist/index.js").Z)((color=>{const colordColor=(0,colord.Vi)(color),hex=colordColor.toHex(),rgb=colordColor.toRgb(),hsv=colordColor.toHsv(),hsl=colordColor.toHsl();return{hex:hex,rgb:rgb,hsv:hsv,hsl:hsl,source:"hex",oldHue:hsl.h}}));function useDeprecatedProps(props){const{onChangeComplete:onChangeComplete}=props,legacyChangeHandler=(0,react.useCallback)((color=>{onChangeComplete(transformColorStringToLegacyColor(color))}),[onChangeComplete]);return function isLegacyProps(props){return void 0!==props.onChangeComplete||void 0!==props.disableAlpha||"string"==typeof props.color?.hex}(props)?{color:getColorFromLegacyProps(props.color),enableAlpha:!props.disableAlpha,onChange:legacyChangeHandler}:{...props,color:props.color,enableAlpha:props.enableAlpha,onChange:props.onChange}}const LegacyAdapter=props=>(0,react.createElement)(color_picker_component,{...useDeprecatedProps(props)});LegacyAdapter.__docgenInfo={description:"",methods:[],displayName:"LegacyAdapter"}},"./packages/components/build-module/custom-gradient-picker/constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C6:function(){return GRADIENT_OPTIONS},KE:function(){return DEFAULT_LINEAR_GRADIENT_ANGLE},Pg:function(){return HORIZONTAL_GRADIENT_ORIENTATION},dk:function(){return DIRECTIONAL_ORIENTATION_ANGLE_MAP},ob:function(){return DEFAULT_GRADIENT}});var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/i18n/build-module/index.js");const DEFAULT_GRADIENT="linear-gradient(135deg, rgba(6, 147, 227, 1) 0%, rgb(155, 81, 224) 100%)",DEFAULT_LINEAR_GRADIENT_ANGLE=180,HORIZONTAL_GRADIENT_ORIENTATION={type:"angular",value:"90"},GRADIENT_OPTIONS=[{value:"linear-gradient",label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Linear")},{value:"radial-gradient",label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__.__)("Radial")}],DIRECTIONAL_ORIENTATION_ANGLE_MAP={top:0,"top right":45,"right top":45,right:90,"right bottom":135,"bottom right":135,bottom:180,"bottom left":225,"left bottom":225,left:270,"top left":315,"left top":315}},"./packages/components/build-module/custom-gradient-picker/gradient-bar/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return CustomGradientBar}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),colord=__webpack_require__("./node_modules/colord/index.mjs"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),legacy_adapter=__webpack_require__("./packages/components/build-module/color-picker/legacy-adapter.js"),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),color_palette=__webpack_require__("./packages/components/build-module/color-palette/index.js");const MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT=10,MINIMUM_DISTANCE_BETWEEN_POINTS=0,KEYBOARD_CONTROL_POINT_VARIATION=MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT;function clampPercent(value){return Math.max(0,Math.min(100,value))}function updateControlPoint(points,index,newPoint){const newValue=points.slice();return newValue[index]=newPoint,newValue}function updateControlPointPosition(points,index,newPosition){if(function isOverlapping(value,initialIndex,newPosition,minDistance=MINIMUM_DISTANCE_BETWEEN_POINTS){const initialPosition=value[initialIndex].position,minPosition=Math.min(initialPosition,newPosition),maxPosition=Math.max(initialPosition,newPosition);return value.some((({position:position},index)=>index!==initialIndex&&(Math.abs(position-newPosition)<minDistance||minPosition<position&&position<maxPosition)))}(points,index,newPosition))return points;return updateControlPoint(points,index,{...points[index],position:newPosition})}function updateControlPointColor(points,index,newColor){return updateControlPoint(points,index,{...points[index],color:newColor})}function getHorizontalRelativeGradientPosition(mouseXCoordinate,containerElement){if(!containerElement)return;const{x:x,width:width}=containerElement.getBoundingClientRect(),absolutePositionValue=mouseXCoordinate-x;return Math.round(clampPercent(100*absolutePositionValue/width))}var dropdown_content_wrapper=__webpack_require__("./packages/components/build-module/dropdown/dropdown-content-wrapper.js");function ControlPointButton({isOpen:isOpen,position:position,color:color,...additionalProps}){const descriptionId=`components-custom-gradient-picker__control-point-button-description-${(0,use_instance_id.Z)(ControlPointButton)}`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{"aria-label":(0,build_module.gB)((0,build_module.__)("Gradient control point at position %1$s%% with color code %2$s."),position,color),"aria-describedby":descriptionId,"aria-haspopup":"true","aria-expanded":isOpen,className:classnames_default()("components-custom-gradient-picker__control-point-button",{"is-active":isOpen}),...additionalProps}),(0,react.createElement)(visually_hidden_component.Z,{id:descriptionId},(0,build_module.__)("Use your left or right arrow keys or drag and drop with the mouse to change the gradient position. Press the button to change the color or remove the control point.")))}function GradientColorPickerDropdown({isRenderedInSidebar:isRenderedInSidebar,className:className,...props}){const popoverProps=(0,react.useMemo)((()=>({placement:"bottom",offset:8,resize:!1})),[]),mergedClassName=classnames_default()("components-custom-gradient-picker__control-point-dropdown",className);return(0,react.createElement)(color_palette.qK,{isRenderedInSidebar:isRenderedInSidebar,popoverProps:popoverProps,className:mergedClassName,...props})}function ControlPoints({disableRemove:disableRemove,disableAlpha:disableAlpha,gradientPickerDomRef:gradientPickerDomRef,ignoreMarkerPosition:ignoreMarkerPosition,value:controlPoints,onChange:onChange,onStartControlPointChange:onStartControlPointChange,onStopControlPointChange:onStopControlPointChange,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}){const controlPointMoveState=(0,react.useRef)(),onMouseMove=event=>{if(void 0===controlPointMoveState.current||null===gradientPickerDomRef.current)return;const relativePosition=getHorizontalRelativeGradientPosition(event.clientX,gradientPickerDomRef.current),{initialPosition:initialPosition,index:index,significantMoveHappened:significantMoveHappened}=controlPointMoveState.current;!significantMoveHappened&&Math.abs(initialPosition-relativePosition)>=5&&(controlPointMoveState.current.significantMoveHappened=!0),onChange(updateControlPointPosition(controlPoints,index,relativePosition))},cleanEventListeners=()=>{window&&window.removeEventListener&&controlPointMoveState.current&&controlPointMoveState.current.listenersActivated&&(window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",cleanEventListeners),onStopControlPointChange(),controlPointMoveState.current.listenersActivated=!1)},cleanEventListenersRef=(0,react.useRef)();return cleanEventListenersRef.current=cleanEventListeners,(0,react.useEffect)((()=>()=>{cleanEventListenersRef.current?.()}),[]),(0,react.createElement)(react.Fragment,null,controlPoints.map(((point,index)=>{const initialPosition=point?.position;return ignoreMarkerPosition!==initialPosition&&(0,react.createElement)(GradientColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,key:index,onClose:onStopControlPointChange,renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react.createElement)(ControlPointButton,{key:index,onClick:()=>{controlPointMoveState.current&&controlPointMoveState.current.significantMoveHappened||(isOpen?onStopControlPointChange():onStartControlPointChange(),onToggle())},onMouseDown:()=>{window&&window.addEventListener&&(controlPointMoveState.current={initialPosition:initialPosition,index:index,significantMoveHappened:!1,listenersActivated:!0},onStartControlPointChange(),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",cleanEventListeners))},onKeyDown:event=>{"ArrowLeft"===event.code?(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position-KEYBOARD_CONTROL_POINT_VARIATION)))):"ArrowRight"===event.code&&(event.stopPropagation(),onChange(updateControlPointPosition(controlPoints,index,clampPercent(point.position+KEYBOARD_CONTROL_POINT_VARIATION))))},isOpen:isOpen,position:point.position,color:point.color}),renderContent:({onClose:onClose})=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)(legacy_adapter.A,{enableAlpha:!disableAlpha,color:point.color,onChange:color=>{onChange(updateControlPointColor(controlPoints,index,(0,colord.Vi)(color).toRgbString()))}}),!disableRemove&&controlPoints.length>2&&(0,react.createElement)(component.Z,{className:"components-custom-gradient-picker__remove-control-point-wrapper",alignment:"center"},(0,react.createElement)(build_module_button.ZP,{onClick:()=>{onChange(function removeControlPoint(points,index){return points.filter(((_point,pointIndex)=>pointIndex!==index))}(controlPoints,index)),onClose()},variant:"link"},(0,build_module.__)("Remove Control Point")))),style:{left:`${point.position}%`,transform:"translateX( -50% )"}})})))}ControlPoints.InsertPoint=function InsertPoint({value:controlPoints,onChange:onChange,onOpenInserter:onOpenInserter,onCloseInserter:onCloseInserter,insertPosition:insertPosition,disableAlpha:disableAlpha,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar}){const[alreadyInsertedPoint,setAlreadyInsertedPoint]=(0,react.useState)(!1);return(0,react.createElement)(GradientColorPickerDropdown,{isRenderedInSidebar:__experimentalIsRenderedInSidebar,className:"components-custom-gradient-picker__inserter",onClose:()=>{onCloseInserter()},renderToggle:({isOpen:isOpen,onToggle:onToggle})=>(0,react.createElement)(build_module_button.ZP,{"aria-expanded":isOpen,"aria-haspopup":"true",onClick:()=>{isOpen?onCloseInserter():(setAlreadyInsertedPoint(!1),onOpenInserter()),onToggle()},className:"components-custom-gradient-picker__insert-point-dropdown",icon:plus.Z}),renderContent:()=>(0,react.createElement)(dropdown_content_wrapper.Z,{paddingSize:"none"},(0,react.createElement)(legacy_adapter.A,{enableAlpha:!disableAlpha,onChange:color=>{alreadyInsertedPoint?onChange(function updateControlPointColorByPosition(points,position,newColor){const index=points.findIndex((point=>point.position===position));return updateControlPointColor(points,index,newColor)}(controlPoints,insertPosition,(0,colord.Vi)(color).toRgbString())):(onChange(function addControlPoint(points,position,color){const nextIndex=points.findIndex((point=>point.position>position)),newPoint={color:color,position:position},newPoints=points.slice();return newPoints.splice(nextIndex-1,0,newPoint),newPoints}(controlPoints,insertPosition,(0,colord.Vi)(color).toRgbString())),setAlreadyInsertedPoint(!0))}})),style:null!==insertPosition?{left:`${insertPosition}%`,transform:"translateX( -50% )"}:void 0})},ControlPoints.__docgenInfo={description:"",methods:[{name:"InsertPoint",docblock:null,modifiers:["static"],params:[{name:"{\n  value: controlPoints,\n  onChange,\n  onOpenInserter,\n  onCloseInserter,\n  insertPosition,\n  disableAlpha,\n  __experimentalIsRenderedInSidebar\n}",type:null}],returns:null}],displayName:"ControlPoints"};var control_points=ControlPoints;const customGradientBarReducer=(state,action)=>{switch(action.type){case"MOVE_INSERTER":if("IDLE"===state.id||"MOVING_INSERTER"===state.id)return{id:"MOVING_INSERTER",insertPosition:action.insertPosition};break;case"STOP_INSERTER_MOVE":if("MOVING_INSERTER"===state.id)return{id:"IDLE"};break;case"OPEN_INSERTER":if("MOVING_INSERTER"===state.id)return{id:"INSERTING_CONTROL_POINT",insertPosition:state.insertPosition};break;case"CLOSE_INSERTER":if("INSERTING_CONTROL_POINT"===state.id)return{id:"IDLE"};break;case"START_CONTROL_CHANGE":if("IDLE"===state.id)return{id:"MOVING_CONTROL_POINT"};break;case"STOP_CONTROL_CHANGE":if("MOVING_CONTROL_POINT"===state.id)return{id:"IDLE"}}return state},customGradientBarReducerInitialState={id:"IDLE"};function CustomGradientBar({background:background,hasGradient:hasGradient,value:controlPoints,onChange:onChange,disableInserter:disableInserter=!1,disableAlpha:disableAlpha=!1,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1}){const gradientMarkersContainerDomRef=(0,react.useRef)(null),[gradientBarState,gradientBarStateDispatch]=(0,react.useReducer)(customGradientBarReducer,customGradientBarReducerInitialState),onMouseEnterAndMove=event=>{if(!gradientMarkersContainerDomRef.current)return;const insertPosition=getHorizontalRelativeGradientPosition(event.clientX,gradientMarkersContainerDomRef.current);controlPoints.some((({position:position})=>Math.abs(insertPosition-position)<MINIMUM_DISTANCE_BETWEEN_INSERTER_AND_POINT))?"MOVING_INSERTER"===gradientBarState.id&&gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"}):gradientBarStateDispatch({type:"MOVE_INSERTER",insertPosition:insertPosition})},isMovingInserter="MOVING_INSERTER"===gradientBarState.id,isInsertingControlPoint="INSERTING_CONTROL_POINT"===gradientBarState.id;return(0,react.createElement)("div",{className:classnames_default()("components-custom-gradient-picker__gradient-bar",{"has-gradient":hasGradient}),onMouseEnter:onMouseEnterAndMove,onMouseMove:onMouseEnterAndMove,onMouseLeave:()=>{gradientBarStateDispatch({type:"STOP_INSERTER_MOVE"})}},(0,react.createElement)("div",{className:"components-custom-gradient-picker__gradient-bar-background",style:{background:background,opacity:hasGradient?1:.4}}),(0,react.createElement)("div",{ref:gradientMarkersContainerDomRef,className:"components-custom-gradient-picker__markers-container"},!disableInserter&&(isMovingInserter||isInsertingControlPoint)&&(0,react.createElement)(control_points.InsertPoint,{__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,disableAlpha:disableAlpha,insertPosition:gradientBarState.insertPosition,value:controlPoints,onChange:onChange,onOpenInserter:()=>{gradientBarStateDispatch({type:"OPEN_INSERTER"})},onCloseInserter:()=>{gradientBarStateDispatch({type:"CLOSE_INSERTER"})}}),(0,react.createElement)(control_points,{__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,disableAlpha:disableAlpha,disableRemove:disableInserter,gradientPickerDomRef:gradientMarkersContainerDomRef,ignoreMarkerPosition:isInsertingControlPoint?gradientBarState.insertPosition:void 0,value:controlPoints,onChange:onChange,onStartControlPointChange:()=>{gradientBarStateDispatch({type:"START_CONTROL_CHANGE"})},onStopControlPointChange:()=>{gradientBarStateDispatch({type:"STOP_CONTROL_CHANGE"})}})))}CustomGradientBar.__docgenInfo={description:"",methods:[],displayName:"CustomGradientBar",props:{disableInserter:{defaultValue:{value:"false",computed:!1},required:!1},disableAlpha:{defaultValue:{value:"false",computed:!1},required:!1},__experimentalIsRenderedInSidebar:{defaultValue:{value:"false",computed:!1},required:!1}}}},"./packages/components/build-module/custom-gradient-picker/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return custom_gradient_picker}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js"),component=__webpack_require__("./packages/components/build-module/flex/flex-block/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),number_control=__webpack_require__("./packages/components/build-module/number-control/index.js"),use_dragging=__webpack_require__("./packages/compose/build-module/hooks/use-dragging/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),flex_component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const deprecatedBottomMargin=({__nextHasNoMarginBottom:__nextHasNoMarginBottom})=>__nextHasNoMarginBottom?"":(0,emotion_react_browser_esm.iv)("margin-bottom:",(0,space.D)(2),";","","",""),Root=(0,emotion_styled_base_browser_esm.Z)(flex_component.Z,{target:"eln3bjz4"})(deprecatedBottomMargin,";"),CircleRoot=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eln3bjz3"})("border-radius:50%;border:",config_values.Z.borderWidth," solid ",colors_values.D.ui.border,";box-sizing:border-box;cursor:grab;height:",32,"px;overflow:hidden;width:",32,"px;:active{cursor:grabbing;}"),CircleIndicatorWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eln3bjz2"})({name:"1r307gh",styles:"box-sizing:border-box;position:relative;width:100%;height:100%;:focus-visible{outline:none;}"}),CircleIndicator=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eln3bjz1"})("background:",colors_values.D.theme.accent,";border-radius:50%;box-sizing:border-box;display:block;left:50%;top:4px;transform:translateX( -50% );position:absolute;width:",6,"px;height:",6,"px;"),UnitText=(0,emotion_styled_base_browser_esm.Z)(text_component.Z,{target:"eln3bjz0"})("color:",colors_values.D.theme.accent,";margin-right:",(0,space.D)(3),";");function AngleCircle({value:value,onChange:onChange,...props}){const angleCircleRef=(0,react.useRef)(null),angleCircleCenter=(0,react.useRef)(),previousCursorValue=(0,react.useRef)(),changeAngleToPosition=event=>{if(void 0!==event&&(event.preventDefault(),event.target?.focus(),void 0!==angleCircleCenter.current&&void 0!==onChange)){const{x:centerX,y:centerY}=angleCircleCenter.current;onChange(function getAngle(centerX,centerY,pointX,pointY){const y=pointY-centerY,x=pointX-centerX,angleInRadians=Math.atan2(y,x),angleInDeg=Math.round(angleInRadians*(180/Math.PI))+90;if(angleInDeg<0)return 360+angleInDeg;return angleInDeg}(centerX,centerY,event.clientX,event.clientY))}},{startDrag:startDrag,isDragging:isDragging}=(0,use_dragging.Z)({onDragStart:event=>{(()=>{if(null===angleCircleRef.current)return;const rect=angleCircleRef.current.getBoundingClientRect();angleCircleCenter.current={x:rect.x+rect.width/2,y:rect.y+rect.height/2}})(),changeAngleToPosition(event)},onDragMove:changeAngleToPosition,onDragEnd:changeAngleToPosition});return(0,react.useEffect)((()=>{isDragging?(void 0===previousCursorValue.current&&(previousCursorValue.current=document.body.style.cursor),document.body.style.cursor="grabbing"):(document.body.style.cursor=previousCursorValue.current||"",previousCursorValue.current=void 0)}),[isDragging]),(0,react.createElement)(CircleRoot,{ref:angleCircleRef,onMouseDown:startDrag,className:"components-angle-picker-control__angle-circle",...props},(0,react.createElement)(CircleIndicatorWrapper,{style:value?{transform:`rotate(${value}deg)`}:void 0,className:"components-angle-picker-control__angle-circle-indicator-wrapper",tabIndex:-1},(0,react.createElement)(CircleIndicator,{className:"components-angle-picker-control__angle-circle-indicator"})))}AngleCircle.__docgenInfo={description:"",methods:[],displayName:"AngleCircle"};var angle_circle=AngleCircle;function UnforwardedAnglePickerControl(props,ref){const{__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,className:className,label:label=(0,i18n_build_module.__)("Angle"),onChange:onChange,value:value,...restProps}=props;__nextHasNoMarginBottom||(0,build_module.Z)("Bottom margin styles for wp.components.AnglePickerControl",{since:"6.1",hint:"Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version."});const classes=classnames_default()("components-angle-picker-control",className),unitText=(0,react.createElement)(UnitText,null,"°"),[prefixedUnitText,suffixedUnitText]=(0,i18n_build_module.dZ)()?[unitText,null]:[null,unitText];return(0,react.createElement)(Root,{...restProps,ref:ref,__nextHasNoMarginBottom:__nextHasNoMarginBottom,className:classes,gap:2},(0,react.createElement)(component.Z,null,(0,react.createElement)(number_control.Z,{label:label,className:"components-angle-picker-control__input-field",max:360,min:0,onChange:unprocessedValue=>{if(void 0===onChange)return;const inputValue=void 0!==unprocessedValue&&""!==unprocessedValue?parseInt(unprocessedValue,10):0;onChange(inputValue)},size:"__unstable-large",step:"1",value:value,spinControls:"none",prefix:prefixedUnitText,suffix:suffixedUnitText})),(0,react.createElement)(spacer_component.Z,{marginBottom:"1",marginTop:"auto"},(0,react.createElement)(angle_circle,{"aria-hidden":"true",value:value,onChange:onChange})))}var angle_picker_control=(0,react.forwardRef)(UnforwardedAnglePickerControl);UnforwardedAnglePickerControl.__docgenInfo={description:"",methods:[],displayName:"UnforwardedAnglePickerControl"};var gradient_bar=__webpack_require__("./packages/components/build-module/custom-gradient-picker/gradient-bar/index.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),node=__webpack_require__("./node_modules/gradient-parser/build/node.js"),colord=__webpack_require__("./node_modules/colord/index.mjs"),names=__webpack_require__("./node_modules/colord/plugins/names.mjs"),constants=__webpack_require__("./packages/components/build-module/custom-gradient-picker/constants.js");function serializeGradientColorStop({type:type,value:value,length:length}){return`${function serializeGradientColor({type:type,value:value}){return"literal"===type?value:"hex"===type?`#${value}`:`${type}(${value.join(",")})`}({type:type,value:value})} ${function serializeGradientPosition(position){if(!position)return"";const{value:value,type:type}=position;return`${value}${type}`}(length)}`}function serializeGradient({type:type,orientation:orientation,colorStops:colorStops}){const serializedOrientation=function serializeGradientOrientation(orientation){if(!Array.isArray(orientation)&&orientation&&"angular"===orientation.type)return`${orientation.value}deg`}(orientation);return`${type}(${[serializedOrientation,...colorStops.sort(((colorStop1,colorStop2)=>{const getNumericStopValue=colorStop=>void 0===colorStop?.length?.value?0:parseInt(colorStop.length.value);return getNumericStopValue(colorStop1)-getNumericStopValue(colorStop2)})).map(serializeGradientColorStop)].filter(Boolean).join(",")})`}function hasUnsupportedLength(item){return void 0===item.length||"%"!==item.length.type}function getStopCssColor(colorStop){switch(colorStop.type){case"hex":return`#${colorStop.value}`;case"literal":return colorStop.value;case"rgb":case"rgba":return`${colorStop.type}(${colorStop.value.join(",")})`;default:return"transparent"}}(0,colord.l7)([names.Z]);const SelectWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e10bzpgi1"})({name:"1gvx10y",styles:"flex-grow:5"}),AccessoryWrapper=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e10bzpgi0"})({name:"1gvx10y",styles:"flex-grow:5"}),GradientAnglePicker=({gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange})=>{var _gradientAST$orientat;const angle=null!==(_gradientAST$orientat=gradientAST?.orientation?.value)&&void 0!==_gradientAST$orientat?_gradientAST$orientat:constants.KE;return(0,react.createElement)(angle_picker_control,{__nextHasNoMarginBottom:!0,onChange:newAngle=>{onChange(serializeGradient({...gradientAST,orientation:{type:"angular",value:`${newAngle}`}}))},value:hasGradient?angle:""})},GradientTypePicker=({gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange})=>{const{type:type}=gradientAST;return(0,react.createElement)(select_control.Z,{__nextHasNoMarginBottom:!0,className:"components-custom-gradient-picker__type-picker",label:(0,i18n_build_module.__)("Type"),labelPosition:"top",onChange:next=>{"linear-gradient"===next&&onChange(serializeGradient({...gradientAST,orientation:gradientAST.orientation?void 0:constants.Pg,type:"linear-gradient"})),"radial-gradient"===next&&(()=>{const{orientation:orientation,...restGradientAST}=gradientAST;onChange(serializeGradient({...restGradientAST,type:"radial-gradient"}))})()},options:constants.C6,size:"__unstable-large",value:hasGradient?type:void 0})};function CustomGradientPicker({__nextHasNoMargin:__nextHasNoMargin=!1,value:value,onChange:onChange,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar=!1}){const{gradientAST:gradientAST,hasGradient:hasGradient}=function getGradientAstWithDefault(value){let gradientAST,hasGradient=!!value;const valueToParse=null!=value?value:constants.ob;try{gradientAST=node.parse(valueToParse)[0]}catch(error){console.warn("wp.components.CustomGradientPicker failed to parse the gradient with error",error),gradientAST=node.parse(constants.ob)[0],hasGradient=!1}if(Array.isArray(gradientAST.orientation)||"directional"!==gradientAST.orientation?.type||(gradientAST.orientation={type:"angular",value:constants.dk[gradientAST.orientation.value].toString()}),gradientAST.colorStops.some(hasUnsupportedLength)){const{colorStops:colorStops}=gradientAST,step=100/(colorStops.length-1);colorStops.forEach(((stop,index)=>{stop.length={value:""+step*index,type:"%"}}))}return{gradientAST:gradientAST,hasGradient:hasGradient}}(value),background=function getLinearGradientRepresentation(gradientAST){return serializeGradient({type:"linear-gradient",orientation:constants.Pg,colorStops:gradientAST.colorStops})}(gradientAST),controlPoints=gradientAST.colorStops.map((colorStop=>({color:getStopCssColor(colorStop),position:parseInt(colorStop.length.value)})));return __nextHasNoMargin||(0,build_module.Z)("Outer margin styles for wp.components.CustomGradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"}),(0,react.createElement)(v_stack_component.Z,{spacing:4,className:classnames_default()("components-custom-gradient-picker",{"is-next-has-no-margin":__nextHasNoMargin})},(0,react.createElement)(gradient_bar.Z,{__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,background:background,hasGradient:hasGradient,value:controlPoints,onChange:newControlPoints=>{onChange(serializeGradient(function getGradientAstWithControlPoints(gradientAST,newControlPoints){return{...gradientAST,colorStops:newControlPoints.map((({position:position,color:color})=>{const{r:r,g:g,b:b,a:a}=(0,colord.Vi)(color).toRgb();return{length:{type:"%",value:position?.toString()},type:a<1?"rgba":"rgb",value:a<1?[`${r}`,`${g}`,`${b}`,`${a}`]:[`${r}`,`${g}`,`${b}`]}}))}}(gradientAST,newControlPoints)))}}),(0,react.createElement)(flex_component.Z,{gap:3,className:"components-custom-gradient-picker__ui-line"},(0,react.createElement)(SelectWrapper,null,(0,react.createElement)(GradientTypePicker,{gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange})),(0,react.createElement)(AccessoryWrapper,null,"linear-gradient"===gradientAST.type&&(0,react.createElement)(GradientAnglePicker,{gradientAST:gradientAST,hasGradient:hasGradient,onChange:onChange}))))}CustomGradientPicker.__docgenInfo={description:"CustomGradientPicker is a React component that renders a UI for specifying\nlinear or radial gradients. Radial gradients are displayed in the picker as\na slice of the gradient from the center to the outside.\n\n```jsx\nimport { CustomGradientPicker } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst MyCustomGradientPicker = () => {\n  const [ gradient, setGradient ] = useState();\n\n  return (\n    <CustomGradientPicker\n\t\tvalue={ gradient }\n\t\tonChange={ setGradient }\n    />\n  );\n};\n```",methods:[],displayName:"CustomGradientPicker",props:{__nextHasNoMargin:{defaultValue:{value:"false",computed:!1},required:!1},__experimentalIsRenderedInSidebar:{defaultValue:{value:"false",computed:!1},required:!1}}};var custom_gradient_picker=CustomGradientPicker},"./packages/components/build-module/drop-zone/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/library/upload.js"),_wordpress_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/dom/build-module/data-transfer.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-drop-zone/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),_animation__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/node_modules/framer-motion/dist/es/render/dom/motion.mjs"),_animation__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/components/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");function DropZoneComponent({className:className,label:label,onFilesDrop:onFilesDrop,onHTMLDrop:onHTMLDrop,onDrop:onDrop,...restProps}){const[isDraggingOverDocument,setIsDraggingOverDocument]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[isDraggingOverElement,setIsDraggingOverElement]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[type,setType]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),ref=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)({onDrop(event){const files=event.dataTransfer?(0,_wordpress_dom__WEBPACK_IMPORTED_MODULE_4__.f)(event.dataTransfer):[],html=event.dataTransfer?.getData("text/html");html&&onHTMLDrop?onHTMLDrop(html):files.length&&onFilesDrop?onFilesDrop(files):onDrop&&onDrop(event)},onDragStart(event){setIsDraggingOverDocument(!0);let _type="default";event.dataTransfer?.types.includes("text/html")?_type="html":(event.dataTransfer?.types.includes("Files")||(event.dataTransfer?(0,_wordpress_dom__WEBPACK_IMPORTED_MODULE_4__.f)(event.dataTransfer):[]).length>0)&&(_type="file"),setType(_type)},onDragEnd(){setIsDraggingOverDocument(!1),setType(void 0)},onDragEnter(){setIsDraggingOverElement(!0)},onDragLeave(){setIsDraggingOverElement(!1)}}),disableMotion=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)();let children;const backdrop={hidden:{opacity:0},show:{opacity:1,transition:{type:"tween",duration:.2,delay:0,delayChildren:.1}},exit:{opacity:0,transition:{duration:.2,delayChildren:0}}},foreground={hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1,transition:{duration:.1}},exit:{opacity:0,scale:.9}};isDraggingOverElement&&(children=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_animation__WEBPACK_IMPORTED_MODULE_6__.E.div,{variants:backdrop,initial:disableMotion?"show":"hidden",animate:"show",exit:disableMotion?"show":"exit",className:"components-drop-zone__content",style:{pointerEvents:"none"}},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_animation__WEBPACK_IMPORTED_MODULE_6__.E.div,{variants:foreground},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_7__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,className:"components-drop-zone__content-icon"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"components-drop-zone__content-text"},label||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Drop files to upload")))));const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-drop-zone",className,{"is-active":(isDraggingOverDocument||isDraggingOverElement)&&("file"===type&&onFilesDrop||"html"===type&&onHTMLDrop||"default"===type&&onDrop),"is-dragging-over-document":isDraggingOverDocument,"is-dragging-over-element":isDraggingOverElement,[`is-dragging-${type}`]:!!type});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{...restProps,ref:ref,className:classes},disableMotion?children:(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_animation__WEBPACK_IMPORTED_MODULE_9__.M,null,children))}DropZoneComponent.__docgenInfo={description:"`DropZone` is a component creating a drop zone area taking the full size of its parent element. It supports dropping files, HTML content or any other HTML drop event.\n\n```jsx\nimport { DropZone } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst MyDropZone = () => {\n  const [ hasDropped, setHasDropped ] = useState( false );\n\n  return (\n    <div>\n      { hasDropped ? 'Dropped!' : 'Drop something here' }\n      <DropZone\n        onFilesDrop={ () => setHasDropped( true ) }\n        onHTMLDrop={ () => setHasDropped( true ) }\n        onDrop={ () => setHasDropped( true ) }\n      />\n    </div>\n  );\n}\n```",methods:[],displayName:"DropZoneComponent"},__webpack_exports__.Z=DropZoneComponent},"./packages/components/build-module/dropdown/dropdown-content-wrapper.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return dropdown_content_wrapper}});var react=__webpack_require__("./node_modules/react/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js");const DropdownContentWrapperDiv=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eovvns30"})("margin-left:",(0,space.D)(-2),";margin-right:",(0,space.D)(-2),";&:first-of-type{margin-top:",(0,space.D)(-2),";}&:last-of-type{margin-bottom:",(0,space.D)(-2),";}",(({paddingSize:paddingSize="small"})=>{if("none"===paddingSize)return;const paddingValues={small:(0,space.D)(2),medium:(0,space.D)(4)};return(0,emotion_react_browser_esm.iv)("padding:",paddingValues[paddingSize]||paddingValues.small,";","","","")}),";");function UnconnectedDropdownContentWrapper(props,forwardedRef){const{paddingSize:paddingSize="small",...derivedProps}=(0,use_context_system.y)(props,"DropdownContentWrapper");return(0,react.createElement)(DropdownContentWrapperDiv,{...derivedProps,paddingSize:paddingSize,ref:forwardedRef})}var dropdown_content_wrapper=(0,context_connect.Iq)(UnconnectedDropdownContentWrapper,"DropdownContentWrapper");UnconnectedDropdownContentWrapper.__docgenInfo={description:"",methods:[],displayName:"UnconnectedDropdownContentWrapper"}},"./packages/components/build-module/duotone-picker/duotone-picker.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return duotone_picker}});var react=__webpack_require__("./node_modules/react/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),swatch=__webpack_require__("./packages/icons/build-module/library/swatch.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),color_palette=__webpack_require__("./packages/components/build-module/color-palette/index.js"),color_indicator=__webpack_require__("./packages/components/build-module/color-indicator/index.js"),icon=__webpack_require__("./packages/components/build-module/icon/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");function ColorOption({label:label,value:value,colors:colors,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,onChange:onChange}){const[isOpen,setIsOpen]=(0,react.useState)(!1),idRoot=(0,use_instance_id.Z)(ColorOption,"color-list-picker-option"),labelId=`${idRoot}__label`,contentId=`${idRoot}__content`;return(0,react.createElement)(react.Fragment,null,(0,react.createElement)(build_module_button.ZP,{className:"components-color-list-picker__swatch-button",onClick:()=>setIsOpen((prev=>!prev)),"aria-expanded":isOpen,"aria-controls":contentId},(0,react.createElement)(component.Z,{justify:"flex-start",spacing:2},value?(0,react.createElement)(color_indicator.Z,{colorValue:value,className:"components-color-list-picker__swatch-color"}):(0,react.createElement)(icon.Z,{icon:swatch.Z}),(0,react.createElement)("span",{id:labelId},label))),(0,react.createElement)("div",{role:"group",id:contentId,"aria-labelledby":labelId,"aria-hidden":!isOpen},isOpen&&(0,react.createElement)(color_palette.ZP,{"aria-label":(0,build_module.__)("Color options"),className:"components-color-list-picker__color-picker",colors:colors,value:value,clearable:!1,onChange:onChange,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha})))}function ColorListPicker({colors:colors,labels:labels,value:value=[],disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,onChange:onChange}){return(0,react.createElement)("div",{className:"components-color-list-picker"},labels.map(((label,index)=>(0,react.createElement)(ColorOption,{key:index,label:label,value:value[index],colors:colors,disableCustomColors:disableCustomColors,enableAlpha:enableAlpha,onChange:newColor=>{const newColors=value.slice();newColors[index]=newColor,onChange(newColors)}}))))}ColorListPicker.__docgenInfo={description:"",methods:[],displayName:"ColorListPicker",props:{value:{defaultValue:{value:"[]",computed:!1},required:!1}}};var color_list_picker=ColorListPicker,circular_option_picker=__webpack_require__("./packages/components/build-module/circular-option-picker/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),gradient_bar=__webpack_require__("./packages/components/build-module/custom-gradient-picker/gradient-bar/index.js"),utils=__webpack_require__("./packages/components/build-module/duotone-picker/utils.js");const PLACEHOLDER_VALUES=["#333","#CCC"];function CustomDuotoneBar({value:value,onChange:onChange}){const hasGradient=!!value,values=hasGradient?value:PLACEHOLDER_VALUES,background=(0,utils.ZU)(values),controlPoints=(0,utils.YK)(values);return(0,react.createElement)(gradient_bar.Z,{disableInserter:!0,background:background,hasGradient:hasGradient,value:controlPoints,onChange:newColorStops=>{const newValue=(0,utils.Aw)(newColorStops);onChange(newValue)}})}CustomDuotoneBar.__docgenInfo={description:"",methods:[],displayName:"CustomDuotoneBar"};var spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js");function DuotonePicker({asButtons:asButtons,loop:loop,clearable:clearable=!0,unsetable:unsetable=!0,colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:disableCustomColors,disableCustomDuotone:disableCustomDuotone,value:value,onChange:onChange,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledby,...otherProps}){const[defaultDark,defaultLight]=(0,react.useMemo)((()=>(0,utils.fy)(colorPalette)),[colorPalette]),isUnset="unset"===value,unsetOptionLabel=(0,build_module.__)("Unset"),unsetOption=(0,react.createElement)(circular_option_picker.ZP.Option,{key:"unset",value:"unset",isSelected:isUnset,tooltipText:unsetOptionLabel,"aria-label":unsetOptionLabel,className:"components-duotone-picker__color-indicator",onClick:()=>{onChange(isUnset?void 0:"unset")}}),options=duotonePalette.map((({colors:colors,slug:slug,name:name})=>{const style={background:(0,utils.ZU)(colors,"135deg"),color:"transparent"},tooltipText=null!=name?name:(0,build_module.gB)((0,build_module.__)("Duotone code: %s"),slug),label=name?(0,build_module.gB)((0,build_module.__)("Duotone: %s"),name):tooltipText,isSelected=es6_default()(colors,value);return(0,react.createElement)(circular_option_picker.ZP.Option,{key:slug,value:colors,isSelected:isSelected,"aria-label":label,tooltipText:tooltipText,style:style,onClick:()=>{onChange(isSelected?void 0:colors)}})}));let metaProps;if(asButtons)metaProps={asButtons:!0};else{const _metaProps={asButtons:!1,loop:loop};metaProps=ariaLabel?{..._metaProps,"aria-label":ariaLabel}:ariaLabelledby?{..._metaProps,"aria-labelledby":ariaLabelledby}:{..._metaProps,"aria-label":(0,build_module.__)("Custom color picker.")}}return(0,react.createElement)(circular_option_picker.ZP,{...otherProps,...metaProps,options:unsetable?[unsetOption,...options]:options,actions:!!clearable&&(0,react.createElement)(circular_option_picker.ZP.ButtonAction,{onClick:()=>onChange(void 0)},(0,build_module.__)("Clear"))},(0,react.createElement)(spacer_component.Z,{paddingTop:4},(0,react.createElement)(v_stack_component.Z,{spacing:3},!disableCustomColors&&!disableCustomDuotone&&(0,react.createElement)(CustomDuotoneBar,{value:isUnset?void 0:value,onChange:onChange}),!disableCustomDuotone&&(0,react.createElement)(color_list_picker,{labels:[(0,build_module.__)("Shadows"),(0,build_module.__)("Highlights")],colors:colorPalette,value:isUnset?void 0:value,disableCustomColors:disableCustomColors,enableAlpha:!0,onChange:newColors=>{newColors[0]||(newColors[0]=defaultDark),newColors[1]||(newColors[1]=defaultLight);const newValue=newColors.length>=2?newColors:void 0;onChange(newValue)}}))))}DuotonePicker.__docgenInfo={description:"```jsx\nimport { DuotonePicker, DuotoneSwatch } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst DUOTONE_PALETTE = [\n\t{ colors: [ '#8c00b7', '#fcff41' ], name: 'Purple and yellow', slug: 'purple-yellow' },\n\t{ colors: [ '#000097', '#ff4747' ], name: 'Blue and red', slug: 'blue-red' },\n];\n\nconst COLOR_PALETTE = [\n\t{ color: '#ff4747', name: 'Red', slug: 'red' },\n\t{ color: '#fcff41', name: 'Yellow', slug: 'yellow' },\n\t{ color: '#000097', name: 'Blue', slug: 'blue' },\n\t{ color: '#8c00b7', name: 'Purple', slug: 'purple' },\n];\n\nconst Example = () => {\n\tconst [ duotone, setDuotone ] = useState( [ '#000000', '#ffffff' ] );\n\treturn (\n\t\t<>\n\t\t\t<DuotonePicker\n\t\t\t\tduotonePalette={ DUOTONE_PALETTE }\n\t\t\t\tcolorPalette={ COLOR_PALETTE }\n\t\t\t\tvalue={ duotone }\n\t\t\t\tonChange={ setDuotone }\n\t\t\t/>\n\t\t\t<DuotoneSwatch values={ duotone } />\n\t\t</>\n\t);\n};\n```",methods:[],displayName:"DuotonePicker",props:{clearable:{defaultValue:{value:"true",computed:!1},required:!1},unsetable:{defaultValue:{value:"true",computed:!1},required:!1}}};var duotone_picker=DuotonePicker},"./packages/components/build-module/duotone-picker/utils.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Aw:function(){return getColorsFromColorStops},YK:function(){return getColorStopsFromColors},ZU:function(){return getGradientFromCSSColors},fy:function(){return getDefaultColors}});var colord__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/colord/index.mjs"),colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/colord/plugins/names.mjs");function getDefaultColors(palette){return!palette||palette.length<2?["#000","#fff"]:palette.map((({color:color})=>({color:color,brightness:(0,colord__WEBPACK_IMPORTED_MODULE_0__.Vi)(color).brightness()}))).reduce((([min,max],current)=>[current.brightness<=min.brightness?current:min,current.brightness>=max.brightness?current:max]),[{brightness:1,color:""},{brightness:0,color:""}]).map((({color:color})=>color))}function getGradientFromCSSColors(colors=[],angle="90deg"){const l=100/colors.length;return`linear-gradient( ${angle}, ${colors.map(((c,i)=>`${c} ${i*l}%, ${c} ${(i+1)*l}%`)).join(", ")} )`}function getColorStopsFromColors(colors){return colors.map(((color,i)=>({position:100*i/(colors.length-1),color:color})))}function getColorsFromColorStops(colorStops=[]){return colorStops.map((({color:color})=>color))}(0,colord__WEBPACK_IMPORTED_MODULE_0__.l7)([colord_plugins_names__WEBPACK_IMPORTED_MODULE_1__.Z])},"./packages/components/build-module/form-file-upload/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/button/index.js");function FormFileUpload({accept:accept,children:children,multiple:multiple=!1,onChange:onChange,onClick:onClick,render:render,...props}){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),openFileDialog=()=>{ref.current?.click()},ui=render?render({openFileDialog:openFileDialog}):(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_button__WEBPACK_IMPORTED_MODULE_1__.ZP,{onClick:openFileDialog,...props},children);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-form-file-upload"},ui,(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{type:"file",ref:ref,multiple:multiple,style:{display:"none"},accept:accept,onChange:onChange,onClick:onClick,"data-testid":"form-file-upload-input"}))}FormFileUpload.__docgenInfo={description:"FormFileUpload is a component that allows users to select files from their local device.\n\n```jsx\nimport { FormFileUpload } from '@wordpress/components';\n\nconst MyFormFileUpload = () => (\n  <FormFileUpload\n    accept=\"image/*\"\n    onChange={ ( event ) => console.log( event.currentTarget.files ) }\n  >\n    Upload\n  </FormFileUpload>\n);\n```",methods:[],displayName:"FormFileUpload",props:{multiple:{defaultValue:{value:"false",computed:!1},required:!1}}},__webpack_exports__.Z=FormFileUpload},"./packages/components/build-module/form-token-field/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return form_token_field}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_previous=__webpack_require__("./packages/compose/build-module/hooks/use-previous/index.js"),use_debounce=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),a11y_build_module=__webpack_require__("./packages/a11y/build-module/index.js"),is_shallow_equal_build_module=__webpack_require__("./packages/is-shallow-equal/build-module/index.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js");const noop=()=>{};function Token({value:value,status:status,title:title,displayTransform:displayTransform,isBorderless:isBorderless=!1,disabled:disabled=!1,onClickRemove:onClickRemove=noop,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,messages:messages,termPosition:termPosition,termsCount:termsCount}){const instanceId=(0,use_instance_id.Z)(Token),tokenClasses=classnames_default()("components-form-token-field__token",{"is-error":"error"===status,"is-success":"success"===status,"is-validating":"validating"===status,"is-borderless":isBorderless,"is-disabled":disabled}),transformedValue=displayTransform(value),termPositionAndCount=(0,build_module.gB)((0,build_module.__)("%1$s (%2$s of %3$s)"),transformedValue,termPosition,termsCount);return(0,react.createElement)("span",{className:tokenClasses,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,title:title},(0,react.createElement)("span",{className:"components-form-token-field__token-text",id:`components-form-token-field__token-text-${instanceId}`},(0,react.createElement)(component.Z,{as:"span"},termPositionAndCount),(0,react.createElement)("span",{"aria-hidden":"true"},transformedValue)),(0,react.createElement)(build_module_button.ZP,{className:"components-form-token-field__remove-token",icon:close_small.Z,onClick:disabled?void 0:()=>onClickRemove({value:value}),label:messages.remove,"aria-describedby":`components-form-token-field__token-text-${instanceId}`}))}Token.__docgenInfo={description:"",methods:[],displayName:"Token",props:{isBorderless:{defaultValue:{value:"false",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},onClickRemove:{defaultValue:{value:"() => {}",computed:!1},required:!1}}};var token_input=__webpack_require__("./packages/components/build-module/form-token-field/token-input.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),flex_component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js"),box_sizing=__webpack_require__("./packages/components/build-module/utils/box-sizing.js");const deprecatedPaddings=({__next40pxDefaultSize:__next40pxDefaultSize,hasTokens:hasTokens})=>!__next40pxDefaultSize&&(0,emotion_react_browser_esm.iv)("padding-top:",(0,space.D)(hasTokens?1:.5),";padding-bottom:",(0,space.D)(hasTokens?1:.5),";","","",""),TokensAndInputWrapperFlex=(0,emotion_styled_base_browser_esm.Z)(flex_component.Z,{target:"ehq8nmi0"})("padding:7px;",box_sizing.p," ",deprecatedPaddings,";");var suggestions_list=__webpack_require__("./packages/components/build-module/form-token-field/suggestions-list.js"),flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),base_control_styles=__webpack_require__("./packages/components/build-module/base-control/styles/base-control-styles.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),use_deprecated_props=__webpack_require__("./packages/components/build-module/utils/use-deprecated-props.js");const identity=value=>value;function FormTokenField(props){const{autoCapitalize:autoCapitalize,autoComplete:autoComplete,maxLength:maxLength,placeholder:placeholder,label:label=(0,build_module.__)("Add item"),className:className,suggestions:suggestions=[],maxSuggestions:maxSuggestions=100,value:value=[],displayTransform:displayTransform=identity,saveTransform:saveTransform=(token=>token.trim()),onChange:onChange=(()=>{}),onInputChange:onInputChange=(()=>{}),onFocus:onFocus,isBorderless:isBorderless=!1,disabled:disabled=!1,tokenizeOnSpace:tokenizeOnSpace=!1,messages:messages={added:(0,build_module.__)("Item added."),removed:(0,build_module.__)("Item removed."),remove:(0,build_module.__)("Remove item"),__experimentalInvalid:(0,build_module.__)("Invalid item")},__experimentalRenderItem:__experimentalRenderItem,__experimentalExpandOnFocus:__experimentalExpandOnFocus=!1,__experimentalValidateInput:__experimentalValidateInput=(()=>!0),__experimentalShowHowTo:__experimentalShowHowTo=!0,__next40pxDefaultSize:__next40pxDefaultSize=!1,__experimentalAutoSelectFirstMatch:__experimentalAutoSelectFirstMatch=!1,__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,tokenizeOnBlur:tokenizeOnBlur=!1}=(0,use_deprecated_props.s)(props,"wp.components.FormTokenField"),instanceId=(0,use_instance_id.Z)(FormTokenField),[incompleteTokenValue,setIncompleteTokenValue]=(0,react.useState)(""),[inputOffsetFromEnd,setInputOffsetFromEnd]=(0,react.useState)(0),[isActive,setIsActive]=(0,react.useState)(!1),[isExpanded,setIsExpanded]=(0,react.useState)(!1),[selectedSuggestionIndex,setSelectedSuggestionIndex]=(0,react.useState)(-1),[selectedSuggestionScroll,setSelectedSuggestionScroll]=(0,react.useState)(!1),prevSuggestions=(0,use_previous.Z)(suggestions),prevValue=(0,use_previous.Z)(value),input=(0,react.useRef)(null),tokensAndInput=(0,react.useRef)(null),debouncedSpeak=(0,use_debounce.Z)(a11y_build_module.D,500);function focus(){input.current?.focus()}function hasFocus(){return input.current===input.current?.ownerDocument.activeElement}function onBlur(event){if(inputHasValidValue()&&__experimentalValidateInput(incompleteTokenValue))setIsActive(!1),tokenizeOnBlur&&inputHasValidValue()&&addNewToken(incompleteTokenValue);else{setIncompleteTokenValue(""),setInputOffsetFromEnd(0),setIsActive(!1);const shouldKeepSuggestionsExpanded=!__experimentalExpandOnFocus||__experimentalExpandOnFocus&&event.relatedTarget===tokensAndInput.current;setIsExpanded(shouldKeepSuggestionsExpanded),setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1)}}function onContainerTouched(event){event.target===tokensAndInput.current&&isActive&&event.preventDefault()}function onTokenClickRemove(event){deleteToken(event.value),focus()}function onInputChangeHandler(event){const text=event.value,separator=tokenizeOnSpace?/[ ,\t]+/:/[,\t]+/,items=text.split(separator),tokenValue=items[items.length-1]||"";items.length>1&&addNewTokens(items.slice(0,-1)),setIncompleteTokenValue(tokenValue),onInputChange(tokenValue)}function handleDeleteKey(_deleteToken){let preventDefault=!1;return hasFocus()&&isInputEmpty()&&(_deleteToken(),preventDefault=!0),preventDefault}function deleteTokenBeforeInput(){const index=getIndexOfInput()-1;index>-1&&deleteToken(value[index])}function deleteTokenAfterInput(){const index=getIndexOfInput();index<value.length&&(deleteToken(value[index]),function moveInputToIndex(index){setInputOffsetFromEnd(value.length-Math.max(index,-1)-1)}(index))}function addCurrentToken(){let preventDefault=!1;const selectedSuggestion=function getSelectedSuggestion(){if(-1!==selectedSuggestionIndex)return getMatchingSuggestions()[selectedSuggestionIndex];return}();return selectedSuggestion?(addNewToken(selectedSuggestion),preventDefault=!0):inputHasValidValue()&&(addNewToken(incompleteTokenValue),preventDefault=!0),preventDefault}function addNewTokens(tokens){const tokensToAdd=[...new Set(tokens.map(saveTransform).filter(Boolean).filter((token=>!function valueContainsToken(token){return value.some((item=>getTokenValue(token)===getTokenValue(item)))}(token))))];if(tokensToAdd.length>0){const newValue=[...value];newValue.splice(getIndexOfInput(),0,...tokensToAdd),onChange(newValue)}}function addNewToken(token){__experimentalValidateInput(token)?(addNewTokens([token]),(0,a11y_build_module.D)(messages.added,"assertive"),setIncompleteTokenValue(""),setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1),setIsExpanded(!__experimentalExpandOnFocus),isActive&&!tokenizeOnBlur&&focus()):(0,a11y_build_module.D)(messages.__experimentalInvalid,"assertive")}function deleteToken(token){const newTokens=value.filter((item=>getTokenValue(item)!==getTokenValue(token)));onChange(newTokens),(0,a11y_build_module.D)(messages.removed,"assertive")}function getTokenValue(token){return"object"==typeof token?token.value:token}function getMatchingSuggestions(searchValue=incompleteTokenValue,_suggestions=suggestions,_value=value,_maxSuggestions=maxSuggestions,_saveTransform=saveTransform){let match=_saveTransform(searchValue);const startsWithMatch=[],containsMatch=[],normalizedValue=_value.map((item=>"string"==typeof item?item:item.value));return 0===match.length?_suggestions=_suggestions.filter((suggestion=>!normalizedValue.includes(suggestion))):(match=match.toLocaleLowerCase(),_suggestions.forEach((suggestion=>{const index=suggestion.toLocaleLowerCase().indexOf(match);-1===normalizedValue.indexOf(suggestion)&&(0===index?startsWithMatch.push(suggestion):index>0&&containsMatch.push(suggestion))})),_suggestions=startsWithMatch.concat(containsMatch)),_suggestions.slice(0,_maxSuggestions)}function getIndexOfInput(){return value.length-inputOffsetFromEnd}function isInputEmpty(){return 0===incompleteTokenValue.length}function inputHasValidValue(){return saveTransform(incompleteTokenValue).length>0}function updateSuggestions(resetSelectedSuggestion=!0){const inputHasMinimumChars=incompleteTokenValue.trim().length>1,matchingSuggestions=getMatchingSuggestions(incompleteTokenValue),hasMatchingSuggestions=matchingSuggestions.length>0,shouldExpandIfFocuses=hasFocus()&&__experimentalExpandOnFocus;if(setIsExpanded(shouldExpandIfFocuses||inputHasMinimumChars&&hasMatchingSuggestions),resetSelectedSuggestion&&(__experimentalAutoSelectFirstMatch&&inputHasMinimumChars&&hasMatchingSuggestions?(setSelectedSuggestionIndex(0),setSelectedSuggestionScroll(!0)):(setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1))),inputHasMinimumChars){const message=hasMatchingSuggestions?(0,build_module.gB)((0,build_module._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",matchingSuggestions.length),matchingSuggestions.length):(0,build_module.__)("No results.");debouncedSpeak(message,"assertive")}}function renderToken(token,index,tokens){const _value=getTokenValue(token),status="string"!=typeof token?token.status:void 0,termPosition=index+1,termsCount=tokens.length;return(0,react.createElement)(flex_item_component.Z,{key:"token-"+_value},(0,react.createElement)(Token,{value:_value,status:status,title:"string"!=typeof token?token.title:void 0,displayTransform:displayTransform,onClickRemove:onTokenClickRemove,isBorderless:"string"!=typeof token&&token.isBorderless||isBorderless,onMouseEnter:"string"!=typeof token?token.onMouseEnter:void 0,onMouseLeave:"string"!=typeof token?token.onMouseLeave:void 0,disabled:"error"!==status&&disabled,messages:messages,termsCount:termsCount,termPosition:termPosition}))}(0,react.useEffect)((()=>{isActive&&!hasFocus()&&focus()}),[isActive]),(0,react.useEffect)((()=>{const suggestionsDidUpdate=!(0,is_shallow_equal_build_module.ZP)(suggestions,prevSuggestions||[]);(suggestionsDidUpdate||value!==prevValue)&&updateSuggestions(suggestionsDidUpdate)}),[suggestions,prevSuggestions,value,prevValue]),(0,react.useEffect)((()=>{updateSuggestions()}),[incompleteTokenValue]),(0,react.useEffect)((()=>{updateSuggestions()}),[__experimentalAutoSelectFirstMatch]),disabled&&isActive&&(setIsActive(!1),setIncompleteTokenValue(""));const classes=classnames_default()(className,"components-form-token-field__input-container",{"is-active":isActive,"is-disabled":disabled});let tokenFieldProps={className:"components-form-token-field",tabIndex:-1};const matchingSuggestions=getMatchingSuggestions();return disabled||(tokenFieldProps=Object.assign({},tokenFieldProps,{onKeyDown:function onKeyDown(event){let preventDefault=!1;if(!event.defaultPrevented&&!event.nativeEvent.isComposing&&229!==event.keyCode){switch(event.key){case"Backspace":preventDefault=handleDeleteKey(deleteTokenBeforeInput);break;case"Enter":preventDefault=addCurrentToken();break;case"ArrowLeft":preventDefault=function handleLeftArrowKey(){let preventDefault=!1;return isInputEmpty()&&(function moveInputBeforePreviousToken(){setInputOffsetFromEnd((prevInputOffsetFromEnd=>Math.min(prevInputOffsetFromEnd+1,value.length)))}(),preventDefault=!0),preventDefault}();break;case"ArrowUp":preventDefault=function handleUpArrowKey(){return setSelectedSuggestionIndex((index=>(0===index?getMatchingSuggestions(incompleteTokenValue,suggestions,value,maxSuggestions,saveTransform).length:index)-1)),setSelectedSuggestionScroll(!0),!0}();break;case"ArrowRight":preventDefault=function handleRightArrowKey(){let preventDefault=!1;return isInputEmpty()&&(function moveInputAfterNextToken(){setInputOffsetFromEnd((prevInputOffsetFromEnd=>Math.max(prevInputOffsetFromEnd-1,0)))}(),preventDefault=!0),preventDefault}();break;case"ArrowDown":preventDefault=function handleDownArrowKey(){return setSelectedSuggestionIndex((index=>(index+1)%getMatchingSuggestions(incompleteTokenValue,suggestions,value,maxSuggestions,saveTransform).length)),setSelectedSuggestionScroll(!0),!0}();break;case"Delete":preventDefault=handleDeleteKey(deleteTokenAfterInput);break;case"Space":tokenizeOnSpace&&(preventDefault=addCurrentToken());break;case"Escape":preventDefault=function handleEscapeKey(event){return event.target instanceof HTMLInputElement&&(setIncompleteTokenValue(event.target.value),setIsExpanded(!1),setSelectedSuggestionIndex(-1),setSelectedSuggestionScroll(!1)),!0}(event)}preventDefault&&event.preventDefault()}},onKeyPress:function onKeyPress(event){let preventDefault=!1;","===event.key&&(preventDefault=function handleCommaKey(){return inputHasValidValue()&&addNewToken(incompleteTokenValue),!0}());preventDefault&&event.preventDefault()},onFocus:function onFocusHandler(event){hasFocus()||event.target===tokensAndInput.current?(setIsActive(!0),setIsExpanded(__experimentalExpandOnFocus||isExpanded)):setIsActive(!1),"function"==typeof onFocus&&onFocus(event)}})),(0,react.createElement)("div",{...tokenFieldProps},(0,react.createElement)(base_control_styles.ar,{htmlFor:`components-form-token-input-${instanceId}`,className:"components-form-token-field__label"},label),(0,react.createElement)("div",{ref:tokensAndInput,className:classes,tabIndex:-1,onMouseDown:onContainerTouched,onTouchStart:onContainerTouched},(0,react.createElement)(TokensAndInputWrapperFlex,{justify:"flex-start",align:"center",gap:1,wrap:!0,__next40pxDefaultSize:__next40pxDefaultSize,hasTokens:!!value.length},function renderTokensAndInput(){const components=value.map(renderToken);return components.splice(getIndexOfInput(),0,function renderInput(){const inputProps={instanceId:instanceId,autoCapitalize:autoCapitalize,autoComplete:autoComplete,placeholder:0===value.length?placeholder:"",key:"input",disabled:disabled,value:incompleteTokenValue,onBlur:onBlur,isExpanded:isExpanded,selectedSuggestionIndex:selectedSuggestionIndex};return(0,react.createElement)(token_input.ZP,{...inputProps,onChange:maxLength&&value.length>=maxLength?void 0:onInputChangeHandler,ref:input})}()),components}()),isExpanded&&(0,react.createElement)(suggestions_list.Z,{instanceId:instanceId,match:saveTransform(incompleteTokenValue),displayTransform:displayTransform,suggestions:matchingSuggestions,selectedIndex:selectedSuggestionIndex,scrollIntoView:selectedSuggestionScroll,onHover:function onSuggestionHovered(suggestion){const index=getMatchingSuggestions().indexOf(suggestion);index>=0&&(setSelectedSuggestionIndex(index),setSelectedSuggestionScroll(!1))},onSelect:function onSuggestionSelected(suggestion){addNewToken(suggestion)},__experimentalRenderItem:__experimentalRenderItem})),!__nextHasNoMarginBottom&&(0,react.createElement)(spacer_component.Z,{marginBottom:2}),__experimentalShowHowTo&&(0,react.createElement)(base_control_styles.vB,{id:`components-form-token-suggestions-howto-${instanceId}`,className:"components-form-token-field__help",__nextHasNoMarginBottom:__nextHasNoMarginBottom},tokenizeOnSpace?(0,build_module.__)("Separate with commas, spaces, or the Enter key."):(0,build_module.__)("Separate with commas or the Enter key.")))}FormTokenField.__docgenInfo={description:'A `FormTokenField` is a field similar to the tags and categories fields in the interim editor chrome,\nor the "to" field in Mail on OS X. Tokens can be entered by typing them or selecting them from a list of suggested tokens.\n\nUp to one hundred suggestions that match what the user has typed so far will be shown from which the user can pick from (auto-complete).\nTokens are separated by the "," character. Suggestions can be selected with the up or down arrows and added with the tab or enter key.\n\nThe `value` property is handled in a manner similar to controlled form components.\nSee [Forms](http://facebook.github.io/react/docs/forms.html) in the React Documentation for more information.',methods:[],displayName:"FormTokenField"};var form_token_field=FormTokenField},"./packages/components/build-module/form-token-field/suggestions-list.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/dom-scroll-into-view/lib/index.js"),dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_1__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js");const handleMouseDown=e=>{e.preventDefault()};function SuggestionsList({selectedIndex:selectedIndex,scrollIntoView:scrollIntoView,match:match,onHover:onHover,onSelect:onSelect,suggestions:suggestions=[],displayTransform:displayTransform,instanceId:instanceId,__experimentalRenderItem:__experimentalRenderItem}){const[scrollingIntoView,setScrollingIntoView]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),listRef=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)((listNode=>{let rafId;return selectedIndex>-1&&scrollIntoView&&listNode.children[selectedIndex]&&(setScrollingIntoView(!0),dom_scroll_into_view__WEBPACK_IMPORTED_MODULE_1___default()(listNode.children[selectedIndex],listNode,{onlyScrollIfNeeded:!0}),rafId=requestAnimationFrame((()=>{setScrollingIntoView(!1)}))),()=>{void 0!==rafId&&cancelAnimationFrame(rafId)}}),[selectedIndex,scrollIntoView]),handleHover=suggestion=>()=>{scrollingIntoView||onHover?.(suggestion)},handleClick=suggestion=>()=>{onSelect?.(suggestion)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("ul",{ref:listRef,className:"components-form-token-field__suggestions-list",id:`components-form-token-suggestions-${instanceId}`,role:"listbox"},suggestions.map(((suggestion,index)=>{const matchText=(suggestion=>{const matchText=displayTransform(match).toLocaleLowerCase();if(0===matchText.length)return null;const transformedSuggestion=displayTransform(suggestion),indexOfMatch=transformedSuggestion.toLocaleLowerCase().indexOf(matchText);return{suggestionBeforeMatch:transformedSuggestion.substring(0,indexOfMatch),suggestionMatch:transformedSuggestion.substring(indexOfMatch,indexOfMatch+matchText.length),suggestionAfterMatch:transformedSuggestion.substring(indexOfMatch+matchText.length)}})(suggestion),className=classnames__WEBPACK_IMPORTED_MODULE_2___default()("components-form-token-field__suggestion",{"is-selected":index===selectedIndex});let output;return output="function"==typeof __experimentalRenderItem?__experimentalRenderItem({item:suggestion}):matchText?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{"aria-label":displayTransform(suggestion)},matchText.suggestionBeforeMatch,(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("strong",{className:"components-form-token-field__suggestion-match"},matchText.suggestionMatch),matchText.suggestionAfterMatch):displayTransform(suggestion),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("li",{id:`components-form-token-suggestions-${instanceId}-${index}`,role:"option",className:className,key:"object"==typeof suggestion&&"value"in suggestion?suggestion?.value:displayTransform(suggestion),onMouseDown:handleMouseDown,onClick:handleClick(suggestion),onMouseEnter:handleHover(suggestion),"aria-selected":index===selectedIndex},output)})))}SuggestionsList.__docgenInfo={description:"",methods:[],displayName:"SuggestionsList",props:{suggestions:{defaultValue:{value:"[]",computed:!1},required:!1}}},__webpack_exports__.Z=SuggestionsList},"./packages/components/build-module/form-token-field/token-input.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);function UnForwardedTokenInput(props,ref){const{value:value,isExpanded:isExpanded,instanceId:instanceId,selectedSuggestionIndex:selectedSuggestionIndex,className:className,onChange:onChange,onFocus:onFocus,onBlur:onBlur,...restProps}=props,[hasFocus,setHasFocus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),size=value?value.length+1:0;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{ref:ref,id:`components-form-token-input-${instanceId}`,type:"text",...restProps,value:value||"",onChange:event=>{onChange&&onChange({value:event.target.value})},onFocus:e=>{setHasFocus(!0),onFocus?.(e)},onBlur:e=>{setHasFocus(!1),onBlur?.(e)},size:size,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(className,"components-form-token-field__input"),autoComplete:"off",role:"combobox","aria-expanded":isExpanded,"aria-autocomplete":"list","aria-owns":isExpanded?`components-form-token-suggestions-${instanceId}`:void 0,"aria-activedescendant":hasFocus&&-1!==selectedSuggestionIndex&&isExpanded?`components-form-token-suggestions-${instanceId}-${selectedSuggestionIndex}`:void 0,"aria-describedby":`components-form-token-suggestions-howto-${instanceId}`})}const TokenInput=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnForwardedTokenInput);__webpack_exports__.ZP=TokenInput,UnForwardedTokenInput.__docgenInfo={description:"Internal dependencies",methods:[],displayName:"UnForwardedTokenInput"}},"./packages/components/build-module/gradient-picker/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/deprecated/build-module/index.js"),_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/circular-option-picker/index.js"),_custom_gradient_picker__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/custom-gradient-picker/index.js"),_v_stack__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/v-stack/component.js"),_color_palette_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/color-palette/styles.js"),_spacer__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/spacer/component.js");const isMultipleOriginArray=arr=>arr.length>0&&arr.every((gradientObj=>{return obj=gradientObj,Array.isArray(obj.gradients)&&!("gradient"in obj);var obj}));function SingleOrigin({className:className,clearGradient:clearGradient,gradients:gradients,onChange:onChange,value:value,...additionalProps}){const gradientOptions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>gradients.map((({gradient:gradient,name:name},index)=>(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP.Option,{key:gradient,value:gradient,isSelected:value===gradient,tooltipText:name||(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Gradient code: %s"),gradient),style:{color:"rgba( 0,0,0,0 )",background:gradient},onClick:value===gradient?clearGradient:()=>onChange(gradient,index),"aria-label":name?(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Gradient: %s"),name):(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.gB)((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Gradient code: %s"),gradient)})))),[gradients,value,onChange,clearGradient]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP.OptionGroup,{className:className,options:gradientOptions,...additionalProps})}function MultipleOrigin({className:className,clearGradient:clearGradient,gradients:gradients,onChange:onChange,value:value,headingLevel:headingLevel}){const instanceId=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)(MultipleOrigin);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:3,className:className},gradients.map((({name:name,gradients:gradientSet},index)=>{const id=`color-palette-${instanceId}-${index}`;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:2,key:index},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_color_palette_styles__WEBPACK_IMPORTED_MODULE_5__.A,{level:headingLevel,id:id},name),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(SingleOrigin,{clearGradient:clearGradient,gradients:gradientSet,onChange:gradient=>onChange(gradient,index),value:value,"aria-labelledby":id}))})))}function Component(props){const{asButtons:asButtons,loop:loop,actions:actions,headingLevel:headingLevel,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledby,...additionalProps}=props,options=isMultipleOriginArray(props.gradients)?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(MultipleOrigin,{headingLevel:headingLevel,...additionalProps}):(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(SingleOrigin,{...additionalProps});let metaProps;if(asButtons)metaProps={asButtons:!0};else{const _metaProps={asButtons:!1,loop:loop};metaProps=ariaLabel?{..._metaProps,"aria-label":ariaLabel}:ariaLabelledby?{..._metaProps,"aria-labelledby":ariaLabelledby}:{..._metaProps,"aria-label":(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Custom color picker.")}}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP,{...metaProps,actions:actions,options:options})}function GradientPicker({__nextHasNoMargin:__nextHasNoMargin=!1,className:className,gradients:gradients=[],onChange:onChange,value:value,clearable:clearable=!0,disableCustomGradients:disableCustomGradients=!1,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,headingLevel:headingLevel=2,...additionalProps}){const clearGradient=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>onChange(void 0)),[onChange]);__nextHasNoMargin||(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_6__.Z)("Outer margin styles for wp.components.GradientPicker",{since:"6.1",version:"6.4",hint:"Set the `__nextHasNoMargin` prop to true to start opting into the new styles, which will become the default in a future version"});const deprecatedMarginSpacerProps=__nextHasNoMargin?{}:{marginTop:gradients.length?void 0:3,marginBottom:clearable?0:6};return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_spacer__WEBPACK_IMPORTED_MODULE_7__.Z,{marginBottom:0,...deprecatedMarginSpacerProps},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_v_stack__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:gradients.length?4:0},!disableCustomGradients&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_custom_gradient_picker__WEBPACK_IMPORTED_MODULE_8__.Z,{__nextHasNoMargin:!0,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,value:value,onChange:onChange}),(gradients.length>0||clearable)&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Component,{...additionalProps,className:className,clearGradient:clearGradient,gradients:gradients,onChange:onChange,value:value,actions:clearable&&!disableCustomGradients&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_circular_option_picker__WEBPACK_IMPORTED_MODULE_2__.ZP.ButtonAction,{onClick:clearGradient},(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Clear")),headingLevel:headingLevel})))}GradientPicker.__docgenInfo={description:"GradientPicker is a React component that renders a color gradient picker to\ndefine a multi step gradient. There's either a _linear_ or a _radial_ type\navailable.\n\n```jsx\nimport { GradientPicker } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\nconst myGradientPicker = () => {\nconst [ gradient, setGradient ] = useState( null );\n\nreturn (\n\t<GradientPicker\n\t\t__nextHasNoMargin\n\t\tvalue={ gradient }\n\t\tonChange={ ( currentGradient ) => setGradient( currentGradient ) }\n\t\tgradients={ [\n\t\t\t{\n\t\t\t\tname: 'JShine',\n\t\t\t\tgradient:\n\t\t\t\t\t'linear-gradient(135deg,#12c2e9 0%,#c471ed 50%,#f64f59 100%)',\n\t\t\t\tslug: 'jshine',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Moonlit Asteroid',\n\t\t\t\tgradient:\n\t\t\t\t\t'linear-gradient(135deg,#0F2027 0%, #203A43 0%, #2c5364 100%)',\n\t\t\t\tslug: 'moonlit-asteroid',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'Rastafarie',\n\t\t\t\tgradient:\n\t\t\t\t\t'linear-gradient(135deg,#1E9600 0%, #FFF200 0%, #FF0000 100%)',\n\t\t\t\tslug: 'rastafari',\n\t\t\t},\n\t\t] }\n\t/>\n);\n};\n```",methods:[],displayName:"GradientPicker",props:{__nextHasNoMargin:{defaultValue:{value:"false",computed:!1},required:!1},gradients:{defaultValue:{value:"[]",computed:!1},required:!1},clearable:{defaultValue:{value:"true",computed:!1},required:!1},disableCustomGradients:{defaultValue:{value:"false",computed:!1},required:!1},headingLevel:{defaultValue:{value:"2",computed:!1},required:!1}}},__webpack_exports__.Z=GradientPicker},"./packages/components/build-module/higher-order/with-spoken-messages/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/a11y/build-module/index.js");__webpack_exports__.Z=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.o)((Component=>props=>(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Component,{...props,speak:_wordpress_a11y__WEBPACK_IMPORTED_MODULE_1__.D,debouncedSpeak:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)(_wordpress_a11y__WEBPACK_IMPORTED_MODULE_1__.D,500)})),"withSpokenMessages")},"./packages/components/build-module/notice/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/i18n/build-module/index.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/element/build-module/serialize.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/element/build-module/raw-html.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/a11y/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/library/close.js"),_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/button/index.js"),_visually_hidden__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/visually-hidden/component.js");const noop=()=>{};function getDefaultPoliteness(status){switch(status){case"success":case"warning":case"info":return"polite";default:return"assertive"}}function Notice({className:className,status:status="info",children:children,spokenMessage:spokenMessage=children,onRemove:onRemove=noop,isDismissible:isDismissible=!0,actions:actions=[],politeness:politeness=getDefaultPoliteness(status),__unstableHTML:__unstableHTML,onDismiss:onDismiss=noop}){!function useSpokenMessage(message,politeness){const spokenMessage="string"==typeof message?message:(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_4__.ZP)(message);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{spokenMessage&&(0,_wordpress_a11y__WEBPACK_IMPORTED_MODULE_3__.D)(spokenMessage,politeness)}),[spokenMessage,politeness])}(spokenMessage,politeness);const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()(className,"components-notice","is-"+status,{"is-dismissible":isDismissible});__unstableHTML&&"string"==typeof children&&(children=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.Z,null,children));return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:classes},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_visually_hidden__WEBPACK_IMPORTED_MODULE_6__.Z,null,function getStatusLabel(status){switch(status){case"warning":return(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Warning notice");case"info":return(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Information notice");case"error":return(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Error notice");default:return(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Notice")}}(status)),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-notice__content"},children,(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-notice__actions"},actions.map((({className:buttonCustomClasses,label:label,isPrimary:isPrimary,variant:variant,noDefaultClasses:noDefaultClasses=!1,onClick:onClick,url:url},index)=>{let computedVariant=variant;return"primary"===variant||noDefaultClasses||(computedVariant=url?"link":"secondary"),void 0===computedVariant&&isPrimary&&(computedVariant="primary"),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_button__WEBPACK_IMPORTED_MODULE_7__.ZP,{key:index,href:url,variant:computedVariant,onClick:url?void 0:onClick,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-notice__action",buttonCustomClasses)},label)})))),isDismissible&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_button__WEBPACK_IMPORTED_MODULE_7__.ZP,{className:"components-notice__dismiss",icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__.__)("Close"),onClick:()=>{onDismiss(),onRemove()}}))}Notice.__docgenInfo={description:'`Notice` is a component used to communicate feedback to the user.\n\n```jsx\nimport { Notice } from `@wordpress/components`;\n\nconst MyNotice = () => (\n  <Notice status="error">An unknown error occurred.</Notice>\n);\n```',methods:[],displayName:"Notice",props:{status:{defaultValue:{value:"'info'",computed:!1},required:!1},spokenMessage:{defaultValue:{value:"children",computed:!0},required:!1},onRemove:{defaultValue:{value:"() => {}",computed:!1},required:!1},isDismissible:{defaultValue:{value:"true",computed:!1},required:!1},actions:{defaultValue:{value:"[]",computed:!1},required:!1},politeness:{defaultValue:{value:"getDefaultPoliteness(status)",computed:!0},required:!1},onDismiss:{defaultValue:{value:"() => {}",computed:!1},required:!1}}},__webpack_exports__.Z=Notice},"./packages/components/build-module/panel/body.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/library/chevron-up.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/icons/build-module/library/chevron-down.js"),_button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/button/index.js"),_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/icon/index.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-state.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/utils/hooks/use-update-effect.js");const noop=()=>{};function UnforwardedPanelBody(props,ref){const{buttonProps:buttonProps={},children:children,className:className,icon:icon,initialOpen:initialOpen,onToggle:onToggle=noop,opened:opened,title:title,scrollAfterOpen:scrollAfterOpen=!0}=props,[isOpened,setIsOpened]=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.Z)(opened,{initial:void 0===initialOpen||initialOpen,fallback:!1}),nodeRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),scrollBehavior=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)()?"auto":"smooth",scrollAfterOpenRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();scrollAfterOpenRef.current=scrollAfterOpen,(0,_utils__WEBPACK_IMPORTED_MODULE_4__.Z)((()=>{isOpened&&scrollAfterOpenRef.current&&nodeRef.current?.scrollIntoView&&nodeRef.current.scrollIntoView({inline:"nearest",block:"nearest",behavior:scrollBehavior})}),[isOpened,scrollBehavior]);const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-panel__body",className,{"is-opened":isOpened});return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:classes,ref:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)([nodeRef,ref])},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(PanelBodyTitle,{icon:icon,isOpened:Boolean(isOpened),onClick:event=>{event.preventDefault();const next=!isOpened;setIsOpened(next),onToggle(next)},title:title,...buttonProps}),"function"==typeof children?children({opened:Boolean(isOpened)}):isOpened&&children)}const PanelBodyTitle=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({isOpened:isOpened,icon:icon,title:title,...props},ref)=>title?(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("h2",{className:"components-panel__body-title"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_button__WEBPACK_IMPORTED_MODULE_6__.ZP,{className:"components-panel__body-toggle","aria-expanded":isOpened,ref:ref,...props},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{"aria-hidden":"true"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_7__.Z,{className:"components-panel__arrow",icon:isOpened?_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z:_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__.Z})),title,icon&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_7__.Z,{icon:icon,className:"components-panel__icon",size:20}))):null)),PanelBody=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedPanelBody);__webpack_exports__.ZP=PanelBody,UnforwardedPanelBody.__docgenInfo={description:"",methods:[],displayName:"UnforwardedPanelBody"}},"./packages/components/build-module/placeholder/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),_wordpress_a11y__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/a11y/build-module/index.js"),_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/icon/index.js");const PlaceholderIllustration=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_3__.Wj,{className:"components-placeholder__illustration",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60",preserveAspectRatio:"none"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_3__.y$,{vectorEffect:"non-scaling-stroke",d:"M60 60 0 0"}));function Placeholder(props){const{icon:icon,children:children,label:label,instructions:instructions,className:className,notices:notices,preview:preview,isColumnLayout:isColumnLayout,withIllustration:withIllustration,...additionalProps}=props,[resizeListener,{width:width}]=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)();let modifierClassNames;"number"==typeof width&&(modifierClassNames={"is-large":width>=480,"is-medium":width>=160&&width<480,"is-small":width<160});const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-placeholder",className,modifierClassNames,withIllustration?"has-illustration":null),fieldsetClasses=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-placeholder__fieldset",{"is-column-layout":isColumnLayout});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{instructions&&(0,_wordpress_a11y__WEBPACK_IMPORTED_MODULE_2__.D)(instructions)}),[instructions]),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{...additionalProps,className:classes},withIllustration?PlaceholderIllustration:null,resizeListener,notices,preview&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-placeholder__preview"},preview),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-placeholder__label"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_icon__WEBPACK_IMPORTED_MODULE_5__.Z,{icon:icon}),label),!!instructions&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"components-placeholder__instructions"},instructions),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:fieldsetClasses},children))}Placeholder.__docgenInfo={description:"Renders a placeholder. Normally used by blocks to render their empty state.\n\n```jsx\nimport { Placeholder } from '@wordpress/components';\nimport { more } from '@wordpress/icons';\n\nconst MyPlaceholder = () => <Placeholder icon={ more } label=\"Placeholder\" />;\n```",methods:[],displayName:"Placeholder"},__webpack_exports__.Z=Placeholder},"./packages/components/build-module/resizable-box/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return resizable_box}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lib=__webpack_require__("./node_modules/re-resizable/lib/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_resize_observer=__webpack_require__("./packages/compose/build-module/hooks/use-resize-observer/index.js");const noop=()=>{},POSITIONS={bottom:"bottom",corner:"corner"};function useResizeLabel({axis:axis,fadeTimeout:fadeTimeout=180,onResize:onResize=noop,position:position=POSITIONS.bottom,showPx:showPx=!1}){const[resizeListener,sizes]=(0,use_resize_observer.Z)(),isAxisControlled=!!axis,[moveX,setMoveX]=(0,react.useState)(!1),[moveY,setMoveY]=(0,react.useState)(!1),{width:width,height:height}=sizes,heightRef=(0,react.useRef)(height),widthRef=(0,react.useRef)(width),moveTimeoutRef=(0,react.useRef)(),debounceUnsetMoveXY=(0,react.useCallback)((()=>{moveTimeoutRef.current&&window.clearTimeout(moveTimeoutRef.current),moveTimeoutRef.current=window.setTimeout((()=>{isAxisControlled||(setMoveX(!1),setMoveY(!1))}),fadeTimeout)}),[fadeTimeout,isAxisControlled]);(0,react.useEffect)((()=>{if(!(null!==width||null!==height))return;const didWidthChange=width!==widthRef.current,didHeightChange=height!==heightRef.current;if(didWidthChange||didHeightChange){if(width&&!widthRef.current&&height&&!heightRef.current)return widthRef.current=width,void(heightRef.current=height);didWidthChange&&(setMoveX(!0),widthRef.current=width),didHeightChange&&(setMoveY(!0),heightRef.current=height),onResize({width:width,height:height}),debounceUnsetMoveXY()}}),[width,height,onResize,debounceUnsetMoveXY]);const label=function getSizeLabel({axis:axis,height:height,moveX:moveX=!1,moveY:moveY=!1,position:position=POSITIONS.bottom,showPx:showPx=!1,width:width}){if(!moveX&&!moveY)return;if(position===POSITIONS.corner)return`${width} x ${height}`;const labelUnit=showPx?" px":"";if(axis){if("x"===axis&&moveX)return`${width}${labelUnit}`;if("y"===axis&&moveY)return`${height}${labelUnit}`}if(moveX&&moveY)return`${width} x ${height}`;if(moveX)return`${width}${labelUnit}`;if(moveY)return`${height}${labelUnit}`;return}({axis:axis,height:height,moveX:moveX,moveY:moveY,position:position,showPx:showPx,width:width});return{label:label,resizeListener:resizeListener}}var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),component=__webpack_require__("./packages/components/build-module/text/component.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),font=__webpack_require__("./packages/components/build-module/utils/font.js");const Root=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1wq7y4k3"})({name:"1cd7zoc",styles:"bottom:0;box-sizing:border-box;left:0;pointer-events:none;position:absolute;right:0;top:0"}),TooltipWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1wq7y4k2"})({name:"ajymcs",styles:"align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;opacity:0;pointer-events:none;transition:opacity 120ms linear"}),Tooltip=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1wq7y4k1"})("background:",colors_values.D.gray[900],";border-radius:2px;box-sizing:border-box;font-family:",(0,font.L)("default.fontFamily"),";font-size:12px;color:",colors_values.D.ui.textDark,";padding:4px 8px;position:relative;"),LabelText=(0,emotion_styled_base_browser_esm.Z)(component.Z,{target:"e1wq7y4k0"})("&&&{color:",colors_values.D.ui.textDark,";display:block;font-size:13px;line-height:1.4;white-space:nowrap;}");function Label({label:label,position:position=POSITIONS.corner,zIndex:zIndex=1e3,...props},ref){const showLabel=!!label,isBottom=position===POSITIONS.bottom,isCorner=position===POSITIONS.corner;if(!showLabel)return null;let style={opacity:showLabel?1:void 0,zIndex:zIndex},labelStyle={};return isBottom&&(style={...style,position:"absolute",bottom:-10,left:"50%",transform:"translate(-50%, 0)"},labelStyle={transform:"translate(0, 100%)"}),isCorner&&(style={...style,position:"absolute",top:4,right:(0,build_module.dZ)()?void 0:4,left:(0,build_module.dZ)()?4:void 0}),(0,react.createElement)(TooltipWrapper,{"aria-hidden":"true",className:"components-resizable-tooltip__tooltip-wrapper",ref:ref,style:style,...props},(0,react.createElement)(Tooltip,{className:"components-resizable-tooltip__tooltip",style:labelStyle},(0,react.createElement)(LabelText,{as:"span"},label)))}var resize_tooltip_label=(0,react.forwardRef)(Label);Label.__docgenInfo={description:"",methods:[],displayName:"Label",props:{position:{defaultValue:{value:"POSITIONS.corner",computed:!0},required:!1},zIndex:{defaultValue:{value:"1000",computed:!1},required:!1}}};const resize_tooltip_noop=()=>{};function ResizeTooltip({axis:axis,className:className,fadeTimeout:fadeTimeout=180,isVisible:isVisible=!0,labelRef:labelRef,onResize:onResize=resize_tooltip_noop,position:position=POSITIONS.bottom,showPx:showPx=!0,zIndex:zIndex=1e3,...props},ref){const{label:label,resizeListener:resizeListener}=useResizeLabel({axis:axis,fadeTimeout:fadeTimeout,onResize:onResize,showPx:showPx,position:position});if(!isVisible)return null;const classes=classnames_default()("components-resize-tooltip",className);return(0,react.createElement)(Root,{"aria-hidden":"true",className:classes,ref:ref,...props},resizeListener,(0,react.createElement)(resize_tooltip_label,{"aria-hidden":props["aria-hidden"],label:label,position:position,ref:labelRef,zIndex:zIndex}))}var resize_tooltip=(0,react.forwardRef)(ResizeTooltip);ResizeTooltip.__docgenInfo={description:"",methods:[],displayName:"ResizeTooltip",props:{fadeTimeout:{defaultValue:{value:"180",computed:!1},required:!1},isVisible:{defaultValue:{value:"true",computed:!1},required:!1},onResize:{defaultValue:{value:"() => {}",computed:!1},required:!1},position:{defaultValue:{value:"POSITIONS.bottom",computed:!0},required:!1},showPx:{defaultValue:{value:"true",computed:!1},required:!1},zIndex:{defaultValue:{value:"1000",computed:!1},required:!1}}};const HANDLE_CLASS_NAME="components-resizable-box__handle",SIDE_HANDLE_CLASS_NAME="components-resizable-box__side-handle",CORNER_HANDLE_CLASS_NAME="components-resizable-box__corner-handle",HANDLE_CLASSES={top:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-top"),right:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-right"),bottom:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-bottom"),left:classnames_default()(HANDLE_CLASS_NAME,SIDE_HANDLE_CLASS_NAME,"components-resizable-box__handle-left"),topLeft:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-top","components-resizable-box__handle-left"),topRight:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-top","components-resizable-box__handle-right"),bottomRight:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-bottom","components-resizable-box__handle-right"),bottomLeft:classnames_default()(HANDLE_CLASS_NAME,CORNER_HANDLE_CLASS_NAME,"components-resizable-box__handle-bottom","components-resizable-box__handle-left")},HANDLE_STYLES_OVERRIDES={width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0},HANDLE_STYLES={top:HANDLE_STYLES_OVERRIDES,right:HANDLE_STYLES_OVERRIDES,bottom:HANDLE_STYLES_OVERRIDES,left:HANDLE_STYLES_OVERRIDES,topLeft:HANDLE_STYLES_OVERRIDES,topRight:HANDLE_STYLES_OVERRIDES,bottomRight:HANDLE_STYLES_OVERRIDES,bottomLeft:HANDLE_STYLES_OVERRIDES};function UnforwardedResizableBox({className:className,children:children,showHandle:showHandle=!0,__experimentalShowTooltip:showTooltip=!1,__experimentalTooltipProps:tooltipProps={},...props},ref){return(0,react.createElement)(lib.e,{className:classnames_default()("components-resizable-box__container",showHandle&&"has-show-handle",className),handleClasses:HANDLE_CLASSES,handleStyles:HANDLE_STYLES,ref:ref,...props},children,showTooltip&&(0,react.createElement)(resize_tooltip,{...tooltipProps}))}var resizable_box=(0,react.forwardRef)(UnforwardedResizableBox);UnforwardedResizableBox.__docgenInfo={description:"",methods:[],displayName:"UnforwardedResizableBox",props:{showHandle:{defaultValue:{value:"true",computed:!1},required:!1},__experimentalShowTooltip:{defaultValue:{value:"false",computed:!1},required:!1},__experimentalTooltipProps:{defaultValue:{value:"{}",computed:!1},required:!1}}}},"./packages/components/build-module/select-control/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return SelectControl}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_base_control__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/base-control/index.js"),_input_control_input_base__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/input-control/input-base.js"),_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/select-control/styles/select-control-styles.js"),_chevron_down__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/select-control/chevron-down.js"),_utils_use_deprecated_props__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/utils/use-deprecated-props.js");const noop=()=>{};function UnforwardedSelectControl(props,ref){const{className:className,disabled:disabled=!1,help:help,hideLabelFromVision:hideLabelFromVision,id:idProp,label:label,multiple:multiple=!1,onBlur:onBlur=noop,onChange:onChange,onFocus:onFocus=noop,options:options=[],size:size="default",value:valueProp,labelPosition:labelPosition="top",children:children,prefix:prefix,suffix:suffix,__next40pxDefaultSize:__next40pxDefaultSize=!1,__nextHasNoMarginBottom:__nextHasNoMarginBottom=!1,...restProps}=(0,_utils_use_deprecated_props__WEBPACK_IMPORTED_MODULE_3__.s)(props,"wp.components.SelectControl","6.4"),[isFocused,setIsFocused]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),id=function useUniqueId(idProp){const instanceId=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.Z)(SelectControl);return idProp||`inspector-select-control-${instanceId}`}(idProp),helpId=help?`${id}__help`:void 0;if(!options?.length&&!children)return null;const classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-select-control",className);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_4__.ZP,{help:help,id:id,__nextHasNoMarginBottom:__nextHasNoMarginBottom},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_input_control_input_base__WEBPACK_IMPORTED_MODULE_5__.Z,{className:classes,disabled:disabled,hideLabelFromVision:hideLabelFromVision,id:id,isFocused:isFocused,label:label,size:size,suffix:suffix||!multiple&&(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_chevron_down__WEBPACK_IMPORTED_MODULE_6__.Z,null),prefix:prefix,labelPosition:labelPosition,__next40pxDefaultSize:__next40pxDefaultSize},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_styles_select_control_styles__WEBPACK_IMPORTED_MODULE_7__.Ph,{...restProps,__next40pxDefaultSize:__next40pxDefaultSize,"aria-describedby":helpId,className:"components-select-control__input",disabled:disabled,id:id,multiple:multiple,onBlur:event=>{onBlur(event),setIsFocused(!1)},onChange:event=>{if(props.multiple){const newValues=Array.from(event.target.options).filter((({selected:selected})=>selected)).map((({value:value})=>value));props.onChange?.(newValues,{event:event})}else props.onChange?.(event.target.value,{event:event})},onFocus:event=>{onFocus(event),setIsFocused(!0)},ref:ref,selectSize:size,value:valueProp},children||options.map(((option,index)=>{const key=option.id||`${option.label}-${option.value}-${index}`;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("option",{key:key,value:option.value,disabled:option.disabled,hidden:option.hidden},option.label)})))))}const SelectControl=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedSelectControl);__webpack_exports__.Z=SelectControl,UnforwardedSelectControl.__docgenInfo={description:"",methods:[],displayName:"UnforwardedSelectControl"}},"./packages/components/build-module/text-control/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_base_control__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/build-module/base-control/index.js");function UnforwardedTextControl(props,ref){const{__nextHasNoMarginBottom:__nextHasNoMarginBottom,__next40pxDefaultSize:__next40pxDefaultSize=!1,label:label,hideLabelFromVision:hideLabelFromVision,value:value,help:help,id:idProp,className:className,onChange:onChange,type:type="text",...additionalProps}=props,id=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_2__.Z)(TextControl,"inspector-text-control",idProp);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_base_control__WEBPACK_IMPORTED_MODULE_3__.ZP,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:label,hideLabelFromVision:hideLabelFromVision,id:id,help:help,className:className},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("components-text-control__input",{"is-next-40px-default-size":__next40pxDefaultSize}),type:type,id:id,value:value,onChange:event=>onChange(event.target.value),"aria-describedby":help?id+"__help":void 0,ref:ref,...additionalProps}))}const TextControl=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedTextControl);__webpack_exports__.Z=TextControl,UnforwardedTextControl.__docgenInfo={description:"",methods:[],displayName:"UnforwardedTextControl"}},"./packages/components/build-module/textarea-control/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return textarea_control}});var react=__webpack_require__("./node_modules/react/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");const inputStyleNeutral=(0,emotion_react_browser_esm.iv)("box-shadow:0 0 0 transparent;transition:box-shadow 0.1s linear;border-radius:",config_values.Z.radiusBlockUi,";border:",config_values.Z.borderWidth," solid ",colors_values.D.ui.border,";","","",""),inputStyleFocus=(0,emotion_react_browser_esm.iv)("border-color:",colors_values.D.theme.accent,";box-shadow:0 0 0 calc( ",config_values.Z.borderWidthFocus," - ",config_values.Z.borderWidth," ) ",colors_values.D.theme.accent,";outline:2px solid transparent;","","","");var font=__webpack_require__("./packages/components/build-module/utils/font.js"),breakpoint_values={huge:"1440px",wide:"1280px","x-large":"1080px",large:"960px",medium:"782px",small:"600px",mobile:"480px","zoomed-in":"280px"};const inputControl=(0,emotion_react_browser_esm.iv)("display:block;font-family:",(0,font.L)("default.fontFamily"),";padding:6px 8px;",inputStyleNeutral,";font-size:",(0,font.L)("mobileTextMinFontSize"),";line-height:normal;",`@media (min-width: ${breakpoint_values["small"]})`,"{font-size:",(0,font.L)("default.fontSize"),";line-height:normal;}&:focus{",inputStyleFocus,";}&::-webkit-input-placeholder{color:",colors_values.D.ui.darkGrayPlaceholder,";}&::-moz-placeholder{opacity:1;color:",colors_values.D.ui.darkGrayPlaceholder,";}&:-ms-input-placeholder{color:",colors_values.D.ui.darkGrayPlaceholder,";}.is-dark-theme &{&::-webkit-input-placeholder{color:",colors_values.D.ui.lightGrayPlaceholder,";}&::-moz-placeholder{opacity:1;color:",colors_values.D.ui.lightGrayPlaceholder,";}&:-ms-input-placeholder{color:",colors_values.D.ui.lightGrayPlaceholder,";}}","","","");const StyledTextarea=(0,emotion_styled_base_browser_esm.Z)("textarea",{target:"e1w5nnrk0"})("width:100%;",inputControl,";");function UnforwardedTextareaControl(props,ref){const{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:label,hideLabelFromVision:hideLabelFromVision,value:value,help:help,onChange:onChange,rows:rows=4,className:className,...additionalProps}=props,id=`inspector-textarea-control-${(0,use_instance_id.Z)(TextareaControl)}`;return(0,react.createElement)(base_control.ZP,{__nextHasNoMarginBottom:__nextHasNoMarginBottom,label:label,hideLabelFromVision:hideLabelFromVision,id:id,help:help,className:className},(0,react.createElement)(StyledTextarea,{className:"components-textarea-control__input",id:id,rows:rows,onChange:event=>onChange(event.target.value),"aria-describedby":help?id+"__help":void 0,value:value,ref:ref,...additionalProps}))}const TextareaControl=(0,react.forwardRef)(UnforwardedTextareaControl);var textarea_control=TextareaControl;UnforwardedTextareaControl.__docgenInfo={description:"",methods:[],displayName:"UnforwardedTextareaControl"}},"./packages/components/build-module/toggle-group-control/toggle-group-control-option/component.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_toggle_group_control_option_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-base/component.js");function UnforwardedToggleGroupControlOption(props,ref){const{label:label,...restProps}=props,optionLabel=restProps["aria-label"]||label;return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_toggle_group_control_option_base__WEBPACK_IMPORTED_MODULE_1__.Z,{...restProps,"aria-label":optionLabel,ref:ref},label)}const ToggleGroupControlOption=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(UnforwardedToggleGroupControlOption);__webpack_exports__.Z=ToggleGroupControlOption,UnforwardedToggleGroupControlOption.__docgenInfo={description:"",methods:[],displayName:"UnforwardedToggleGroupControlOption"}},"./packages/components/build-module/toolbar/toolbar/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return toolbar_toolbar}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),toolbar_group=__webpack_require__("./packages/components/build-module/toolbar/toolbar-group/index.js"),DLGO5RXE=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/DLGO5RXE.js"),toolbar=__webpack_require__("./node_modules/@ariakit/react-core/esm/toolbar/toolbar.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js");function UnforwardedToolbarContainer({label:label,...props},ref){const toolbarStore=DLGO5RXE.r({focusLoop:!0,rtl:(0,i18n_build_module.dZ)()});return(0,react.createElement)(toolbar_context.Z.Provider,{value:toolbarStore},(0,react.createElement)(toolbar.o,{ref:ref,"aria-label":label,store:toolbarStore,...props}))}var toolbar_container=(0,react.forwardRef)(UnforwardedToolbarContainer);UnforwardedToolbarContainer.__docgenInfo={description:"",methods:[],displayName:"UnforwardedToolbarContainer"};var context_system_provider=__webpack_require__("./packages/components/build-module/context/context-system-provider.js");function UnforwardedToolbar({className:className,label:label,variant:variant,...props},ref){const isVariantDefined=void 0!==variant,contextSystemValue=(0,react.useMemo)((()=>isVariantDefined?{}:{DropdownMenu:{variant:"toolbar"},Dropdown:{variant:"toolbar"}}),[isVariantDefined]);if(!label){(0,build_module.Z)("Using Toolbar without label prop",{since:"5.6",alternative:"ToolbarGroup component",link:"https://developer.wordpress.org/block-editor/components/toolbar/"});const{title:_title,...restProps}=props;return(0,react.createElement)(toolbar_group.Z,{isCollapsed:!1,...restProps,className:className})}const finalClassName=classnames_default()("components-accessible-toolbar",className,variant&&`is-${variant}`);return(0,react.createElement)(context_system_provider.G8,{value:contextSystemValue},(0,react.createElement)(toolbar_container,{className:finalClassName,label:label,ref:ref,...props}))}var toolbar_toolbar=(0,react.forwardRef)(UnforwardedToolbar);UnforwardedToolbar.__docgenInfo={description:"",methods:[],displayName:"UnforwardedToolbar"}},"./packages/components/build-module/z-stack/component.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return component}});var react=__webpack_require__("./node_modules/react/index.js"),get_valid_children=__webpack_require__("./packages/components/build-module/utils/get-valid-children.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const ZStackChildView=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ebn2ljm1"})("&:not( :first-of-type ){",(({offsetAmount:offsetAmount})=>(0,emotion_react_browser_esm.iv)({marginInlineStart:offsetAmount},"","","","")),";}",(({zIndex:zIndex})=>(0,emotion_react_browser_esm.iv)({zIndex:zIndex},"","","","")),";");var _ref={name:"rs0gp6",styles:"grid-row-start:1;grid-column-start:1"};const ZStackView=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ebn2ljm0"})("display:inline-grid;grid-auto-flow:column;position:relative;&>",ZStackChildView,"{position:relative;justify-self:start;",(({isLayered:isLayered})=>isLayered?_ref:void 0),";}");function UnconnectedZStack(props,forwardedRef){const{children:children,className:className,isLayered:isLayered=!0,isReversed:isReversed=!1,offset:offset=0,...otherProps}=(0,use_context_system.y)(props,"ZStack"),validChildren=(0,get_valid_children.W)(children),childrenLastIndex=validChildren.length-1,clonedChildren=validChildren.map(((child,index)=>{const zIndex=isReversed?childrenLastIndex-index:index,offsetAmount=isLayered?offset*index:offset,key=(0,react.isValidElement)(child)?child.key:index;return(0,react.createElement)(ZStackChildView,{offsetAmount:offsetAmount,zIndex:zIndex,key:key},child)}));return(0,react.createElement)(ZStackView,{...otherProps,className:className,isLayered:isLayered,ref:forwardedRef},clonedChildren)}var component=(0,context_connect.Iq)(UnconnectedZStack,"ZStack");UnconnectedZStack.__docgenInfo={description:"",methods:[],displayName:"UnconnectedZStack"}},"./packages/compose/build-module/higher-order/with-instance-id/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js"),_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");const withInstanceId=(0,_utils_create_higher_order_component__WEBPACK_IMPORTED_MODULE_1__.o)((WrappedComponent=>props=>{const instanceId=(0,_hooks_use_instance_id__WEBPACK_IMPORTED_MODULE_2__.Z)(WrappedComponent);return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent,{...props,instanceId:instanceId})}),"instanceId");__webpack_exports__.Z=withInstanceId},"./packages/compose/build-module/higher-order/with-safe-timeout/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const withSafeTimeout=(0,__webpack_require__("./packages/compose/build-module/utils/create-higher-order-component/index.js").o)((OriginalComponent=>class WrappedComponent extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.timeouts=[],this.setTimeout=this.setTimeout.bind(this),this.clearTimeout=this.clearTimeout.bind(this)}componentWillUnmount(){this.timeouts.forEach(clearTimeout)}setTimeout(fn,delay){const id=setTimeout((()=>{fn(),this.clearTimeout(id)}),delay);return this.timeouts.push(id),id}clearTimeout(id){clearTimeout(id),this.timeouts=this.timeouts.filter((timeoutId=>timeoutId!==id))}render(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(OriginalComponent,{...this.props,setTimeout:this.setTimeout,clearTimeout:this.clearTimeout})}}),"withSafeTimeout");__webpack_exports__.Z=withSafeTimeout},"./packages/compose/build-module/hooks/use-copy-to-clipboard/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return useCopyToClipboard}});var clipboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clipboard/dist/clipboard.js"),clipboard__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(clipboard__WEBPACK_IMPORTED_MODULE_0__),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_use_ref_effect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js");function useUpdatedRef(value){const ref=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);return ref.current=value,ref}function useCopyToClipboard(text,onSuccess){const textRef=useUpdatedRef(text),onSuccessRef=useUpdatedRef(onSuccess);return(0,_use_ref_effect__WEBPACK_IMPORTED_MODULE_2__.Z)((node=>{const clipboard=new(clipboard__WEBPACK_IMPORTED_MODULE_0___default())(node,{text(){return"function"==typeof textRef.current?textRef.current():textRef.current||""}});return clipboard.on("success",(({clearSelection:clearSelection})=>{clearSelection(),node.focus(),onSuccessRef.current&&onSuccessRef.current()})),()=>{clipboard.destroy()}}),[])}},"./packages/compose/build-module/hooks/use-dragging/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return useDragging}});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-isomorphic-layout-effect/index.js");function useDragging({onDragStart:onDragStart,onDragMove:onDragMove,onDragEnd:onDragEnd}){const[isDragging,setIsDragging]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),eventsRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)({onDragStart:onDragStart,onDragMove:onDragMove,onDragEnd:onDragEnd});(0,_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.Z)((()=>{eventsRef.current.onDragStart=onDragStart,eventsRef.current.onDragMove=onDragMove,eventsRef.current.onDragEnd=onDragEnd}),[onDragStart,onDragMove,onDragEnd]);const onMouseMove=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>eventsRef.current.onDragMove&&eventsRef.current.onDragMove(event)),[]),endDrag=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{eventsRef.current.onDragEnd&&eventsRef.current.onDragEnd(event),document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",endDrag),setIsDragging(!1)}),[]),startDrag=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{eventsRef.current.onDragStart&&eventsRef.current.onDragStart(event),document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",endDrag),setIsDragging(!0)}),[]);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{isDragging&&(document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",endDrag))}),[isDragging]),{startDrag:startDrag,endDrag:endDrag,isDragging:isDragging}}},"./packages/core-data/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{IO:function(){return EntityProvider},h:function(){return store},XY:function(){return useEntityBlockEditor},U3:function(){return useEntityId},Mi:function(){return useEntityProp},zk:function(){return useEntityRecord},ZH:function(){return useEntityRecords},ip:function(){return useResourcePermissions}});var build_module_actions_namespaceObject={};__webpack_require__.r(build_module_actions_namespaceObject),__webpack_require__.d(build_module_actions_namespaceObject,{__experimentalBatch:function(){return __experimentalBatch},__experimentalReceiveCurrentGlobalStylesId:function(){return __experimentalReceiveCurrentGlobalStylesId},__experimentalReceiveThemeBaseGlobalStyles:function(){return __experimentalReceiveThemeBaseGlobalStyles},__experimentalReceiveThemeGlobalStyleVariations:function(){return __experimentalReceiveThemeGlobalStyleVariations},__experimentalSaveSpecifiedEntityEdits:function(){return __experimentalSaveSpecifiedEntityEdits},__unstableCreateUndoLevel:function(){return __unstableCreateUndoLevel},addEntities:function(){return addEntities},deleteEntityRecord:function(){return deleteEntityRecord},editEntityRecord:function(){return editEntityRecord},receiveAutosaves:function(){return receiveAutosaves},receiveCurrentTheme:function(){return receiveCurrentTheme},receiveCurrentUser:function(){return receiveCurrentUser},receiveDefaultTemplateId:function(){return receiveDefaultTemplateId},receiveEmbedPreview:function(){return receiveEmbedPreview},receiveEntityRecords:function(){return receiveEntityRecords},receiveNavigationFallbackId:function(){return receiveNavigationFallbackId},receiveRevisions:function(){return receiveRevisions},receiveThemeGlobalStyleRevisions:function(){return receiveThemeGlobalStyleRevisions},receiveThemeSupports:function(){return receiveThemeSupports},receiveUploadPermissions:function(){return receiveUploadPermissions},receiveUserPermission:function(){return receiveUserPermission},receiveUserQuery:function(){return receiveUserQuery},redo:function(){return redo},saveEditedEntityRecord:function(){return saveEditedEntityRecord},saveEntityRecord:function(){return saveEntityRecord},undo:function(){return undo}});var build_module_selectors_namespaceObject={};__webpack_require__.r(build_module_selectors_namespaceObject),__webpack_require__.d(build_module_selectors_namespaceObject,{__experimentalGetCurrentGlobalStylesId:function(){return __experimentalGetCurrentGlobalStylesId},__experimentalGetCurrentThemeBaseGlobalStyles:function(){return __experimentalGetCurrentThemeBaseGlobalStyles},__experimentalGetCurrentThemeGlobalStylesVariations:function(){return __experimentalGetCurrentThemeGlobalStylesVariations},__experimentalGetDirtyEntityRecords:function(){return __experimentalGetDirtyEntityRecords},__experimentalGetEntitiesBeingSaved:function(){return __experimentalGetEntitiesBeingSaved},__experimentalGetEntityRecordNoResolver:function(){return __experimentalGetEntityRecordNoResolver},__experimentalGetTemplateForLink:function(){return __experimentalGetTemplateForLink},canUser:function(){return canUser},canUserEditEntityRecord:function(){return canUserEditEntityRecord},getAuthors:function(){return getAuthors},getAutosave:function(){return getAutosave},getAutosaves:function(){return getAutosaves},getBlockPatternCategories:function(){return getBlockPatternCategories},getBlockPatterns:function(){return getBlockPatterns},getCurrentTheme:function(){return getCurrentTheme},getCurrentThemeGlobalStylesRevisions:function(){return getCurrentThemeGlobalStylesRevisions},getCurrentUser:function(){return getCurrentUser},getDefaultTemplateId:function(){return getDefaultTemplateId},getEditedEntityRecord:function(){return getEditedEntityRecord},getEmbedPreview:function(){return getEmbedPreview},getEntitiesByKind:function(){return getEntitiesByKind},getEntitiesConfig:function(){return getEntitiesConfig},getEntity:function(){return getEntity},getEntityConfig:function(){return getEntityConfig},getEntityRecord:function(){return getEntityRecord},getEntityRecordEdits:function(){return getEntityRecordEdits},getEntityRecordNonTransientEdits:function(){return getEntityRecordNonTransientEdits},getEntityRecords:function(){return getEntityRecords},getEntityRecordsTotalItems:function(){return getEntityRecordsTotalItems},getEntityRecordsTotalPages:function(){return getEntityRecordsTotalPages},getLastEntityDeleteError:function(){return getLastEntityDeleteError},getLastEntitySaveError:function(){return getLastEntitySaveError},getRawEntityRecord:function(){return getRawEntityRecord},getRedoEdit:function(){return getRedoEdit},getReferenceByDistinctEdits:function(){return getReferenceByDistinctEdits},getRevision:function(){return getRevision},getRevisions:function(){return getRevisions},getThemeSupports:function(){return getThemeSupports},getUndoEdit:function(){return getUndoEdit},getUserPatternCategories:function(){return getUserPatternCategories},getUserQueryResults:function(){return getUserQueryResults},hasEditsForEntityRecord:function(){return hasEditsForEntityRecord},hasEntityRecords:function(){return hasEntityRecords},hasFetchedAutosaves:function(){return hasFetchedAutosaves},hasRedo:function(){return hasRedo},hasUndo:function(){return hasUndo},isAutosavingEntityRecord:function(){return isAutosavingEntityRecord},isDeletingEntityRecord:function(){return isDeletingEntityRecord},isPreviewEmbedFallback:function(){return isPreviewEmbedFallback},isRequestingEmbedPreview:function(){return isRequestingEmbedPreview},isSavingEntityRecord:function(){return isSavingEntityRecord}});var private_selectors_namespaceObject={};__webpack_require__.r(private_selectors_namespaceObject),__webpack_require__.d(private_selectors_namespaceObject,{getNavigationFallbackId:function(){return getNavigationFallbackId},getUndoManager:function(){return getUndoManager}});var resolvers_namespaceObject={};__webpack_require__.r(resolvers_namespaceObject),__webpack_require__.d(resolvers_namespaceObject,{__experimentalGetCurrentGlobalStylesId:function(){return resolvers_experimentalGetCurrentGlobalStylesId},__experimentalGetCurrentThemeBaseGlobalStyles:function(){return resolvers_experimentalGetCurrentThemeBaseGlobalStyles},__experimentalGetCurrentThemeGlobalStylesVariations:function(){return resolvers_experimentalGetCurrentThemeGlobalStylesVariations},__experimentalGetTemplateForLink:function(){return resolvers_experimentalGetTemplateForLink},canUser:function(){return resolvers_canUser},canUserEditEntityRecord:function(){return resolvers_canUserEditEntityRecord},getAuthors:function(){return resolvers_getAuthors},getAutosave:function(){return resolvers_getAutosave},getAutosaves:function(){return resolvers_getAutosaves},getBlockPatternCategories:function(){return resolvers_getBlockPatternCategories},getBlockPatterns:function(){return resolvers_getBlockPatterns},getCurrentTheme:function(){return resolvers_getCurrentTheme},getCurrentThemeGlobalStylesRevisions:function(){return resolvers_getCurrentThemeGlobalStylesRevisions},getCurrentUser:function(){return resolvers_getCurrentUser},getDefaultTemplateId:function(){return resolvers_getDefaultTemplateId},getEditedEntityRecord:function(){return resolvers_getEditedEntityRecord},getEmbedPreview:function(){return resolvers_getEmbedPreview},getEntityRecord:function(){return resolvers_getEntityRecord},getEntityRecords:function(){return resolvers_getEntityRecords},getNavigationFallbackId:function(){return resolvers_getNavigationFallbackId},getRawEntityRecord:function(){return resolvers_getRawEntityRecord},getRevision:function(){return resolvers_getRevision},getRevisions:function(){return resolvers_getRevisions},getThemeSupports:function(){return resolvers_getThemeSupports},getUserPatternCategories:function(){return resolvers_getUserPatternCategories}});var redux_store=__webpack_require__("./packages/data/build-module/redux-store/index.js"),build_module=__webpack_require__("./packages/data/build-module/index.js"),es6=__webpack_require__("./node_modules/fast-deep-equal/es6/index.js"),es6_default=__webpack_require__.n(es6),compose=__webpack_require__("./packages/compose/build-module/higher-order/compose.js"),undo_manager_build_module=__webpack_require__("./packages/undo-manager/build-module/index.js");var if_matching_action=isMatch=>reducer=>(state,action)=>void 0===state||isMatch(action)?reducer(state,action):state;var replace_action=replacer=>reducer=>(state,action)=>reducer(state,replacer(action));var on_sub_key=actionProperty=>reducer=>(state={},action)=>{const key=action[actionProperty];if(void 0===key)return state;const nextKeyState=reducer(state[key],action);return nextKeyState===state[key]?state:{...state,[key]:nextKeyState}},dist_es2015=__webpack_require__("./node_modules/capital-case/dist.es2015/index.js"),pascal_case_dist_es2015=__webpack_require__("./node_modules/pascal-case/dist.es2015/index.js"),api_fetch_build_module=__webpack_require__("./packages/api-fetch/build-module/index.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js"),v4=__webpack_require__("./packages/core-data/node_modules/uuid/dist/esm-browser/v4.js"),add_query_args=__webpack_require__("./packages/url/build-module/add-query-args.js"),deprecated_build_module=__webpack_require__("./packages/deprecated/build-module/index.js");function setNestedValue(object,path,value){if(!object||"object"!=typeof object)return object;const normalizedPath=Array.isArray(path)?path:path.split(".");return normalizedPath.reduce(((acc,key,idx)=>(void 0===acc[key]&&(Number.isInteger(normalizedPath[idx+1])?acc[key]=[]:acc[key]={}),idx===normalizedPath.length-1&&(acc[key]=value),acc[key])),object),object}function getNestedValue(object,path,defaultValue){if(!object||"object"!=typeof object||"string"!=typeof path&&!Array.isArray(path))return object;const normalizedPath=Array.isArray(path)?path:path.split(".");let value=object;return normalizedPath.forEach((fieldName=>{value=value?.[fieldName]})),void 0!==value?value:defaultValue}function receiveItems(items,edits,meta){return{type:"RECEIVE_ITEMS",items:Array.isArray(items)?items:[items],persistedEdits:edits,meta:meta}}let maxItems=null;async function defaultProcessor(requests){if(null===maxItems){const preflightResponse=await(0,api_fetch_build_module.Z)({path:"/batch/v1",method:"OPTIONS"});maxItems=preflightResponse.endpoints[0].args.requests.maxItems}const results=[];for(const batchRequests of function chunk(arr,chunkSize){const tmp=[...arr],cache=[];for(;tmp.length;)cache.push(tmp.splice(0,chunkSize));return cache}(requests,maxItems)){const batchResponse=await(0,api_fetch_build_module.Z)({path:"/batch/v1",method:"POST",data:{validation:"require-all-validate",requests:batchRequests.map((request=>({path:request.path,body:request.data,method:request.method,headers:request.headers})))}});let batchResults;batchResults=batchResponse.failed?batchResponse.responses.map((response=>({error:response?.body}))):batchResponse.responses.map((response=>{const result={};return response.status>=200&&response.status<300?result.output=response.body:result.error=response.body,result})),results.push(...batchResults)}return results}function createBatch(processor=defaultProcessor){let lastId=0,queue=[];const pending=new ObservableSet;return{add(inputOrThunk){const id=++lastId;pending.add(id);const add=input=>new Promise(((resolve,reject)=>{queue.push({input:input,resolve:resolve,reject:reject}),pending.delete(id)}));return"function"==typeof inputOrThunk?Promise.resolve(inputOrThunk(add)).finally((()=>{pending.delete(id)})):add(inputOrThunk)},async run(){let results;pending.size&&await new Promise((resolve=>{const unsubscribe=pending.subscribe((()=>{pending.size||(unsubscribe(),resolve(void 0))}))}));try{if(results=await processor(queue.map((({input:input})=>input))),results.length!==queue.length)throw new Error("run: Array returned by processor must be same size as input array.")}catch(error){for(const{reject:reject}of queue)reject(error);throw error}let isSuccess=!0;return results.forEach(((result,key)=>{const queueItem=queue[key];var _result$output;result?.error?(queueItem?.reject(result.error),isSuccess=!1):queueItem?.resolve(null!==(_result$output=result?.output)&&void 0!==_result$output?_result$output:result)})),queue=[],isSuccess}}}class ObservableSet{constructor(...args){this.set=new Set(...args),this.subscribers=new Set}get size(){return this.set.size}add(value){return this.set.add(value),this.subscribers.forEach((subscriber=>subscriber())),this}delete(value){const isSuccess=this.set.delete(value);return this.subscribers.forEach((subscriber=>subscriber())),isSuccess}subscribe(subscriber){return this.subscribers.add(subscriber),()=>{this.subscribers.delete(subscriber)}}}const STORE_NAME="core";var yjs=__webpack_require__("./node_modules/yjs/dist/yjs.mjs");const createSyncProvider=(connectLocal,connectRemote)=>{const config={},listeners={},docs={};return{register:function register(objectType,objectConfig){config[objectType]=objectConfig},bootstrap:async function bootstrap(objectType,objectId,handleChanges){const doc=new yjs.QW;docs[objectType]=docs[objectType]||{},docs[objectType][objectId]=doc;const updateHandler=()=>{const data=config[objectType].fromCRDTDoc(doc);handleChanges(data)};doc.on("update",updateHandler);const destroyLocalConnection=await connectLocal(objectId,objectType,doc);connectRemote&&await connectRemote(objectId,objectType,doc);const loadRemotely=config[objectType].fetch;loadRemotely&&loadRemotely(objectId).then((data=>{doc.transact((()=>{config[objectType].applyChangesToDoc(doc,data)}))})),listeners[objectType]=listeners[objectType]||{},listeners[objectType][objectId]=()=>{destroyLocalConnection(),doc.off("update",updateHandler)}},update:async function update(objectType,objectId,data){const doc=docs[objectType][objectId];if(!doc)throw"Error doc "+objectType+" "+objectId+" not found";doc.transact((()=>{config[objectType].applyChangesToDoc(doc,data)}))},discard:async function discard(objectType,objectId){listeners?.[objectType]?.[objectId]&&listeners[objectType][objectId]()}}};var y_indexeddb=__webpack_require__("./node_modules/y-indexeddb/src/y-indexeddb.js");function connectIndexDb(objectId,objectType,doc){const roomName=`${objectType}-${objectId}`,provider=new y_indexeddb.H7(roomName,doc);return new Promise((resolve=>{provider.on("synced",(()=>{resolve((()=>provider.destroy()))}))}))}var websocket=__webpack_require__("./node_modules/lib0/websocket.js"),map=__webpack_require__("./node_modules/lib0/map.js"),error=__webpack_require__("./node_modules/lib0/error.js"),random=__webpack_require__("./node_modules/lib0/random.js"),encoding=__webpack_require__("./node_modules/lib0/encoding.js"),decoding=__webpack_require__("./node_modules/lib0/decoding.js"),observable=__webpack_require__("./node_modules/lib0/observable.js"),logging=__webpack_require__("./node_modules/lib0/logging.js"),logging_common=__webpack_require__("./node_modules/lib0/logging.common.js"),promise=__webpack_require__("./node_modules/lib0/promise.js"),broadcastchannel=__webpack_require__("./node_modules/lib0/broadcastchannel.js"),buffer=__webpack_require__("./node_modules/lib0/buffer.js"),math=__webpack_require__("./node_modules/lib0/math.js"),mutex=__webpack_require__("./node_modules/lib0/mutex.js"),simplepeer_min=__webpack_require__("./node_modules/simple-peer/simplepeer.min.js"),simplepeer_min_default=__webpack_require__.n(simplepeer_min),sync=__webpack_require__("./node_modules/y-protocols/sync.js"),y_protocols_awareness=__webpack_require__("./node_modules/y-protocols/awareness.js"),string=__webpack_require__("./node_modules/lib0/string.js");const encrypt=(data,key)=>{if(!key)return promise.DB(data);const iv=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:iv},key,data).then((cipher=>{const encryptedDataEncoder=encoding.Mf();return encoding.uw(encryptedDataEncoder,"AES-GCM"),encoding.mP(encryptedDataEncoder,iv),encoding.mP(encryptedDataEncoder,new Uint8Array(cipher)),encoding._f(encryptedDataEncoder)}))},decrypt=(data,key)=>{if(!key)return promise.DB(data);const dataDecoder=decoding.l1(data);"AES-GCM"!==decoding.kf(dataDecoder)&&promise.d1(error.Ue("Unknown encryption algorithm"));const iv=decoding.HN(dataDecoder),cipher=decoding.HN(dataDecoder);return crypto.subtle.decrypt({name:"AES-GCM",iv:iv},key,cipher).then((data=>new Uint8Array(data)))},decryptJson=(data,key)=>decrypt(data,key).then((decryptedValue=>decoding.v_(decoding.l1(new Uint8Array(decryptedValue)))));var process=__webpack_require__("./node_modules/process/browser.js");const log=logging.YX("y-webrtc"),signalingConns=new Map,rooms=new Map,checkIsSynced=room=>{let synced=!0;room.webrtcConns.forEach((peer=>{peer.synced||(synced=!1)})),(!synced&&room.synced||synced&&!room.synced)&&(room.synced=synced,room.provider.emit("synced",[{synced:synced}]),log("synced ",logging_common.Pl,room.name,logging_common.YW," with all peers"))},readMessage=(room,buf,syncedCallback)=>{const decoder=decoding.l1(buf),encoder=encoding.Mf(),messageType=decoding.yg(decoder);if(void 0===room)return null;const awareness=room.awareness,doc=room.doc;let sendReply=!1;switch(messageType){case 0:{encoding.uE(encoder,0);const syncMessageType=sync.zu(decoder,encoder,doc,room);syncMessageType!==sync.Px||room.synced||syncedCallback(),syncMessageType===sync.Wh&&(sendReply=!0);break}case 3:encoding.uE(encoder,1),encoding.mP(encoder,y_protocols_awareness.xq(awareness,Array.from(awareness.getStates().keys()))),sendReply=!0;break;case 1:y_protocols_awareness.oy(awareness,decoding.HN(decoder),room);break;case 4:{const add=1===decoding.kj(decoder),peerName=decoding.kf(decoder);if(peerName!==room.peerId&&(room.bcConns.has(peerName)&&!add||!room.bcConns.has(peerName)&&add)){const removed=[],added=[];add?(room.bcConns.add(peerName),added.push(peerName)):(room.bcConns.delete(peerName),removed.push(peerName)),room.provider.emit("peers",[{added:added,removed:removed,webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}]),broadcastBcPeerId(room)}break}default:return console.error("Unable to compute message"),encoder}return sendReply?encoder:null},sendWebrtcConn=(webrtcConn,encoder)=>{log("send message to ",logging_common.Pl,webrtcConn.remotePeerId,logging_common.YW,logging_common.s7," (",webrtcConn.room.name,")",logging_common.WO);try{webrtcConn.peer.send(encoding._f(encoder))}catch(e){}};class WebrtcConn{constructor(signalingConn,initiator,remotePeerId,room){log("establishing connection to ",logging_common.Pl,remotePeerId),this.room=room,this.remotePeerId=remotePeerId,this.glareToken=void 0,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new(simplepeer_min_default())({initiator:initiator,...room.provider.peerOpts}),this.peer.on("signal",(signal=>{void 0===this.glareToken&&(this.glareToken=Date.now()+Math.random()),publishSignalingMessage(signalingConn,room,{to:remotePeerId,from:room.peerId,type:"signal",token:this.glareToken,signal:signal})})),this.peer.on("connect",(()=>{log("connected to ",logging_common.Pl,remotePeerId),this.connected=!0;const doc=room.provider.doc,awareness=room.awareness,encoder=encoding.Mf();encoding.uE(encoder,0),sync._J(encoder,doc),sendWebrtcConn(this,encoder);const awarenessStates=awareness.getStates();if(awarenessStates.size>0){const encoder=encoding.Mf();encoding.uE(encoder,1),encoding.mP(encoder,y_protocols_awareness.xq(awareness,Array.from(awarenessStates.keys()))),sendWebrtcConn(this,encoder)}})),this.peer.on("close",(()=>{this.connected=!1,this.closed=!0,room.webrtcConns.has(this.remotePeerId)&&(room.webrtcConns.delete(this.remotePeerId),room.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}])),checkIsSynced(room),this.peer.destroy(),log("closed connection to ",logging_common.Pl,remotePeerId),announceSignalingInfo(room)})),this.peer.on("error",(err=>{log("Error in connection to ",logging_common.Pl,remotePeerId,": ",err),announceSignalingInfo(room)})),this.peer.on("data",(data=>{const answer=((peerConn,buf)=>{const room=peerConn.room;return log("received message from ",logging_common.Pl,peerConn.remotePeerId,logging_common.s7," (",room.name,")",logging_common.YW,logging_common.WO),readMessage(room,buf,(()=>{peerConn.synced=!0,log("synced ",logging_common.Pl,room.name,logging_common.YW," with ",logging_common.Pl,peerConn.remotePeerId),checkIsSynced(room)}))})(this,data);null!==answer&&sendWebrtcConn(this,answer)}))}destroy(){this.peer.destroy()}}const broadcastBcMessage=(room,m)=>encrypt(m,room.key).then((data=>room.mux((()=>broadcastchannel.nY(room.name,data))))),broadcastRoomMessage=(room,m)=>{room.bcconnected&&broadcastBcMessage(room,m),((room,m)=>{log("broadcast message in ",logging_common.Pl,room.name,logging_common.YW),room.webrtcConns.forEach((conn=>{try{conn.peer.send(m)}catch(e){}}))})(room,m)},announceSignalingInfo=room=>{signalingConns.forEach((conn=>{conn.connected&&(conn.send({type:"subscribe",topics:[room.name]}),room.webrtcConns.size<room.provider.maxConns&&publishSignalingMessage(conn,room,{type:"announce",from:room.peerId}))}))},broadcastBcPeerId=room=>{if(room.provider.filterBcConns){const encoderPeerIdBc=encoding.Mf();encoding.uE(encoderPeerIdBc,4),encoding.$F(encoderPeerIdBc,1),encoding.uw(encoderPeerIdBc,room.peerId),broadcastBcMessage(room,encoding._f(encoderPeerIdBc))}};class Room{constructor(doc,provider,name,key){this.peerId=random.k$(),this.doc=doc,this.awareness=provider.awareness,this.provider=provider,this.synced=!1,this.name=name,this.key=key,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=(0,mutex.M)(),this.bcconnected=!1,this._bcSubscriber=data=>decrypt(new Uint8Array(data),key).then((m=>this.mux((()=>{const reply=readMessage(this,m,(()=>{}));reply&&broadcastBcMessage(this,encoding._f(reply))})))),this._docUpdateHandler=(update,origin)=>{const encoder=encoding.Mf();encoding.uE(encoder,0),sync.lr(encoder,update),broadcastRoomMessage(this,encoding._f(encoder))},this._awarenessUpdateHandler=({added:added,updated:updated,removed:removed},origin)=>{const changedClients=added.concat(updated).concat(removed),encoderAwareness=encoding.Mf();encoding.uE(encoderAwareness,1),encoding.mP(encoderAwareness,y_protocols_awareness.xq(this.awareness,changedClients)),broadcastRoomMessage(this,encoding._f(encoderAwareness))},this._beforeUnloadHandler=()=>{y_protocols_awareness.Ag(this.awareness,[doc.clientID],"window unload"),rooms.forEach((room=>{room.disconnect()}))},"undefined"!=typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):void 0!==process&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),announceSignalingInfo(this);const roomName=this.name;broadcastchannel.Ld(roomName,this._bcSubscriber),this.bcconnected=!0,broadcastBcPeerId(this);const encoderSync=encoding.Mf();encoding.uE(encoderSync,0),sync._J(encoderSync,this.doc),broadcastBcMessage(this,encoding._f(encoderSync));const encoderState=encoding.Mf();encoding.uE(encoderState,0),sync.K0(encoderState,this.doc),broadcastBcMessage(this,encoding._f(encoderState));const encoderAwarenessQuery=encoding.Mf();encoding.uE(encoderAwarenessQuery,3),broadcastBcMessage(this,encoding._f(encoderAwarenessQuery));const encoderAwarenessState=encoding.Mf();encoding.uE(encoderAwarenessState,1),encoding.mP(encoderAwarenessState,y_protocols_awareness.xq(this.awareness,[this.doc.clientID])),broadcastBcMessage(this,encoding._f(encoderAwarenessState))}disconnect(){signalingConns.forEach((conn=>{conn.connected&&conn.send({type:"unsubscribe",topics:[this.name]})})),y_protocols_awareness.Ag(this.awareness,[this.doc.clientID],"disconnect");const encoderPeerIdBc=encoding.Mf();encoding.uE(encoderPeerIdBc,4),encoding.$F(encoderPeerIdBc,0),encoding.uw(encoderPeerIdBc,this.peerId),broadcastBcMessage(this,encoding._f(encoderPeerIdBc)),broadcastchannel.r1(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach((conn=>conn.destroy()))}destroy(){this.disconnect(),"undefined"!=typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):void 0!==process&&process.off("exit",this._beforeUnloadHandler)}}const publishSignalingMessage=(conn,room,data)=>{room.key?((data,key)=>{const dataEncoder=encoding.Mf();return encoding.EM(dataEncoder,data),encrypt(encoding._f(dataEncoder),key)})(data,room.key).then((data=>{conn.send({type:"publish",topic:room.name,data:buffer.s3(data)})})):conn.send({type:"publish",topic:room.name,data:data})};class SignalingConn extends websocket.W{constructor(url){super(url),this.providers=new Set,this.on("connect",(()=>{log(`connected (${url})`);const topics=Array.from(rooms.keys());this.send({type:"subscribe",topics:topics}),rooms.forEach((room=>publishSignalingMessage(this,room,{type:"announce",from:room.peerId})))})),this.on("message",(m=>{if("publish"===m.type){const roomName=m.topic,room=rooms.get(roomName);if(null==room||"string"!=typeof roomName)return;const execMessage=data=>{const webrtcConns=room.webrtcConns,peerId=room.peerId;if(null==data||data.from===peerId||void 0!==data.to&&data.to!==peerId||room.bcConns.has(data.from))return;const emitPeerChange=webrtcConns.has(data.from)?()=>{}:()=>room.provider.emit("peers",[{removed:[],added:[data.from],webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}]);switch(data.type){case"announce":webrtcConns.size<room.provider.maxConns&&(map.Yu(webrtcConns,data.from,(()=>new WebrtcConn(this,!0,data.from,room))),emitPeerChange());break;case"signal":if("offer"===data.signal.type){const existingConn=webrtcConns.get(data.from);if(existingConn){const remoteToken=data.token,localToken=existingConn.glareToken;if(localToken&&localToken>remoteToken)return void log("offer rejected: ",data.from);existingConn.glareToken=void 0}}if("answer"===data.signal.type){log("offer answered by: ",data.from);webrtcConns.get(data.from).glareToken=void 0}data.to===peerId&&(map.Yu(webrtcConns,data.from,(()=>new WebrtcConn(this,!1,data.from,room))).peer.signal(data.signal),emitPeerChange())}};room.key?"string"==typeof m.data&&decryptJson(buffer.Gh(m.data),room.key).then(execMessage):execMessage(m.data)}})),this.on("disconnect",(()=>log(`disconnect (${url})`)))}}class WebrtcProvider extends observable.y{constructor(roomName,doc,{signaling:signaling=["wss://y-webrtc-eu.fly.dev"],password:password=null,awareness:awareness=new y_protocols_awareness.GL(doc),maxConns:maxConns=20+math.GW(15*random.TN()),filterBcConns:filterBcConns=!0,peerOpts:peerOpts={}}={}){super(),this.roomName=roomName,this.doc=doc,this.filterBcConns=filterBcConns,this.awareness=awareness,this.shouldConnect=!1,this.signalingUrls=signaling,this.signalingConns=[],this.maxConns=maxConns,this.peerOpts=peerOpts,this.key=password?((secret,roomName)=>{const secretBuffer=string.lz(secret).buffer,salt=string.lz(roomName).buffer;return crypto.subtle.importKey("raw",secretBuffer,"PBKDF2",!1,["deriveKey"]).then((keyMaterial=>crypto.subtle.deriveKey({name:"PBKDF2",salt:salt,iterations:1e5,hash:"SHA-256"},keyMaterial,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])))})(password,roomName):promise.DB(null),this.room=null,this.key.then((key=>{this.room=((doc,provider,name,key)=>{if(rooms.has(name))throw error.Ue(`A Yjs Doc connected to room "${name}" already exists!`);const room=new Room(doc,provider,name,key);return rooms.set(name,room),room})(doc,this,roomName,key),this.shouldConnect?this.room.connect():this.room.disconnect()})),this.connect(),this.destroy=this.destroy.bind(this),doc.on("destroy",this.destroy)}get connected(){return null!==this.room&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach((url=>{const signalingConn=map.Yu(signalingConns,url,(()=>new SignalingConn(url)));this.signalingConns.push(signalingConn),signalingConn.providers.add(this)})),this.room&&this.room.connect()}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach((conn=>{conn.providers.delete(this),0===conn.providers.size&&(conn.destroy(),signalingConns.delete(conn.url))})),this.room&&this.room.disconnect()}destroy(){this.doc.off("destroy",this.destroy),this.key.then((()=>{this.room.destroy(),rooms.delete(this.roomName)})),super.destroy()}}function setupHttpSignal(httpClient){if(httpClient.shouldConnect&&null===httpClient.ws){const subscriberId=Math.floor(1e5+9e5*Math.random()),url=httpClient.url,eventSource=new window.EventSource((0,add_query_args.f)(url,{subscriber_id:subscriberId,action:"gutenberg_signaling_server"}));let pingTimeout=null;eventSource.onmessage=event=>{httpClient.lastMessageReceived=Date.now();const data=event.data;if(data){const messages=JSON.parse(data);Array.isArray(messages)&&messages.forEach(onSingleMessage)}},httpClient.ws=eventSource,httpClient.connecting=!0,httpClient.connected=!1;const onSingleMessage=message=>{message&&"pong"===message.type&&(clearTimeout(pingTimeout),pingTimeout=setTimeout(sendPing,messageReconnectTimeout/2)),httpClient.emit("message",[message,httpClient])},onclose=error=>{null!==httpClient.ws&&(httpClient.ws.close(),httpClient.ws=null,httpClient.connecting=!1,httpClient.connected?(httpClient.connected=!1,httpClient.emit("disconnect",[{type:"disconnect",error:error},httpClient])):httpClient.unsuccessfulReconnects++),clearTimeout(pingTimeout)},sendPing=()=>{httpClient.ws&&httpClient.ws.readyState===window.EventSource.OPEN&&httpClient.send({type:"ping"})};httpClient.ws&&(httpClient.ws.onclose=()=>{onclose(null)},httpClient.ws.send=function send(message){window.fetch(url,{body:new URLSearchParams({subscriber_id:subscriberId.toString(),action:"gutenberg_signaling_server",message:message}),method:"POST"}).catch((()=>{log("Error sending to server with message: "+message)}))}),eventSource.onerror=()=>{},eventSource.onopen=()=>{httpClient.connected||eventSource.readyState===window.EventSource.OPEN&&(httpClient.lastMessageReceived=Date.now(),httpClient.connecting=!1,httpClient.connected=!0,httpClient.unsuccessfulReconnects=0,httpClient.emit("connect",[{type:"connect"},httpClient]),pingTimeout=setTimeout(sendPing,messageReconnectTimeout/2))}}}const messageReconnectTimeout=3e4;class HttpSignalingConn extends observable.y{constructor(url){super(),this.url=url,this.ws=null,this.binaryType=null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval((()=>{this.connected&&messageReconnectTimeout<Date.now()-this.lastMessageReceived&&this.ws&&this.ws.close()}),messageReconnectTimeout/2),setupHttpSignal(this),this.providers=new Set,function setupSignalEventHandlers(signalCon,url){signalCon.on("connect",(()=>{log(`connected (${url})`);const topics=Array.from(rooms.keys());signalCon.send({type:"subscribe",topics:topics}),rooms.forEach((room=>publishSignalingMessage(signalCon,room,{type:"announce",from:room.peerId})))})),signalCon.on("message",(m=>{if("publish"===m.type){const roomName=m.topic,room=rooms.get(roomName);if(null===room||"string"!=typeof roomName||void 0===room)return;const execMessage=data=>{const webrtcConns=room.webrtcConns,peerId=room.peerId;if(null===data||data.from===peerId||void 0!==data.to&&data.to!==peerId||room.bcConns.has(data.from))return;const emitPeerChange=webrtcConns.has(data.from)?()=>{}:()=>room.provider.emit("peers",[{removed:[],added:[data.from],webrtcPeers:Array.from(room.webrtcConns.keys()),bcPeers:Array.from(room.bcConns)}]);switch(data.type){case"announce":webrtcConns.size<room.provider.maxConns&&(map.Yu(webrtcConns,data.from,(()=>new WebrtcConn(signalCon,!0,data.from,room))),emitPeerChange());break;case"signal":if("offer"===data.signal.type){const existingConn=webrtcConns.get(data.from);if(existingConn){const remoteToken=data.token,localToken=existingConn.glareToken;if(localToken&&localToken>remoteToken)return void log("offer rejected: ",data.from);existingConn.glareToken=void 0}}if("answer"===data.signal.type){log("offer answered by: ",data.from);const existingConn=webrtcConns.get(data.from);existingConn&&(existingConn.glareToken=void 0)}data.to===peerId&&(map.Yu(webrtcConns,data.from,(()=>new WebrtcConn(signalCon,!1,data.from,room))).peer.signal(data.signal),emitPeerChange())}};room.key?"string"==typeof m.data&&decryptJson(buffer.Gh(m.data),room.key).then(execMessage):execMessage(m.data)}})),signalCon.on("disconnect",(()=>log(`disconnect (${url})`)))}(this,url)}send(message){this.ws&&this.ws.send(JSON.stringify(message))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.connected||null!==this.ws||setupHttpSignal(this)}}class WebrtcProviderWithHttpSignaling extends WebrtcProvider{connect(){this.shouldConnect=!0,this.signalingUrls.forEach((url=>{const signalingConn=map.Yu(signalingConns,url,url.startsWith("ws://")||url.startsWith("wss://")?()=>new SignalingConn(url):()=>new HttpSignalingConn(url));this.signalingConns.push(signalingConn),signalingConn.providers.add(this)})),this.room&&this.room.connect()}}let syncProvider;function getSyncProvider(){return syncProvider||(syncProvider=createSyncProvider(connectIndexDb,function createWebRTCConnection({signaling:signaling,password:password}){return function(objectId,objectType,doc){return new WebrtcProviderWithHttpSignaling(`${objectType}-${objectId}`,doc,{signaling:signaling,password:password}),Promise.resolve((()=>!0))}}({signaling:[window?.wp?.ajax?.settings?.url],password:window?.__experimentalCollaborativeEditingSecret}))),syncProvider}var actions_process=__webpack_require__("./node_modules/process/browser.js");function receiveUserQuery(queryID,users){return{type:"RECEIVE_USER_QUERY",users:Array.isArray(users)?users:[users],queryID:queryID}}function receiveCurrentUser(currentUser){return{type:"RECEIVE_CURRENT_USER",currentUser:currentUser}}function addEntities(entities){return{type:"ADD_ENTITIES",entities:entities}}function receiveEntityRecords(kind,name,records,query,invalidateCache=!1,edits,meta){let action;return"postType"===kind&&(records=(Array.isArray(records)?records:[records]).map((record=>"auto-draft"===record.status?{...record,title:""}:record))),action=query?function receiveQueriedItems(items,query={},edits,meta){return{...receiveItems(items,edits,meta),query:query}}(records,query,edits,meta):receiveItems(records,edits,meta),{...action,kind:kind,name:name,invalidateCache:invalidateCache}}function receiveCurrentTheme(currentTheme){return{type:"RECEIVE_CURRENT_THEME",currentTheme:currentTheme}}function __experimentalReceiveCurrentGlobalStylesId(currentGlobalStylesId){return{type:"RECEIVE_CURRENT_GLOBAL_STYLES_ID",id:currentGlobalStylesId}}function __experimentalReceiveThemeBaseGlobalStyles(stylesheet,globalStyles){return{type:"RECEIVE_THEME_GLOBAL_STYLES",stylesheet:stylesheet,globalStyles:globalStyles}}function __experimentalReceiveThemeGlobalStyleVariations(stylesheet,variations){return{type:"RECEIVE_THEME_GLOBAL_STYLE_VARIATIONS",stylesheet:stylesheet,variations:variations}}function receiveThemeSupports(){return(0,deprecated_build_module.Z)("wp.data.dispatch( 'core' ).receiveThemeSupports",{since:"5.9"}),{type:"DO_NOTHING"}}function receiveThemeGlobalStyleRevisions(currentId,revisions){return(0,deprecated_build_module.Z)("wp.data.dispatch( 'core' ).receiveThemeGlobalStyleRevisions()",{since:"6.5.0",alternative:"wp.data.dispatch( 'core' ).receiveRevisions"}),{type:"RECEIVE_THEME_GLOBAL_STYLE_REVISIONS",currentId:currentId,revisions:revisions}}function receiveEmbedPreview(url,preview){return{type:"RECEIVE_EMBED_PREVIEW",url:url,preview:preview}}const deleteEntityRecord=(kind,name,recordId,query,{__unstableFetch:__unstableFetch=api_fetch_build_module.Z,throwOnError:throwOnError=!1}={})=>async({dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.kind===kind&&config.name===name));let error,deletedRecord=!1;if(!entityConfig||entityConfig?.__experimentalNoFetch)return;const lock=await dispatch.__unstableAcquireStoreLock(STORE_NAME,["entities","records",kind,name,recordId],{exclusive:!0});try{dispatch({type:"DELETE_ENTITY_RECORD_START",kind:kind,name:name,recordId:recordId});let hasError=!1;try{let path=`${entityConfig.baseURL}/${recordId}`;query&&(path=(0,add_query_args.f)(path,query)),deletedRecord=await __unstableFetch({path:path,method:"DELETE"}),await dispatch(function removeItems(kind,name,records,invalidateCache=!1){return{type:"REMOVE_ITEMS",itemIds:Array.isArray(records)?records:[records],kind:kind,name:name,invalidateCache:invalidateCache}}(kind,name,recordId,!0))}catch(_error){hasError=!0,error=_error}if(dispatch({type:"DELETE_ENTITY_RECORD_FINISH",kind:kind,name:name,recordId:recordId,error:error}),hasError&&throwOnError)throw error;return deletedRecord}finally{dispatch.__unstableReleaseStoreLock(lock)}},editEntityRecord=(kind,name,recordId,edits,options={})=>({select:select,dispatch:dispatch})=>{const entityConfig=select.getEntityConfig(kind,name);if(!entityConfig)throw new Error(`The entity being edited (${kind}, ${name}) does not have a loaded config.`);const{mergedEdits:mergedEdits={}}=entityConfig,record=select.getRawEntityRecord(kind,name,recordId),editedRecord=select.getEditedEntityRecord(kind,name,recordId),edit={kind:kind,name:name,recordId:recordId,edits:Object.keys(edits).reduce(((acc,key)=>{const recordValue=record[key],editedRecordValue=editedRecord[key],value=mergedEdits[key]?{...editedRecordValue,...edits[key]}:edits[key];return acc[key]=es6_default()(recordValue,value)?void 0:value,acc}),{})};if(window.__experimentalEnableSync&&entityConfig.syncConfig){if(actions_process.env.IS_GUTENBERG_PLUGIN){const objectId=entityConfig.getSyncObjectId(recordId);getSyncProvider().update(entityConfig.syncObjectType+"--edit",objectId,edit.edits)}}else options.undoIgnore||select.getUndoManager().addRecord([{id:{kind:kind,name:name,recordId:recordId},changes:Object.keys(edits).reduce(((acc,key)=>(acc[key]={from:editedRecord[key],to:edits[key]},acc)),{})}],options.isCached),dispatch({type:"EDIT_ENTITY_RECORD",...edit})},undo=()=>({select:select,dispatch:dispatch})=>{const undoRecord=select.getUndoManager().undo();undoRecord&&dispatch({type:"UNDO",record:undoRecord})},redo=()=>({select:select,dispatch:dispatch})=>{const redoRecord=select.getUndoManager().redo();redoRecord&&dispatch({type:"REDO",record:redoRecord})},__unstableCreateUndoLevel=()=>({select:select})=>{select.getUndoManager().addRecord()},saveEntityRecord=(kind,name,record,{isAutosave:isAutosave=!1,__unstableFetch:__unstableFetch=api_fetch_build_module.Z,throwOnError:throwOnError=!1}={})=>async({select:select,resolveSelect:resolveSelect,dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.kind===kind&&config.name===name));if(!entityConfig||entityConfig?.__experimentalNoFetch)return;const entityIdKey=entityConfig.key||DEFAULT_ENTITY_KEY,recordId=record[entityIdKey],lock=await dispatch.__unstableAcquireStoreLock(STORE_NAME,["entities","records",kind,name,recordId||(0,v4.Z)()],{exclusive:!0});try{for(const[key,value]of Object.entries(record))if("function"==typeof value){const evaluatedValue=value(select.getEditedEntityRecord(kind,name,recordId));dispatch.editEntityRecord(kind,name,recordId,{[key]:evaluatedValue},{undoIgnore:!0}),record[key]=evaluatedValue}let updatedRecord,error;dispatch({type:"SAVE_ENTITY_RECORD_START",kind:kind,name:name,recordId:recordId,isAutosave:isAutosave});let hasError=!1;try{const path=`${entityConfig.baseURL}${recordId?"/"+recordId:""}`,persistedRecord=select.getRawEntityRecord(kind,name,recordId);if(isAutosave){const currentUser=select.getCurrentUser(),currentUserId=currentUser?currentUser.id:void 0,autosavePost=await resolveSelect.getAutosave(persistedRecord.type,persistedRecord.id,currentUserId);let data={...persistedRecord,...autosavePost,...record};if(data=Object.keys(data).reduce(((acc,key)=>(["title","excerpt","content","meta"].includes(key)&&(acc[key]=data[key]),acc)),{status:"auto-draft"===data.status?"draft":data.status}),updatedRecord=await __unstableFetch({path:`${path}/autosaves`,method:"POST",data:data}),persistedRecord.id===updatedRecord.id){let newRecord={...persistedRecord,...data,...updatedRecord};newRecord=Object.keys(newRecord).reduce(((acc,key)=>(["title","excerpt","content"].includes(key)?acc[key]=newRecord[key]:acc[key]="status"===key?"auto-draft"===persistedRecord.status&&"draft"===newRecord.status?newRecord.status:persistedRecord.status:persistedRecord[key],acc)),{}),dispatch.receiveEntityRecords(kind,name,newRecord,void 0,!0)}else dispatch.receiveAutosaves(persistedRecord.id,updatedRecord)}else{let edits=record;entityConfig.__unstablePrePersist&&(edits={...edits,...entityConfig.__unstablePrePersist(persistedRecord,edits)}),updatedRecord=await __unstableFetch({path:path,method:recordId?"PUT":"POST",data:edits}),dispatch.receiveEntityRecords(kind,name,updatedRecord,void 0,!0,edits)}}catch(_error){hasError=!0,error=_error}if(dispatch({type:"SAVE_ENTITY_RECORD_FINISH",kind:kind,name:name,recordId:recordId,error:error,isAutosave:isAutosave}),hasError&&throwOnError)throw error;return updatedRecord}finally{dispatch.__unstableReleaseStoreLock(lock)}},__experimentalBatch=requests=>async({dispatch:dispatch})=>{const batch=createBatch(),api={saveEntityRecord(kind,name,record,options){return batch.add((add=>dispatch.saveEntityRecord(kind,name,record,{...options,__unstableFetch:add})))},saveEditedEntityRecord(kind,name,recordId,options){return batch.add((add=>dispatch.saveEditedEntityRecord(kind,name,recordId,{...options,__unstableFetch:add})))},deleteEntityRecord(kind,name,recordId,query,options){return batch.add((add=>dispatch.deleteEntityRecord(kind,name,recordId,query,{...options,__unstableFetch:add})))}},resultPromises=requests.map((request=>request(api))),[,...results]=await Promise.all([batch.run(),...resultPromises]);return results},saveEditedEntityRecord=(kind,name,recordId,options)=>async({select:select,dispatch:dispatch})=>{if(!select.hasEditsForEntityRecord(kind,name,recordId))return;const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.kind===kind&&config.name===name));if(!entityConfig)return;const entityIdKey=entityConfig.key||DEFAULT_ENTITY_KEY,edits=select.getEntityRecordNonTransientEdits(kind,name,recordId),record={[entityIdKey]:recordId,...edits};return await dispatch.saveEntityRecord(kind,name,record,options)},__experimentalSaveSpecifiedEntityEdits=(kind,name,recordId,itemsToSave,options)=>async({select:select,dispatch:dispatch})=>{if(!select.hasEditsForEntityRecord(kind,name,recordId))return;const edits=select.getEntityRecordNonTransientEdits(kind,name,recordId),editsToSave={};for(const item of itemsToSave)setNestedValue(editsToSave,item,getNestedValue(edits,item));const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.kind===kind&&config.name===name));return recordId&&(editsToSave[entityConfig?.key||DEFAULT_ENTITY_KEY]=recordId),await dispatch.saveEntityRecord(kind,name,editsToSave,options)};function receiveUploadPermissions(hasUploadPermissions){return(0,deprecated_build_module.Z)("wp.data.dispatch( 'core' ).receiveUploadPermissions",{since:"5.9",alternative:"receiveUserPermission"}),receiveUserPermission("create/media",hasUploadPermissions)}function receiveUserPermission(key,isAllowed){return{type:"RECEIVE_USER_PERMISSION",key:key,isAllowed:isAllowed}}function receiveAutosaves(postId,autosaves){return{type:"RECEIVE_AUTOSAVES",postId:postId,autosaves:Array.isArray(autosaves)?autosaves:[autosaves]}}function receiveNavigationFallbackId(fallbackId){return{type:"RECEIVE_NAVIGATION_FALLBACK_ID",fallbackId:fallbackId}}function receiveDefaultTemplateId(query,templateId){return{type:"RECEIVE_DEFAULT_TEMPLATE",query:query,templateId:templateId}}const receiveRevisions=(kind,name,recordKey,records,query,invalidateCache=!1,meta)=>async({dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.kind===kind&&config.name===name));dispatch({type:"RECEIVE_ITEM_REVISIONS",key:entityConfig&&entityConfig?.revisionKey?entityConfig.revisionKey:DEFAULT_ENTITY_KEY,items:Array.isArray(records)?records:[records],recordKey:recordKey,meta:meta,query:query,kind:kind,name:name,invalidateCache:invalidateCache})};var entities_process=__webpack_require__("./node_modules/process/browser.js");const DEFAULT_ENTITY_KEY="id",POST_RAW_ATTRIBUTES=["title","excerpt","content"],rootEntitiesConfig=[{label:(0,i18n_build_module.__)("Base"),kind:"root",name:"__unstableBase",baseURL:"/",baseURLParams:{_fields:["description","gmt_offset","home","name","site_icon","site_icon_url","site_logo","timezone_string","url"].join(",")},syncConfig:{fetch:async()=>(0,api_fetch_build_module.Z)({path:"/"}),applyChangesToDoc:(doc,changes)=>{const document=doc.getMap("document");Object.entries(changes).forEach((([key,value])=>{document.get(key)!==value&&document.set(key,value)}))},fromCRDTDoc:doc=>doc.getMap("document").toJSON()},syncObjectType:"root/base",getSyncObjectId:()=>"index"},{label:(0,i18n_build_module.__)("Site"),name:"site",kind:"root",baseURL:"/wp/v2/settings",getTitle:record=>{var _record$title;return null!==(_record$title=record?.title)&&void 0!==_record$title?_record$title:(0,i18n_build_module.__)("Site Title")},syncConfig:{fetch:async()=>(0,api_fetch_build_module.Z)({path:"/wp/v2/settings"}),applyChangesToDoc:(doc,changes)=>{const document=doc.getMap("document");Object.entries(changes).forEach((([key,value])=>{document.get(key)!==value&&document.set(key,value)}))},fromCRDTDoc:doc=>doc.getMap("document").toJSON()},syncObjectType:"root/site",getSyncObjectId:()=>"index"},{label:(0,i18n_build_module.__)("Post Type"),name:"postType",kind:"root",key:"slug",baseURL:"/wp/v2/types",baseURLParams:{context:"edit"},syncConfig:{fetch:async id=>(0,api_fetch_build_module.Z)({path:`/wp/v2/types/${id}?context=edit`}),applyChangesToDoc:(doc,changes)=>{const document=doc.getMap("document");Object.entries(changes).forEach((([key,value])=>{document.get(key)!==value&&document.set(key,value)}))},fromCRDTDoc:doc=>doc.getMap("document").toJSON()},syncObjectType:"root/postType",getSyncObjectId:id=>id},{name:"media",kind:"root",baseURL:"/wp/v2/media",baseURLParams:{context:"edit"},plural:"mediaItems",label:(0,i18n_build_module.__)("Media"),rawAttributes:["caption","title","description"],supportsPagination:!0},{name:"taxonomy",kind:"root",key:"slug",baseURL:"/wp/v2/taxonomies",baseURLParams:{context:"edit"},plural:"taxonomies",label:(0,i18n_build_module.__)("Taxonomy")},{name:"sidebar",kind:"root",baseURL:"/wp/v2/sidebars",baseURLParams:{context:"edit"},plural:"sidebars",transientEdits:{blocks:!0},label:(0,i18n_build_module.__)("Widget areas")},{name:"widget",kind:"root",baseURL:"/wp/v2/widgets",baseURLParams:{context:"edit"},plural:"widgets",transientEdits:{blocks:!0},label:(0,i18n_build_module.__)("Widgets")},{name:"widgetType",kind:"root",baseURL:"/wp/v2/widget-types",baseURLParams:{context:"edit"},plural:"widgetTypes",label:(0,i18n_build_module.__)("Widget types")},{label:(0,i18n_build_module.__)("User"),name:"user",kind:"root",baseURL:"/wp/v2/users",baseURLParams:{context:"edit"},plural:"users"},{name:"comment",kind:"root",baseURL:"/wp/v2/comments",baseURLParams:{context:"edit"},plural:"comments",label:(0,i18n_build_module.__)("Comment")},{name:"menu",kind:"root",baseURL:"/wp/v2/menus",baseURLParams:{context:"edit"},plural:"menus",label:(0,i18n_build_module.__)("Menu")},{name:"menuItem",kind:"root",baseURL:"/wp/v2/menu-items",baseURLParams:{context:"edit"},plural:"menuItems",label:(0,i18n_build_module.__)("Menu Item"),rawAttributes:["title"]},{name:"menuLocation",kind:"root",baseURL:"/wp/v2/menu-locations",baseURLParams:{context:"edit"},plural:"menuLocations",label:(0,i18n_build_module.__)("Menu Location"),key:"name"},{label:(0,i18n_build_module.__)("Global Styles"),name:"globalStyles",kind:"root",baseURL:"/wp/v2/global-styles",baseURLParams:{context:"edit"},plural:"globalStylesVariations",getTitle:record=>record?.title?.rendered||record?.title,getRevisionsUrl:(parentId,revisionId)=>`/wp/v2/global-styles/${parentId}/revisions${revisionId?"/"+revisionId:""}`,supportsPagination:!0},{label:(0,i18n_build_module.__)("Themes"),name:"theme",kind:"root",baseURL:"/wp/v2/themes",baseURLParams:{context:"edit"},key:"stylesheet"},{label:(0,i18n_build_module.__)("Plugins"),name:"plugin",kind:"root",baseURL:"/wp/v2/plugins",baseURLParams:{context:"edit"},key:"plugin"},{label:(0,i18n_build_module.__)("Status"),name:"status",kind:"root",baseURL:"/wp/v2/statuses",baseURLParams:{context:"edit"},plural:"statuses",key:"slug"}],additionalEntityConfigLoaders=[{kind:"postType",loadEntities:async function loadPostTypeEntities(){const postTypes=await(0,api_fetch_build_module.Z)({path:"/wp/v2/types?context=view"});return Object.entries(null!=postTypes?postTypes:{}).map((([name,postType])=>{var _postType$rest_namesp;const isTemplate=["wp_template","wp_template_part"].includes(name),namespace=null!==(_postType$rest_namesp=postType?.rest_namespace)&&void 0!==_postType$rest_namesp?_postType$rest_namesp:"wp/v2";return{kind:"postType",baseURL:`/${namespace}/${postType.rest_base}`,baseURLParams:{context:"edit"},name:name,label:postType.name,transientEdits:{blocks:!0,selection:!0},mergedEdits:{meta:!0},rawAttributes:POST_RAW_ATTRIBUTES,getTitle:record=>{var _record$slug;return record?.title?.rendered||record?.title||(isTemplate?(0,dist_es2015.I)(null!==(_record$slug=record.slug)&&void 0!==_record$slug?_record$slug:""):String(record.id))},__unstablePrePersist:isTemplate?void 0:prePersistPostType,__unstable_rest_base:postType.rest_base,syncConfig:{fetch:async id=>(0,api_fetch_build_module.Z)({path:`/${namespace}/${postType.rest_base}/${id}?context=edit`}),applyChangesToDoc:(doc,changes)=>{const document=doc.getMap("document");Object.entries(changes).forEach((([key,value])=>{document.get(key)!==value&&"function"!=typeof value&&document.set(key,value)}))},fromCRDTDoc:doc=>doc.getMap("document").toJSON()},syncObjectType:"postType/"+postType.name,getSyncObjectId:id=>id,supportsPagination:!0,getRevisionsUrl:(parentId,revisionId)=>`/${namespace}/${postType.rest_base}/${parentId}/revisions${revisionId?"/"+revisionId:""}`,revisionKey:isTemplate?"wp_id":DEFAULT_ENTITY_KEY}}))}},{kind:"taxonomy",loadEntities:async function loadTaxonomyEntities(){const taxonomies=await(0,api_fetch_build_module.Z)({path:"/wp/v2/taxonomies?context=view"});return Object.entries(null!=taxonomies?taxonomies:{}).map((([name,taxonomy])=>{var _taxonomy$rest_namesp;return{kind:"taxonomy",baseURL:`/${null!==(_taxonomy$rest_namesp=taxonomy?.rest_namespace)&&void 0!==_taxonomy$rest_namesp?_taxonomy$rest_namesp:"wp/v2"}/${taxonomy.rest_base}`,baseURLParams:{context:"edit"},name:name,label:taxonomy.name}}))}}],prePersistPostType=(persistedRecord,edits)=>{const newEdits={};return"auto-draft"===persistedRecord?.status&&(edits.status||newEdits.status||(newEdits.status="draft"),edits.title&&"Auto Draft"!==edits.title||newEdits.title||persistedRecord?.title&&"Auto Draft"!==persistedRecord?.title||(newEdits.title="")),newEdits};const getMethodName=(kind,name,prefix="get",usePlural=!1)=>{const entityConfig=rootEntitiesConfig.find((config=>config.kind===kind&&config.name===name)),kindPrefix="root"===kind?"":(0,pascal_case_dist_es2015.Ho)(kind),nameSuffix=(0,pascal_case_dist_es2015.Ho)(name)+(usePlural?"s":"");return`${prefix}${kindPrefix}${usePlural&&"plural"in entityConfig&&entityConfig?.plural?(0,pascal_case_dist_es2015.Ho)(entityConfig.plural):nameSuffix}`};function registerSyncConfigs(configs){configs.forEach((({syncObjectType:syncObjectType,syncConfig:syncConfig})=>{getSyncProvider().register(syncObjectType,syncConfig);const editSyncConfig={...syncConfig};delete editSyncConfig.fetch,getSyncProvider().register(syncObjectType+"--edit",editSyncConfig)}))}const getOrLoadEntitiesConfig=kind=>async({select:select,dispatch:dispatch})=>{let configs=select.getEntitiesConfig(kind);if(configs&&0!==configs.length)return window.__experimentalEnableSync&&entities_process.env.IS_GUTENBERG_PLUGIN&&registerSyncConfigs(configs),configs;const loader=additionalEntityConfigLoaders.find((l=>l.kind===kind));return loader?(configs=await loader.loadEntities(),window.__experimentalEnableSync&&entities_process.env.IS_GUTENBERG_PLUGIN&&registerSyncConfigs(configs),dispatch(addEntities(configs)),configs):[]};var get_normalized_comma_separable=function getNormalizedCommaSeparable(value){return"string"==typeof value?value.split(","):Array.isArray(value)?value:null};var with_weak_map_cache=function withWeakMapCache(fn){const cache=new WeakMap;return key=>{let value;return cache.has(key)?value=cache.get(key):(value=fn(key),null!==key&&"object"==typeof key&&cache.set(key,value)),value}};var get_query_parts=with_weak_map_cache((function getQueryParts(query){const parts={stableKey:"",page:1,perPage:10,fields:null,include:null,context:"default"},keys=Object.keys(query).sort();for(let i=0;i<keys.length;i++){const key=keys[i];let value=query[key];switch(key){case"page":parts[key]=Number(value);break;case"per_page":parts.perPage=Number(value);break;case"context":parts.context=value;break;default:var _getNormalizedCommaSe,_getNormalizedCommaSe2;if("_fields"===key)parts.fields=null!==(_getNormalizedCommaSe=get_normalized_comma_separable(value))&&void 0!==_getNormalizedCommaSe?_getNormalizedCommaSe:[],value=parts.fields.join();if("include"===key)"number"==typeof value&&(value=value.toString()),parts.include=(null!==(_getNormalizedCommaSe2=get_normalized_comma_separable(value))&&void 0!==_getNormalizedCommaSe2?_getNormalizedCommaSe2:[]).map(Number),value=parts.include.join();parts.stableKey+=(parts.stableKey?"&":"")+(0,add_query_args.f)("",{[key]:value}).slice(1)}}return parts}));function getContextFromAction(action){const{query:query}=action;if(!query)return"default";return get_query_parts(query).context}function getMergedItemIds(itemIds,nextItemIds,page,perPage){var _itemIds$length;if(1===page&&-1===perPage)return nextItemIds;const nextItemIdsStartIndex=(page-1)*perPage,size=Math.max(null!==(_itemIds$length=itemIds?.length)&&void 0!==_itemIds$length?_itemIds$length:0,nextItemIdsStartIndex+nextItemIds.length),mergedItemIds=new Array(size);for(let i=0;i<size;i++){const isInNextItemsRange=i>=nextItemIdsStartIndex&&i<nextItemIdsStartIndex+perPage;mergedItemIds[i]=isInNextItemsRange?nextItemIds[i-nextItemIdsStartIndex]:itemIds?.[i]}return mergedItemIds}function removeEntitiesById(entities,ids){return Object.fromEntries(Object.entries(entities).filter((([id])=>!ids.some((itemId=>Number.isInteger(itemId)?itemId===+id:itemId===id)))))}const receiveQueries=(0,compose.Z)([if_matching_action((action=>"query"in action)),replace_action((action=>action.query?{...action,...get_query_parts(action.query)}:action)),on_sub_key("context"),on_sub_key("stableKey")])(((state={},action)=>{const{type:type,page:page,perPage:perPage,key:key=DEFAULT_ENTITY_KEY}=action;return"RECEIVE_ITEMS"!==type?state:{itemIds:getMergedItemIds(state?.itemIds||[],action.items.map((item=>item[key])),page,perPage),meta:action.meta}}));var reducer=(0,build_module.UY)({items:function items(state={},action){switch(action.type){case"RECEIVE_ITEMS":{const context=getContextFromAction(action),key=action.key||DEFAULT_ENTITY_KEY;return{...state,[context]:{...state[context],...action.items.reduce(((accumulator,value)=>{const itemId=value[key];return accumulator[itemId]=function conservativeMapItem(item,nextItem){if(!item)return nextItem;let hasChanges=!1;const result={};for(const key in nextItem)es6_default()(item[key],nextItem[key])?result[key]=item[key]:(hasChanges=!0,result[key]=nextItem[key]);if(!hasChanges)return item;for(const key in item)result.hasOwnProperty(key)||(result[key]=item[key]);return result}(state?.[context]?.[itemId],value),accumulator}),{})}}}case"REMOVE_ITEMS":return Object.fromEntries(Object.entries(state).map((([itemId,contextState])=>[itemId,removeEntitiesById(contextState,action.itemIds)])))}return state},itemIsComplete:function itemIsComplete(state={},action){switch(action.type){case"RECEIVE_ITEMS":{const context=getContextFromAction(action),{query:query,key:key=DEFAULT_ENTITY_KEY}=action,queryParts=query?get_query_parts(query):{},isCompleteQuery=!query||!Array.isArray(queryParts.fields);return{...state,[context]:{...state[context],...action.items.reduce(((result,item)=>{const itemId=item[key];return result[itemId]=state?.[context]?.[itemId]||isCompleteQuery,result}),{})}}}case"REMOVE_ITEMS":return Object.fromEntries(Object.entries(state).map((([itemId,contextState])=>[itemId,removeEntitiesById(contextState,action.itemIds)])))}return state},queries:(state={},action)=>{switch(action.type){case"RECEIVE_ITEMS":return receiveQueries(state,action);case"REMOVE_ITEMS":const removedItems=action.itemIds.reduce(((result,itemId)=>(result[itemId]=!0,result)),{});return Object.fromEntries(Object.entries(state).map((([queryGroup,contextQueries])=>[queryGroup,Object.fromEntries(Object.entries(contextQueries).map((([query,queryItems])=>[query,{...queryItems,itemIds:queryItems.itemIds.filter((queryId=>!removedItems[queryId]))}])))])));default:return state}}});const withMultiEntityRecordEdits=reducer=>(state,action)=>{if("UNDO"===action.type||"REDO"===action.type){const{record:record}=action;let newState=state;return record.forEach((({id:{kind:kind,name:name,recordId:recordId},changes:changes})=>{newState=reducer(newState,{type:"EDIT_ENTITY_RECORD",kind:kind,name:name,recordId:recordId,edits:Object.entries(changes).reduce(((acc,[key,value])=>(acc[key]="UNDO"===action.type?value.from:value.to,acc)),{})})})),newState}return reducer(state,action)};function entity(entityConfig){return(0,compose.Z)([withMultiEntityRecordEdits,if_matching_action((action=>action.name&&action.kind&&action.name===entityConfig.name&&action.kind===entityConfig.kind)),replace_action((action=>({key:entityConfig.key||DEFAULT_ENTITY_KEY,...action})))])((0,build_module.UY)({queriedData:reducer,edits:(state={},action)=>{var _action$query$context;switch(action.type){case"RECEIVE_ITEMS":if("default"!==(null!==(_action$query$context=action?.query?.context)&&void 0!==_action$query$context?_action$query$context:"default"))return state;const nextState={...state};for(const record of action.items){const recordId=record[action.key],edits=nextState[recordId];if(!edits)continue;const nextEdits=Object.keys(edits).reduce(((acc,key)=>{var _record$key$raw;return es6_default()(edits[key],null!==(_record$key$raw=record[key]?.raw)&&void 0!==_record$key$raw?_record$key$raw:record[key])||action.persistedEdits&&es6_default()(edits[key],action.persistedEdits[key])||(acc[key]=edits[key]),acc}),{});Object.keys(nextEdits).length?nextState[recordId]=nextEdits:delete nextState[recordId]}return nextState;case"EDIT_ENTITY_RECORD":const nextEdits={...state[action.recordId],...action.edits};return Object.keys(nextEdits).forEach((key=>{void 0===nextEdits[key]&&delete nextEdits[key]})),{...state,[action.recordId]:nextEdits}}return state},saving:(state={},action)=>{switch(action.type){case"SAVE_ENTITY_RECORD_START":case"SAVE_ENTITY_RECORD_FINISH":return{...state,[action.recordId]:{pending:"SAVE_ENTITY_RECORD_START"===action.type,error:action.error,isAutosave:action.isAutosave}}}return state},deleting:(state={},action)=>{switch(action.type){case"DELETE_ENTITY_RECORD_START":case"DELETE_ENTITY_RECORD_FINISH":return{...state,[action.recordId]:{pending:"DELETE_ENTITY_RECORD_START"===action.type,error:action.error}}}return state},revisions:(state={},action)=>{if("RECEIVE_ITEM_REVISIONS"===action.type){const recordKey=action.recordKey;delete action.recordKey;const newState=reducer(state[recordKey],{...action,type:"RECEIVE_ITEMS"});return{...state,[recordKey]:newState}}return"REMOVE_ITEMS"===action.type?Object.fromEntries(Object.entries(state).filter((([id])=>!action.itemIds.some((itemId=>Number.isInteger(itemId)?itemId===+id:itemId===id))))):state}}))}var build_module_reducer=(0,build_module.UY)({terms:function terms(state={},action){return"RECEIVE_TERMS"===action.type?{...state,[action.taxonomy]:action.terms}:state},users:function users(state={byId:{},queries:{}},action){return"RECEIVE_USER_QUERY"===action.type?{byId:{...state.byId,...action.users.reduce(((newUsers,user)=>({...newUsers,[user.id]:user})),{})},queries:{...state.queries,[action.queryID]:action.users.map((user=>user.id))}}:state},currentTheme:function currentTheme(state=void 0,action){return"RECEIVE_CURRENT_THEME"===action.type?action.currentTheme.stylesheet:state},currentGlobalStylesId:function currentGlobalStylesId(state=void 0,action){return"RECEIVE_CURRENT_GLOBAL_STYLES_ID"===action.type?action.id:state},currentUser:function currentUser(state={},action){return"RECEIVE_CURRENT_USER"===action.type?action.currentUser:state},themeGlobalStyleVariations:function themeGlobalStyleVariations(state={},action){return"RECEIVE_THEME_GLOBAL_STYLE_VARIATIONS"===action.type?{...state,[action.stylesheet]:action.variations}:state},themeBaseGlobalStyles:function themeBaseGlobalStyles(state={},action){return"RECEIVE_THEME_GLOBAL_STYLES"===action.type?{...state,[action.stylesheet]:action.globalStyles}:state},themeGlobalStyleRevisions:function themeGlobalStyleRevisions(state={},action){return"RECEIVE_THEME_GLOBAL_STYLE_REVISIONS"===action.type?{...state,[action.currentId]:action.revisions}:state},taxonomies:function taxonomies(state=[],action){return"RECEIVE_TAXONOMIES"===action.type?action.taxonomies:state},entities:(state={},action)=>{const newConfig=function entitiesConfig(state=rootEntitiesConfig,action){return"ADD_ENTITIES"===action.type?[...state,...action.entities]:state}(state.config,action);let entitiesDataReducer=state.reducer;if(!entitiesDataReducer||newConfig!==state.config){const entitiesByKind=newConfig.reduce(((acc,record)=>{const{kind:kind}=record;return acc[kind]||(acc[kind]=[]),acc[kind].push(record),acc}),{});entitiesDataReducer=(0,build_module.UY)(Object.entries(entitiesByKind).reduce(((memo,[kind,subEntities])=>{const kindReducer=(0,build_module.UY)(subEntities.reduce(((kindMemo,entityConfig)=>({...kindMemo,[entityConfig.name]:entity(entityConfig)})),{}));return memo[kind]=kindReducer,memo}),{}))}const newData=entitiesDataReducer(state.records,action);return newData===state.records&&newConfig===state.config&&entitiesDataReducer===state.reducer?state:{reducer:entitiesDataReducer,records:newData,config:newConfig}},editsReference:function editsReference(state={},action){switch(action.type){case"EDIT_ENTITY_RECORD":case"UNDO":case"REDO":return{}}return state},undoManager:function undoManager(state=(0,undo_manager_build_module.U)()){return state},embedPreviews:function embedPreviews(state={},action){if("RECEIVE_EMBED_PREVIEW"===action.type){const{url:url,preview:preview}=action;return{...state,[url]:preview}}return state},userPermissions:function userPermissions(state={},action){return"RECEIVE_USER_PERMISSION"===action.type?{...state,[action.key]:action.isAllowed}:state},autosaves:function autosaves(state={},action){if("RECEIVE_AUTOSAVES"===action.type){const{postId:postId,autosaves:autosavesData}=action;return{...state,[postId]:autosavesData}}return state},blockPatterns:function blockPatterns(state=[],action){return"RECEIVE_BLOCK_PATTERNS"===action.type?action.patterns:state},blockPatternCategories:function blockPatternCategories(state=[],action){return"RECEIVE_BLOCK_PATTERN_CATEGORIES"===action.type?action.categories:state},userPatternCategories:function userPatternCategories(state=[],action){return"RECEIVE_USER_PATTERN_CATEGORIES"===action.type?action.patternCategories:state},navigationFallbackId:function navigationFallbackId(state=null,action){return"RECEIVE_NAVIGATION_FALLBACK_ID"===action.type?action.fallbackId:state},defaultTemplates:function defaultTemplates(state={},action){return"RECEIVE_DEFAULT_TEMPLATE"===action.type?{...state,[JSON.stringify(action.query)]:action.templateId}:state}}),rememo=__webpack_require__("./node_modules/rememo/rememo.js"),factory=__webpack_require__("./packages/data/build-module/factory.js"),equivalent_key_map=__webpack_require__("./node_modules/equivalent-key-map/equivalent-key-map.js"),equivalent_key_map_default=__webpack_require__.n(equivalent_key_map);const queriedItemsCacheByState=new WeakMap;const getQueriedItems=(0,rememo.Z)(((state,query={})=>{let queriedItemsCache=queriedItemsCacheByState.get(state);if(queriedItemsCache){const queriedItems=queriedItemsCache.get(query);if(void 0!==queriedItems)return queriedItems}else queriedItemsCache=new(equivalent_key_map_default()),queriedItemsCacheByState.set(state,queriedItemsCache);const items=function getQueriedItemsUncached(state,query){const{stableKey:stableKey,page:page,perPage:perPage,include:include,fields:fields,context:context}=get_query_parts(query);let itemIds;if(state.queries?.[context]?.[stableKey]&&(itemIds=state.queries[context][stableKey].itemIds),!itemIds)return null;const startOffset=-1===perPage?0:(page-1)*perPage,endOffset=-1===perPage?itemIds.length:Math.min(startOffset+perPage,itemIds.length),items=[];for(let i=startOffset;i<endOffset;i++){const itemId=itemIds[i];if(Array.isArray(include)&&!include.includes(itemId))continue;if(void 0===itemId)continue;if(!state.items[context]?.hasOwnProperty(itemId))return null;const item=state.items[context][itemId];let filteredItem;if(Array.isArray(fields)){filteredItem={};for(let f=0;f<fields.length;f++){const field=fields[f].split(".");let value=item;field.forEach((fieldName=>{value=value?.[fieldName]})),setNestedValue(filteredItem,field,value)}}else{if(!state.itemIsComplete[context]?.[itemId])return null;filteredItem=item}items.push(filteredItem)}return items}(state,query);return queriedItemsCache.set(query,items),items}));function getQueriedTotalItems(state,query={}){var _state$queries$contex;const{stableKey:stableKey,context:context}=get_query_parts(query);return null!==(_state$queries$contex=state.queries?.[context]?.[stableKey]?.meta?.totalItems)&&void 0!==_state$queries$contex?_state$queries$contex:null}const EMPTY_OBJECT={},isRequestingEmbedPreview=(0,factory.M)((select=>(state,url)=>select(STORE_NAME).isResolving("getEmbedPreview",[url])));function getAuthors(state,query){(0,deprecated_build_module.Z)("select( 'core' ).getAuthors()",{since:"5.9",alternative:"select( 'core' ).getUsers({ who: 'authors' })"});const path=(0,add_query_args.f)("/wp/v2/users/?who=authors&per_page=100",query);return getUserQueryResults(state,path)}function getCurrentUser(state){return state.currentUser}const getUserQueryResults=(0,rememo.Z)(((state,queryID)=>{var _state$users$queries$;return(null!==(_state$users$queries$=state.users.queries[queryID])&&void 0!==_state$users$queries$?_state$users$queries$:[]).map((id=>state.users.byId[id]))}),((state,queryID)=>[state.users.queries[queryID],state.users.byId]));function getEntitiesByKind(state,kind){return(0,deprecated_build_module.Z)("wp.data.select( 'core' ).getEntitiesByKind()",{since:"6.0",alternative:"wp.data.select( 'core' ).getEntitiesConfig()"}),getEntitiesConfig(state,kind)}function getEntitiesConfig(state,kind){return state.entities.config.filter((entity=>entity.kind===kind))}function getEntity(state,kind,name){return(0,deprecated_build_module.Z)("wp.data.select( 'core' ).getEntity()",{since:"6.0",alternative:"wp.data.select( 'core' ).getEntityConfig()"}),getEntityConfig(state,kind,name)}function getEntityConfig(state,kind,name){return state.entities.config?.find((config=>config.kind===kind&&config.name===name))}const getEntityRecord=(0,rememo.Z)(((state,kind,name,key,query)=>{var _query$context;const queriedState=state.entities.records?.[kind]?.[name]?.queriedData;if(!queriedState)return;const context=null!==(_query$context=query?.context)&&void 0!==_query$context?_query$context:"default";if(void 0===query){if(!queriedState.itemIsComplete[context]?.[key])return;return queriedState.items[context][key]}const item=queriedState.items[context]?.[key];if(item&&query._fields){var _getNormalizedCommaSe;const filteredItem={},fields=null!==(_getNormalizedCommaSe=get_normalized_comma_separable(query._fields))&&void 0!==_getNormalizedCommaSe?_getNormalizedCommaSe:[];for(let f=0;f<fields.length;f++){const field=fields[f].split(".");let value=item;field.forEach((fieldName=>{value=value?.[fieldName]})),setNestedValue(filteredItem,field,value)}return filteredItem}return item}),((state,kind,name,recordId,query)=>{var _query$context2;const context=null!==(_query$context2=query?.context)&&void 0!==_query$context2?_query$context2:"default";return[state.entities.records?.[kind]?.[name]?.queriedData?.items[context]?.[recordId],state.entities.records?.[kind]?.[name]?.queriedData?.itemIsComplete[context]?.[recordId]]}));function __experimentalGetEntityRecordNoResolver(state,kind,name,key){return getEntityRecord(state,kind,name,key)}getEntityRecord.__unstableNormalizeArgs=args=>{const newArgs=[...args],recordKey=newArgs?.[2];return newArgs[2]=function isNumericID(id){return/^\s*\d+\s*$/.test(id)}(recordKey)?Number(recordKey):recordKey,newArgs};const getRawEntityRecord=(0,rememo.Z)(((state,kind,name,key)=>{const record=getEntityRecord(state,kind,name,key);return record&&Object.keys(record).reduce(((accumulator,_key)=>{var _record$_key$raw;(function isRawAttribute(entity,attribute){return(entity.rawAttributes||[]).includes(attribute)})(getEntityConfig(state,kind,name),_key)?accumulator[_key]=null!==(_record$_key$raw=record[_key]?.raw)&&void 0!==_record$_key$raw?_record$_key$raw:record[_key]:accumulator[_key]=record[_key];return accumulator}),{})}),((state,kind,name,recordId,query)=>{var _query$context3;const context=null!==(_query$context3=query?.context)&&void 0!==_query$context3?_query$context3:"default";return[state.entities.config,state.entities.records?.[kind]?.[name]?.queriedData?.items[context]?.[recordId],state.entities.records?.[kind]?.[name]?.queriedData?.itemIsComplete[context]?.[recordId]]}));function hasEntityRecords(state,kind,name,query){return Array.isArray(getEntityRecords(state,kind,name,query))}const getEntityRecords=(state,kind,name,query)=>{const queriedState=state.entities.records?.[kind]?.[name]?.queriedData;return queriedState?getQueriedItems(queriedState,query):null},getEntityRecordsTotalItems=(state,kind,name,query)=>{const queriedState=state.entities.records?.[kind]?.[name]?.queriedData;return queriedState?getQueriedTotalItems(queriedState,query):null},getEntityRecordsTotalPages=(state,kind,name,query)=>{const queriedState=state.entities.records?.[kind]?.[name]?.queriedData;if(!queriedState)return null;if(-1===query.per_page)return 1;const totalItems=getQueriedTotalItems(queriedState,query);return totalItems?Math.ceil(totalItems/query.per_page):totalItems},__experimentalGetDirtyEntityRecords=(0,rememo.Z)((state=>{const{entities:{records:records}}=state,dirtyRecords=[];return Object.keys(records).forEach((kind=>{Object.keys(records[kind]).forEach((name=>{const primaryKeys=Object.keys(records[kind][name].edits).filter((primaryKey=>getEntityRecord(state,kind,name,primaryKey)&&hasEditsForEntityRecord(state,kind,name,primaryKey)));if(primaryKeys.length){const entityConfig=getEntityConfig(state,kind,name);primaryKeys.forEach((primaryKey=>{const entityRecord=getEditedEntityRecord(state,kind,name,primaryKey);dirtyRecords.push({key:entityRecord?entityRecord[entityConfig.key||DEFAULT_ENTITY_KEY]:void 0,title:entityConfig?.getTitle?.(entityRecord)||"",name:name,kind:kind})}))}}))})),dirtyRecords}),(state=>[state.entities.records])),__experimentalGetEntitiesBeingSaved=(0,rememo.Z)((state=>{const{entities:{records:records}}=state,recordsBeingSaved=[];return Object.keys(records).forEach((kind=>{Object.keys(records[kind]).forEach((name=>{const primaryKeys=Object.keys(records[kind][name].saving).filter((primaryKey=>isSavingEntityRecord(state,kind,name,primaryKey)));if(primaryKeys.length){const entityConfig=getEntityConfig(state,kind,name);primaryKeys.forEach((primaryKey=>{const entityRecord=getEditedEntityRecord(state,kind,name,primaryKey);recordsBeingSaved.push({key:entityRecord?entityRecord[entityConfig.key||DEFAULT_ENTITY_KEY]:void 0,title:entityConfig?.getTitle?.(entityRecord)||"",name:name,kind:kind})}))}}))})),recordsBeingSaved}),(state=>[state.entities.records]));function getEntityRecordEdits(state,kind,name,recordId){return state.entities.records?.[kind]?.[name]?.edits?.[recordId]}const getEntityRecordNonTransientEdits=(0,rememo.Z)(((state,kind,name,recordId)=>{const{transientEdits:transientEdits}=getEntityConfig(state,kind,name)||{},edits=getEntityRecordEdits(state,kind,name,recordId)||{};return transientEdits?Object.keys(edits).reduce(((acc,key)=>(transientEdits[key]||(acc[key]=edits[key]),acc)),{}):edits}),((state,kind,name,recordId)=>[state.entities.config,state.entities.records?.[kind]?.[name]?.edits?.[recordId]]));function hasEditsForEntityRecord(state,kind,name,recordId){return isSavingEntityRecord(state,kind,name,recordId)||Object.keys(getEntityRecordNonTransientEdits(state,kind,name,recordId)).length>0}const getEditedEntityRecord=(0,rememo.Z)(((state,kind,name,recordId)=>({...getRawEntityRecord(state,kind,name,recordId),...getEntityRecordEdits(state,kind,name,recordId)})),((state,kind,name,recordId,query)=>{var _query$context4;const context=null!==(_query$context4=query?.context)&&void 0!==_query$context4?_query$context4:"default";return[state.entities.config,state.entities.records?.[kind]?.[name]?.queriedData.items[context]?.[recordId],state.entities.records?.[kind]?.[name]?.queriedData.itemIsComplete[context]?.[recordId],state.entities.records?.[kind]?.[name]?.edits?.[recordId]]}));function isAutosavingEntityRecord(state,kind,name,recordId){var _state$entities$recor;const{pending:pending,isAutosave:isAutosave}=null!==(_state$entities$recor=state.entities.records?.[kind]?.[name]?.saving?.[recordId])&&void 0!==_state$entities$recor?_state$entities$recor:{};return Boolean(pending&&isAutosave)}function isSavingEntityRecord(state,kind,name,recordId){var _state$entities$recor2;return null!==(_state$entities$recor2=state.entities.records?.[kind]?.[name]?.saving?.[recordId]?.pending)&&void 0!==_state$entities$recor2&&_state$entities$recor2}function isDeletingEntityRecord(state,kind,name,recordId){var _state$entities$recor3;return null!==(_state$entities$recor3=state.entities.records?.[kind]?.[name]?.deleting?.[recordId]?.pending)&&void 0!==_state$entities$recor3&&_state$entities$recor3}function getLastEntitySaveError(state,kind,name,recordId){return state.entities.records?.[kind]?.[name]?.saving?.[recordId]?.error}function getLastEntityDeleteError(state,kind,name,recordId){return state.entities.records?.[kind]?.[name]?.deleting?.[recordId]?.error}function getUndoEdit(state){(0,deprecated_build_module.Z)("select( 'core' ).getUndoEdit()",{since:"6.3"})}function getRedoEdit(state){(0,deprecated_build_module.Z)("select( 'core' ).getRedoEdit()",{since:"6.3"})}function hasUndo(state){return state.undoManager.hasUndo()}function hasRedo(state){return state.undoManager.hasRedo()}function getCurrentTheme(state){return state.currentTheme?getEntityRecord(state,"root","theme",state.currentTheme):null}function __experimentalGetCurrentGlobalStylesId(state){return state.currentGlobalStylesId}function getThemeSupports(state){var _getCurrentTheme$them;return null!==(_getCurrentTheme$them=getCurrentTheme(state)?.theme_supports)&&void 0!==_getCurrentTheme$them?_getCurrentTheme$them:EMPTY_OBJECT}function getEmbedPreview(state,url){return state.embedPreviews[url]}function isPreviewEmbedFallback(state,url){const preview=state.embedPreviews[url],oEmbedLinkCheck='<a href="'+url+'">'+url+"</a>";return!!preview&&preview.html===oEmbedLinkCheck}function canUser(state,action,resource,id){const key=[action,resource,id].filter(Boolean).join("/");return state.userPermissions[key]}function canUserEditEntityRecord(state,kind,name,recordId){const entityConfig=getEntityConfig(state,kind,name);if(!entityConfig)return!1;return canUser(state,"update",entityConfig.__unstable_rest_base,recordId)}function getAutosaves(state,postType,postId){return state.autosaves[postId]}function getAutosave(state,postType,postId,authorId){if(void 0===authorId)return;const autosaves=state.autosaves[postId];return autosaves?.find((autosave=>autosave.author===authorId))}const hasFetchedAutosaves=(0,factory.M)((select=>(state,postType,postId)=>select(STORE_NAME).hasFinishedResolution("getAutosaves",[postType,postId])));function getReferenceByDistinctEdits(state){return state.editsReference}function __experimentalGetTemplateForLink(state,link){const records=getEntityRecords(state,"postType","wp_template",{"find-template":link});return records?.length?getEditedEntityRecord(state,"postType","wp_template",records[0].id):null}function __experimentalGetCurrentThemeBaseGlobalStyles(state){const currentTheme=getCurrentTheme(state);return currentTheme?state.themeBaseGlobalStyles[currentTheme.stylesheet]:null}function __experimentalGetCurrentThemeGlobalStylesVariations(state){const currentTheme=getCurrentTheme(state);return currentTheme?state.themeGlobalStyleVariations[currentTheme.stylesheet]:null}function getBlockPatterns(state){return state.blockPatterns}function getBlockPatternCategories(state){return state.blockPatternCategories}function getUserPatternCategories(state){return state.userPatternCategories}function getCurrentThemeGlobalStylesRevisions(state){(0,deprecated_build_module.Z)("select( 'core' ).getCurrentThemeGlobalStylesRevisions()",{since:"6.5.0",alternative:"select( 'core' ).getRevisions( 'root', 'globalStyles', ${ recordKey } )"});const currentGlobalStylesId=__experimentalGetCurrentGlobalStylesId(state);return currentGlobalStylesId?state.themeGlobalStyleRevisions[currentGlobalStylesId]:null}function getDefaultTemplateId(state,query){return state.defaultTemplates[JSON.stringify(query)]}const getRevisions=(state,kind,name,recordKey,query)=>{const queriedStateRevisions=state.entities.records?.[kind]?.[name]?.revisions?.[recordKey];return queriedStateRevisions?getQueriedItems(queriedStateRevisions,query):null},getRevision=(0,rememo.Z)(((state,kind,name,recordKey,revisionKey,query)=>{var _query$context5;const queriedState=state.entities.records?.[kind]?.[name]?.revisions?.[recordKey];if(!queriedState)return;const context=null!==(_query$context5=query?.context)&&void 0!==_query$context5?_query$context5:"default";if(void 0===query){if(!queriedState.itemIsComplete[context]?.[revisionKey])return;return queriedState.items[context][revisionKey]}const item=queriedState.items[context]?.[revisionKey];if(item&&query._fields){var _getNormalizedCommaSe2;const filteredItem={},fields=null!==(_getNormalizedCommaSe2=get_normalized_comma_separable(query._fields))&&void 0!==_getNormalizedCommaSe2?_getNormalizedCommaSe2:[];for(let f=0;f<fields.length;f++){const field=fields[f].split(".");let value=item;field.forEach((fieldName=>{value=value?.[fieldName]})),setNestedValue(filteredItem,field,value)}return filteredItem}return item}),((state,kind,name,recordKey,revisionKey,query)=>{var _query$context6;const context=null!==(_query$context6=query?.context)&&void 0!==_query$context6?_query$context6:"default";return[state.entities.records?.[kind]?.[name]?.revisions?.[recordKey]?.items?.[context]?.[revisionKey],state.entities.records?.[kind]?.[name]?.revisions?.[recordKey]?.itemIsComplete?.[context]?.[revisionKey]]}));function getUndoManager(state){return state.undoManager}function getNavigationFallbackId(state){return state.navigationFallbackId}var camel_case_dist_es2015=__webpack_require__("./node_modules/camel-case/dist.es2015/index.js"),html_entities_build_module=__webpack_require__("./packages/html-entities/build-module/index.js");var forward_resolver=resolverName=>(...args)=>async({resolveSelect:resolveSelect})=>{await resolveSelect[resolverName](...args)},resolvers_process=__webpack_require__("./node_modules/process/browser.js");const resolvers_getAuthors=query=>async({dispatch:dispatch})=>{const path=(0,add_query_args.f)("/wp/v2/users/?who=authors&per_page=100",query),users=await(0,api_fetch_build_module.Z)({path:path});dispatch.receiveUserQuery(path,users)},resolvers_getCurrentUser=()=>async({dispatch:dispatch})=>{const currentUser=await(0,api_fetch_build_module.Z)({path:"/wp/v2/users/me"});dispatch.receiveCurrentUser(currentUser)},resolvers_getEntityRecord=(kind,name,key="",query)=>async({select:select,dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.name===name&&config.kind===kind));if(!entityConfig||entityConfig?.__experimentalNoFetch)return;const lock=await dispatch.__unstableAcquireStoreLock(STORE_NAME,["entities","records",kind,name,key],{exclusive:!1});try{if(window.__experimentalEnableSync&&entityConfig.syncConfig&&!query){if(resolvers_process.env.IS_GUTENBERG_PLUGIN){const objectId=entityConfig.getSyncObjectId(key);await getSyncProvider().bootstrap(entityConfig.syncObjectType,objectId,(record=>{dispatch.receiveEntityRecords(kind,name,record,query)})),await getSyncProvider().bootstrap(entityConfig.syncObjectType+"--edit",objectId,(record=>{dispatch({type:"EDIT_ENTITY_RECORD",kind:kind,name:name,recordId:key,edits:record,meta:{undo:void 0}})}))}}else{void 0!==query&&query._fields&&(query={...query,_fields:[...new Set([...get_normalized_comma_separable(query._fields)||[],entityConfig.key||DEFAULT_ENTITY_KEY])].join()});const path=(0,add_query_args.f)(entityConfig.baseURL+(key?"/"+key:""),{...entityConfig.baseURLParams,...query});if(void 0!==query){query={...query,include:[key]};if(select.hasEntityRecords(kind,name,query))return}const record=await(0,api_fetch_build_module.Z)({path:path});dispatch.receiveEntityRecords(kind,name,record,query)}}finally{dispatch.__unstableReleaseStoreLock(lock)}},resolvers_getRawEntityRecord=forward_resolver("getEntityRecord"),resolvers_getEditedEntityRecord=forward_resolver("getEntityRecord"),resolvers_getEntityRecords=(kind,name,query={})=>async({dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.name===name&&config.kind===kind));if(!entityConfig||entityConfig?.__experimentalNoFetch)return;const lock=await dispatch.__unstableAcquireStoreLock(STORE_NAME,["entities","records",kind,name],{exclusive:!1});try{query._fields&&(query={...query,_fields:[...new Set([...get_normalized_comma_separable(query._fields)||[],entityConfig.key||DEFAULT_ENTITY_KEY])].join()});const path=(0,add_query_args.f)(entityConfig.baseURL,{...entityConfig.baseURLParams,...query});let records,meta;if(entityConfig.supportsPagination&&-1!==query.per_page){const response=await(0,api_fetch_build_module.Z)({path:path,parse:!1});records=Object.values(await response.json()),meta={totalItems:parseInt(response.headers.get("X-WP-Total"))}}else records=Object.values(await(0,api_fetch_build_module.Z)({path:path}));if(query._fields&&(records=records.map((record=>(query._fields.split(",").forEach((field=>{record.hasOwnProperty(field)||(record[field]=void 0)})),record)))),dispatch.receiveEntityRecords(kind,name,records,query,!1,void 0,meta),!query?._fields&&!query.context){const key=entityConfig.key||DEFAULT_ENTITY_KEY,resolutionsArgs=records.filter((record=>record[key])).map((record=>[kind,name,record[key]]));dispatch({type:"START_RESOLUTIONS",selectorName:"getEntityRecord",args:resolutionsArgs}),dispatch({type:"FINISH_RESOLUTIONS",selectorName:"getEntityRecord",args:resolutionsArgs})}}finally{dispatch.__unstableReleaseStoreLock(lock)}};resolvers_getEntityRecords.shouldInvalidate=(action,kind,name)=>("RECEIVE_ITEMS"===action.type||"REMOVE_ITEMS"===action.type)&&action.invalidateCache&&kind===action.kind&&name===action.name;const resolvers_getCurrentTheme=()=>async({dispatch:dispatch,resolveSelect:resolveSelect})=>{const activeThemes=await resolveSelect.getEntityRecords("root","theme",{status:"active"});dispatch.receiveCurrentTheme(activeThemes[0])},resolvers_getThemeSupports=forward_resolver("getCurrentTheme"),resolvers_getEmbedPreview=url=>async({dispatch:dispatch})=>{try{const embedProxyResponse=await(0,api_fetch_build_module.Z)({path:(0,add_query_args.f)("/oembed/1.0/proxy",{url:url})});dispatch.receiveEmbedPreview(url,embedProxyResponse)}catch(error){dispatch.receiveEmbedPreview(url,!1)}},resolvers_canUser=(requestedAction,resource,id)=>async({dispatch:dispatch,registry:registry})=>{const{hasStartedResolution:hasStartedResolution}=registry.select(STORE_NAME),resourcePath=id?`${resource}/${id}`:resource,retrievedActions=["create","read","update","delete"];if(!retrievedActions.includes(requestedAction))throw new Error(`'${requestedAction}' is not a valid action.`);for(const relatedAction of retrievedActions){if(relatedAction===requestedAction)continue;if(hasStartedResolution("canUser",[relatedAction,resource,id]))return}let response;try{response=await(0,api_fetch_build_module.Z)({path:`/wp/v2/${resourcePath}`,method:"OPTIONS",parse:!1})}catch(error){return}const allowHeader=response.headers?.get("allow"),allowedMethods=allowHeader?.allow||allowHeader||"",permissions={},methods={create:"POST",read:"GET",update:"PUT",delete:"DELETE"};for(const[actionName,methodName]of Object.entries(methods))permissions[actionName]=allowedMethods.includes(methodName);for(const action of retrievedActions)dispatch.receiveUserPermission(`${action}/${resourcePath}`,permissions[action])},resolvers_canUserEditEntityRecord=(kind,name,recordId)=>async({dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.name===name&&config.kind===kind));if(!entityConfig)return;const resource=entityConfig.__unstable_rest_base;await dispatch(resolvers_canUser("update",resource,recordId))},resolvers_getAutosaves=(postType,postId)=>async({dispatch:dispatch,resolveSelect:resolveSelect})=>{const{rest_base:restBase,rest_namespace:restNamespace="wp/v2"}=await resolveSelect.getPostType(postType),autosaves=await(0,api_fetch_build_module.Z)({path:`/${restNamespace}/${restBase}/${postId}/autosaves?context=edit`});autosaves&&autosaves.length&&dispatch.receiveAutosaves(postId,autosaves)},resolvers_getAutosave=(postType,postId)=>async({resolveSelect:resolveSelect})=>{await resolveSelect.getAutosaves(postType,postId)},resolvers_experimentalGetTemplateForLink=link=>async({dispatch:dispatch,resolveSelect:resolveSelect})=>{let template;try{template=await(0,api_fetch_build_module.Z)({url:(0,add_query_args.f)(link,{"_wp-find-template":!0})}).then((({data:data})=>data))}catch(e){}if(!template)return;const record=await resolveSelect.getEntityRecord("postType","wp_template",template.id);record&&dispatch.receiveEntityRecords("postType","wp_template",[record],{"find-template":link})};resolvers_experimentalGetTemplateForLink.shouldInvalidate=action=>("RECEIVE_ITEMS"===action.type||"REMOVE_ITEMS"===action.type)&&action.invalidateCache&&"postType"===action.kind&&"wp_template"===action.name;const resolvers_experimentalGetCurrentGlobalStylesId=()=>async({dispatch:dispatch,resolveSelect:resolveSelect})=>{const activeThemes=await resolveSelect.getEntityRecords("root","theme",{status:"active"}),globalStylesURL=activeThemes?.[0]?._links?.["wp:user-global-styles"]?.[0]?.href;if(globalStylesURL){const globalStylesObject=await(0,api_fetch_build_module.Z)({url:globalStylesURL});dispatch.__experimentalReceiveCurrentGlobalStylesId(globalStylesObject.id)}},resolvers_experimentalGetCurrentThemeBaseGlobalStyles=()=>async({resolveSelect:resolveSelect,dispatch:dispatch})=>{const currentTheme=await resolveSelect.getCurrentTheme(),themeGlobalStyles=await(0,api_fetch_build_module.Z)({path:`/wp/v2/global-styles/themes/${currentTheme.stylesheet}`});dispatch.__experimentalReceiveThemeBaseGlobalStyles(currentTheme.stylesheet,themeGlobalStyles)},resolvers_experimentalGetCurrentThemeGlobalStylesVariations=()=>async({resolveSelect:resolveSelect,dispatch:dispatch})=>{const currentTheme=await resolveSelect.getCurrentTheme(),variations=await(0,api_fetch_build_module.Z)({path:`/wp/v2/global-styles/themes/${currentTheme.stylesheet}/variations`});dispatch.__experimentalReceiveThemeGlobalStyleVariations(currentTheme.stylesheet,variations)},resolvers_getCurrentThemeGlobalStylesRevisions=()=>async({resolveSelect:resolveSelect,dispatch:dispatch})=>{const globalStylesId=await resolveSelect.__experimentalGetCurrentGlobalStylesId(),record=globalStylesId?await resolveSelect.getEntityRecord("root","globalStyles",globalStylesId):void 0,revisionsURL=record?._links?.["version-history"]?.[0]?.href;if(revisionsURL){const resetRevisions=await(0,api_fetch_build_module.Z)({url:revisionsURL}),revisions=resetRevisions?.map((revision=>Object.fromEntries(Object.entries(revision).map((([key,value])=>[(0,camel_case_dist_es2015.eV)(key),value])))));dispatch.receiveThemeGlobalStyleRevisions(globalStylesId,revisions)}};resolvers_getCurrentThemeGlobalStylesRevisions.shouldInvalidate=action=>"SAVE_ENTITY_RECORD_FINISH"===action.type&&"root"===action.kind&&!action.error&&"globalStyles"===action.name;const resolvers_getBlockPatterns=()=>async({dispatch:dispatch})=>{const restPatterns=await(0,api_fetch_build_module.Z)({path:"/wp/v2/block-patterns/patterns"}),patterns=restPatterns?.map((pattern=>Object.fromEntries(Object.entries(pattern).map((([key,value])=>[(0,camel_case_dist_es2015.eV)(key),value])))));dispatch({type:"RECEIVE_BLOCK_PATTERNS",patterns:patterns})},resolvers_getBlockPatternCategories=()=>async({dispatch:dispatch})=>{dispatch({type:"RECEIVE_BLOCK_PATTERN_CATEGORIES",categories:await(0,api_fetch_build_module.Z)({path:"/wp/v2/block-patterns/categories"})})},resolvers_getUserPatternCategories=()=>async({dispatch:dispatch,resolveSelect:resolveSelect})=>{const patternCategories=await resolveSelect.getEntityRecords("taxonomy","wp_pattern_category",{per_page:-1,_fields:"id,name,description,slug",context:"view"});dispatch({type:"RECEIVE_USER_PATTERN_CATEGORIES",patternCategories:patternCategories?.map((userCategory=>({...userCategory,label:(0,html_entities_build_module.S)(userCategory.name),name:userCategory.slug})))||[]})},resolvers_getNavigationFallbackId=()=>async({dispatch:dispatch,select:select})=>{const fallback=await(0,api_fetch_build_module.Z)({path:(0,add_query_args.f)("/wp-block-editor/v1/navigation-fallback",{_embed:!0})}),record=fallback?._embedded?.self;if(dispatch.receiveNavigationFallbackId(fallback?.id),record){const invalidateNavigationQueries=!select.getEntityRecord("postType","wp_navigation",fallback?.id);dispatch.receiveEntityRecords("postType","wp_navigation",record,void 0,invalidateNavigationQueries),dispatch.finishResolution("getEntityRecord",["postType","wp_navigation",fallback?.id])}},resolvers_getDefaultTemplateId=query=>async({dispatch:dispatch})=>{const template=await(0,api_fetch_build_module.Z)({path:(0,add_query_args.f)("/wp/v2/templates/lookup",query)});template&&dispatch.receiveDefaultTemplateId(query,template.id)},resolvers_getRevisions=(kind,name,recordKey,query={})=>async({dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.name===name&&config.kind===kind));if(!entityConfig||entityConfig?.__experimentalNoFetch)return;query._fields&&(query={...query,_fields:[...new Set([...get_normalized_comma_separable(query._fields)||[],entityConfig.revisionKey||DEFAULT_ENTITY_KEY])].join()});const path=(0,add_query_args.f)(entityConfig.getRevisionsUrl(recordKey),query);let records,response;const meta={},isPaginated=entityConfig.supportsPagination&&-1!==query.per_page;try{response=await(0,api_fetch_build_module.Z)({path:path,parse:!isPaginated})}catch(error){return}if(response&&(isPaginated?(records=Object.values(await response.json()),meta.totalItems=parseInt(response.headers.get("X-WP-Total"))):records=Object.values(response),query._fields&&(records=records.map((record=>(query._fields.split(",").forEach((field=>{record.hasOwnProperty(field)||(record[field]=void 0)})),record)))),dispatch.receiveRevisions(kind,name,recordKey,records,query,!1,meta),!query?._fields&&!query.context)){const key=entityConfig.key||DEFAULT_ENTITY_KEY,resolutionsArgs=records.filter((record=>record[key])).map((record=>[kind,name,recordKey,record[key]]));dispatch({type:"START_RESOLUTIONS",selectorName:"getRevision",args:resolutionsArgs}),dispatch({type:"FINISH_RESOLUTIONS",selectorName:"getRevision",args:resolutionsArgs})}};resolvers_getRevisions.shouldInvalidate=(action,kind,name,recordKey)=>"SAVE_ENTITY_RECORD_FINISH"===action.type&&name===action.name&&kind===action.kind&&!action.error&&recordKey===action.recordId;const resolvers_getRevision=(kind,name,recordKey,revisionKey,query)=>async({dispatch:dispatch})=>{const entityConfig=(await dispatch(getOrLoadEntitiesConfig(kind))).find((config=>config.name===name&&config.kind===kind));if(!entityConfig||entityConfig?.__experimentalNoFetch)return;void 0!==query&&query._fields&&(query={...query,_fields:[...new Set([...get_normalized_comma_separable(query._fields)||[],entityConfig.revisionKey||DEFAULT_ENTITY_KEY])].join()});const path=(0,add_query_args.f)(entityConfig.getRevisionsUrl(recordKey,revisionKey),query);let record;try{record=await(0,api_fetch_build_module.Z)({path:path})}catch(error){return}record&&dispatch.receiveRevisions(kind,name,recordKey,record,query)};function deepCopyLocksTreePath(tree,path){const newTree={...tree};let currentNode=newTree;for(const branchName of path)currentNode.children={...currentNode.children,[branchName]:{locks:[],children:{},...currentNode.children[branchName]}},currentNode=currentNode.children[branchName];return newTree}function getNode(tree,path){let currentNode=tree;for(const branchName of path){const nextNode=currentNode.children[branchName];if(!nextNode)return null;currentNode=nextNode}return currentNode}function hasConflictingLock({exclusive:exclusive},locks){return!(!exclusive||!locks.length)||!(exclusive||!locks.filter((lock=>lock.exclusive)).length)}const DEFAULT_STATE={requests:[],tree:{locks:[],children:{}}};function locks(state=DEFAULT_STATE,action){switch(action.type){case"ENQUEUE_LOCK_REQUEST":{const{request:request}=action;return{...state,requests:[request,...state.requests]}}case"GRANT_LOCK_REQUEST":{const{lock:lock,request:request}=action,{store:store,path:path}=request,storePath=[store,...path],newTree=deepCopyLocksTreePath(state.tree,storePath),node=getNode(newTree,storePath);return node.locks=[...node.locks,lock],{...state,requests:state.requests.filter((r=>r!==request)),tree:newTree}}case"RELEASE_LOCK":{const{lock:lock}=action,storePath=[lock.store,...lock.path],newTree=deepCopyLocksTreePath(state.tree,storePath),node=getNode(newTree,storePath);return node.locks=node.locks.filter((l=>l!==lock)),{...state,tree:newTree}}}return state}function isLockAvailable(state,store,path,{exclusive:exclusive}){const storePath=[store,...path],locks=state.tree;for(const node of function*iteratePath(tree,path){let currentNode=tree;yield currentNode;for(const branchName of path){const nextNode=currentNode.children[branchName];if(!nextNode)break;yield nextNode,currentNode=nextNode}}(locks,storePath))if(hasConflictingLock({exclusive:exclusive},node.locks))return!1;const node=getNode(locks,storePath);if(!node)return!0;for(const descendant of function*iterateDescendants(node){const stack=Object.values(node.children);for(;stack.length;){const childNode=stack.pop();yield childNode,stack.push(...Object.values(childNode.children))}}(node))if(hasConflictingLock({exclusive:exclusive},descendant.locks))return!1;return!0}function createLocks(){let state=locks(void 0,{type:"@@INIT"});function processPendingLockRequests(){for(const request of function getPendingLockRequests(state){return state.requests}(state)){const{store:store,path:path,exclusive:exclusive,notifyAcquired:notifyAcquired}=request;if(isLockAvailable(state,store,path,{exclusive:exclusive})){const lock={store:store,path:path,exclusive:exclusive};state=locks(state,{type:"GRANT_LOCK_REQUEST",lock:lock,request:request}),notifyAcquired(lock)}}}return{acquire:function acquire(store,path,exclusive){return new Promise((resolve=>{state=locks(state,{type:"ENQUEUE_LOCK_REQUEST",request:{store:store,path:path,exclusive:exclusive,notifyAcquired:resolve}}),processPendingLockRequests()}))},release:function release(lock){state=locks(state,{type:"RELEASE_LOCK",lock:lock}),processPendingLockRequests()}}}function createLocksActions(){const locks=createLocks();return{__unstableAcquireStoreLock:function __unstableAcquireStoreLock(store,path,{exclusive:exclusive}){return()=>locks.acquire(store,path,exclusive)},__unstableReleaseStoreLock:function __unstableReleaseStoreLock(lock){return()=>locks.release(lock)}}}var implementation=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock:lock,unlock:unlock}=(0,implementation.es)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/core-data");var react=__webpack_require__("./node_modules/react/index.js"),use_select=__webpack_require__("./packages/data/build-module/components/use-select/index.js"),use_dispatch=__webpack_require__("./packages/data/build-module/components/use-dispatch/use-dispatch.js"),blocks_build_module=__webpack_require__("./packages/blocks/build-module/index.js"),rich_text_build_module=__webpack_require__("./packages/rich-text/build-module/index.js"),block_editor_build_module=__webpack_require__("./packages/block-editor/build-module/index.js");let unlockedApis;const cache=new WeakMap;const get_footnotes_order_cache=new WeakMap;function getBlockFootnotesOrder(block){if(!get_footnotes_order_cache.has(block)){const order=[];for(const value of function getRichTextValuesCached(block){if(unlockedApis||(unlockedApis=unlock(block_editor_build_module.YH)),!cache.has(block)){const values=unlockedApis.getRichTextValues([block]);cache.set(block,values)}return cache.get(block)}(block))value&&value.includes("data-fn")&&(0,rich_text_build_module.Ue)({html:value}).replacements.forEach((({type:type,attributes:attributes})=>{"core/footnote"===type&&order.push(attributes["data-fn"])}));get_footnotes_order_cache.set(block,order)}return get_footnotes_order_cache.get(block)}let oldFootnotes={};function updateFootnotesFromMeta(blocks,meta){const output={blocks:blocks};if(!meta)return output;if(void 0===meta.footnotes)return output;const newOrder=function getFootnotesOrder(blocks){return blocks.flatMap(getBlockFootnotesOrder)}(blocks),footnotes=meta.footnotes?JSON.parse(meta.footnotes):[];if(footnotes.map((fn=>fn.id)).join("")===newOrder.join(""))return output;const newFootnotes=newOrder.map((fnId=>footnotes.find((fn=>fn.id===fnId))||oldFootnotes[fnId]||{id:fnId,content:""}));function updateAttributes(attributes){if(!attributes||Array.isArray(attributes)||"object"!=typeof attributes)return attributes;attributes={...attributes};for(const key in attributes){const value=attributes[key];if(Array.isArray(value)){attributes[key]=value.map(updateAttributes);continue}if("string"!=typeof value)continue;if(-1===value.indexOf("data-fn"))continue;const richTextValue=(0,rich_text_build_module.Ue)({html:value});richTextValue.replacements.forEach((replacement=>{if("core/footnote"===replacement.type){const id=replacement.attributes["data-fn"],index=newOrder.indexOf(id),countValue=(0,rich_text_build_module.Ue)({html:replacement.innerHTML});countValue.text=String(index+1),replacement.innerHTML=(0,rich_text_build_module.Jz)({value:countValue})}})),attributes[key]=(0,rich_text_build_module.Jz)({value:richTextValue})}return attributes}const newBlocks=function updateBlocksAttributes(__blocks){return __blocks.map((block=>({...block,attributes:updateAttributes(block.attributes),innerBlocks:updateBlocksAttributes(block.innerBlocks)})))}(blocks);return oldFootnotes={...oldFootnotes,...footnotes.reduce(((acc,fn)=>(newOrder.includes(fn.id)||(acc[fn.id]=fn),acc)),{})},{meta:{...meta,footnotes:JSON.stringify(newFootnotes)},blocks:newBlocks}}const EMPTY_ARRAY=[],entityContexts={...rootEntitiesConfig.reduce(((acc,loader)=>(acc[loader.kind]||(acc[loader.kind]={}),acc[loader.kind][loader.name]={context:(0,react.createContext)(void 0)},acc)),{}),...additionalEntityConfigLoaders.reduce(((acc,loader)=>(acc[loader.kind]={},acc)),{})},getEntityContext=(kind,name)=>{if(!entityContexts[kind])throw new Error(`Missing entity config for kind: ${kind}.`);return entityContexts[kind][name]||(entityContexts[kind][name]={context:(0,react.createContext)(void 0)}),entityContexts[kind][name].context};function EntityProvider({kind:kind,type:name,id:id,children:children}){const Provider=getEntityContext(kind,name).Provider;return(0,react.createElement)(Provider,{value:id},children)}function useEntityId(kind,name){return(0,react.useContext)(getEntityContext(kind,name))}function useEntityProp(kind,name,prop,_id){const providerId=useEntityId(kind,name),id=null!=_id?_id:providerId,{value:value,fullValue:fullValue}=(0,use_select.Z)((select=>{const{getEntityRecord:getEntityRecord,getEditedEntityRecord:getEditedEntityRecord}=select(STORE_NAME),record=getEntityRecord(kind,name,id),editedRecord=getEditedEntityRecord(kind,name,id);return record&&editedRecord?{value:editedRecord[prop],fullValue:record[prop]}:{}}),[kind,name,id,prop]),{editEntityRecord:editEntityRecord}=(0,use_dispatch.Z)(STORE_NAME);return[value,(0,react.useCallback)((newValue=>{editEntityRecord(kind,name,id,{[prop]:newValue})}),[editEntityRecord,kind,name,id,prop]),fullValue]}function useEntityBlockEditor(kind,name,{id:_id}={}){const providerId=useEntityId(kind,name),id=null!=_id?_id:providerId,{content:content,editedBlocks:editedBlocks,meta:meta}=(0,use_select.Z)((select=>{if(!id)return{};const{getEditedEntityRecord:getEditedEntityRecord}=select(STORE_NAME),editedRecord=getEditedEntityRecord(kind,name,id);return{editedBlocks:editedRecord.blocks,content:editedRecord.content,meta:editedRecord.meta}}),[kind,name,id]),{__unstableCreateUndoLevel:__unstableCreateUndoLevel,editEntityRecord:editEntityRecord}=(0,use_dispatch.Z)(STORE_NAME),blocks=(0,react.useMemo)((()=>{if(id)return editedBlocks||(content&&"function"!=typeof content?(0,blocks_build_module.Qc)(content):EMPTY_ARRAY)}),[id,editedBlocks,content]),updateFootnotes=(0,react.useCallback)((_blocks=>updateFootnotesFromMeta(_blocks,meta)),[meta]),onChange=(0,react.useCallback)(((newBlocks,options)=>{if(blocks===newBlocks)return __unstableCreateUndoLevel(kind,name,id);const{selection:selection}=options,edits={selection:selection,content:({blocks:blocksForSerialization=[]})=>(0,blocks_build_module.qm)(blocksForSerialization),...updateFootnotes(newBlocks)};editEntityRecord(kind,name,id,edits,{isCached:!1})}),[kind,name,id,blocks,updateFootnotes,__unstableCreateUndoLevel,editEntityRecord]),onInput=(0,react.useCallback)(((newBlocks,options)=>{const{selection:selection}=options,edits={selection:selection,...updateFootnotes(newBlocks)};editEntityRecord(kind,name,id,edits,{isCached:!0})}),[kind,name,id,updateFootnotes,editEntityRecord]);return[blocks,onInput,onChange]}EntityProvider.__docgenInfo={description:"Context provider component for providing\nan entity for a specific entity.\n\n@param {Object} props          The component's props.\n@param {string} props.kind     The entity kind.\n@param {string} props.type     The entity name.\n@param {number} props.id       The entity ID.\n@param {*}      props.children The children to wrap.\n\n@return {Object} The provided children, wrapped with\n                  the entity's context provider.",methods:[],displayName:"EntityProvider"};var memoize=__webpack_require__("./node_modules/memize/dist/index.js").Z;let Status=function(Status){return Status.Idle="IDLE",Status.Resolving="RESOLVING",Status.Error="ERROR",Status.Success="SUCCESS",Status}({});const META_SELECTORS=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"];function useQuerySelect(mapQuerySelect,deps){return(0,use_select.Z)(((select,registry)=>mapQuerySelect((store=>enrichSelectors(select(store))),registry)),deps)}const enrichSelectors=memoize((selectors=>{const resolvers={};for(const selectorName in selectors)META_SELECTORS.includes(selectorName)||Object.defineProperty(resolvers,selectorName,{get:()=>(...args)=>{const{getIsResolving:getIsResolving,hasFinishedResolution:hasFinishedResolution}=selectors,isResolving=!!getIsResolving(selectorName,args),hasResolved=!isResolving&&hasFinishedResolution(selectorName,args),data=selectors[selectorName](...args);let status;return status=isResolving?Status.Resolving:hasResolved?data?Status.Success:Status.Error:Status.Idle,{data:data,status:status,isResolving:isResolving,hasResolved:hasResolved}}});return resolvers})),use_entity_record_EMPTY_OBJECT={};function useEntityRecord(kind,name,recordId,options={enabled:!0}){const{editEntityRecord:editEntityRecord,saveEditedEntityRecord:saveEditedEntityRecord}=(0,use_dispatch.Z)(store),mutations=(0,react.useMemo)((()=>({edit:(record,editOptions={})=>editEntityRecord(kind,name,recordId,record,editOptions),save:(saveOptions={})=>saveEditedEntityRecord(kind,name,recordId,{throwOnError:!0,...saveOptions})})),[editEntityRecord,kind,name,recordId,saveEditedEntityRecord]),{editedRecord:editedRecord,hasEdits:hasEdits,edits:edits}=(0,use_select.Z)((select=>options.enabled?{editedRecord:select(store).getEditedEntityRecord(kind,name,recordId),hasEdits:select(store).hasEditsForEntityRecord(kind,name,recordId),edits:select(store).getEntityRecordNonTransientEdits(kind,name,recordId)}:{editedRecord:use_entity_record_EMPTY_OBJECT,hasEdits:!1,edits:use_entity_record_EMPTY_OBJECT}),[kind,name,recordId,options.enabled]),{data:record,...querySelectRest}=useQuerySelect((query=>options.enabled?query(store).getEntityRecord(kind,name,recordId):{data:null}),[kind,name,recordId,options.enabled]);return{record:record,editedRecord:editedRecord,hasEdits:hasEdits,edits:edits,...querySelectRest,...mutations}}const use_entity_records_EMPTY_ARRAY=[];function useEntityRecords(kind,name,queryArgs={},options={enabled:!0}){const queryAsString=(0,add_query_args.f)("",queryArgs),{data:records,...rest}=useQuerySelect((query=>options.enabled?query(store).getEntityRecords(kind,name,queryArgs):{data:use_entity_records_EMPTY_ARRAY}),[kind,name,queryAsString,options.enabled]),{totalItems:totalItems,totalPages:totalPages}=(0,use_select.Z)((select=>options.enabled?{totalItems:select(store).getEntityRecordsTotalItems(kind,name,queryArgs),totalPages:select(store).getEntityRecordsTotalPages(kind,name,queryArgs)}:{totalItems:null,totalPages:null}),[kind,name,queryAsString,options.enabled]);return{records:records,totalItems:totalItems,totalPages:totalPages,...rest}}function useResourcePermissions(resource,id){return useQuerySelect((resolve=>{const{canUser:canUser}=resolve(store),create=canUser("create",resource);if(!id){const read=canUser("read",resource),isResolving=create.isResolving||read.isResolving,hasResolved=create.hasResolved&&read.hasResolved;let status=Status.Idle;return isResolving?status=Status.Resolving:hasResolved&&(status=Status.Success),{status:status,isResolving:isResolving,hasResolved:hasResolved,canCreate:create.hasResolved&&create.data,canRead:read.hasResolved&&read.data}}const read=canUser("read",resource,id),update=canUser("update",resource,id),_delete=canUser("delete",resource,id),isResolving=read.isResolving||create.isResolving||update.isResolving||_delete.isResolving,hasResolved=read.hasResolved&&create.hasResolved&&update.hasResolved&&_delete.hasResolved;let status=Status.Idle;return isResolving?status=Status.Resolving:hasResolved&&(status=Status.Success),{status:status,isResolving:isResolving,hasResolved:hasResolved,canRead:hasResolved&&read.data,canCreate:hasResolved&&create.data,canUpdate:hasResolved&&update.data,canDelete:hasResolved&&_delete.data}}),[resource,id])}const entitySelectors=rootEntitiesConfig.reduce(((result,entity)=>{const{kind:kind,name:name}=entity;return result[getMethodName(kind,name)]=(state,key,query)=>getEntityRecord(state,kind,name,key,query),result[getMethodName(kind,name,"get",!0)]=(state,query)=>getEntityRecords(state,kind,name,query),result}),{}),entityResolvers=rootEntitiesConfig.reduce(((result,entity)=>{const{kind:kind,name:name}=entity;result[getMethodName(kind,name)]=(key,query)=>resolvers_getEntityRecord(kind,name,key,query);const pluralMethodName=getMethodName(kind,name,"get",!0);return result[pluralMethodName]=(...args)=>resolvers_getEntityRecords(kind,name,...args),result[pluralMethodName].shouldInvalidate=action=>resolvers_getEntityRecords.shouldInvalidate(action,kind,name),result}),{}),entityActions=rootEntitiesConfig.reduce(((result,entity)=>{const{kind:kind,name:name}=entity;return result[getMethodName(kind,name,"save")]=key=>saveEntityRecord(kind,name,key),result[getMethodName(kind,name,"delete")]=(key,query)=>deleteEntityRecord(kind,name,key,query),result}),{}),store=(0,redux_store.Z)(STORE_NAME,{reducer:build_module_reducer,actions:{...build_module_actions_namespaceObject,...entityActions,...createLocksActions()},selectors:{...build_module_selectors_namespaceObject,...entitySelectors},resolvers:{...resolvers_namespaceObject,...entityResolvers}});unlock(store).registerPrivateSelectors(private_selectors_namespaceObject),(0,build_module.z2)(store)},"./packages/date/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Gw:function(){return getSettings},K_:function(){return dateI18n},WU:function(){return format},_3:function(){return getDate},gF:function(){return isInTheFuture},n_:function(){return humanTimeDiff}});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/moment-timezone/moment-timezone.js"),__webpack_require__("./node_modules/moment-timezone/moment-timezone-utils.js");const WP_ZONE="WP",VALID_UTC_OFFSET=/^[+-][0-1][0-9](:?[0-9][0-9])?$/;let settings={l10n:{locale:"en",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],meridiem:{am:"am",pm:"pm",AM:"AM",PM:"PM"},relative:{future:"%s from now",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},startOfWeek:0},formats:{time:"g: i a",date:"F j, Y",datetime:"F j, Y g: i a",datetimeAbbreviated:"M j, Y g: i a"},timezone:{offset:"0",string:"",abbr:""}};function getSettings(){return settings}function setupWPTimezone(){const currentTimezone=moment__WEBPACK_IMPORTED_MODULE_0___default().tz.zone(settings.timezone.string);currentTimezone?moment__WEBPACK_IMPORTED_MODULE_0___default().tz.add(moment__WEBPACK_IMPORTED_MODULE_0___default().tz.pack({name:WP_ZONE,abbrs:currentTimezone.abbrs,untils:currentTimezone.untils,offsets:currentTimezone.offsets})):moment__WEBPACK_IMPORTED_MODULE_0___default().tz.add(moment__WEBPACK_IMPORTED_MODULE_0___default().tz.pack({name:WP_ZONE,abbrs:[WP_ZONE],untils:[null],offsets:[60*-settings.timezone.offset||0]}))}const formatMap={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S(momentDate){const num=momentDate.format("D");return momentDate.format("Do").replace(num,"")},w:"d",z(momentDate){return(parseInt(momentDate.format("DDD"),10)-1).toString()},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t(momentDate){return momentDate.daysInMonth()},L(momentDate){return momentDate.isLeapYear()?"1":"0"},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B(momentDate){const timezoned=moment__WEBPACK_IMPORTED_MODULE_0___default()(momentDate).utcOffset(60),seconds=parseInt(timezoned.format("s"),10),minutes=parseInt(timezoned.format("m"),10),hours=parseInt(timezoned.format("H"),10);return parseInt(((seconds+60*minutes+3600*hours)/86.4).toString(),10)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSSSSS",v:"SSS",e:"zz",I(momentDate){return momentDate.isDST()?"1":"0"},O:"ZZ",P:"Z",T:"z",Z(momentDate){const offset=momentDate.format("Z"),sign="-"===offset[0]?-1:1,parts=offset.substring(1).split(":").map((n=>parseInt(n,10)));return sign*(60*parts[0]+parts[1])*60},c:"YYYY-MM-DDTHH:mm:ssZ",r(momentDate){return momentDate.locale("en").format("ddd, DD MMM YYYY HH:mm:ss ZZ")},U:"X"};function format(dateFormat,dateValue=new Date){let i,char;const newFormat=[],momentDate=moment__WEBPACK_IMPORTED_MODULE_0___default()(dateValue);for(i=0;i<dateFormat.length;i++)if(char=dateFormat[i],"\\"!==char)if(char in formatMap){const formatter=formatMap[char];"string"!=typeof formatter?newFormat.push("["+formatter(momentDate)+"]"):newFormat.push(formatter)}else newFormat.push("["+char+"]");else i++,newFormat.push("["+dateFormat[i]+"]");return momentDate.format(newFormat.join("[]"))}function dateI18n(dateFormat,dateValue=new Date,timezone){if(!0===timezone)return function gmdateI18n(dateFormat,dateValue=new Date){const dateMoment=moment__WEBPACK_IMPORTED_MODULE_0___default()(dateValue).utc();return dateMoment.locale(settings.l10n.locale),format(dateFormat,dateMoment)}(dateFormat,dateValue);!1===timezone&&(timezone=void 0);const dateMoment=buildMoment(dateValue,timezone);return dateMoment.locale(settings.l10n.locale),format(dateFormat,dateMoment)}function isInTheFuture(dateValue){const now=moment__WEBPACK_IMPORTED_MODULE_0___default().tz(WP_ZONE);return moment__WEBPACK_IMPORTED_MODULE_0___default().tz(dateValue,WP_ZONE).isAfter(now)}function getDate(dateString){return dateString?moment__WEBPACK_IMPORTED_MODULE_0___default().tz(dateString,WP_ZONE).toDate():moment__WEBPACK_IMPORTED_MODULE_0___default().tz(WP_ZONE).toDate()}function humanTimeDiff(from,to){const fromMoment=moment__WEBPACK_IMPORTED_MODULE_0___default().tz(from,WP_ZONE),toMoment=to?moment__WEBPACK_IMPORTED_MODULE_0___default().tz(to,WP_ZONE):moment__WEBPACK_IMPORTED_MODULE_0___default().tz(WP_ZONE);return fromMoment.from(toMoment)}function buildMoment(dateValue,timezone=""){const dateMoment=moment__WEBPACK_IMPORTED_MODULE_0___default()(dateValue);return timezone&&!isUTCOffset(timezone)?dateMoment.tz(timezone):timezone&&isUTCOffset(timezone)?dateMoment.utcOffset(timezone):settings.timezone.string?dateMoment.tz(settings.timezone.string):dateMoment.utcOffset(+settings.timezone.offset)}function isUTCOffset(offset){return"number"==typeof offset||VALID_UTC_OFFSET.test(offset)}setupWPTimezone()},"./packages/icons/build-module/library/align-center.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const alignCenter=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"}));__webpack_exports__.Z=alignCenter},"./packages/icons/build-module/library/align-left.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const alignLeft=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"}));__webpack_exports__.Z=alignLeft},"./packages/icons/build-module/library/align-right.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const alignRight=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"}));__webpack_exports__.Z=alignRight},"./packages/icons/build-module/library/arrow-left.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const arrowLeft=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"}));__webpack_exports__.Z=arrowLeft},"./packages/icons/build-module/library/category.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const category=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"}));__webpack_exports__.Z=category},"./packages/icons/build-module/library/chevron-up.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const chevronUp=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));__webpack_exports__.Z=chevronUp},"./packages/icons/build-module/library/copy.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const copy=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4.5h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5ZM3 5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm17 3v10.75c0 .69-.56 1.25-1.25 1.25H6v1.5h12.75a2.75 2.75 0 0 0 2.75-2.75V8H20Z"}));__webpack_exports__.Z=copy},"./packages/icons/build-module/library/edit.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return edit}});var react=__webpack_require__("./node_modules/react/index.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");var edit=(0,react.createElement)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react.createElement)(svg.y$,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"}))},"./packages/icons/build-module/library/file.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const file=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M12.848 8a1 1 0 0 1-.914-.594l-.723-1.63a.5.5 0 0 0-.447-.276H5a.5.5 0 0 0-.5.5v11.5a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5v-9A.5.5 0 0 0 19 8h-6.152Zm.612-1.5a.5.5 0 0 1-.462-.31l-.445-1.084A2 2 0 0 0 10.763 4H5a2 2 0 0 0-2 2v11.5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-5.54Z"}));__webpack_exports__.Z=file},"./packages/icons/build-module/library/footer.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const footer=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));__webpack_exports__.Z=footer},"./packages/icons/build-module/library/format-capitalize.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const formatCapitalize=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"}));__webpack_exports__.Z=formatCapitalize},"./packages/icons/build-module/library/format-lowercase.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const formatLowercase=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"}));__webpack_exports__.Z=formatLowercase},"./packages/icons/build-module/library/format-strikethrough.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const formatStrikethrough=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"}));__webpack_exports__.Z=formatStrikethrough},"./packages/icons/build-module/library/format-underline.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const formatUnderline=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M7 18v1h10v-1H7zm5-2c1.5 0 2.6-.4 3.4-1.2.8-.8 1.1-2 1.1-3.5V5H15v5.8c0 1.2-.2 2.1-.6 2.8-.4.7-1.2 1-2.4 1s-2-.3-2.4-1c-.4-.7-.6-1.6-.6-2.8V5H7.5v6.2c0 1.5.4 2.7 1.1 3.5.8.9 1.9 1.3 3.4 1.3z"}));__webpack_exports__.Z=formatUnderline},"./packages/icons/build-module/library/format-uppercase.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const formatUppercase=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"}));__webpack_exports__.Z=formatUppercase},"./packages/icons/build-module/library/fullscreen.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const fullscreen=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z"}));__webpack_exports__.Z=fullscreen},"./packages/icons/build-module/library/group.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const group=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"}));__webpack_exports__.Z=group},"./packages/icons/build-module/library/header.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const header=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));__webpack_exports__.Z=header},"./packages/icons/build-module/library/home.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const home=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"}));__webpack_exports__.Z=home},"./packages/icons/build-module/library/keyboard-return.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const keyboardReturn=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));__webpack_exports__.Z=keyboardReturn},"./packages/icons/build-module/library/layout.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const layout=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));__webpack_exports__.Z=layout},"./packages/icons/build-module/library/line-dashed.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const lineDashed=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M5 11.25h3v1.5H5v-1.5zm5.5 0h3v1.5h-3v-1.5zm8.5 0h-3v1.5h3v-1.5z",clipRule:"evenodd"}));__webpack_exports__.Z=lineDashed},"./packages/icons/build-module/library/line-dotted.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const lineDotted=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M5.25 11.25h1.5v1.5h-1.5v-1.5zm3 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5zm1.5 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5z",clipRule:"evenodd"}));__webpack_exports__.Z=lineDotted},"./packages/icons/build-module/library/link-off.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const linkOff=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"}));__webpack_exports__.Z=linkOff},"./packages/icons/build-module/library/link.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const link=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"}));__webpack_exports__.Z=link},"./packages/icons/build-module/library/media.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const media=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"}));__webpack_exports__.Z=media},"./packages/icons/build-module/library/page.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const page=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z"}));__webpack_exports__.Z=page},"./packages/icons/build-module/library/paragraph.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const paragraph=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"}));__webpack_exports__.Z=paragraph},"./packages/icons/build-module/library/post-featured-image.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const postFeaturedImage=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"}));__webpack_exports__.Z=postFeaturedImage},"./packages/icons/build-module/library/post-list.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const postList=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z"}));__webpack_exports__.Z=postList},"./packages/icons/build-module/library/row.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const row=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4 6.5h5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4V16h5a.5.5 0 0 0 .5-.5v-7A.5.5 0 0 0 9 8H4V6.5Zm16 0h-5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h5V16h-5a.5.5 0 0 1-.5-.5v-7A.5.5 0 0 1 15 8h5V6.5Z"}));__webpack_exports__.Z=row},"./packages/icons/build-module/library/settings.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const settings=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"}));__webpack_exports__.Z=settings},"./packages/icons/build-module/library/sidebar.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const sidebar=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));__webpack_exports__.Z=sidebar},"./packages/icons/build-module/library/stack.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const stack=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M17.5 4v5a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V4H8v5a.5.5 0 0 0 .5.5h7A.5.5 0 0 0 16 9V4h1.5Zm0 16v-5a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v5H8v-5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v5h1.5Z"}));__webpack_exports__.Z=stack},"./packages/icons/build-module/library/styles.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const styles=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}));__webpack_exports__.Z=styles},"./packages/icons/build-module/library/swatch.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const swatch=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M5 17.7c.4.5.8.9 1.2 1.2l1.1-1.4c-.4-.3-.7-.6-1-1L5 17.7zM5 6.3l1.4 1.1c.3-.4.6-.7 1-1L6.3 5c-.5.4-.9.8-1.3 1.3zm.1 7.8l-1.7.5c.2.6.4 1.1.7 1.6l1.5-.8c-.2-.4-.4-.8-.5-1.3zM4.8 12v-.7L3 11.1v1.8l1.7-.2c.1-.2.1-.5.1-.7zm3 7.9c.5.3 1.1.5 1.6.7l.5-1.7c-.5-.1-.9-.3-1.3-.5l-.8 1.5zM19 6.3c-.4-.5-.8-.9-1.2-1.2l-1.1 1.4c.4.3.7.6 1 1L19 6.3zm-.1 3.6l1.7-.5c-.2-.6-.4-1.1-.7-1.6l-1.5.8c.2.4.4.8.5 1.3zM5.6 8.6l-1.5-.8c-.3.5-.5 1-.7 1.6l1.7.5c.1-.5.3-.9.5-1.3zm2.2-4.5l.8 1.5c.4-.2.8-.4 1.3-.5l-.5-1.7c-.6.2-1.1.4-1.6.7zm8.8 13.5l1.1 1.4c.5-.4.9-.8 1.2-1.2l-1.4-1.1c-.2.3-.5.6-.9.9zm1.8-2.2l1.5.8c.3-.5.5-1.1.7-1.6l-1.7-.5c-.1.5-.3.9-.5 1.3zm2.6-4.3l-1.7.2v1.4l1.7.2V12v-.9zM11.1 3l.2 1.7h1.4l.2-1.7h-1.8zm3 2.1c.5.1.9.3 1.3.5l.8-1.5c-.5-.3-1.1-.5-1.6-.7l-.5 1.7zM12 19.2h-.7l-.2 1.8h1.8l-.2-1.7c-.2-.1-.5-.1-.7-.1zm2.1-.3l.5 1.7c.6-.2 1.1-.4 1.6-.7l-.8-1.5c-.4.2-.8.4-1.3.5z"}));__webpack_exports__.Z=swatch},"./packages/icons/build-module/library/symbol-filled.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const symbolFilled=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"}));__webpack_exports__.Z=symbolFilled},"./packages/icons/build-module/library/tag.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const tag=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}));__webpack_exports__.Z=tag},"./packages/icons/build-module/library/upload.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const upload=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));__webpack_exports__.Z=upload},"./packages/icons/build-module/library/verse.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js");const verse=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z"}));__webpack_exports__.Z=verse},"./packages/preferences/build-module/store/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return store}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,{set:function(){return set},setDefaults:function(){return setDefaults},setPersistenceLayer:function(){return setPersistenceLayer},toggle:function(){return toggle}});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,{get:function(){return get}});var redux_store=__webpack_require__("./packages/data/build-module/redux-store/index.js"),build_module=__webpack_require__("./packages/data/build-module/index.js");const preferences=function withPersistenceLayer(reducer){let persistenceLayer;return(state,action)=>{if("SET_PERSISTENCE_LAYER"===action.type){const{persistenceLayer:persistence,persistedData:persistedData}=action;return persistenceLayer=persistence,persistedData}const nextState=reducer(state,action);return"SET_PREFERENCE_VALUE"===action.type&&persistenceLayer?.set(nextState),nextState}}(((state={},action)=>{if("SET_PREFERENCE_VALUE"===action.type){const{scope:scope,name:name,value:value}=action;return{...state,[scope]:{...state[scope],[name]:value}}}return state}));var reducer=(0,build_module.UY)({defaults:function defaults(state={},action){if("SET_PREFERENCE_DEFAULTS"===action.type){const{scope:scope,defaults:values}=action;return{...state,[scope]:{...state[scope],...values}}}return state},preferences:preferences});function toggle(scope,name){return function({select:select,dispatch:dispatch}){const currentValue=select.get(scope,name);dispatch.set(scope,name,!currentValue)}}function set(scope,name,value){return{type:"SET_PREFERENCE_VALUE",scope:scope,name:name,value:value}}function setDefaults(scope,defaults){return{type:"SET_PREFERENCE_DEFAULTS",scope:scope,defaults:defaults}}async function setPersistenceLayer(persistenceLayer){const persistedData=await persistenceLayer.get();return{type:"SET_PERSISTENCE_LAYER",persistenceLayer:persistenceLayer,persistedData:persistedData}}function get(state,scope,name){const value=state.preferences[scope]?.[name];return void 0!==value?value:state.defaults[scope]?.[name]}const store=(0,redux_store.Z)("core/preferences",{reducer:reducer,actions:actions_namespaceObject,selectors:selectors_namespaceObject});(0,build_module.z2)(store)},"./packages/undo-manager/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return createUndoManager}});var _wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/is-shallow-equal/build-module/index.js");function mergeHistoryChanges(changes1,changes2){const newChanges={...changes1};return Object.entries(changes2).forEach((([key,value])=>{newChanges[key]?newChanges[key]={...newChanges[key],to:value.to}:newChanges[key]=value})),newChanges}const addHistoryChangesIntoRecord=(record,changes)=>{const existingChangesIndex=record?.findIndex((({id:recordIdentifier})=>"string"==typeof recordIdentifier?recordIdentifier===changes.id:(0,_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_0__.ZP)(recordIdentifier,changes.id))),nextRecord=[...record];return-1!==existingChangesIndex?nextRecord[existingChangesIndex]={id:changes.id,changes:mergeHistoryChanges(nextRecord[existingChangesIndex].changes,changes.changes)}:nextRecord.push(changes),nextRecord};function createUndoManager(){let history=[],stagedRecord=[],offset=0;const dropPendingRedos=()=>{history=history.slice(0,offset||void 0),offset=0},appendStagedRecordToLatestHistoryRecord=()=>{var _history$index;const index=0===history.length?0:history.length-1;let latestRecord=null!==(_history$index=history[index])&&void 0!==_history$index?_history$index:[];stagedRecord.forEach((changes=>{latestRecord=addHistoryChangesIntoRecord(latestRecord,changes)})),stagedRecord=[],history[index]=latestRecord};return{addRecord(record,isStaged=!1){const isEmpty=!record||(record=>!record.filter((({changes:changes})=>Object.values(changes).some((({from:from,to:to})=>"function"!=typeof from&&"function"!=typeof to&&!(0,_wordpress_is_shallow_equal__WEBPACK_IMPORTED_MODULE_0__.ZP)(from,to))))).length)(record);if(isStaged){if(isEmpty)return;record.forEach((changes=>{stagedRecord=addHistoryChangesIntoRecord(stagedRecord,changes)}))}else{if(dropPendingRedos(),stagedRecord.length&&appendStagedRecordToLatestHistoryRecord(),isEmpty)return;history.push(record)}},undo(){stagedRecord.length&&(dropPendingRedos(),appendStagedRecordToLatestHistoryRecord());const undoRecord=history[history.length-1+offset];if(undoRecord)return offset-=1,undoRecord},redo(){const redoRecord=history[history.length+offset];if(redoRecord)return offset+=1,redoRecord},hasUndo(){return!!history[history.length-1+offset]},hasRedo(){return!!history[history.length+offset]}}}},"./packages/url/build-module/add-query-args.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{f:function(){return addQueryArgs}});var _get_query_args__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/url/build-module/get-query-args.js"),_build_query_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/url/build-module/build-query-string.js");function addQueryArgs(url="",args){if(!args||!Object.keys(args).length)return url;let baseUrl=url;const queryStringIndex=url.indexOf("?");return-1!==queryStringIndex&&(args=Object.assign((0,_get_query_args__WEBPACK_IMPORTED_MODULE_0__.w)(url),args),baseUrl=baseUrl.substr(0,queryStringIndex)),baseUrl+"?"+(0,_build_query_string__WEBPACK_IMPORTED_MODULE_1__.I)(args)}},"./packages/url/build-module/build-query-string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function buildQueryString(data){let string="";const stack=Object.entries(data);let pair;for(;pair=stack.shift();){let[key,value]=pair;if(Array.isArray(value)||value&&value.constructor===Object){const valuePairs=Object.entries(value).reverse();for(const[member,memberValue]of valuePairs)stack.unshift([`${key}[${member}]`,memberValue])}else void 0!==value&&(null===value&&(value=""),string+="&"+[key,value].map(encodeURIComponent).join("="))}return string.substr(1)}__webpack_require__.d(__webpack_exports__,{I:function(){return buildQueryString}})},"./packages/url/build-module/filter-url-for-display.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function filterURLForDisplay(url,maxLength=null){let filteredURL=url.replace(/^(?:https?:)\/\/(?:www\.)?/,"");filteredURL.match(/^[^\/]+\/$/)&&(filteredURL=filteredURL.replace("/",""));if(!maxLength||filteredURL.length<=maxLength||!filteredURL.match(/\/([^\/?]+)\.(?:[\w]+)(?=\?|$)/))return filteredURL;filteredURL=filteredURL.split("?")[0];const urlPieces=filteredURL.split("/"),file=urlPieces[urlPieces.length-1];if(file.length<=maxLength)return"…"+filteredURL.slice(-maxLength);const index=file.lastIndexOf("."),[fileName,extension]=[file.slice(0,index),file.slice(index+1)],truncatedFile=fileName.slice(-3)+"."+extension;return file.slice(0,maxLength-truncatedFile.length-1)+"…"+truncatedFile}__webpack_require__.d(__webpack_exports__,{w:function(){return filterURLForDisplay}})},"./packages/url/build-module/get-filename.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getFilename(url){let filename;try{filename=new URL(url,"http://example.com").pathname.split("/").pop()}catch(error){}if(filename)return filename}__webpack_require__.d(__webpack_exports__,{v:function(){return getFilename}})},"./packages/url/build-module/get-path.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getPath(url){const matches=/^[^\/\s:]+:(?:\/\/)?[^\/\s#?]+[\/]([^\s#?]+)[#?]{0,1}\S*$/.exec(url);if(matches)return matches[1]}__webpack_require__.d(__webpack_exports__,{D:function(){return getPath}})},"./packages/url/build-module/get-protocol.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getProtocol(url){const matches=/^([^\s:]+:)/.exec(url);if(matches)return matches[1]}__webpack_require__.d(__webpack_exports__,{E:function(){return getProtocol}})},"./packages/url/build-module/get-query-args.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function safeDecodeURIComponent(uriComponent){try{return decodeURIComponent(uriComponent)}catch(uriComponentError){return uriComponent}}__webpack_require__.d(__webpack_exports__,{w:function(){return getQueryArgs}});var get_query_string=__webpack_require__("./packages/url/build-module/get-query-string.js");function getQueryArgs(url){return((0,get_query_string.W)(url)||"").replace(/\+/g,"%20").split("&").reduce(((accumulator,keyValue)=>{const[key,value=""]=keyValue.split("=").filter(Boolean).map(safeDecodeURIComponent);if(key){!function setPath(object,path,value){const length=path.length,lastIndex=length-1;for(let i=0;i<length;i++){let key=path[i];!key&&Array.isArray(object)&&(key=object.length.toString()),key=["__proto__","constructor","prototype"].includes(key)?key.toUpperCase():key;const isNextKeyArrayIndex=!isNaN(Number(path[i+1]));object[key]=i===lastIndex?value:object[key]||(isNextKeyArrayIndex?[]:{}),Array.isArray(object[key])&&!isNextKeyArrayIndex&&(object[key]={...object[key]}),object=object[key]}}(accumulator,key.replace(/\]/g,"").split("["),value)}return accumulator}),Object.create(null))}},"./packages/url/build-module/get-query-string.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function getQueryString(url){let query;try{query=new URL(url,"http://example.com").search.substring(1)}catch(error){}if(query)return query}__webpack_require__.d(__webpack_exports__,{W:function(){return getQueryString}})},"./packages/url/build-module/is-email.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J:function(){return isEmail}});const EMAIL_REGEXP=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i;function isEmail(email){return EMAIL_REGEXP.test(email)}},"./packages/url/build-module/is-url.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function isURL(url){try{return new URL(url),!0}catch{return!1}}__webpack_require__.d(__webpack_exports__,{P:function(){return isURL}})},"./packages/url/build-module/is-valid-fragment.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function isValidFragment(fragment){return!!fragment&&/^#[^\s#?\/]*$/.test(fragment)}__webpack_require__.d(__webpack_exports__,{Z:function(){return isValidFragment}})},"./packages/url/build-module/is-valid-protocol.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function isValidProtocol(protocol){return!!protocol&&/^[a-z\-.\+]+[0-9]*:$/i.test(protocol)}__webpack_require__.d(__webpack_exports__,{M:function(){return isValidProtocol}})},"./packages/url/build-module/prepend-http.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{u:function(){return prependHTTP}});var _is_email__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/url/build-module/is-email.js");const USABLE_HREF_REGEXP=/^(?:[a-z]+:|#|\?|\.|\/)/i;function prependHTTP(url){return url?(url=url.trim(),USABLE_HREF_REGEXP.test(url)||(0,_is_email__WEBPACK_IMPORTED_MODULE_0__.J)(url)?url:"http://"+url):url}},"./packages/url/build-module/safe-decode-uri.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function safeDecodeURI(uri){try{return decodeURI(uri)}catch(uriError){return uri}}__webpack_require__.d(__webpack_exports__,{x:function(){return safeDecodeURI}})},"./packages/wordcount/build-module/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:function(){return count}});const defaultSettings={HTMLRegExp:/<\/?[a-z][^>]*?>/gi,HTMLcommentRegExp:/<!--[\s\S]*?-->/g,spaceRegExp:/&nbsp;|&#160;/gi,HTMLEntityRegExp:/&\S+?;/g,connectorRegExp:/--|\u2014/g,removeRegExp:new RegExp(["[","!-/:-@[-`{-~","-¿×÷"," -⯿","⸀-⹿","]"].join(""),"g"),astralRegExp:/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wordsRegExp:/\S\s+/g,characters_excluding_spacesRegExp:/\S/g,characters_including_spacesRegExp:/[^\f\n\r\t\v\u00AD\u2028\u2029]/g,l10n:{type:"words"}};function stripTags(settings,text){return text.replace(settings.HTMLRegExp,"\n")}function transposeAstralsToCountableChar(settings,text){return text.replace(settings.astralRegExp,"a")}function stripHTMLEntities(settings,text){return text.replace(settings.HTMLEntityRegExp,"")}function stripConnectors(settings,text){return text.replace(settings.connectorRegExp," ")}function stripRemovables(settings,text){return text.replace(settings.removeRegExp,"")}function stripHTMLComments(settings,text){return text.replace(settings.HTMLcommentRegExp,"")}function stripShortcodes(settings,text){return settings.shortcodesRegExp?text.replace(settings.shortcodesRegExp,"\n"):text}function stripSpaces(settings,text){return text.replace(settings.spaceRegExp," ")}function transposeHTMLEntitiesToCountableChars(settings,text){return text.replace(settings.HTMLEntityRegExp,"a")}function countCharacters(text,regex,settings){var _text$match$length2;return text=[stripTags.bind(null,settings),stripHTMLComments.bind(null,settings),stripShortcodes.bind(null,settings),transposeAstralsToCountableChar.bind(null,settings),stripSpaces.bind(null,settings),transposeHTMLEntitiesToCountableChars.bind(null,settings)].reduce(((result,fn)=>fn(result)),text),text+="\n",null!==(_text$match$length2=text.match(regex)?.length)&&void 0!==_text$match$length2?_text$match$length2:0}function count(text,type,userSettings){const settings=function loadSettings(type,userSettings){var _settings$l10n$shortc;const settings=Object.assign({},defaultSettings,userSettings);return settings.shortcodes=null!==(_settings$l10n$shortc=settings.l10n?.shortcodes)&&void 0!==_settings$l10n$shortc?_settings$l10n$shortc:[],settings.shortcodes&&settings.shortcodes.length&&(settings.shortcodesRegExp=new RegExp("\\[\\/?(?:"+settings.shortcodes.join("|")+")[^\\]]*?\\]","g")),settings.type=type,"characters_excluding_spaces"!==settings.type&&"characters_including_spaces"!==settings.type&&(settings.type="words"),settings}(type,userSettings);let matchRegExp;switch(settings.type){case"words":return matchRegExp=settings.wordsRegExp,function countWords(text,regex,settings){var _text$match$length;return text=[stripTags.bind(null,settings),stripHTMLComments.bind(null,settings),stripShortcodes.bind(null,settings),stripSpaces.bind(null,settings),stripHTMLEntities.bind(null,settings),stripConnectors.bind(null,settings),stripRemovables.bind(null,settings)].reduce(((result,fn)=>fn(result)),text),text+="\n",null!==(_text$match$length=text.match(regex)?.length)&&void 0!==_text$match$length?_text$match$length:0}(text,matchRegExp,settings);case"characters_including_spaces":return matchRegExp=settings.characters_including_spacesRegExp,countCharacters(text,matchRegExp,settings);case"characters_excluding_spaces":return matchRegExp=settings.characters_excluding_spacesRegExp,countCharacters(text,matchRegExp,settings);default:return 0}}},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);